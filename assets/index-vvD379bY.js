var $v=Object.defineProperty;var Up=e=>{throw TypeError(e)};var Jv=(e,t,n)=>t in e?$v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vc=(e,t,n)=>Jv(e,typeof t!="symbol"?t+"":t,n),bd=(e,t,n)=>t.has(e)||Up("Cannot "+n);var B=(e,t,n)=>(bd(e,t,"read from private field"),n?n.call(e):t.get(e)),Ae=(e,t,n)=>t.has(e)?Up("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),xe=(e,t,n,s)=>(bd(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Be=(e,t,n)=>(bd(e,t,"access private method"),n);var Ec=(e,t,n,s)=>({set _(a){xe(e,t,a,n)},get _(){return B(e,t,s)}});function eE(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(e,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fx={exports:{}},Yf={},dx={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu=Symbol.for("react.element"),tE=Symbol.for("react.portal"),nE=Symbol.for("react.fragment"),rE=Symbol.for("react.strict_mode"),iE=Symbol.for("react.profiler"),sE=Symbol.for("react.provider"),oE=Symbol.for("react.context"),aE=Symbol.for("react.forward_ref"),lE=Symbol.for("react.suspense"),uE=Symbol.for("react.memo"),cE=Symbol.for("react.lazy"),jp=Symbol.iterator;function fE(e){return e===null||typeof e!="object"?null:(e=jp&&e[jp]||e["@@iterator"],typeof e=="function"?e:null)}var hx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},px=Object.assign,gx={};function pl(e,t,n){this.props=e,this.context=t,this.refs=gx,this.updater=n||hx}pl.prototype.isReactComponent={};pl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mx(){}mx.prototype=pl.prototype;function i1(e,t,n){this.props=e,this.context=t,this.refs=gx,this.updater=n||hx}var s1=i1.prototype=new mx;s1.constructor=i1;px(s1,pl.prototype);s1.isPureReactComponent=!0;var zp=Array.isArray,xx=Object.prototype.hasOwnProperty,o1={current:null},yx={key:!0,ref:!0,__self:!0,__source:!0};function wx(e,t,n){var s,a={},c=null,d=null;if(t!=null)for(s in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(c=""+t.key),t)xx.call(t,s)&&!yx.hasOwnProperty(s)&&(a[s]=t[s]);var g=arguments.length-2;if(g===1)a.children=n;else if(1<g){for(var y=Array(g),x=0;x<g;x++)y[x]=arguments[x+2];a.children=y}if(e&&e.defaultProps)for(s in g=e.defaultProps,g)a[s]===void 0&&(a[s]=g[s]);return{$$typeof:Xu,type:e,key:c,ref:d,props:a,_owner:o1.current}}function dE(e,t){return{$$typeof:Xu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function a1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xu}function hE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hp=/\/+/g;function Sd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hE(""+e.key):t.toString(36)}function Gc(e,t,n,s,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Xu:case tE:d=!0}}if(d)return d=e,a=a(d),e=s===""?"."+Sd(d,0):s,zp(a)?(n="",e!=null&&(n=e.replace(Hp,"$&/")+"/"),Gc(a,t,n,"",function(x){return x})):a!=null&&(a1(a)&&(a=dE(a,n+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(Hp,"$&/")+"/")+e)),t.push(a)),1;if(d=0,s=s===""?".":s+":",zp(e))for(var g=0;g<e.length;g++){c=e[g];var y=s+Sd(c,g);d+=Gc(c,t,n,y,a)}else if(y=fE(e),typeof y=="function")for(e=y.call(e),g=0;!(c=e.next()).done;)c=c.value,y=s+Sd(c,g++),d+=Gc(c,t,n,y,a);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Cc(e,t,n){if(e==null)return e;var s=[],a=0;return Gc(e,s,"","",function(c){return t.call(n,c,a++)}),s}function pE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jn={current:null},Xc={transition:null},gE={ReactCurrentDispatcher:Jn,ReactCurrentBatchConfig:Xc,ReactCurrentOwner:o1};function vx(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:Cc,forEach:function(e,t,n){Cc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cc(e,function(){t++}),t},toArray:function(e){return Cc(e,function(t){return t})||[]},only:function(e){if(!a1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=pl;tt.Fragment=nE;tt.Profiler=iE;tt.PureComponent=i1;tt.StrictMode=rE;tt.Suspense=lE;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gE;tt.act=vx;tt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=px({},e.props),a=e.key,c=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,d=o1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(y in t)xx.call(t,y)&&!yx.hasOwnProperty(y)&&(s[y]=t[y]===void 0&&g!==void 0?g[y]:t[y])}var y=arguments.length-2;if(y===1)s.children=n;else if(1<y){g=Array(y);for(var x=0;x<y;x++)g[x]=arguments[x+2];s.children=g}return{$$typeof:Xu,type:e.type,key:a,ref:c,props:s,_owner:d}};tt.createContext=function(e){return e={$$typeof:oE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sE,_context:e},e.Consumer=e};tt.createElement=wx;tt.createFactory=function(e){var t=wx.bind(null,e);return t.type=e,t};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:aE,render:e}};tt.isValidElement=a1;tt.lazy=function(e){return{$$typeof:cE,_payload:{_status:-1,_result:e},_init:pE}};tt.memo=function(e,t){return{$$typeof:uE,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Xc.transition;Xc.transition={};try{e()}finally{Xc.transition=t}};tt.unstable_act=vx;tt.useCallback=function(e,t){return Jn.current.useCallback(e,t)};tt.useContext=function(e){return Jn.current.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e){return Jn.current.useDeferredValue(e)};tt.useEffect=function(e,t){return Jn.current.useEffect(e,t)};tt.useId=function(){return Jn.current.useId()};tt.useImperativeHandle=function(e,t,n){return Jn.current.useImperativeHandle(e,t,n)};tt.useInsertionEffect=function(e,t){return Jn.current.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return Jn.current.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return Jn.current.useMemo(e,t)};tt.useReducer=function(e,t,n){return Jn.current.useReducer(e,t,n)};tt.useRef=function(e){return Jn.current.useRef(e)};tt.useState=function(e){return Jn.current.useState(e)};tt.useSyncExternalStore=function(e,t,n){return Jn.current.useSyncExternalStore(e,t,n)};tt.useTransition=function(){return Jn.current.useTransition()};tt.version="18.3.1";dx.exports=tt;var se=dx.exports;const Ma=r1(se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE=se,xE=Symbol.for("react.element"),yE=Symbol.for("react.fragment"),wE=Object.prototype.hasOwnProperty,vE=mE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EE={key:!0,ref:!0,__self:!0,__source:!0};function Ex(e,t,n){var s,a={},c=null,d=null;n!==void 0&&(c=""+n),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(d=t.ref);for(s in t)wE.call(t,s)&&!EE.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:xE,type:e,key:c,ref:d,props:a,_owner:vE.current}}Yf.Fragment=yE;Yf.jsx=Ex;Yf.jsxs=Ex;fx.exports=Yf;var X=fx.exports,Eh={},Cx={exports:{}},Rr={},Ax={exports:{}},bx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ge,Ce){var De=ge.length;ge.push(Ce);e:for(;0<De;){var Ge=De-1>>>1,et=ge[Ge];if(0<a(et,Ce))ge[Ge]=Ce,ge[De]=et,De=Ge;else break e}}function n(ge){return ge.length===0?null:ge[0]}function s(ge){if(ge.length===0)return null;var Ce=ge[0],De=ge.pop();if(De!==Ce){ge[0]=De;e:for(var Ge=0,et=ge.length,Wn=et>>>1;Ge<Wn;){var Rt=2*(Ge+1)-1,li=ge[Rt],Re=Rt+1,Pe=ge[Re];if(0>a(li,De))Re<et&&0>a(Pe,li)?(ge[Ge]=Pe,ge[Re]=De,Ge=Re):(ge[Ge]=li,ge[Rt]=De,Ge=Rt);else if(Re<et&&0>a(Pe,De))ge[Ge]=Pe,ge[Re]=De,Ge=Re;else break e}}return Ce}function a(ge,Ce){var De=ge.sortIndex-Ce.sortIndex;return De!==0?De:ge.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var y=[],x=[],E=1,C=null,T=3,P=!1,U=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ge){for(var Ce=n(x);Ce!==null;){if(Ce.callback===null)s(x);else if(Ce.startTime<=ge)s(x),Ce.sortIndex=Ce.expirationTime,t(y,Ce);else break;Ce=n(x)}}function L(ge){if(I=!1,N(ge),!U)if(n(y)!==null)U=!0,gt(q);else{var Ce=n(x);Ce!==null&&be(L,Ce.startTime-ge)}}function q(ge,Ce){U=!1,I&&(I=!1,A($),$=-1),P=!0;var De=T;try{for(N(Ce),C=n(y);C!==null&&(!(C.expirationTime>Ce)||ge&&!Te());){var Ge=C.callback;if(typeof Ge=="function"){C.callback=null,T=C.priorityLevel;var et=Ge(C.expirationTime<=Ce);Ce=e.unstable_now(),typeof et=="function"?C.callback=et:C===n(y)&&s(y),N(Ce)}else s(y);C=n(y)}if(C!==null)var Wn=!0;else{var Rt=n(x);Rt!==null&&be(L,Rt.startTime-Ce),Wn=!1}return Wn}finally{C=null,T=De,P=!1}}var G=!1,H=null,$=-1,te=5,oe=-1;function Te(){return!(e.unstable_now()-oe<te)}function pe(){if(H!==null){var ge=e.unstable_now();oe=ge;var Ce=!0;try{Ce=H(!0,ge)}finally{Ce?Ve():(G=!1,H=null)}}else G=!1}var Ve;if(typeof S=="function")Ve=function(){S(pe)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,re=Je.port2;Je.port1.onmessage=pe,Ve=function(){re.postMessage(null)}}else Ve=function(){D(pe,0)};function gt(ge){H=ge,G||(G=!0,Ve())}function be(ge,Ce){$=D(function(){ge(e.unstable_now())},Ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ge){ge.callback=null},e.unstable_continueExecution=function(){U||P||(U=!0,gt(q))},e.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<ge?Math.floor(1e3/ge):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return n(y)},e.unstable_next=function(ge){switch(T){case 1:case 2:case 3:var Ce=3;break;default:Ce=T}var De=T;T=Ce;try{return ge()}finally{T=De}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ge,Ce){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var De=T;T=ge;try{return Ce()}finally{T=De}},e.unstable_scheduleCallback=function(ge,Ce,De){var Ge=e.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?Ge+De:Ge):De=Ge,ge){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=De+et,ge={id:E++,callback:Ce,priorityLevel:ge,startTime:De,expirationTime:et,sortIndex:-1},De>Ge?(ge.sortIndex=De,t(x,ge),n(y)===null&&ge===n(x)&&(I?(A($),$=-1):I=!0,be(L,De-Ge))):(ge.sortIndex=et,t(y,ge),U||P||(U=!0,gt(q))),ge},e.unstable_shouldYield=Te,e.unstable_wrapCallback=function(ge){var Ce=T;return function(){var De=T;T=Ce;try{return ge.apply(this,arguments)}finally{T=De}}}})(bx);Ax.exports=bx;var CE=Ax.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE=se,Ir=CE;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sx=new Set,pu={};function Yo(e,t){rl(e,t),rl(e+"Capture",t)}function rl(e,t){for(pu[e]=t,e=0;e<t.length;e++)Sx.add(t[e])}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ch=Object.prototype.hasOwnProperty,bE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wp={},Gp={};function SE(e){return Ch.call(Gp,e)?!0:Ch.call(Wp,e)?!1:bE.test(e)?Gp[e]=!0:(Wp[e]=!0,!1)}function _E(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function TE(e,t,n,s){if(t===null||typeof t>"u"||_E(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function er(e,t,n,s,a,c,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=d}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ln[e]=new er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ln[t]=new er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ln[e]=new er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ln[e]=new er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ln[e]=new er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ln[e]=new er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ln[e]=new er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ln[e]=new er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ln[e]=new er(e,5,!1,e.toLowerCase(),null,!1,!1)});var l1=/[\-:]([a-z])/g;function u1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(l1,u1);Ln[t]=new er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(l1,u1);Ln[t]=new er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(l1,u1);Ln[t]=new er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ln[e]=new er(e,1,!1,e.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ln[e]=new er(e,1,!1,e.toLowerCase(),null,!0,!0)});function c1(e,t,n,s){var a=Ln.hasOwnProperty(t)?Ln[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(TE(t,n,a,s)&&(n=null),s||a===null?SE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var os=AE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ac=Symbol.for("react.element"),ma=Symbol.for("react.portal"),xa=Symbol.for("react.fragment"),f1=Symbol.for("react.strict_mode"),Ah=Symbol.for("react.profiler"),_x=Symbol.for("react.provider"),Tx=Symbol.for("react.context"),d1=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),Sh=Symbol.for("react.suspense_list"),h1=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),Ix=Symbol.for("react.offscreen"),Xp=Symbol.iterator;function Ml(e){return e===null||typeof e!="object"?null:(e=Xp&&e[Xp]||e["@@iterator"],typeof e=="function"?e:null)}var Xt=Object.assign,_d;function ql(e){if(_d===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_d=t&&t[1]||""}return`
`+_d+e}var Td=!1;function Id(e,t){if(!e||Td)return"";Td=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var s=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){s=x}e.call(t.prototype)}else{try{throw Error()}catch(x){s=x}e()}}catch(x){if(x&&s&&typeof x.stack=="string"){for(var a=x.stack.split(`
`),c=s.stack.split(`
`),d=a.length-1,g=c.length-1;1<=d&&0<=g&&a[d]!==c[g];)g--;for(;1<=d&&0<=g;d--,g--)if(a[d]!==c[g]){if(d!==1||g!==1)do if(d--,g--,0>g||a[d]!==c[g]){var y=`
`+a[d].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=d&&0<=g);break}}}finally{Td=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ql(e):""}function IE(e){switch(e.tag){case 5:return ql(e.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return e=Id(e.type,!1),e;case 11:return e=Id(e.type.render,!1),e;case 1:return e=Id(e.type,!0),e;default:return""}}function _h(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xa:return"Fragment";case ma:return"Portal";case Ah:return"Profiler";case f1:return"StrictMode";case bh:return"Suspense";case Sh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tx:return(e.displayName||"Context")+".Consumer";case _x:return(e._context.displayName||"Context")+".Provider";case d1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case h1:return t=e.displayName||null,t!==null?t:_h(e.type)||"Memo";case Ss:t=e._payload,e=e._init;try{return _h(e(t))}catch{}}return null}function NE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _h(t);case 8:return t===f1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RE(e){var t=Nx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){s=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bc(e){e._valueTracker||(e._valueTracker=RE(e))}function Rx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Nx(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ff(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Th(e,t){var n=t.checked;return Xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qp(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Qs(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ox(e,t){t=t.checked,t!=null&&c1(e,"checked",t,!1)}function Ih(e,t){Ox(e,t);var n=Qs(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nh(e,t.type,Qs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nh(e,t,n){(t!=="number"||ff(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Kl=Array.isArray;function ka(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Qs(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Rh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return Xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(de(92));if(Kl(n)){if(1<n.length)throw Error(de(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qs(n)}}function Dx(e,t){var n=Qs(t.value),s=Qs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Qp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Px(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Px(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sc,Mx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OE=["Webkit","ms","Moz","O"];Object.keys(tu).forEach(function(e){OE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tu[t]=tu[e]})});function kx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tu.hasOwnProperty(e)&&tu[e]?(""+t).trim():t+"px"}function Lx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=kx(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var DE=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(e,t){if(t){if(DE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function Ph(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=null;function p1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kh=null,La=null,Ba=null;function Zp(e){if(e=Yu(e)){if(typeof kh!="function")throw Error(de(280));var t=e.stateNode;t&&(t=ed(t),kh(e.stateNode,e.type,t))}}function Bx(e){La?Ba?Ba.push(e):Ba=[e]:La=e}function Fx(){if(La){var e=La,t=Ba;if(Ba=La=null,Zp(e),t)for(e=0;e<t.length;e++)Zp(t[e])}}function Vx(e,t){return e(t)}function Ux(){}var Nd=!1;function jx(e,t,n){if(Nd)return e(t,n);Nd=!0;try{return Vx(e,t,n)}finally{Nd=!1,(La!==null||Ba!==null)&&(Ux(),Fx())}}function mu(e,t){var n=e.stateNode;if(n===null)return null;var s=ed(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(de(231,t,typeof n));return n}var Lh=!1;if(Ji)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Lh=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Lh=!1}function PE(e,t,n,s,a,c,d,g,y){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(E){this.onError(E)}}var nu=!1,df=null,hf=!1,Bh=null,ME={onError:function(e){nu=!0,df=e}};function kE(e,t,n,s,a,c,d,g,y){nu=!1,df=null,PE.apply(ME,arguments)}function LE(e,t,n,s,a,c,d,g,y){if(kE.apply(this,arguments),nu){if(nu){var x=df;nu=!1,df=null}else throw Error(de(198));hf||(hf=!0,Bh=x)}}function Qo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $p(e){if(Qo(e)!==e)throw Error(de(188))}function BE(e){var t=e.alternate;if(!t){if(t=Qo(e),t===null)throw Error(de(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var c=a.alternate;if(c===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===n)return $p(a),e;if(c===s)return $p(a),t;c=c.sibling}throw Error(de(188))}if(n.return!==s.return)n=a,s=c;else{for(var d=!1,g=a.child;g;){if(g===n){d=!0,n=a,s=c;break}if(g===s){d=!0,s=a,n=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===n){d=!0,n=c,s=a;break}if(g===s){d=!0,s=c,n=a;break}g=g.sibling}if(!d)throw Error(de(189))}}if(n.alternate!==s)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?e:t}function Hx(e){return e=BE(e),e!==null?Wx(e):null}function Wx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wx(e);if(t!==null)return t;e=e.sibling}return null}var Gx=Ir.unstable_scheduleCallback,Jp=Ir.unstable_cancelCallback,FE=Ir.unstable_shouldYield,VE=Ir.unstable_requestPaint,sn=Ir.unstable_now,UE=Ir.unstable_getCurrentPriorityLevel,g1=Ir.unstable_ImmediatePriority,Xx=Ir.unstable_UserBlockingPriority,pf=Ir.unstable_NormalPriority,jE=Ir.unstable_LowPriority,qx=Ir.unstable_IdlePriority,Qf=null,Ti=null;function zE(e){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(Qf,e,void 0,(e.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:GE,HE=Math.log,WE=Math.LN2;function GE(e){return e>>>=0,e===0?32:31-(HE(e)/WE|0)|0}var _c=64,Tc=4194304;function Yl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gf(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,c=e.pingedLanes,d=n&268435455;if(d!==0){var g=d&~a;g!==0?s=Yl(g):(c&=d,c!==0&&(s=Yl(c)))}else d=n&~a,d!==0?s=Yl(d):c!==0&&(s=Yl(c));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,c=t&-t,a>=c||a===16&&(c&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-si(t),a=1<<n,s|=e[n],t&=~a;return s}function XE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qE(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-si(c),g=1<<d,y=a[d];y===-1?(!(g&n)||g&s)&&(a[d]=XE(g,t)):y<=t&&(e.expiredLanes|=g),c&=~g}}function Fh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kx(){var e=_c;return _c<<=1,!(_c&4194240)&&(_c=64),e}function Rd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-si(t),e[t]=n}function KE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-si(n),c=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~c}}function m1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-si(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var Ct=0;function Yx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qx,x1,Zx,$x,Jx,Vh=!1,Ic=[],js=null,zs=null,Hs=null,xu=new Map,yu=new Map,Ts=[],YE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eg(e,t){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":xu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(t.pointerId)}}function Ll(e,t,n,s,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[a]},t!==null&&(t=Yu(t),t!==null&&x1(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function QE(e,t,n,s,a){switch(t){case"focusin":return js=Ll(js,e,t,n,s,a),!0;case"dragenter":return zs=Ll(zs,e,t,n,s,a),!0;case"mouseover":return Hs=Ll(Hs,e,t,n,s,a),!0;case"pointerover":var c=a.pointerId;return xu.set(c,Ll(xu.get(c)||null,e,t,n,s,a)),!0;case"gotpointercapture":return c=a.pointerId,yu.set(c,Ll(yu.get(c)||null,e,t,n,s,a)),!0}return!1}function ey(e){var t=vo(e.target);if(t!==null){var n=Qo(t);if(n!==null){if(t=n.tag,t===13){if(t=zx(n),t!==null){e.blockedOn=t,Jx(e.priority,function(){Zx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Mh=s,n.target.dispatchEvent(s),Mh=null}else return t=Yu(n),t!==null&&x1(t),e.blockedOn=n,!1;t.shift()}return!0}function tg(e,t,n){qc(e)&&n.delete(t)}function ZE(){Vh=!1,js!==null&&qc(js)&&(js=null),zs!==null&&qc(zs)&&(zs=null),Hs!==null&&qc(Hs)&&(Hs=null),xu.forEach(tg),yu.forEach(tg)}function Bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Vh||(Vh=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,ZE)))}function wu(e){function t(a){return Bl(a,e)}if(0<Ic.length){Bl(Ic[0],e);for(var n=1;n<Ic.length;n++){var s=Ic[n];s.blockedOn===e&&(s.blockedOn=null)}}for(js!==null&&Bl(js,e),zs!==null&&Bl(zs,e),Hs!==null&&Bl(Hs,e),xu.forEach(t),yu.forEach(t),n=0;n<Ts.length;n++)s=Ts[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ts.length&&(n=Ts[0],n.blockedOn===null);)ey(n),n.blockedOn===null&&Ts.shift()}var Fa=os.ReactCurrentBatchConfig,mf=!0;function $E(e,t,n,s){var a=Ct,c=Fa.transition;Fa.transition=null;try{Ct=1,y1(e,t,n,s)}finally{Ct=a,Fa.transition=c}}function JE(e,t,n,s){var a=Ct,c=Fa.transition;Fa.transition=null;try{Ct=4,y1(e,t,n,s)}finally{Ct=a,Fa.transition=c}}function y1(e,t,n,s){if(mf){var a=Uh(e,t,n,s);if(a===null)Ud(e,t,s,xf,n),eg(e,s);else if(QE(a,e,t,n,s))s.stopPropagation();else if(eg(e,s),t&4&&-1<YE.indexOf(e)){for(;a!==null;){var c=Yu(a);if(c!==null&&Qx(c),c=Uh(e,t,n,s),c===null&&Ud(e,t,s,xf,n),c===a)break;a=c}a!==null&&s.stopPropagation()}else Ud(e,t,s,null,n)}}var xf=null;function Uh(e,t,n,s){if(xf=null,e=p1(s),e=vo(e),e!==null)if(t=Qo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xf=e,null}function ty(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UE()){case g1:return 1;case Xx:return 4;case pf:case jE:return 16;case qx:return 536870912;default:return 16}default:return 16}}var Vs=null,w1=null,Kc=null;function ny(){if(Kc)return Kc;var e,t=w1,n=t.length,s,a="value"in Vs?Vs.value:Vs.textContent,c=a.length;for(e=0;e<n&&t[e]===a[e];e++);var d=n-e;for(s=1;s<=d&&t[n-s]===a[c-s];s++);return Kc=a.slice(e,1<s?1-s:void 0)}function Yc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nc(){return!0}function ng(){return!1}function Or(e){function t(n,s,a,c,d){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Nc:ng,this.isPropagationStopped=ng,this}return Xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nc)},persist:function(){},isPersistent:Nc}),t}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v1=Or(gl),Ku=Xt({},gl,{view:0,detail:0}),eC=Or(Ku),Od,Dd,Fl,Zf=Xt({},Ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fl&&(Fl&&e.type==="mousemove"?(Od=e.screenX-Fl.screenX,Dd=e.screenY-Fl.screenY):Dd=Od=0,Fl=e),Od)},movementY:function(e){return"movementY"in e?e.movementY:Dd}}),rg=Or(Zf),tC=Xt({},Zf,{dataTransfer:0}),nC=Or(tC),rC=Xt({},Ku,{relatedTarget:0}),Pd=Or(rC),iC=Xt({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),sC=Or(iC),oC=Xt({},gl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aC=Or(oC),lC=Xt({},gl,{data:0}),ig=Or(lC),uC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fC[e])?!!t[e]:!1}function E1(){return dC}var hC=Xt({},Ku,{key:function(e){if(e.key){var t=uC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E1,charCode:function(e){return e.type==="keypress"?Yc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pC=Or(hC),gC=Xt({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sg=Or(gC),mC=Xt({},Ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E1}),xC=Or(mC),yC=Xt({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wC=Or(yC),vC=Xt({},Zf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EC=Or(vC),CC=[9,13,27,32],C1=Ji&&"CompositionEvent"in window,ru=null;Ji&&"documentMode"in document&&(ru=document.documentMode);var AC=Ji&&"TextEvent"in window&&!ru,ry=Ji&&(!C1||ru&&8<ru&&11>=ru),og=" ",ag=!1;function iy(e,t){switch(e){case"keyup":return CC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function bC(e,t){switch(e){case"compositionend":return sy(t);case"keypress":return t.which!==32?null:(ag=!0,og);case"textInput":return e=t.data,e===og&&ag?null:e;default:return null}}function SC(e,t){if(ya)return e==="compositionend"||!C1&&iy(e,t)?(e=ny(),Kc=w1=Vs=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ry&&t.locale!=="ko"?null:t.data;default:return null}}var _C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_C[e.type]:t==="textarea"}function oy(e,t,n,s){Bx(s),t=yf(t,"onChange"),0<t.length&&(n=new v1("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var iu=null,vu=null;function TC(e){xy(e,0)}function $f(e){var t=Ea(e);if(Rx(t))return e}function IC(e,t){if(e==="change")return t}var ay=!1;if(Ji){var Md;if(Ji){var kd="oninput"in document;if(!kd){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),kd=typeof ug.oninput=="function"}Md=kd}else Md=!1;ay=Md&&(!document.documentMode||9<document.documentMode)}function cg(){iu&&(iu.detachEvent("onpropertychange",ly),vu=iu=null)}function ly(e){if(e.propertyName==="value"&&$f(vu)){var t=[];oy(t,vu,e,p1(e)),jx(TC,t)}}function NC(e,t,n){e==="focusin"?(cg(),iu=t,vu=n,iu.attachEvent("onpropertychange",ly)):e==="focusout"&&cg()}function RC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $f(vu)}function OC(e,t){if(e==="click")return $f(t)}function DC(e,t){if(e==="input"||e==="change")return $f(t)}function PC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ai=typeof Object.is=="function"?Object.is:PC;function Eu(e,t){if(ai(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Ch.call(t,a)||!ai(e[a],t[a]))return!1}return!0}function fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dg(e,t){var n=fg(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fg(n)}}function uy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cy(){for(var e=window,t=ff();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ff(e.document)}return t}function A1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MC(e){var t=cy(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uy(n.ownerDocument.documentElement,n)){if(s!==null&&A1(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,c=Math.min(s.start,a);s=s.end===void 0?c:Math.min(s.end,a),!e.extend&&c>s&&(a=s,s=c,c=a),a=dg(n,c);var d=dg(n,s);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),c>s?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kC=Ji&&"documentMode"in document&&11>=document.documentMode,wa=null,jh=null,su=null,zh=!1;function hg(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zh||wa==null||wa!==ff(s)||(s=wa,"selectionStart"in s&&A1(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),su&&Eu(su,s)||(su=s,s=yf(jh,"onSelect"),0<s.length&&(t=new v1("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=wa)))}function Rc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var va={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},Ld={},fy={};Ji&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Jf(e){if(Ld[e])return Ld[e];if(!va[e])return e;var t=va[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fy)return Ld[e]=t[n];return e}var dy=Jf("animationend"),hy=Jf("animationiteration"),py=Jf("animationstart"),gy=Jf("transitionend"),my=new Map,pg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(e,t){my.set(e,t),Yo(t,[e])}for(var Bd=0;Bd<pg.length;Bd++){var Fd=pg[Bd],LC=Fd.toLowerCase(),BC=Fd[0].toUpperCase()+Fd.slice(1);eo(LC,"on"+BC)}eo(dy,"onAnimationEnd");eo(hy,"onAnimationIteration");eo(py,"onAnimationStart");eo("dblclick","onDoubleClick");eo("focusin","onFocus");eo("focusout","onBlur");eo(gy,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function gg(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,LE(s,t,void 0,e),e.currentTarget=null}function xy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var d=s.length-1;0<=d;d--){var g=s[d],y=g.instance,x=g.currentTarget;if(g=g.listener,y!==c&&a.isPropagationStopped())break e;gg(a,g,x),c=y}else for(d=0;d<s.length;d++){if(g=s[d],y=g.instance,x=g.currentTarget,g=g.listener,y!==c&&a.isPropagationStopped())break e;gg(a,g,x),c=y}}}if(hf)throw e=Bh,hf=!1,Bh=null,e}function kt(e,t){var n=t[qh];n===void 0&&(n=t[qh]=new Set);var s=e+"__bubble";n.has(s)||(yy(t,e,2,!1),n.add(s))}function Vd(e,t,n){var s=0;t&&(s|=4),yy(n,e,s,t)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Cu(e){if(!e[Oc]){e[Oc]=!0,Sx.forEach(function(n){n!=="selectionchange"&&(FC.has(n)||Vd(n,!1,e),Vd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oc]||(t[Oc]=!0,Vd("selectionchange",!1,t))}}function yy(e,t,n,s){switch(ty(t)){case 1:var a=$E;break;case 4:a=JE;break;default:a=y1}n=a.bind(null,t,n,e),a=void 0,!Lh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ud(e,t,n,s,a){var c=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var g=s.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(d===4)for(d=s.return;d!==null;){var y=d.tag;if((y===3||y===4)&&(y=d.stateNode.containerInfo,y===a||y.nodeType===8&&y.parentNode===a))return;d=d.return}for(;g!==null;){if(d=vo(g),d===null)return;if(y=d.tag,y===5||y===6){s=c=d;continue e}g=g.parentNode}}s=s.return}jx(function(){var x=c,E=p1(n),C=[];e:{var T=my.get(e);if(T!==void 0){var P=v1,U=e;switch(e){case"keypress":if(Yc(n)===0)break e;case"keydown":case"keyup":P=pC;break;case"focusin":U="focus",P=Pd;break;case"focusout":U="blur",P=Pd;break;case"beforeblur":case"afterblur":P=Pd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=nC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=xC;break;case dy:case hy:case py:P=sC;break;case gy:P=wC;break;case"scroll":P=eC;break;case"wheel":P=EC;break;case"copy":case"cut":case"paste":P=aC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=sg}var I=(t&4)!==0,D=!I&&e==="scroll",A=I?T!==null?T+"Capture":null:T;I=[];for(var S=x,N;S!==null;){N=S;var L=N.stateNode;if(N.tag===5&&L!==null&&(N=L,A!==null&&(L=mu(S,A),L!=null&&I.push(Au(S,L,N)))),D)break;S=S.return}0<I.length&&(T=new P(T,U,null,n,E),C.push({event:T,listeners:I}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",T&&n!==Mh&&(U=n.relatedTarget||n.fromElement)&&(vo(U)||U[es]))break e;if((P||T)&&(T=E.window===E?E:(T=E.ownerDocument)?T.defaultView||T.parentWindow:window,P?(U=n.relatedTarget||n.toElement,P=x,U=U?vo(U):null,U!==null&&(D=Qo(U),U!==D||U.tag!==5&&U.tag!==6)&&(U=null)):(P=null,U=x),P!==U)){if(I=rg,L="onMouseLeave",A="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(I=sg,L="onPointerLeave",A="onPointerEnter",S="pointer"),D=P==null?T:Ea(P),N=U==null?T:Ea(U),T=new I(L,S+"leave",P,n,E),T.target=D,T.relatedTarget=N,L=null,vo(E)===x&&(I=new I(A,S+"enter",U,n,E),I.target=N,I.relatedTarget=D,L=I),D=L,P&&U)t:{for(I=P,A=U,S=0,N=I;N;N=fa(N))S++;for(N=0,L=A;L;L=fa(L))N++;for(;0<S-N;)I=fa(I),S--;for(;0<N-S;)A=fa(A),N--;for(;S--;){if(I===A||A!==null&&I===A.alternate)break t;I=fa(I),A=fa(A)}I=null}else I=null;P!==null&&mg(C,T,P,I,!1),U!==null&&D!==null&&mg(C,D,U,I,!0)}}e:{if(T=x?Ea(x):window,P=T.nodeName&&T.nodeName.toLowerCase(),P==="select"||P==="input"&&T.type==="file")var q=IC;else if(lg(T))if(ay)q=DC;else{q=RC;var G=NC}else(P=T.nodeName)&&P.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(q=OC);if(q&&(q=q(e,x))){oy(C,q,n,E);break e}G&&G(e,T,x),e==="focusout"&&(G=T._wrapperState)&&G.controlled&&T.type==="number"&&Nh(T,"number",T.value)}switch(G=x?Ea(x):window,e){case"focusin":(lg(G)||G.contentEditable==="true")&&(wa=G,jh=x,su=null);break;case"focusout":su=jh=wa=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,hg(C,n,E);break;case"selectionchange":if(kC)break;case"keydown":case"keyup":hg(C,n,E)}var H;if(C1)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else ya?iy(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(ry&&n.locale!=="ko"&&(ya||$!=="onCompositionStart"?$==="onCompositionEnd"&&ya&&(H=ny()):(Vs=E,w1="value"in Vs?Vs.value:Vs.textContent,ya=!0)),G=yf(x,$),0<G.length&&($=new ig($,e,null,n,E),C.push({event:$,listeners:G}),H?$.data=H:(H=sy(n),H!==null&&($.data=H)))),(H=AC?bC(e,n):SC(e,n))&&(x=yf(x,"onBeforeInput"),0<x.length&&(E=new ig("onBeforeInput","beforeinput",null,n,E),C.push({event:E,listeners:x}),E.data=H))}xy(C,t)})}function Au(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yf(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=mu(e,n),c!=null&&s.unshift(Au(e,c,a)),c=mu(e,t),c!=null&&s.push(Au(e,c,a))),e=e.return}return s}function fa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mg(e,t,n,s,a){for(var c=t._reactName,d=[];n!==null&&n!==s;){var g=n,y=g.alternate,x=g.stateNode;if(y!==null&&y===s)break;g.tag===5&&x!==null&&(g=x,a?(y=mu(n,c),y!=null&&d.unshift(Au(n,y,g))):a||(y=mu(n,c),y!=null&&d.push(Au(n,y,g)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var VC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function xg(e){return(typeof e=="string"?e:""+e).replace(VC,`
`).replace(UC,"")}function Dc(e,t,n){if(t=xg(t),xg(e)!==t&&n)throw Error(de(425))}function wf(){}var Hh=null,Wh=null;function Gh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xh=typeof setTimeout=="function"?setTimeout:void 0,jC=typeof clearTimeout=="function"?clearTimeout:void 0,yg=typeof Promise=="function"?Promise:void 0,zC=typeof queueMicrotask=="function"?queueMicrotask:typeof yg<"u"?function(e){return yg.resolve(null).then(e).catch(HC)}:Xh;function HC(e){setTimeout(function(){throw e})}function jd(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),wu(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);wu(t)}function Ws(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ml=Math.random().toString(36).slice(2),Si="__reactFiber$"+ml,bu="__reactProps$"+ml,es="__reactContainer$"+ml,qh="__reactEvents$"+ml,WC="__reactListeners$"+ml,GC="__reactHandles$"+ml;function vo(e){var t=e[Si];if(t)return t;for(var n=e.parentNode;n;){if(t=n[es]||n[Si]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wg(e);e!==null;){if(n=e[Si])return n;e=wg(e)}return t}e=n,n=e.parentNode}return null}function Yu(e){return e=e[Si]||e[es],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ea(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function ed(e){return e[bu]||null}var Kh=[],Ca=-1;function to(e){return{current:e}}function Bt(e){0>Ca||(e.current=Kh[Ca],Kh[Ca]=null,Ca--)}function Nt(e,t){Ca++,Kh[Ca]=e.current,e.current=t}var Zs={},Hn=to(Zs),dr=to(!1),Ho=Zs;function il(e,t){var n=e.type.contextTypes;if(!n)return Zs;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in n)a[c]=t[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function hr(e){return e=e.childContextTypes,e!=null}function vf(){Bt(dr),Bt(Hn)}function vg(e,t,n){if(Hn.current!==Zs)throw Error(de(168));Nt(Hn,t),Nt(dr,n)}function wy(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(de(108,NE(e)||"Unknown",a));return Xt({},n,s)}function Ef(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zs,Ho=Hn.current,Nt(Hn,e),Nt(dr,dr.current),!0}function Eg(e,t,n){var s=e.stateNode;if(!s)throw Error(de(169));n?(e=wy(e,t,Ho),s.__reactInternalMemoizedMergedChildContext=e,Bt(dr),Bt(Hn),Nt(Hn,e)):Bt(dr),Nt(dr,n)}var Wi=null,td=!1,zd=!1;function vy(e){Wi===null?Wi=[e]:Wi.push(e)}function XC(e){td=!0,vy(e)}function no(){if(!zd&&Wi!==null){zd=!0;var e=0,t=Ct;try{var n=Wi;for(Ct=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Wi=null,td=!1}catch(a){throw Wi!==null&&(Wi=Wi.slice(e+1)),Gx(g1,no),a}finally{Ct=t,zd=!1}}return null}var Aa=[],ba=0,Cf=null,Af=0,Vr=[],Ur=0,Wo=null,Ki=1,Yi="";function go(e,t){Aa[ba++]=Af,Aa[ba++]=Cf,Cf=e,Af=t}function Ey(e,t,n){Vr[Ur++]=Ki,Vr[Ur++]=Yi,Vr[Ur++]=Wo,Wo=e;var s=Ki;e=Yi;var a=32-si(s)-1;s&=~(1<<a),n+=1;var c=32-si(t)+a;if(30<c){var d=a-a%5;c=(s&(1<<d)-1).toString(32),s>>=d,a-=d,Ki=1<<32-si(t)+a|n<<a|s,Yi=c+e}else Ki=1<<c|n<<a|s,Yi=e}function b1(e){e.return!==null&&(go(e,1),Ey(e,1,0))}function S1(e){for(;e===Cf;)Cf=Aa[--ba],Aa[ba]=null,Af=Aa[--ba],Aa[ba]=null;for(;e===Wo;)Wo=Vr[--Ur],Vr[Ur]=null,Yi=Vr[--Ur],Vr[Ur]=null,Ki=Vr[--Ur],Vr[Ur]=null}var _r=null,br=null,jt=!1,ii=null;function Cy(e,t){var n=jr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_r=e,br=Ws(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_r=e,br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wo!==null?{id:Ki,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_r=e,br=null,!0):!1;default:return!1}}function Yh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qh(e){if(jt){var t=br;if(t){var n=t;if(!Cg(e,t)){if(Yh(e))throw Error(de(418));t=Ws(n.nextSibling);var s=_r;t&&Cg(e,t)?Cy(s,n):(e.flags=e.flags&-4097|2,jt=!1,_r=e)}}else{if(Yh(e))throw Error(de(418));e.flags=e.flags&-4097|2,jt=!1,_r=e}}}function Ag(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_r=e}function Pc(e){if(e!==_r)return!1;if(!jt)return Ag(e),jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gh(e.type,e.memoizedProps)),t&&(t=br)){if(Yh(e))throw Ay(),Error(de(418));for(;t;)Cy(e,t),t=Ws(t.nextSibling)}if(Ag(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){br=Ws(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}br=null}}else br=_r?Ws(e.stateNode.nextSibling):null;return!0}function Ay(){for(var e=br;e;)e=Ws(e.nextSibling)}function sl(){br=_r=null,jt=!1}function _1(e){ii===null?ii=[e]:ii.push(e)}var qC=os.ReactCurrentBatchConfig;function Vl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var s=n.stateNode}if(!s)throw Error(de(147,e));var a=s,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(d){var g=a.refs;d===null?delete g[c]:g[c]=d},t._stringRef=c,t)}if(typeof e!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,e))}return e}function Mc(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bg(e){var t=e._init;return t(e._payload)}function by(e){function t(A,S){if(e){var N=A.deletions;N===null?(A.deletions=[S],A.flags|=16):N.push(S)}}function n(A,S){if(!e)return null;for(;S!==null;)t(A,S),S=S.sibling;return null}function s(A,S){for(A=new Map;S!==null;)S.key!==null?A.set(S.key,S):A.set(S.index,S),S=S.sibling;return A}function a(A,S){return A=Ks(A,S),A.index=0,A.sibling=null,A}function c(A,S,N){return A.index=N,e?(N=A.alternate,N!==null?(N=N.index,N<S?(A.flags|=2,S):N):(A.flags|=2,S)):(A.flags|=1048576,S)}function d(A){return e&&A.alternate===null&&(A.flags|=2),A}function g(A,S,N,L){return S===null||S.tag!==6?(S=Yd(N,A.mode,L),S.return=A,S):(S=a(S,N),S.return=A,S)}function y(A,S,N,L){var q=N.type;return q===xa?E(A,S,N.props.children,L,N.key):S!==null&&(S.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ss&&bg(q)===S.type)?(L=a(S,N.props),L.ref=Vl(A,S,N),L.return=A,L):(L=nf(N.type,N.key,N.props,null,A.mode,L),L.ref=Vl(A,S,N),L.return=A,L)}function x(A,S,N,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==N.containerInfo||S.stateNode.implementation!==N.implementation?(S=Qd(N,A.mode,L),S.return=A,S):(S=a(S,N.children||[]),S.return=A,S)}function E(A,S,N,L,q){return S===null||S.tag!==7?(S=Uo(N,A.mode,L,q),S.return=A,S):(S=a(S,N),S.return=A,S)}function C(A,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Yd(""+S,A.mode,N),S.return=A,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ac:return N=nf(S.type,S.key,S.props,null,A.mode,N),N.ref=Vl(A,null,S),N.return=A,N;case ma:return S=Qd(S,A.mode,N),S.return=A,S;case Ss:var L=S._init;return C(A,L(S._payload),N)}if(Kl(S)||Ml(S))return S=Uo(S,A.mode,N,null),S.return=A,S;Mc(A,S)}return null}function T(A,S,N,L){var q=S!==null?S.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return q!==null?null:g(A,S,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ac:return N.key===q?y(A,S,N,L):null;case ma:return N.key===q?x(A,S,N,L):null;case Ss:return q=N._init,T(A,S,q(N._payload),L)}if(Kl(N)||Ml(N))return q!==null?null:E(A,S,N,L,null);Mc(A,N)}return null}function P(A,S,N,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return A=A.get(N)||null,g(S,A,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ac:return A=A.get(L.key===null?N:L.key)||null,y(S,A,L,q);case ma:return A=A.get(L.key===null?N:L.key)||null,x(S,A,L,q);case Ss:var G=L._init;return P(A,S,N,G(L._payload),q)}if(Kl(L)||Ml(L))return A=A.get(N)||null,E(S,A,L,q,null);Mc(S,L)}return null}function U(A,S,N,L){for(var q=null,G=null,H=S,$=S=0,te=null;H!==null&&$<N.length;$++){H.index>$?(te=H,H=null):te=H.sibling;var oe=T(A,H,N[$],L);if(oe===null){H===null&&(H=te);break}e&&H&&oe.alternate===null&&t(A,H),S=c(oe,S,$),G===null?q=oe:G.sibling=oe,G=oe,H=te}if($===N.length)return n(A,H),jt&&go(A,$),q;if(H===null){for(;$<N.length;$++)H=C(A,N[$],L),H!==null&&(S=c(H,S,$),G===null?q=H:G.sibling=H,G=H);return jt&&go(A,$),q}for(H=s(A,H);$<N.length;$++)te=P(H,A,$,N[$],L),te!==null&&(e&&te.alternate!==null&&H.delete(te.key===null?$:te.key),S=c(te,S,$),G===null?q=te:G.sibling=te,G=te);return e&&H.forEach(function(Te){return t(A,Te)}),jt&&go(A,$),q}function I(A,S,N,L){var q=Ml(N);if(typeof q!="function")throw Error(de(150));if(N=q.call(N),N==null)throw Error(de(151));for(var G=q=null,H=S,$=S=0,te=null,oe=N.next();H!==null&&!oe.done;$++,oe=N.next()){H.index>$?(te=H,H=null):te=H.sibling;var Te=T(A,H,oe.value,L);if(Te===null){H===null&&(H=te);break}e&&H&&Te.alternate===null&&t(A,H),S=c(Te,S,$),G===null?q=Te:G.sibling=Te,G=Te,H=te}if(oe.done)return n(A,H),jt&&go(A,$),q;if(H===null){for(;!oe.done;$++,oe=N.next())oe=C(A,oe.value,L),oe!==null&&(S=c(oe,S,$),G===null?q=oe:G.sibling=oe,G=oe);return jt&&go(A,$),q}for(H=s(A,H);!oe.done;$++,oe=N.next())oe=P(H,A,$,oe.value,L),oe!==null&&(e&&oe.alternate!==null&&H.delete(oe.key===null?$:oe.key),S=c(oe,S,$),G===null?q=oe:G.sibling=oe,G=oe);return e&&H.forEach(function(pe){return t(A,pe)}),jt&&go(A,$),q}function D(A,S,N,L){if(typeof N=="object"&&N!==null&&N.type===xa&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Ac:e:{for(var q=N.key,G=S;G!==null;){if(G.key===q){if(q=N.type,q===xa){if(G.tag===7){n(A,G.sibling),S=a(G,N.props.children),S.return=A,A=S;break e}}else if(G.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ss&&bg(q)===G.type){n(A,G.sibling),S=a(G,N.props),S.ref=Vl(A,G,N),S.return=A,A=S;break e}n(A,G);break}else t(A,G);G=G.sibling}N.type===xa?(S=Uo(N.props.children,A.mode,L,N.key),S.return=A,A=S):(L=nf(N.type,N.key,N.props,null,A.mode,L),L.ref=Vl(A,S,N),L.return=A,A=L)}return d(A);case ma:e:{for(G=N.key;S!==null;){if(S.key===G)if(S.tag===4&&S.stateNode.containerInfo===N.containerInfo&&S.stateNode.implementation===N.implementation){n(A,S.sibling),S=a(S,N.children||[]),S.return=A,A=S;break e}else{n(A,S);break}else t(A,S);S=S.sibling}S=Qd(N,A.mode,L),S.return=A,A=S}return d(A);case Ss:return G=N._init,D(A,S,G(N._payload),L)}if(Kl(N))return U(A,S,N,L);if(Ml(N))return I(A,S,N,L);Mc(A,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,S!==null&&S.tag===6?(n(A,S.sibling),S=a(S,N),S.return=A,A=S):(n(A,S),S=Yd(N,A.mode,L),S.return=A,A=S),d(A)):n(A,S)}return D}var ol=by(!0),Sy=by(!1),bf=to(null),Sf=null,Sa=null,T1=null;function I1(){T1=Sa=Sf=null}function N1(e){var t=bf.current;Bt(bf),e._currentValue=t}function Zh(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Va(e,t){Sf=e,T1=Sa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fr=!0),e.firstContext=null)}function Hr(e){var t=e._currentValue;if(T1!==e)if(e={context:e,memoizedValue:t,next:null},Sa===null){if(Sf===null)throw Error(de(308));Sa=e,Sf.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Eo=null;function R1(e){Eo===null?Eo=[e]:Eo.push(e)}function _y(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,R1(t)):(n.next=a.next,a.next=n),t.interleaved=n,ts(e,s)}function ts(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _s=!1;function O1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ty(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ut&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,ts(e,n)}return a=s.interleaved,a===null?(t.next=t,R1(s)):(t.next=a.next,a.next=t),s.interleaved=t,ts(e,n)}function Qc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,m1(e,n)}}function Sg(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?a=c=d:c=c.next=d,n=n.next}while(n!==null);c===null?a=c=t:c=c.next=t}else a=c=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _f(e,t,n,s){var a=e.updateQueue;_s=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var y=g,x=y.next;y.next=null,d===null?c=x:d.next=x,d=y;var E=e.alternate;E!==null&&(E=E.updateQueue,g=E.lastBaseUpdate,g!==d&&(g===null?E.firstBaseUpdate=x:g.next=x,E.lastBaseUpdate=y))}if(c!==null){var C=a.baseState;d=0,E=x=y=null,g=c;do{var T=g.lane,P=g.eventTime;if((s&T)===T){E!==null&&(E=E.next={eventTime:P,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var U=e,I=g;switch(T=t,P=n,I.tag){case 1:if(U=I.payload,typeof U=="function"){C=U.call(P,C,T);break e}C=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=I.payload,T=typeof U=="function"?U.call(P,C,T):U,T==null)break e;C=Xt({},C,T);break e;case 2:_s=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,T=a.effects,T===null?a.effects=[g]:T.push(g))}else P={eventTime:P,lane:T,tag:g.tag,payload:g.payload,callback:g.callback,next:null},E===null?(x=E=P,y=C):E=E.next=P,d|=T;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;T=g,g=T.next,T.next=null,a.lastBaseUpdate=T,a.shared.pending=null}}while(!0);if(E===null&&(y=C),a.baseState=y,a.firstBaseUpdate=x,a.lastBaseUpdate=E,t=a.shared.interleaved,t!==null){a=t;do d|=a.lane,a=a.next;while(a!==t)}else c===null&&(a.shared.lanes=0);Xo|=d,e.lanes=d,e.memoizedState=C}}function _g(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(de(191,a));a.call(s)}}}var Qu={},Ii=to(Qu),Su=to(Qu),_u=to(Qu);function Co(e){if(e===Qu)throw Error(de(174));return e}function D1(e,t){switch(Nt(_u,t),Nt(Su,e),Nt(Ii,Qu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oh(t,e)}Bt(Ii),Nt(Ii,t)}function al(){Bt(Ii),Bt(Su),Bt(_u)}function Iy(e){Co(_u.current);var t=Co(Ii.current),n=Oh(t,e.type);t!==n&&(Nt(Su,e),Nt(Ii,n))}function P1(e){Su.current===e&&(Bt(Ii),Bt(Su))}var Ht=to(0);function Tf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hd=[];function M1(){for(var e=0;e<Hd.length;e++)Hd[e]._workInProgressVersionPrimary=null;Hd.length=0}var Zc=os.ReactCurrentDispatcher,Wd=os.ReactCurrentBatchConfig,Go=0,Gt=null,mn=null,Cn=null,If=!1,ou=!1,Tu=0,KC=0;function Fn(){throw Error(de(321))}function k1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function L1(e,t,n,s,a,c){if(Go=c,Gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zc.current=e===null||e.memoizedState===null?$C:JC,e=n(s,a),ou){c=0;do{if(ou=!1,Tu=0,25<=c)throw Error(de(301));c+=1,Cn=mn=null,t.updateQueue=null,Zc.current=eA,e=n(s,a)}while(ou)}if(Zc.current=Nf,t=mn!==null&&mn.next!==null,Go=0,Cn=mn=Gt=null,If=!1,t)throw Error(de(300));return e}function B1(){var e=Tu!==0;return Tu=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Gt.memoizedState=Cn=e:Cn=Cn.next=e,Cn}function Wr(){if(mn===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=mn.next;var t=Cn===null?Gt.memoizedState:Cn.next;if(t!==null)Cn=t,mn=e;else{if(e===null)throw Error(de(310));mn=e,e={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},Cn===null?Gt.memoizedState=Cn=e:Cn=Cn.next=e}return Cn}function Iu(e,t){return typeof t=="function"?t(e):t}function Gd(e){var t=Wr(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var s=mn,a=s.baseQueue,c=n.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}s.baseQueue=a=c,n.pending=null}if(a!==null){c=a.next,s=s.baseState;var g=d=null,y=null,x=c;do{var E=x.lane;if((Go&E)===E)y!==null&&(y=y.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),s=x.hasEagerState?x.eagerState:e(s,x.action);else{var C={lane:E,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};y===null?(g=y=C,d=s):y=y.next=C,Gt.lanes|=E,Xo|=E}x=x.next}while(x!==null&&x!==c);y===null?d=s:y.next=g,ai(s,t.memoizedState)||(fr=!0),t.memoizedState=s,t.baseState=d,t.baseQueue=y,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do c=a.lane,Gt.lanes|=c,Xo|=c,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xd(e){var t=Wr(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,c=t.memoizedState;if(a!==null){n.pending=null;var d=a=a.next;do c=e(c,d.action),d=d.next;while(d!==a);ai(c,t.memoizedState)||(fr=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,s]}function Ny(){}function Ry(e,t){var n=Gt,s=Wr(),a=t(),c=!ai(s.memoizedState,a);if(c&&(s.memoizedState=a,fr=!0),s=s.queue,F1(Py.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||Cn!==null&&Cn.memoizedState.tag&1){if(n.flags|=2048,Nu(9,Dy.bind(null,n,s,a,t),void 0,null),An===null)throw Error(de(349));Go&30||Oy(n,t,a)}return a}function Oy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dy(e,t,n,s){t.value=n,t.getSnapshot=s,My(t)&&ky(e)}function Py(e,t,n){return n(function(){My(t)&&ky(e)})}function My(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch{return!0}}function ky(e){var t=ts(e,1);t!==null&&oi(t,e,1,-1)}function Tg(e){var t=vi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:e},t.queue=e,e=e.dispatch=ZC.bind(null,Gt,e),[t.memoizedState,e]}function Nu(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Ly(){return Wr().memoizedState}function $c(e,t,n,s){var a=vi();Gt.flags|=e,a.memoizedState=Nu(1|t,n,void 0,s===void 0?null:s)}function nd(e,t,n,s){var a=Wr();s=s===void 0?null:s;var c=void 0;if(mn!==null){var d=mn.memoizedState;if(c=d.destroy,s!==null&&k1(s,d.deps)){a.memoizedState=Nu(t,n,c,s);return}}Gt.flags|=e,a.memoizedState=Nu(1|t,n,c,s)}function Ig(e,t){return $c(8390656,8,e,t)}function F1(e,t){return nd(2048,8,e,t)}function By(e,t){return nd(4,2,e,t)}function Fy(e,t){return nd(4,4,e,t)}function Vy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uy(e,t,n){return n=n!=null?n.concat([e]):null,nd(4,4,Vy.bind(null,t,e),n)}function V1(){}function jy(e,t){var n=Wr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&k1(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function zy(e,t){var n=Wr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&k1(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Hy(e,t,n){return Go&21?(ai(n,t)||(n=Kx(),Gt.lanes|=n,Xo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fr=!0),e.memoizedState=n)}function YC(e,t){var n=Ct;Ct=n!==0&&4>n?n:4,e(!0);var s=Wd.transition;Wd.transition={};try{e(!1),t()}finally{Ct=n,Wd.transition=s}}function Wy(){return Wr().memoizedState}function QC(e,t,n){var s=qs(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Gy(e))Xy(t,n);else if(n=_y(e,t,n,s),n!==null){var a=$n();oi(n,e,s,a),qy(n,t,s)}}function ZC(e,t,n){var s=qs(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gy(e))Xy(t,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,g=c(d,n);if(a.hasEagerState=!0,a.eagerState=g,ai(g,d)){var y=t.interleaved;y===null?(a.next=a,R1(t)):(a.next=y.next,y.next=a),t.interleaved=a;return}}catch{}finally{}n=_y(e,t,a,s),n!==null&&(a=$n(),oi(n,e,s,a),qy(n,t,s))}}function Gy(e){var t=e.alternate;return e===Gt||t!==null&&t===Gt}function Xy(e,t){ou=If=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qy(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,m1(e,n)}}var Nf={readContext:Hr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},$C={readContext:Hr,useCallback:function(e,t){return vi().memoizedState=[e,t===void 0?null:t],e},useContext:Hr,useEffect:Ig,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$c(4194308,4,Vy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $c(4194308,4,e,t)},useInsertionEffect:function(e,t){return $c(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=vi();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=QC.bind(null,Gt,e),[s.memoizedState,e]},useRef:function(e){var t=vi();return e={current:e},t.memoizedState=e},useState:Tg,useDebugValue:V1,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Tg(!1),t=e[0];return e=YC.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Gt,a=vi();if(jt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=t(),An===null)throw Error(de(349));Go&30||Oy(s,t,n)}a.memoizedState=n;var c={value:n,getSnapshot:t};return a.queue=c,Ig(Py.bind(null,s,c,e),[e]),s.flags|=2048,Nu(9,Dy.bind(null,s,c,n,t),void 0,null),n},useId:function(){var e=vi(),t=An.identifierPrefix;if(jt){var n=Yi,s=Ki;n=(s&~(1<<32-si(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=KC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JC={readContext:Hr,useCallback:jy,useContext:Hr,useEffect:F1,useImperativeHandle:Uy,useInsertionEffect:By,useLayoutEffect:Fy,useMemo:zy,useReducer:Gd,useRef:Ly,useState:function(){return Gd(Iu)},useDebugValue:V1,useDeferredValue:function(e){var t=Wr();return Hy(t,mn.memoizedState,e)},useTransition:function(){var e=Gd(Iu)[0],t=Wr().memoizedState;return[e,t]},useMutableSource:Ny,useSyncExternalStore:Ry,useId:Wy,unstable_isNewReconciler:!1},eA={readContext:Hr,useCallback:jy,useContext:Hr,useEffect:F1,useImperativeHandle:Uy,useInsertionEffect:By,useLayoutEffect:Fy,useMemo:zy,useReducer:Xd,useRef:Ly,useState:function(){return Xd(Iu)},useDebugValue:V1,useDeferredValue:function(e){var t=Wr();return mn===null?t.memoizedState=e:Hy(t,mn.memoizedState,e)},useTransition:function(){var e=Xd(Iu)[0],t=Wr().memoizedState;return[e,t]},useMutableSource:Ny,useSyncExternalStore:Ry,useId:Wy,unstable_isNewReconciler:!1};function ei(e,t){if(e&&e.defaultProps){t=Xt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $h(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Xt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rd={isMounted:function(e){return(e=e._reactInternals)?Qo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=$n(),a=qs(e),c=Qi(s,a);c.payload=t,n!=null&&(c.callback=n),t=Gs(e,c,a),t!==null&&(oi(t,e,a,s),Qc(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=$n(),a=qs(e),c=Qi(s,a);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Gs(e,c,a),t!==null&&(oi(t,e,a,s),Qc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$n(),s=qs(e),a=Qi(n,s);a.tag=2,t!=null&&(a.callback=t),t=Gs(e,a,s),t!==null&&(oi(t,e,s,n),Qc(t,e,s))}};function Ng(e,t,n,s,a,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,d):t.prototype&&t.prototype.isPureReactComponent?!Eu(n,s)||!Eu(a,c):!0}function Ky(e,t,n){var s=!1,a=Zs,c=t.contextType;return typeof c=="object"&&c!==null?c=Hr(c):(a=hr(t)?Ho:Hn.current,s=t.contextTypes,c=(s=s!=null)?il(e,a):Zs),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rd,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),t}function Rg(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&rd.enqueueReplaceState(t,t.state,null)}function Jh(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},O1(e);var c=t.contextType;typeof c=="object"&&c!==null?a.context=Hr(c):(c=hr(t)?Ho:Hn.current,a.context=il(e,c)),a.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&($h(e,t,c,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&rd.enqueueReplaceState(a,a.state,null),_f(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ll(e,t){try{var n="",s=t;do n+=IE(s),s=s.return;while(s);var a=n}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:a,digest:null}}function qd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function e0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tA=typeof WeakMap=="function"?WeakMap:Map;function Yy(e,t,n){n=Qi(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Of||(Of=!0,c0=s),e0(e,t)},n}function Qy(e,t,n){n=Qi(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){e0(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){e0(e,t),typeof s!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function Og(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new tA;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=gA.bind(null,e,t,n),t.then(e,e))}function Dg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pg(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qi(-1,1),t.tag=2,Gs(n,t,1))),n.lanes|=1),e)}var nA=os.ReactCurrentOwner,fr=!1;function Zn(e,t,n,s){t.child=e===null?Sy(t,null,n,s):ol(t,e.child,n,s)}function Mg(e,t,n,s,a){n=n.render;var c=t.ref;return Va(t,a),s=L1(e,t,n,s,c,a),n=B1(),e!==null&&!fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ns(e,t,a)):(jt&&n&&b1(t),t.flags|=1,Zn(e,t,s,a),t.child)}function kg(e,t,n,s,a){if(e===null){var c=n.type;return typeof c=="function"&&!q1(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,Zy(e,t,c,s,a)):(e=nf(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&a)){var d=c.memoizedProps;if(n=n.compare,n=n!==null?n:Eu,n(d,s)&&e.ref===t.ref)return ns(e,t,a)}return t.flags|=1,e=Ks(c,s),e.ref=t.ref,e.return=t,t.child=e}function Zy(e,t,n,s,a){if(e!==null){var c=e.memoizedProps;if(Eu(c,s)&&e.ref===t.ref)if(fr=!1,t.pendingProps=s=c,(e.lanes&a)!==0)e.flags&131072&&(fr=!0);else return t.lanes=e.lanes,ns(e,t,a)}return t0(e,t,n,s,a)}function $y(e,t,n){var s=t.pendingProps,a=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Ta,Ar),Ar|=n;else{if(!(n&1073741824))return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nt(Ta,Ar),Ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:n,Nt(Ta,Ar),Ar|=s}else c!==null?(s=c.baseLanes|n,t.memoizedState=null):s=n,Nt(Ta,Ar),Ar|=s;return Zn(e,t,a,n),t.child}function Jy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function t0(e,t,n,s,a){var c=hr(n)?Ho:Hn.current;return c=il(t,c),Va(t,a),n=L1(e,t,n,s,c,a),s=B1(),e!==null&&!fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ns(e,t,a)):(jt&&s&&b1(t),t.flags|=1,Zn(e,t,n,a),t.child)}function Lg(e,t,n,s,a){if(hr(n)){var c=!0;Ef(t)}else c=!1;if(Va(t,a),t.stateNode===null)Jc(e,t),Ky(t,n,s),Jh(t,n,s,a),s=!0;else if(e===null){var d=t.stateNode,g=t.memoizedProps;d.props=g;var y=d.context,x=n.contextType;typeof x=="object"&&x!==null?x=Hr(x):(x=hr(n)?Ho:Hn.current,x=il(t,x));var E=n.getDerivedStateFromProps,C=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function";C||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==s||y!==x)&&Rg(t,d,s,x),_s=!1;var T=t.memoizedState;d.state=T,_f(t,s,d,a),y=t.memoizedState,g!==s||T!==y||dr.current||_s?(typeof E=="function"&&($h(t,n,E,s),y=t.memoizedState),(g=_s||Ng(t,n,g,s,T,y,x))?(C||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=y),d.props=s,d.state=y,d.context=x,s=g):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Ty(e,t),g=t.memoizedProps,x=t.type===t.elementType?g:ei(t.type,g),d.props=x,C=t.pendingProps,T=d.context,y=n.contextType,typeof y=="object"&&y!==null?y=Hr(y):(y=hr(n)?Ho:Hn.current,y=il(t,y));var P=n.getDerivedStateFromProps;(E=typeof P=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==C||T!==y)&&Rg(t,d,s,y),_s=!1,T=t.memoizedState,d.state=T,_f(t,s,d,a);var U=t.memoizedState;g!==C||T!==U||dr.current||_s?(typeof P=="function"&&($h(t,n,P,s),U=t.memoizedState),(x=_s||Ng(t,n,x,s,T,U,y)||!1)?(E||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,U,y),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,U,y)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=U),d.props=s,d.state=U,d.context=y,s=x):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),s=!1)}return n0(e,t,n,s,c,a)}function n0(e,t,n,s,a,c){Jy(e,t);var d=(t.flags&128)!==0;if(!s&&!d)return a&&Eg(t,n,!1),ns(e,t,c);s=t.stateNode,nA.current=t;var g=d&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&d?(t.child=ol(t,e.child,null,c),t.child=ol(t,null,g,c)):Zn(e,t,g,c),t.memoizedState=s.state,a&&Eg(t,n,!0),t.child}function ew(e){var t=e.stateNode;t.pendingContext?vg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vg(e,t.context,!1),D1(e,t.containerInfo)}function Bg(e,t,n,s,a){return sl(),_1(a),t.flags|=256,Zn(e,t,n,s),t.child}var r0={dehydrated:null,treeContext:null,retryLane:0};function i0(e){return{baseLanes:e,cachePool:null,transitions:null}}function tw(e,t,n){var s=t.pendingProps,a=Ht.current,c=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(a&2)!==0),g?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Nt(Ht,a&1),e===null)return Qh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=s.children,e=s.fallback,c?(s=t.mode,c=t.child,d={mode:"hidden",children:d},!(s&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=od(d,s,0,null),e=Uo(e,s,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=i0(n),t.memoizedState=r0,e):U1(t,d));if(a=e.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return rA(e,t,d,s,g,a,n);if(c){c=s.fallback,d=t.mode,a=e.child,g=a.sibling;var y={mode:"hidden",children:s.children};return!(d&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=y,t.deletions=null):(s=Ks(a,y),s.subtreeFlags=a.subtreeFlags&14680064),g!==null?c=Ks(g,c):(c=Uo(c,d,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,d=e.child.memoizedState,d=d===null?i0(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~n,t.memoizedState=r0,s}return c=e.child,e=c.sibling,s=Ks(c,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function U1(e,t){return t=od({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kc(e,t,n,s){return s!==null&&_1(s),ol(t,e.child,null,n),e=U1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rA(e,t,n,s,a,c,d){if(n)return t.flags&256?(t.flags&=-257,s=qd(Error(de(422))),kc(e,t,d,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=s.fallback,a=t.mode,s=od({mode:"visible",children:s.children},a,0,null),c=Uo(c,a,d,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,t.mode&1&&ol(t,e.child,null,d),t.child.memoizedState=i0(d),t.memoizedState=r0,c);if(!(t.mode&1))return kc(e,t,d,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var g=s.dgst;return s=g,c=Error(de(419)),s=qd(c,s,void 0),kc(e,t,d,s)}if(g=(d&e.childLanes)!==0,fr||g){if(s=An,s!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,ts(e,a),oi(s,e,a,-1))}return X1(),s=qd(Error(de(421))),kc(e,t,d,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=mA.bind(null,e),a._reactRetry=t,null):(e=c.treeContext,br=Ws(a.nextSibling),_r=t,jt=!0,ii=null,e!==null&&(Vr[Ur++]=Ki,Vr[Ur++]=Yi,Vr[Ur++]=Wo,Ki=e.id,Yi=e.overflow,Wo=t),t=U1(t,s.children),t.flags|=4096,t)}function Fg(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Zh(e.return,t,n)}function Kd(e,t,n,s,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=a)}function nw(e,t,n){var s=t.pendingProps,a=s.revealOrder,c=s.tail;if(Zn(e,t,s.children,n),s=Ht.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fg(e,n,t);else if(e.tag===19)Fg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Nt(Ht,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Tf(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Kd(t,!1,a,n,c);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Tf(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Kd(t,!0,n,null,c);break;case"together":Kd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ns(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,n=Ks(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ks(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iA(e,t,n){switch(t.tag){case 3:ew(t),sl();break;case 5:Iy(t);break;case 1:hr(t.type)&&Ef(t);break;case 4:D1(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Nt(bf,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Nt(Ht,Ht.current&1),t.flags|=128,null):n&t.child.childLanes?tw(e,t,n):(Nt(Ht,Ht.current&1),e=ns(e,t,n),e!==null?e.sibling:null);Nt(Ht,Ht.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return nw(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nt(Ht,Ht.current),s)break;return null;case 22:case 23:return t.lanes=0,$y(e,t,n)}return ns(e,t,n)}var rw,s0,iw,sw;rw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};s0=function(){};iw=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Co(Ii.current);var c=null;switch(n){case"input":a=Th(e,a),s=Th(e,s),c=[];break;case"select":a=Xt({},a,{value:void 0}),s=Xt({},s,{value:void 0}),c=[];break;case"textarea":a=Rh(e,a),s=Rh(e,s),c=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=wf)}Dh(n,s);var d;n=null;for(x in a)if(!s.hasOwnProperty(x)&&a.hasOwnProperty(x)&&a[x]!=null)if(x==="style"){var g=a[x];for(d in g)g.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(pu.hasOwnProperty(x)?c||(c=[]):(c=c||[]).push(x,null));for(x in s){var y=s[x];if(g=a!=null?a[x]:void 0,s.hasOwnProperty(x)&&y!==g&&(y!=null||g!=null))if(x==="style")if(g){for(d in g)!g.hasOwnProperty(d)||y&&y.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in y)y.hasOwnProperty(d)&&g[d]!==y[d]&&(n||(n={}),n[d]=y[d])}else n||(c||(c=[]),c.push(x,n)),n=y;else x==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(c=c||[]).push(x,y)):x==="children"?typeof y!="string"&&typeof y!="number"||(c=c||[]).push(x,""+y):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(pu.hasOwnProperty(x)?(y!=null&&x==="onScroll"&&kt("scroll",e),c||g===y||(c=[])):(c=c||[]).push(x,y))}n&&(c=c||[]).push("style",n);var x=c;(t.updateQueue=x)&&(t.flags|=4)}};sw=function(e,t,n,s){n!==s&&(t.flags|=4)};function Ul(e,t){if(!jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Vn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function sA(e,t,n){var s=t.pendingProps;switch(S1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(t),null;case 1:return hr(t.type)&&vf(),Vn(t),null;case 3:return s=t.stateNode,al(),Bt(dr),Bt(Hn),M1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Pc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ii!==null&&(h0(ii),ii=null))),s0(e,t),Vn(t),null;case 5:P1(t);var a=Co(_u.current);if(n=t.type,e!==null&&t.stateNode!=null)iw(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(de(166));return Vn(t),null}if(e=Co(Ii.current),Pc(t)){s=t.stateNode,n=t.type;var c=t.memoizedProps;switch(s[Si]=t,s[bu]=c,e=(t.mode&1)!==0,n){case"dialog":kt("cancel",s),kt("close",s);break;case"iframe":case"object":case"embed":kt("load",s);break;case"video":case"audio":for(a=0;a<Ql.length;a++)kt(Ql[a],s);break;case"source":kt("error",s);break;case"img":case"image":case"link":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"input":qp(s,c),kt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},kt("invalid",s);break;case"textarea":Yp(s,c),kt("invalid",s)}Dh(n,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var g=c[d];d==="children"?typeof g=="string"?s.textContent!==g&&(c.suppressHydrationWarning!==!0&&Dc(s.textContent,g,e),a=["children",g]):typeof g=="number"&&s.textContent!==""+g&&(c.suppressHydrationWarning!==!0&&Dc(s.textContent,g,e),a=["children",""+g]):pu.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&kt("scroll",s)}switch(n){case"input":bc(s),Kp(s,c,!0);break;case"textarea":bc(s),Qp(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=wf)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Px(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=d.createElement(n,{is:s.is}):(e=d.createElement(n),n==="select"&&(d=e,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):e=d.createElementNS(e,n),e[Si]=t,e[bu]=s,rw(e,t,!1,!1),t.stateNode=e;e:{switch(d=Ph(n,s),n){case"dialog":kt("cancel",e),kt("close",e),a=s;break;case"iframe":case"object":case"embed":kt("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ql.length;a++)kt(Ql[a],e);a=s;break;case"source":kt("error",e),a=s;break;case"img":case"image":case"link":kt("error",e),kt("load",e),a=s;break;case"details":kt("toggle",e),a=s;break;case"input":qp(e,s),a=Th(e,s),kt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Xt({},s,{value:void 0}),kt("invalid",e);break;case"textarea":Yp(e,s),a=Rh(e,s),kt("invalid",e);break;default:a=s}Dh(n,a),g=a;for(c in g)if(g.hasOwnProperty(c)){var y=g[c];c==="style"?Lx(e,y):c==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&Mx(e,y)):c==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&gu(e,y):typeof y=="number"&&gu(e,""+y):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pu.hasOwnProperty(c)?y!=null&&c==="onScroll"&&kt("scroll",e):y!=null&&c1(e,c,y,d))}switch(n){case"input":bc(e),Kp(e,s,!1);break;case"textarea":bc(e),Qp(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Qs(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?ka(e,!!s.multiple,c,!1):s.defaultValue!=null&&ka(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=wf)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vn(t),null;case 6:if(e&&t.stateNode!=null)sw(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(de(166));if(n=Co(_u.current),Co(Ii.current),Pc(t)){if(s=t.stateNode,n=t.memoizedProps,s[Si]=t,(c=s.nodeValue!==n)&&(e=_r,e!==null))switch(e.tag){case 3:Dc(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dc(s.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Si]=t,t.stateNode=s}return Vn(t),null;case 13:if(Bt(Ht),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&br!==null&&t.mode&1&&!(t.flags&128))Ay(),sl(),t.flags|=98560,c=!1;else if(c=Pc(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(de(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(de(317));c[Si]=t}else sl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vn(t),c=!1}else ii!==null&&(h0(ii),ii=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ht.current&1?yn===0&&(yn=3):X1())),t.updateQueue!==null&&(t.flags|=4),Vn(t),null);case 4:return al(),s0(e,t),e===null&&Cu(t.stateNode.containerInfo),Vn(t),null;case 10:return N1(t.type._context),Vn(t),null;case 17:return hr(t.type)&&vf(),Vn(t),null;case 19:if(Bt(Ht),c=t.memoizedState,c===null)return Vn(t),null;if(s=(t.flags&128)!==0,d=c.rendering,d===null)if(s)Ul(c,!1);else{if(yn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=Tf(e),d!==null){for(t.flags|=128,Ul(c,!1),s=d.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)c=n,e=s,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nt(Ht,Ht.current&1|2),t.child}e=e.sibling}c.tail!==null&&sn()>ul&&(t.flags|=128,s=!0,Ul(c,!1),t.lanes=4194304)}else{if(!s)if(e=Tf(d),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ul(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!jt)return Vn(t),null}else 2*sn()-c.renderingStartTime>ul&&n!==1073741824&&(t.flags|=128,s=!0,Ul(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(n=c.last,n!==null?n.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=sn(),t.sibling=null,n=Ht.current,Nt(Ht,s?n&1|2:n&1),t):(Vn(t),null);case 22:case 23:return G1(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ar&1073741824&&(Vn(t),t.subtreeFlags&6&&(t.flags|=8192)):Vn(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function oA(e,t){switch(S1(t),t.tag){case 1:return hr(t.type)&&vf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return al(),Bt(dr),Bt(Hn),M1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return P1(t),null;case 13:if(Bt(Ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Bt(Ht),null;case 4:return al(),null;case 10:return N1(t.type._context),null;case 22:case 23:return G1(),null;case 24:return null;default:return null}}var Lc=!1,jn=!1,aA=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function _a(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){$t(e,t,s)}else n.current=null}function o0(e,t,n){try{n()}catch(s){$t(e,t,s)}}var Vg=!1;function lA(e,t){if(Hh=mf,e=cy(),A1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var d=0,g=-1,y=-1,x=0,E=0,C=e,T=null;t:for(;;){for(var P;C!==n||a!==0&&C.nodeType!==3||(g=d+a),C!==c||s!==0&&C.nodeType!==3||(y=d+s),C.nodeType===3&&(d+=C.nodeValue.length),(P=C.firstChild)!==null;)T=C,C=P;for(;;){if(C===e)break t;if(T===n&&++x===a&&(g=d),T===c&&++E===s&&(y=d),(P=C.nextSibling)!==null)break;C=T,T=C.parentNode}C=P}n=g===-1||y===-1?null:{start:g,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wh={focusedElem:e,selectionRange:n},mf=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){t=Ne;try{var U=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var I=U.memoizedProps,D=U.memoizedState,A=t.stateNode,S=A.getSnapshotBeforeUpdate(t.elementType===t.type?I:ei(t.type,I),D);A.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(L){$t(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}return U=Vg,Vg=!1,U}function au(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&o0(t,n,c)}a=a.next}while(a!==s)}}function id(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function a0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ow(e){var t=e.alternate;t!==null&&(e.alternate=null,ow(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Si],delete t[bu],delete t[qh],delete t[WC],delete t[GC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aw(e){return e.tag===5||e.tag===3||e.tag===4}function Ug(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function l0(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wf));else if(s!==4&&(e=e.child,e!==null))for(l0(e,t,n),e=e.sibling;e!==null;)l0(e,t,n),e=e.sibling}function u0(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(u0(e,t,n),e=e.sibling;e!==null;)u0(e,t,n),e=e.sibling}var On=null,ri=!1;function ys(e,t,n){for(n=n.child;n!==null;)lw(e,t,n),n=n.sibling}function lw(e,t,n){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(Qf,n)}catch{}switch(n.tag){case 5:jn||_a(n,t);case 6:var s=On,a=ri;On=null,ys(e,t,n),On=s,ri=a,On!==null&&(ri?(e=On,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(ri?(e=On,n=n.stateNode,e.nodeType===8?jd(e.parentNode,n):e.nodeType===1&&jd(e,n),wu(e)):jd(On,n.stateNode));break;case 4:s=On,a=ri,On=n.stateNode.containerInfo,ri=!0,ys(e,t,n),On=s,ri=a;break;case 0:case 11:case 14:case 15:if(!jn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&o0(n,t,d),a=a.next}while(a!==s)}ys(e,t,n);break;case 1:if(!jn&&(_a(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(g){$t(n,t,g)}ys(e,t,n);break;case 21:ys(e,t,n);break;case 22:n.mode&1?(jn=(s=jn)||n.memoizedState!==null,ys(e,t,n),jn=s):ys(e,t,n);break;default:ys(e,t,n)}}function jg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new aA),t.forEach(function(s){var a=xA.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function $r(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var c=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 5:On=g.stateNode,ri=!1;break e;case 3:On=g.stateNode.containerInfo,ri=!0;break e;case 4:On=g.stateNode.containerInfo,ri=!0;break e}g=g.return}if(On===null)throw Error(de(160));lw(c,d,a),On=null,ri=!1;var y=a.alternate;y!==null&&(y.return=null),a.return=null}catch(x){$t(a,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uw(t,e),t=t.sibling}function uw(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($r(t,e),wi(e),s&4){try{au(3,e,e.return),id(3,e)}catch(I){$t(e,e.return,I)}try{au(5,e,e.return)}catch(I){$t(e,e.return,I)}}break;case 1:$r(t,e),wi(e),s&512&&n!==null&&_a(n,n.return);break;case 5:if($r(t,e),wi(e),s&512&&n!==null&&_a(n,n.return),e.flags&32){var a=e.stateNode;try{gu(a,"")}catch(I){$t(e,e.return,I)}}if(s&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,d=n!==null?n.memoizedProps:c,g=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{g==="input"&&c.type==="radio"&&c.name!=null&&Ox(a,c),Ph(g,d);var x=Ph(g,c);for(d=0;d<y.length;d+=2){var E=y[d],C=y[d+1];E==="style"?Lx(a,C):E==="dangerouslySetInnerHTML"?Mx(a,C):E==="children"?gu(a,C):c1(a,E,C,x)}switch(g){case"input":Ih(a,c);break;case"textarea":Dx(a,c);break;case"select":var T=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var P=c.value;P!=null?ka(a,!!c.multiple,P,!1):T!==!!c.multiple&&(c.defaultValue!=null?ka(a,!!c.multiple,c.defaultValue,!0):ka(a,!!c.multiple,c.multiple?[]:"",!1))}a[bu]=c}catch(I){$t(e,e.return,I)}}break;case 6:if($r(t,e),wi(e),s&4){if(e.stateNode===null)throw Error(de(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(I){$t(e,e.return,I)}}break;case 3:if($r(t,e),wi(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{wu(t.containerInfo)}catch(I){$t(e,e.return,I)}break;case 4:$r(t,e),wi(e);break;case 13:$r(t,e),wi(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(H1=sn())),s&4&&jg(e);break;case 22:if(E=n!==null&&n.memoizedState!==null,e.mode&1?(jn=(x=jn)||E,$r(t,e),jn=x):$r(t,e),wi(e),s&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!E&&e.mode&1)for(Ne=e,E=e.child;E!==null;){for(C=Ne=E;Ne!==null;){switch(T=Ne,P=T.child,T.tag){case 0:case 11:case 14:case 15:au(4,T,T.return);break;case 1:_a(T,T.return);var U=T.stateNode;if(typeof U.componentWillUnmount=="function"){s=T,n=T.return;try{t=s,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(I){$t(s,n,I)}}break;case 5:_a(T,T.return);break;case 22:if(T.memoizedState!==null){Hg(C);continue}}P!==null?(P.return=T,Ne=P):Hg(C)}E=E.sibling}e:for(E=null,C=e;;){if(C.tag===5){if(E===null){E=C;try{a=C.stateNode,x?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(g=C.stateNode,y=C.memoizedProps.style,d=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=kx("display",d))}catch(I){$t(e,e.return,I)}}}else if(C.tag===6){if(E===null)try{C.stateNode.nodeValue=x?"":C.memoizedProps}catch(I){$t(e,e.return,I)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;E===C&&(E=null),C=C.return}E===C&&(E=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:$r(t,e),wi(e),s&4&&jg(e);break;case 21:break;default:$r(t,e),wi(e)}}function wi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(aw(n)){var s=n;break e}n=n.return}throw Error(de(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(gu(a,""),s.flags&=-33);var c=Ug(e);u0(e,c,a);break;case 3:case 4:var d=s.stateNode.containerInfo,g=Ug(e);l0(e,g,d);break;default:throw Error(de(161))}}catch(y){$t(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uA(e,t,n){Ne=e,cw(e)}function cw(e,t,n){for(var s=(e.mode&1)!==0;Ne!==null;){var a=Ne,c=a.child;if(a.tag===22&&s){var d=a.memoizedState!==null||Lc;if(!d){var g=a.alternate,y=g!==null&&g.memoizedState!==null||jn;g=Lc;var x=jn;if(Lc=d,(jn=y)&&!x)for(Ne=a;Ne!==null;)d=Ne,y=d.child,d.tag===22&&d.memoizedState!==null?Wg(a):y!==null?(y.return=d,Ne=y):Wg(a);for(;c!==null;)Ne=c,cw(c),c=c.sibling;Ne=a,Lc=g,jn=x}zg(e)}else a.subtreeFlags&8772&&c!==null?(c.return=a,Ne=c):zg(e)}}function zg(e){for(;Ne!==null;){var t=Ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jn||id(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!jn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ei(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&_g(t,c,s);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_g(t,d,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var E=x.memoizedState;if(E!==null){var C=E.dehydrated;C!==null&&wu(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}jn||t.flags&512&&a0(t)}catch(T){$t(t,t.return,T)}}if(t===e){Ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ne=n;break}Ne=t.return}}function Hg(e){for(;Ne!==null;){var t=Ne;if(t===e){Ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ne=n;break}Ne=t.return}}function Wg(e){for(;Ne!==null;){var t=Ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{id(4,t)}catch(y){$t(t,n,y)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(y){$t(t,a,y)}}var c=t.return;try{a0(t)}catch(y){$t(t,c,y)}break;case 5:var d=t.return;try{a0(t)}catch(y){$t(t,d,y)}}}catch(y){$t(t,t.return,y)}if(t===e){Ne=null;break}var g=t.sibling;if(g!==null){g.return=t.return,Ne=g;break}Ne=t.return}}var cA=Math.ceil,Rf=os.ReactCurrentDispatcher,j1=os.ReactCurrentOwner,zr=os.ReactCurrentBatchConfig,ut=0,An=null,ln=null,kn=0,Ar=0,Ta=to(0),yn=0,Ru=null,Xo=0,sd=0,z1=0,lu=null,cr=null,H1=0,ul=1/0,Hi=null,Of=!1,c0=null,Xs=null,Bc=!1,Us=null,Df=0,uu=0,f0=null,ef=-1,tf=0;function $n(){return ut&6?sn():ef!==-1?ef:ef=sn()}function qs(e){return e.mode&1?ut&2&&kn!==0?kn&-kn:qC.transition!==null?(tf===0&&(tf=Kx()),tf):(e=Ct,e!==0||(e=window.event,e=e===void 0?16:ty(e.type)),e):1}function oi(e,t,n,s){if(50<uu)throw uu=0,f0=null,Error(de(185));qu(e,n,s),(!(ut&2)||e!==An)&&(e===An&&(!(ut&2)&&(sd|=n),yn===4&&Is(e,kn)),pr(e,s),n===1&&ut===0&&!(t.mode&1)&&(ul=sn()+500,td&&no()))}function pr(e,t){var n=e.callbackNode;qE(e,t);var s=gf(e,e===An?kn:0);if(s===0)n!==null&&Jp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Jp(n),t===1)e.tag===0?XC(Gg.bind(null,e)):vy(Gg.bind(null,e)),zC(function(){!(ut&6)&&no()}),n=null;else{switch(Yx(s)){case 1:n=g1;break;case 4:n=Xx;break;case 16:n=pf;break;case 536870912:n=qx;break;default:n=pf}n=yw(n,fw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fw(e,t){if(ef=-1,tf=0,ut&6)throw Error(de(327));var n=e.callbackNode;if(Ua()&&e.callbackNode!==n)return null;var s=gf(e,e===An?kn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Pf(e,s);else{t=s;var a=ut;ut|=2;var c=hw();(An!==e||kn!==t)&&(Hi=null,ul=sn()+500,Vo(e,t));do try{hA();break}catch(g){dw(e,g)}while(!0);I1(),Rf.current=c,ut=a,ln!==null?t=0:(An=null,kn=0,t=yn)}if(t!==0){if(t===2&&(a=Fh(e),a!==0&&(s=a,t=d0(e,a))),t===1)throw n=Ru,Vo(e,0),Is(e,s),pr(e,sn()),n;if(t===6)Is(e,s);else{if(a=e.current.alternate,!(s&30)&&!fA(a)&&(t=Pf(e,s),t===2&&(c=Fh(e),c!==0&&(s=c,t=d0(e,c))),t===1))throw n=Ru,Vo(e,0),Is(e,s),pr(e,sn()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(de(345));case 2:mo(e,cr,Hi);break;case 3:if(Is(e,s),(s&130023424)===s&&(t=H1+500-sn(),10<t)){if(gf(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){$n(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Xh(mo.bind(null,e,cr,Hi),t);break}mo(e,cr,Hi);break;case 4:if(Is(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var d=31-si(s);c=1<<d,d=t[d],d>a&&(a=d),s&=~c}if(s=a,s=sn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*cA(s/1960))-s,10<s){e.timeoutHandle=Xh(mo.bind(null,e,cr,Hi),s);break}mo(e,cr,Hi);break;case 5:mo(e,cr,Hi);break;default:throw Error(de(329))}}}return pr(e,sn()),e.callbackNode===n?fw.bind(null,e):null}function d0(e,t){var n=lu;return e.current.memoizedState.isDehydrated&&(Vo(e,t).flags|=256),e=Pf(e,t),e!==2&&(t=cr,cr=n,t!==null&&h0(t)),e}function h0(e){cr===null?cr=e:cr.push.apply(cr,e)}function fA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],c=a.getSnapshot;a=a.value;try{if(!ai(c(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Is(e,t){for(t&=~z1,t&=~sd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-si(t),s=1<<n;e[n]=-1,t&=~s}}function Gg(e){if(ut&6)throw Error(de(327));Ua();var t=gf(e,0);if(!(t&1))return pr(e,sn()),null;var n=Pf(e,t);if(e.tag!==0&&n===2){var s=Fh(e);s!==0&&(t=s,n=d0(e,s))}if(n===1)throw n=Ru,Vo(e,0),Is(e,t),pr(e,sn()),n;if(n===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mo(e,cr,Hi),pr(e,sn()),null}function W1(e,t){var n=ut;ut|=1;try{return e(t)}finally{ut=n,ut===0&&(ul=sn()+500,td&&no())}}function qo(e){Us!==null&&Us.tag===0&&!(ut&6)&&Ua();var t=ut;ut|=1;var n=zr.transition,s=Ct;try{if(zr.transition=null,Ct=1,e)return e()}finally{Ct=s,zr.transition=n,ut=t,!(ut&6)&&no()}}function G1(){Ar=Ta.current,Bt(Ta)}function Vo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jC(n)),ln!==null)for(n=ln.return;n!==null;){var s=n;switch(S1(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&vf();break;case 3:al(),Bt(dr),Bt(Hn),M1();break;case 5:P1(s);break;case 4:al();break;case 13:Bt(Ht);break;case 19:Bt(Ht);break;case 10:N1(s.type._context);break;case 22:case 23:G1()}n=n.return}if(An=e,ln=e=Ks(e.current,null),kn=Ar=t,yn=0,Ru=null,z1=sd=Xo=0,cr=lu=null,Eo!==null){for(t=0;t<Eo.length;t++)if(n=Eo[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,c=n.pending;if(c!==null){var d=c.next;c.next=a,s.next=d}n.pending=s}Eo=null}return e}function dw(e,t){do{var n=ln;try{if(I1(),Zc.current=Nf,If){for(var s=Gt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}If=!1}if(Go=0,Cn=mn=Gt=null,ou=!1,Tu=0,j1.current=null,n===null||n.return===null){yn=1,Ru=t,ln=null;break}e:{var c=e,d=n.return,g=n,y=t;if(t=kn,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var x=y,E=g,C=E.tag;if(!(E.mode&1)&&(C===0||C===11||C===15)){var T=E.alternate;T?(E.updateQueue=T.updateQueue,E.memoizedState=T.memoizedState,E.lanes=T.lanes):(E.updateQueue=null,E.memoizedState=null)}var P=Dg(d);if(P!==null){P.flags&=-257,Pg(P,d,g,c,t),P.mode&1&&Og(c,x,t),t=P,y=x;var U=t.updateQueue;if(U===null){var I=new Set;I.add(y),t.updateQueue=I}else U.add(y);break e}else{if(!(t&1)){Og(c,x,t),X1();break e}y=Error(de(426))}}else if(jt&&g.mode&1){var D=Dg(d);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Pg(D,d,g,c,t),_1(ll(y,g));break e}}c=y=ll(y,g),yn!==4&&(yn=2),lu===null?lu=[c]:lu.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var A=Yy(c,y,t);Sg(c,A);break e;case 1:g=y;var S=c.type,N=c.stateNode;if(!(c.flags&128)&&(typeof S.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Xs===null||!Xs.has(N)))){c.flags|=65536,t&=-t,c.lanes|=t;var L=Qy(c,g,t);Sg(c,L);break e}}c=c.return}while(c!==null)}gw(n)}catch(q){t=q,ln===n&&n!==null&&(ln=n=n.return);continue}break}while(!0)}function hw(){var e=Rf.current;return Rf.current=Nf,e===null?Nf:e}function X1(){(yn===0||yn===3||yn===2)&&(yn=4),An===null||!(Xo&268435455)&&!(sd&268435455)||Is(An,kn)}function Pf(e,t){var n=ut;ut|=2;var s=hw();(An!==e||kn!==t)&&(Hi=null,Vo(e,t));do try{dA();break}catch(a){dw(e,a)}while(!0);if(I1(),ut=n,Rf.current=s,ln!==null)throw Error(de(261));return An=null,kn=0,yn}function dA(){for(;ln!==null;)pw(ln)}function hA(){for(;ln!==null&&!FE();)pw(ln)}function pw(e){var t=xw(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,t===null?gw(e):ln=t,j1.current=null}function gw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=oA(n,t),n!==null){n.flags&=32767,ln=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yn=6,ln=null;return}}else if(n=sA(n,t,Ar),n!==null){ln=n;return}if(t=t.sibling,t!==null){ln=t;return}ln=t=e}while(t!==null);yn===0&&(yn=5)}function mo(e,t,n){var s=Ct,a=zr.transition;try{zr.transition=null,Ct=1,pA(e,t,n,s)}finally{zr.transition=a,Ct=s}return null}function pA(e,t,n,s){do Ua();while(Us!==null);if(ut&6)throw Error(de(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(KE(e,c),e===An&&(ln=An=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bc||(Bc=!0,yw(pf,function(){return Ua(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=zr.transition,zr.transition=null;var d=Ct;Ct=1;var g=ut;ut|=4,j1.current=null,lA(e,n),uw(n,e),MC(Wh),mf=!!Hh,Wh=Hh=null,e.current=n,uA(n),VE(),ut=g,Ct=d,zr.transition=c}else e.current=n;if(Bc&&(Bc=!1,Us=e,Df=a),c=e.pendingLanes,c===0&&(Xs=null),zE(n.stateNode),pr(e,sn()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Of)throw Of=!1,e=c0,c0=null,e;return Df&1&&e.tag!==0&&Ua(),c=e.pendingLanes,c&1?e===f0?uu++:(uu=0,f0=e):uu=0,no(),null}function Ua(){if(Us!==null){var e=Yx(Df),t=zr.transition,n=Ct;try{if(zr.transition=null,Ct=16>e?16:e,Us===null)var s=!1;else{if(e=Us,Us=null,Df=0,ut&6)throw Error(de(331));var a=ut;for(ut|=4,Ne=e.current;Ne!==null;){var c=Ne,d=c.child;if(Ne.flags&16){var g=c.deletions;if(g!==null){for(var y=0;y<g.length;y++){var x=g[y];for(Ne=x;Ne!==null;){var E=Ne;switch(E.tag){case 0:case 11:case 15:au(8,E,c)}var C=E.child;if(C!==null)C.return=E,Ne=C;else for(;Ne!==null;){E=Ne;var T=E.sibling,P=E.return;if(ow(E),E===x){Ne=null;break}if(T!==null){T.return=P,Ne=T;break}Ne=P}}}var U=c.alternate;if(U!==null){var I=U.child;if(I!==null){U.child=null;do{var D=I.sibling;I.sibling=null,I=D}while(I!==null)}}Ne=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,Ne=d;else e:for(;Ne!==null;){if(c=Ne,c.flags&2048)switch(c.tag){case 0:case 11:case 15:au(9,c,c.return)}var A=c.sibling;if(A!==null){A.return=c.return,Ne=A;break e}Ne=c.return}}var S=e.current;for(Ne=S;Ne!==null;){d=Ne;var N=d.child;if(d.subtreeFlags&2064&&N!==null)N.return=d,Ne=N;else e:for(d=S;Ne!==null;){if(g=Ne,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:id(9,g)}}catch(q){$t(g,g.return,q)}if(g===d){Ne=null;break e}var L=g.sibling;if(L!==null){L.return=g.return,Ne=L;break e}Ne=g.return}}if(ut=a,no(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(Qf,e)}catch{}s=!0}return s}finally{Ct=n,zr.transition=t}}return!1}function Xg(e,t,n){t=ll(n,t),t=Yy(e,t,1),e=Gs(e,t,1),t=$n(),e!==null&&(qu(e,1,t),pr(e,t))}function $t(e,t,n){if(e.tag===3)Xg(e,e,n);else for(;t!==null;){if(t.tag===3){Xg(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xs===null||!Xs.has(s))){e=ll(n,e),e=Qy(t,e,1),t=Gs(t,e,1),e=$n(),t!==null&&(qu(t,1,e),pr(t,e));break}}t=t.return}}function gA(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=$n(),e.pingedLanes|=e.suspendedLanes&n,An===e&&(kn&n)===n&&(yn===4||yn===3&&(kn&130023424)===kn&&500>sn()-H1?Vo(e,0):z1|=n),pr(e,t)}function mw(e,t){t===0&&(e.mode&1?(t=Tc,Tc<<=1,!(Tc&130023424)&&(Tc=4194304)):t=1);var n=$n();e=ts(e,t),e!==null&&(qu(e,t,n),pr(e,n))}function mA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mw(e,n)}function xA(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(de(314))}s!==null&&s.delete(t),mw(e,n)}var xw;xw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dr.current)fr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return fr=!1,iA(e,t,n);fr=!!(e.flags&131072)}else fr=!1,jt&&t.flags&1048576&&Ey(t,Af,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Jc(e,t),e=t.pendingProps;var a=il(t,Hn.current);Va(t,n),a=L1(null,t,s,e,a,n);var c=B1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hr(s)?(c=!0,Ef(t)):c=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,O1(t),a.updater=rd,t.stateNode=a,a._reactInternals=t,Jh(t,s,e,n),t=n0(null,t,s,!0,c,n)):(t.tag=0,jt&&c&&b1(t),Zn(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Jc(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=wA(s),e=ei(s,e),a){case 0:t=t0(null,t,s,e,n);break e;case 1:t=Lg(null,t,s,e,n);break e;case 11:t=Mg(null,t,s,e,n);break e;case 14:t=kg(null,t,s,ei(s.type,e),n);break e}throw Error(de(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ei(s,a),t0(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ei(s,a),Lg(e,t,s,a,n);case 3:e:{if(ew(t),e===null)throw Error(de(387));s=t.pendingProps,c=t.memoizedState,a=c.element,Ty(e,t),_f(t,s,null,n);var d=t.memoizedState;if(s=d.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){a=ll(Error(de(423)),t),t=Bg(e,t,s,n,a);break e}else if(s!==a){a=ll(Error(de(424)),t),t=Bg(e,t,s,n,a);break e}else for(br=Ws(t.stateNode.containerInfo.firstChild),_r=t,jt=!0,ii=null,n=Sy(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sl(),s===a){t=ns(e,t,n);break e}Zn(e,t,s,n)}t=t.child}return t;case 5:return Iy(t),e===null&&Qh(t),s=t.type,a=t.pendingProps,c=e!==null?e.memoizedProps:null,d=a.children,Gh(s,a)?d=null:c!==null&&Gh(s,c)&&(t.flags|=32),Jy(e,t),Zn(e,t,d,n),t.child;case 6:return e===null&&Qh(t),null;case 13:return tw(e,t,n);case 4:return D1(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ol(t,null,s,n):Zn(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ei(s,a),Mg(e,t,s,a,n);case 7:return Zn(e,t,t.pendingProps,n),t.child;case 8:return Zn(e,t,t.pendingProps.children,n),t.child;case 12:return Zn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,c=t.memoizedProps,d=a.value,Nt(bf,s._currentValue),s._currentValue=d,c!==null)if(ai(c.value,d)){if(c.children===a.children&&!dr.current){t=ns(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var g=c.dependencies;if(g!==null){d=c.child;for(var y=g.firstContext;y!==null;){if(y.context===s){if(c.tag===1){y=Qi(-1,n&-n),y.tag=2;var x=c.updateQueue;if(x!==null){x=x.shared;var E=x.pending;E===null?y.next=y:(y.next=E.next,E.next=y),x.pending=y}}c.lanes|=n,y=c.alternate,y!==null&&(y.lanes|=n),Zh(c.return,n,t),g.lanes|=n;break}y=y.next}}else if(c.tag===10)d=c.type===t.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(de(341));d.lanes|=n,g=d.alternate,g!==null&&(g.lanes|=n),Zh(d,n,t),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===t){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Zn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Va(t,n),a=Hr(a),s=s(a),t.flags|=1,Zn(e,t,s,n),t.child;case 14:return s=t.type,a=ei(s,t.pendingProps),a=ei(s.type,a),kg(e,t,s,a,n);case 15:return Zy(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ei(s,a),Jc(e,t),t.tag=1,hr(s)?(e=!0,Ef(t)):e=!1,Va(t,n),Ky(t,s,a),Jh(t,s,a,n),n0(null,t,s,!0,e,n);case 19:return nw(e,t,n);case 22:return $y(e,t,n)}throw Error(de(156,t.tag))};function yw(e,t){return Gx(e,t)}function yA(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,s){return new yA(e,t,n,s)}function q1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wA(e){if(typeof e=="function")return q1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===d1)return 11;if(e===h1)return 14}return 2}function Ks(e,t){var n=e.alternate;return n===null?(n=jr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nf(e,t,n,s,a,c){var d=2;if(s=e,typeof e=="function")q1(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case xa:return Uo(n.children,a,c,t);case f1:d=8,a|=8;break;case Ah:return e=jr(12,n,t,a|2),e.elementType=Ah,e.lanes=c,e;case bh:return e=jr(13,n,t,a),e.elementType=bh,e.lanes=c,e;case Sh:return e=jr(19,n,t,a),e.elementType=Sh,e.lanes=c,e;case Ix:return od(n,a,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _x:d=10;break e;case Tx:d=9;break e;case d1:d=11;break e;case h1:d=14;break e;case Ss:d=16,s=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=jr(d,n,t,a),t.elementType=e,t.type=s,t.lanes=c,t}function Uo(e,t,n,s){return e=jr(7,e,s,t),e.lanes=n,e}function od(e,t,n,s){return e=jr(22,e,s,t),e.elementType=Ix,e.lanes=n,e.stateNode={isHidden:!1},e}function Yd(e,t,n){return e=jr(6,e,null,t),e.lanes=n,e}function Qd(e,t,n){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vA(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rd(0),this.expirationTimes=Rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function K1(e,t,n,s,a,c,d,g,y){return e=new vA(e,t,n,g,y),t===1?(t=1,c===!0&&(t|=8)):t=0,c=jr(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},O1(c),e}function EA(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ma,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function ww(e){if(!e)return Zs;e=e._reactInternals;e:{if(Qo(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var n=e.type;if(hr(n))return wy(e,n,t)}return t}function vw(e,t,n,s,a,c,d,g,y){return e=K1(n,s,!0,e,a,c,d,g,y),e.context=ww(null),n=e.current,s=$n(),a=qs(n),c=Qi(s,a),c.callback=t??null,Gs(n,c,a),e.current.lanes=a,qu(e,a,s),pr(e,s),e}function ad(e,t,n,s){var a=t.current,c=$n(),d=qs(a);return n=ww(n),t.context===null?t.context=n:t.pendingContext=n,t=Qi(c,d),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Gs(a,t,d),e!==null&&(oi(e,a,d,c),Qc(e,a,d)),d}function Mf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Y1(e,t){qg(e,t),(e=e.alternate)&&qg(e,t)}function CA(){return null}var Ew=typeof reportError=="function"?reportError:function(e){console.error(e)};function Q1(e){this._internalRoot=e}ld.prototype.render=Q1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));ad(e,t,null,null)};ld.prototype.unmount=Q1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qo(function(){ad(null,e,null,null)}),t[es]=null}};function ld(e){this._internalRoot=e}ld.prototype.unstable_scheduleHydration=function(e){if(e){var t=$x();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ts.length&&t!==0&&t<Ts[n].priority;n++);Ts.splice(n,0,e),n===0&&ey(e)}};function Z1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kg(){}function AA(e,t,n,s,a){if(a){if(typeof s=="function"){var c=s;s=function(){var x=Mf(d);c.call(x)}}var d=vw(t,s,e,0,null,!1,!1,"",Kg);return e._reactRootContainer=d,e[es]=d.current,Cu(e.nodeType===8?e.parentNode:e),qo(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var g=s;s=function(){var x=Mf(y);g.call(x)}}var y=K1(e,0,!1,null,null,!1,!1,"",Kg);return e._reactRootContainer=y,e[es]=y.current,Cu(e.nodeType===8?e.parentNode:e),qo(function(){ad(t,y,n,s)}),y}function cd(e,t,n,s,a){var c=n._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var g=a;a=function(){var y=Mf(d);g.call(y)}}ad(t,d,e,a)}else d=AA(n,t,e,a,s);return Mf(d)}Qx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yl(t.pendingLanes);n!==0&&(m1(t,n|1),pr(t,sn()),!(ut&6)&&(ul=sn()+500,no()))}break;case 13:qo(function(){var s=ts(e,1);if(s!==null){var a=$n();oi(s,e,1,a)}}),Y1(e,1)}};x1=function(e){if(e.tag===13){var t=ts(e,134217728);if(t!==null){var n=$n();oi(t,e,134217728,n)}Y1(e,134217728)}};Zx=function(e){if(e.tag===13){var t=qs(e),n=ts(e,t);if(n!==null){var s=$n();oi(n,e,t,s)}Y1(e,t)}};$x=function(){return Ct};Jx=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}};kh=function(e,t,n){switch(t){case"input":if(Ih(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=ed(s);if(!a)throw Error(de(90));Rx(s),Ih(s,a)}}}break;case"textarea":Dx(e,n);break;case"select":t=n.value,t!=null&&ka(e,!!n.multiple,t,!1)}};Vx=W1;Ux=qo;var bA={usingClientEntryPoint:!1,Events:[Yu,Ea,ed,Bx,Fx,W1]},jl={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SA={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hx(e),e===null?null:e.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||CA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Qf=Fc.inject(SA),Ti=Fc}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bA;Rr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z1(t))throw Error(de(200));return EA(e,t,null,n)};Rr.createRoot=function(e,t){if(!Z1(e))throw Error(de(299));var n=!1,s="",a=Ew;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=K1(e,1,!1,null,null,n,!1,s,a),e[es]=t.current,Cu(e.nodeType===8?e.parentNode:e),new Q1(t)};Rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=Hx(t),e=e===null?null:e.stateNode,e};Rr.flushSync=function(e){return qo(e)};Rr.hydrate=function(e,t,n){if(!ud(t))throw Error(de(200));return cd(null,e,t,!0,n)};Rr.hydrateRoot=function(e,t,n){if(!Z1(e))throw Error(de(405));var s=n!=null&&n.hydratedSources||null,a=!1,c="",d=Ew;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=vw(t,null,e,1,n??null,a,!1,c,d),e[es]=t.current,Cu(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ld(t)};Rr.render=function(e,t,n){if(!ud(t))throw Error(de(200));return cd(null,e,t,!1,n)};Rr.unmountComponentAtNode=function(e){if(!ud(e))throw Error(de(40));return e._reactRootContainer?(qo(function(){cd(null,null,e,!1,function(){e._reactRootContainer=null,e[es]=null})}),!0):!1};Rr.unstable_batchedUpdates=W1;Rr.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ud(n))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return cd(e,t,n,!1,s)};Rr.version="18.3.1-next-f1338f8080-20240426";function Cw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cw)}catch(e){console.error(e)}}Cw(),Cx.exports=Rr;var _A=Cx.exports,Yg=_A;Eh.createRoot=Yg.createRoot,Eh.hydrateRoot=Yg.hydrateRoot;var Zu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},TA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Rs,n1,tx,IA=(tx=class{constructor(){Ae(this,Rs,TA);Ae(this,n1,!1)}setTimeoutProvider(e){xe(this,Rs,e)}setTimeout(e,t){return B(this,Rs).setTimeout(e,t)}clearTimeout(e){B(this,Rs).clearTimeout(e)}setInterval(e,t){return B(this,Rs).setInterval(e,t)}clearInterval(e){B(this,Rs).clearInterval(e)}},Rs=new WeakMap,n1=new WeakMap,tx),Ao=new IA;function NA(e){setTimeout(e,0)}var Ko=typeof window>"u"||"Deno"in globalThis;function ur(){}function RA(e,t){return typeof e=="function"?e(t):e}function p0(e){return typeof e=="number"&&e>=0&&e!==1/0}function Aw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ys(e,t){return typeof e=="function"?e(t):e}function Fr(e,t){return typeof e=="function"?e(t):e}function Qg(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:c,queryKey:d,stale:g}=e;if(d){if(s){if(t.queryHash!==$1(d,t.options))return!1}else if(!Du(t.queryKey,d))return!1}if(n!=="all"){const y=t.isActive();if(n==="active"&&!y||n==="inactive"&&y)return!1}return!(typeof g=="boolean"&&t.isStale()!==g||a&&a!==t.state.fetchStatus||c&&!c(t))}function Zg(e,t){const{exact:n,status:s,predicate:a,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(n){if(Ou(t.options.mutationKey)!==Ou(c))return!1}else if(!Du(t.options.mutationKey,c))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function $1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ou)(e)}function Ou(e){return JSON.stringify(e,(t,n)=>m0(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Du(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Du(e[n],t[n])):!1}var OA=Object.prototype.hasOwnProperty;function bw(e,t,n=0){if(e===t)return e;if(n>500)return t;const s=$g(e)&&$g(t);if(!s&&!(m0(e)&&m0(t)))return t;const c=(s?e:Object.keys(e)).length,d=s?t:Object.keys(t),g=d.length,y=s?new Array(g):{};let x=0;for(let E=0;E<g;E++){const C=s?E:d[E],T=e[C],P=t[C];if(T===P){y[C]=T,(s?E<c:OA.call(e,C))&&x++;continue}if(T===null||P===null||typeof T!="object"||typeof P!="object"){y[C]=P;continue}const U=bw(T,P,n+1);y[C]=U,U===T&&x++}return c===g&&x===c?e:y}function g0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function $g(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function m0(e){if(!Jg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Jg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Jg(e){return Object.prototype.toString.call(e)==="[object Object]"}function DA(e){return new Promise(t=>{Ao.setTimeout(t,e)})}function x0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bw(e,t):t}function PA(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function MA(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var J1=Symbol();function Sw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===J1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _w(e,t){return typeof e=="function"?e(...t):!!e}function kA(e,t,n){let s=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),s||(s=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),e}var So,Os,za,nx,LA=(nx=class extends Zu{constructor(){super();Ae(this,So);Ae(this,Os);Ae(this,za);xe(this,za,t=>{if(!Ko&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Os)||this.setEventListener(B(this,za))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Os))==null||t.call(this),xe(this,Os,void 0))}setEventListener(t){var n;xe(this,za,t),(n=B(this,Os))==null||n.call(this),xe(this,Os,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){B(this,So)!==t&&(xe(this,So,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,So)=="boolean"?B(this,So):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},So=new WeakMap,Os=new WeakMap,za=new WeakMap,nx),ep=new LA;function y0(){let e,t;const n=new Promise((a,c)=>{e=a,t=c});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}var BA=NA;function FA(){let e=[],t=0,n=g=>{g()},s=g=>{g()},a=BA;const c=g=>{t?e.push(g):a(()=>{n(g)})},d=()=>{const g=e;e=[],g.length&&a(()=>{s(()=>{g.forEach(y=>{n(y)})})})};return{batch:g=>{let y;t++;try{y=g()}finally{t--,t||d()}return y},batchCalls:g=>(...y)=>{c(()=>{g(...y)})},schedule:c,setNotifyFunction:g=>{n=g},setBatchNotifyFunction:g=>{s=g},setScheduler:g=>{a=g}}}var Pn=FA(),Ha,Ds,Wa,rx,VA=(rx=class extends Zu{constructor(){super();Ae(this,Ha,!0);Ae(this,Ds);Ae(this,Wa);xe(this,Wa,t=>{if(!Ko&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){B(this,Ds)||this.setEventListener(B(this,Wa))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Ds))==null||t.call(this),xe(this,Ds,void 0))}setEventListener(t){var n;xe(this,Wa,t),(n=B(this,Ds))==null||n.call(this),xe(this,Ds,t(this.setOnline.bind(this)))}setOnline(t){B(this,Ha)!==t&&(xe(this,Ha,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return B(this,Ha)}},Ha=new WeakMap,Ds=new WeakMap,Wa=new WeakMap,rx),kf=new VA;function UA(e){return Math.min(1e3*2**e,3e4)}function Tw(e){return(e??"online")==="online"?kf.isOnline():!0}var w0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Iw(e){let t=!1,n=0,s;const a=y0(),c=()=>a.status!=="pending",d=I=>{var D;if(!c()){const A=new w0(I);T(A),(D=e.onCancel)==null||D.call(e,A)}},g=()=>{t=!0},y=()=>{t=!1},x=()=>ep.isFocused()&&(e.networkMode==="always"||kf.isOnline())&&e.canRun(),E=()=>Tw(e.networkMode)&&e.canRun(),C=I=>{c()||(s==null||s(),a.resolve(I))},T=I=>{c()||(s==null||s(),a.reject(I))},P=()=>new Promise(I=>{var D;s=A=>{(c()||x())&&I(A)},(D=e.onPause)==null||D.call(e)}).then(()=>{var I;s=void 0,c()||(I=e.onContinue)==null||I.call(e)}),U=()=>{if(c())return;let I;const D=n===0?e.initialPromise:void 0;try{I=D??e.fn()}catch(A){I=Promise.reject(A)}Promise.resolve(I).then(C).catch(A=>{var G;if(c())return;const S=e.retry??(Ko?0:3),N=e.retryDelay??UA,L=typeof N=="function"?N(n,A):N,q=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,A);if(t||!q){T(A);return}n++,(G=e.onFail)==null||G.call(e,n,A),DA(L).then(()=>x()?void 0:P()).then(()=>{t?T(A):U()})})};return{promise:a,status:()=>a.status,cancel:d,continue:()=>(s==null||s(),a),cancelRetry:g,continueRetry:y,canStart:E,start:()=>(E()?U():P().then(U),a)}}var _o,ix,Nw=(ix=class{constructor(){Ae(this,_o)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),p0(this.gcTime)&&xe(this,_o,Ao.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ko?1/0:5*60*1e3))}clearGcTimeout(){B(this,_o)&&(Ao.clearTimeout(B(this,_o)),xe(this,_o,void 0))}},_o=new WeakMap,ix),To,Ga,Br,Io,vn,Fu,No,ti,ji,sx,jA=(sx=class extends Nw{constructor(t){super();Ae(this,ti);Ae(this,To);Ae(this,Ga);Ae(this,Br);Ae(this,Io);Ae(this,vn);Ae(this,Fu);Ae(this,No);xe(this,No,!1),xe(this,Fu,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,Io,t.client),xe(this,Br,B(this,Io).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,To,tm(this.options)),this.state=t.state??B(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,vn))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,Fu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=tm(this.options);n.data!==void 0&&(this.setState(em(n.data,n.dataUpdatedAt)),xe(this,To,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Br).remove(this)}setData(t,n){const s=x0(this.state.data,t,this.options);return Be(this,ti,ji).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Be(this,ti,ji).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=B(this,vn))==null?void 0:s.promise;return(a=B(this,vn))==null||a.cancel(t),n?n.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,To))}isActive(){return this.observers.some(t=>Fr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===J1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ys(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Aw(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,vn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,vn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Br).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,vn)&&(B(this,No)?B(this,vn).cancel({revert:!0}):B(this,vn).cancelRetry()),this.scheduleGc()),B(this,Br).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,ti,ji).call(this,{type:"invalidate"})}async fetch(t,n){var y,x,E,C,T,P,U,I,D,A,S,N;if(this.state.fetchStatus!=="idle"&&((y=B(this,vn))==null?void 0:y.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,vn))return B(this,vn).continueRetry(),B(this,vn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const L=this.observers.find(q=>q.options.queryFn);L&&this.setOptions(L.options)}const s=new AbortController,a=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(xe(this,No,!0),s.signal)})},c=()=>{const L=Sw(this.options,n),G=(()=>{const H={client:B(this,Io),queryKey:this.queryKey,meta:this.meta};return a(H),H})();return xe(this,No,!1),this.options.persister?this.options.persister(L,G,this):L(G)},g=(()=>{const L={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,Io),state:this.state,fetchFn:c};return a(L),L})();(x=this.options.behavior)==null||x.onFetch(g,this),xe(this,Ga,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((E=g.fetchOptions)==null?void 0:E.meta))&&Be(this,ti,ji).call(this,{type:"fetch",meta:(C=g.fetchOptions)==null?void 0:C.meta}),xe(this,vn,Iw({initialPromise:n==null?void 0:n.initialPromise,fn:g.fetchFn,onCancel:L=>{L instanceof w0&&L.revert&&this.setState({...B(this,Ga),fetchStatus:"idle"}),s.abort()},onFail:(L,q)=>{Be(this,ti,ji).call(this,{type:"failed",failureCount:L,error:q})},onPause:()=>{Be(this,ti,ji).call(this,{type:"pause"})},onContinue:()=>{Be(this,ti,ji).call(this,{type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0}));try{const L=await B(this,vn).start();if(L===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(L),(P=(T=B(this,Br).config).onSuccess)==null||P.call(T,L,this),(I=(U=B(this,Br).config).onSettled)==null||I.call(U,L,this.state.error,this),L}catch(L){if(L instanceof w0){if(L.silent)return B(this,vn).promise;if(L.revert){if(this.state.data===void 0)throw L;return this.state.data}}throw Be(this,ti,ji).call(this,{type:"error",error:L}),(A=(D=B(this,Br).config).onError)==null||A.call(D,L,this),(N=(S=B(this,Br).config).onSettled)==null||N.call(S,this.state.data,L,this),L}finally{this.scheduleGc()}}},To=new WeakMap,Ga=new WeakMap,Br=new WeakMap,Io=new WeakMap,vn=new WeakMap,Fu=new WeakMap,No=new WeakMap,ti=new WeakSet,ji=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Rw(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,...em(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xe(this,Ga,t.manual?a:void 0),a;case"error":const c=t.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Pn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,Br).notify({query:this,type:"updated",action:t})})},sx);function Rw(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Tw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function em(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function tm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var lr,ot,Vu,Yn,Ro,Xa,Gi,Ps,Uu,qa,Ka,Oo,Do,Ms,Ya,xt,Zl,v0,E0,C0,A0,b0,S0,_0,Ow,ox,zA=(ox=class extends Zu{constructor(t,n){super();Ae(this,xt);Ae(this,lr);Ae(this,ot);Ae(this,Vu);Ae(this,Yn);Ae(this,Ro);Ae(this,Xa);Ae(this,Gi);Ae(this,Ps);Ae(this,Uu);Ae(this,qa);Ae(this,Ka);Ae(this,Oo);Ae(this,Do);Ae(this,Ms);Ae(this,Ya,new Set);this.options=n,xe(this,lr,t),xe(this,Ps,null),xe(this,Gi,y0()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,ot).addObserver(this),nm(B(this,ot),this.options)?Be(this,xt,Zl).call(this):this.updateResult(),Be(this,xt,A0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return T0(B(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return T0(B(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,xt,b0).call(this),Be(this,xt,S0).call(this),B(this,ot).removeObserver(this)}setOptions(t){const n=this.options,s=B(this,ot);if(this.options=B(this,lr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fr(this.options.enabled,B(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,xt,_0).call(this),B(this,ot).setOptions(this.options),n._defaulted&&!g0(this.options,n)&&B(this,lr).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,ot),observer:this});const a=this.hasListeners();a&&rm(B(this,ot),s,this.options,n)&&Be(this,xt,Zl).call(this),this.updateResult(),a&&(B(this,ot)!==s||Fr(this.options.enabled,B(this,ot))!==Fr(n.enabled,B(this,ot))||Ys(this.options.staleTime,B(this,ot))!==Ys(n.staleTime,B(this,ot)))&&Be(this,xt,v0).call(this);const c=Be(this,xt,E0).call(this);a&&(B(this,ot)!==s||Fr(this.options.enabled,B(this,ot))!==Fr(n.enabled,B(this,ot))||c!==B(this,Ms))&&Be(this,xt,C0).call(this,c)}getOptimisticResult(t){const n=B(this,lr).getQueryCache().build(B(this,lr),t),s=this.createResult(n,t);return WA(this,s)&&(xe(this,Yn,s),xe(this,Xa,this.options),xe(this,Ro,B(this,ot).state)),s}getCurrentResult(){return B(this,Yn)}trackResult(t,n){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,Gi).status==="pending"&&B(this,Gi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,a))})}trackProp(t){B(this,Ya).add(t)}getCurrentQuery(){return B(this,ot)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=B(this,lr).defaultQueryOptions(t),s=B(this,lr).getQueryCache().build(B(this,lr),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Be(this,xt,Zl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,Yn)))}createResult(t,n){var te;const s=B(this,ot),a=this.options,c=B(this,Yn),d=B(this,Ro),g=B(this,Xa),x=t!==s?t.state:B(this,Vu),{state:E}=t;let C={...E},T=!1,P;if(n._optimisticResults){const oe=this.hasListeners(),Te=!oe&&nm(t,n),pe=oe&&rm(t,s,n,a);(Te||pe)&&(C={...C,...Rw(E.data,t.options)}),n._optimisticResults==="isRestoring"&&(C.fetchStatus="idle")}let{error:U,errorUpdatedAt:I,status:D}=C;P=C.data;let A=!1;if(n.placeholderData!==void 0&&P===void 0&&D==="pending"){let oe;c!=null&&c.isPlaceholderData&&n.placeholderData===(g==null?void 0:g.placeholderData)?(oe=c.data,A=!0):oe=typeof n.placeholderData=="function"?n.placeholderData((te=B(this,Ka))==null?void 0:te.state.data,B(this,Ka)):n.placeholderData,oe!==void 0&&(D="success",P=x0(c==null?void 0:c.data,oe,n),T=!0)}if(n.select&&P!==void 0&&!A)if(c&&P===(d==null?void 0:d.data)&&n.select===B(this,Uu))P=B(this,qa);else try{xe(this,Uu,n.select),P=n.select(P),P=x0(c==null?void 0:c.data,P,n),xe(this,qa,P),xe(this,Ps,null)}catch(oe){xe(this,Ps,oe)}B(this,Ps)&&(U=B(this,Ps),P=B(this,qa),I=Date.now(),D="error");const S=C.fetchStatus==="fetching",N=D==="pending",L=D==="error",q=N&&S,G=P!==void 0,$={status:D,fetchStatus:C.fetchStatus,isPending:N,isSuccess:D==="success",isError:L,isInitialLoading:q,isLoading:q,data:P,dataUpdatedAt:C.dataUpdatedAt,error:U,errorUpdatedAt:I,failureCount:C.fetchFailureCount,failureReason:C.fetchFailureReason,errorUpdateCount:C.errorUpdateCount,isFetched:C.dataUpdateCount>0||C.errorUpdateCount>0,isFetchedAfterMount:C.dataUpdateCount>x.dataUpdateCount||C.errorUpdateCount>x.errorUpdateCount,isFetching:S,isRefetching:S&&!N,isLoadingError:L&&!G,isPaused:C.fetchStatus==="paused",isPlaceholderData:T,isRefetchError:L&&G,isStale:tp(t,n),refetch:this.refetch,promise:B(this,Gi),isEnabled:Fr(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const oe=$.data!==void 0,Te=$.status==="error"&&!oe,pe=re=>{Te?re.reject($.error):oe&&re.resolve($.data)},Ve=()=>{const re=xe(this,Gi,$.promise=y0());pe(re)},Je=B(this,Gi);switch(Je.status){case"pending":t.queryHash===s.queryHash&&pe(Je);break;case"fulfilled":(Te||$.data!==Je.value)&&Ve();break;case"rejected":(!Te||$.error!==Je.reason)&&Ve();break}}return $}updateResult(){const t=B(this,Yn),n=this.createResult(B(this,ot),this.options);if(xe(this,Ro,B(this,ot).state),xe(this,Xa,this.options),B(this,Ro).data!==void 0&&xe(this,Ka,B(this,ot)),g0(n,t))return;xe(this,Yn,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,c=typeof a=="function"?a():a;if(c==="all"||!c&&!B(this,Ya).size)return!0;const d=new Set(c??B(this,Ya));return this.options.throwOnError&&d.add("error"),Object.keys(B(this,Yn)).some(g=>{const y=g;return B(this,Yn)[y]!==t[y]&&d.has(y)})};Be(this,xt,Ow).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,xt,A0).call(this)}},lr=new WeakMap,ot=new WeakMap,Vu=new WeakMap,Yn=new WeakMap,Ro=new WeakMap,Xa=new WeakMap,Gi=new WeakMap,Ps=new WeakMap,Uu=new WeakMap,qa=new WeakMap,Ka=new WeakMap,Oo=new WeakMap,Do=new WeakMap,Ms=new WeakMap,Ya=new WeakMap,xt=new WeakSet,Zl=function(t){Be(this,xt,_0).call(this);let n=B(this,ot).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ur)),n},v0=function(){Be(this,xt,b0).call(this);const t=Ys(this.options.staleTime,B(this,ot));if(Ko||B(this,Yn).isStale||!p0(t))return;const s=Aw(B(this,Yn).dataUpdatedAt,t)+1;xe(this,Oo,Ao.setTimeout(()=>{B(this,Yn).isStale||this.updateResult()},s))},E0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,ot)):this.options.refetchInterval)??!1},C0=function(t){Be(this,xt,S0).call(this),xe(this,Ms,t),!(Ko||Fr(this.options.enabled,B(this,ot))===!1||!p0(B(this,Ms))||B(this,Ms)===0)&&xe(this,Do,Ao.setInterval(()=>{(this.options.refetchIntervalInBackground||ep.isFocused())&&Be(this,xt,Zl).call(this)},B(this,Ms)))},A0=function(){Be(this,xt,v0).call(this),Be(this,xt,C0).call(this,Be(this,xt,E0).call(this))},b0=function(){B(this,Oo)&&(Ao.clearTimeout(B(this,Oo)),xe(this,Oo,void 0))},S0=function(){B(this,Do)&&(Ao.clearInterval(B(this,Do)),xe(this,Do,void 0))},_0=function(){const t=B(this,lr).getQueryCache().build(B(this,lr),this.options);if(t===B(this,ot))return;const n=B(this,ot);xe(this,ot,t),xe(this,Vu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ow=function(t){Pn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(B(this,Yn))}),B(this,lr).getQueryCache().notify({query:B(this,ot),type:"observerResultsUpdated"})})},ox);function HA(e,t){return Fr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function nm(e,t){return HA(e,t)||e.state.data!==void 0&&T0(e,t,t.refetchOnMount)}function T0(e,t,n){if(Fr(t.enabled,e)!==!1&&Ys(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&tp(e,t)}return!1}function rm(e,t,n,s){return(e!==t||Fr(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&tp(e,n)}function tp(e,t){return Fr(t.enabled,e)!==!1&&e.isStaleByTime(Ys(t.staleTime,e))}function WA(e,t){return!g0(e.getCurrentResult(),t)}function im(e){return{onFetch:(t,n)=>{var E,C,T,P,U;const s=t.options,a=(T=(C=(E=t.fetchOptions)==null?void 0:E.meta)==null?void 0:C.fetchMore)==null?void 0:T.direction,c=((P=t.state.data)==null?void 0:P.pages)||[],d=((U=t.state.data)==null?void 0:U.pageParams)||[];let g={pages:[],pageParams:[]},y=0;const x=async()=>{let I=!1;const D=N=>{kA(N,()=>t.signal,()=>I=!0)},A=Sw(t.options,t.fetchOptions),S=async(N,L,q)=>{if(I)return Promise.reject();if(L==null&&N.pages.length)return Promise.resolve(N);const H=(()=>{const Te={client:t.client,queryKey:t.queryKey,pageParam:L,direction:q?"backward":"forward",meta:t.options.meta};return D(Te),Te})(),$=await A(H),{maxPages:te}=t.options,oe=q?MA:PA;return{pages:oe(N.pages,$,te),pageParams:oe(N.pageParams,L,te)}};if(a&&c.length){const N=a==="backward",L=N?GA:sm,q={pages:c,pageParams:d},G=L(s,q);g=await S(q,G,N)}else{const N=e??c.length;do{const L=y===0?d[0]??s.initialPageParam:sm(s,g);if(y>0&&L==null)break;g=await S(g,L),y++}while(y<N)}return g};t.options.persister?t.fetchFn=()=>{var I,D;return(D=(I=t.options).persister)==null?void 0:D.call(I,x,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=x}}}function sm(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function GA(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var ju,Ci,Qn,Po,Ai,Es,ax,XA=(ax=class extends Nw{constructor(t){super();Ae(this,Ai);Ae(this,ju);Ae(this,Ci);Ae(this,Qn);Ae(this,Po);xe(this,ju,t.client),this.mutationId=t.mutationId,xe(this,Qn,t.mutationCache),xe(this,Ci,[]),this.state=t.state||qA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Ci).includes(t)||(B(this,Ci).push(t),this.clearGcTimeout(),B(this,Qn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,Ci,B(this,Ci).filter(n=>n!==t)),this.scheduleGc(),B(this,Qn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Ci).length||(this.state.status==="pending"?this.scheduleGc():B(this,Qn).remove(this))}continue(){var t;return((t=B(this,Po))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var d,g,y,x,E,C,T,P,U,I,D,A,S,N,L,q,G,H,$,te;const n=()=>{Be(this,Ai,Es).call(this,{type:"continue"})},s={client:B(this,ju),meta:this.options.meta,mutationKey:this.options.mutationKey};xe(this,Po,Iw({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(oe,Te)=>{Be(this,Ai,Es).call(this,{type:"failed",failureCount:oe,error:Te})},onPause:()=>{Be(this,Ai,Es).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Qn).canRun(this)}));const a=this.state.status==="pending",c=!B(this,Po).canStart();try{if(a)n();else{Be(this,Ai,Es).call(this,{type:"pending",variables:t,isPaused:c}),await((g=(d=B(this,Qn).config).onMutate)==null?void 0:g.call(d,t,this,s));const Te=await((x=(y=this.options).onMutate)==null?void 0:x.call(y,t,s));Te!==this.state.context&&Be(this,Ai,Es).call(this,{type:"pending",context:Te,variables:t,isPaused:c})}const oe=await B(this,Po).start();return await((C=(E=B(this,Qn).config).onSuccess)==null?void 0:C.call(E,oe,t,this.state.context,this,s)),await((P=(T=this.options).onSuccess)==null?void 0:P.call(T,oe,t,this.state.context,s)),await((I=(U=B(this,Qn).config).onSettled)==null?void 0:I.call(U,oe,null,this.state.variables,this.state.context,this,s)),await((A=(D=this.options).onSettled)==null?void 0:A.call(D,oe,null,t,this.state.context,s)),Be(this,Ai,Es).call(this,{type:"success",data:oe}),oe}catch(oe){try{await((N=(S=B(this,Qn).config).onError)==null?void 0:N.call(S,oe,t,this.state.context,this,s))}catch(Te){Promise.reject(Te)}try{await((q=(L=this.options).onError)==null?void 0:q.call(L,oe,t,this.state.context,s))}catch(Te){Promise.reject(Te)}try{await((H=(G=B(this,Qn).config).onSettled)==null?void 0:H.call(G,void 0,oe,this.state.variables,this.state.context,this,s))}catch(Te){Promise.reject(Te)}try{await((te=($=this.options).onSettled)==null?void 0:te.call($,void 0,oe,t,this.state.context,s))}catch(Te){Promise.reject(Te)}throw Be(this,Ai,Es).call(this,{type:"error",error:oe}),oe}finally{B(this,Qn).runNext(this)}}},ju=new WeakMap,Ci=new WeakMap,Qn=new WeakMap,Po=new WeakMap,Ai=new WeakSet,Es=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Pn.batch(()=>{B(this,Ci).forEach(s=>{s.onMutationUpdate(t)}),B(this,Qn).notify({mutation:this,type:"updated",action:t})})},ax);function qA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xi,ni,zu,lx,KA=(lx=class extends Zu{constructor(t={}){super();Ae(this,Xi);Ae(this,ni);Ae(this,zu);this.config=t,xe(this,Xi,new Set),xe(this,ni,new Map),xe(this,zu,0)}build(t,n,s){const a=new XA({client:t,mutationCache:this,mutationId:++Ec(this,zu)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){B(this,Xi).add(t);const n=Vc(t);if(typeof n=="string"){const s=B(this,ni).get(n);s?s.push(t):B(this,ni).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,Xi).delete(t)){const n=Vc(t);if(typeof n=="string"){const s=B(this,ni).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&B(this,ni).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Vc(t);if(typeof n=="string"){const s=B(this,ni).get(n),a=s==null?void 0:s.find(c=>c.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=Vc(t);if(typeof n=="string"){const a=(s=B(this,ni).get(n))==null?void 0:s.find(c=>c!==t&&c.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pn.batch(()=>{B(this,Xi).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,Xi).clear(),B(this,ni).clear()})}getAll(){return Array.from(B(this,Xi))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Zg(n,s))}findAll(t={}){return this.getAll().filter(n=>Zg(t,n))}notify(t){Pn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Pn.batch(()=>Promise.all(t.map(n=>n.continue().catch(ur))))}},Xi=new WeakMap,ni=new WeakMap,zu=new WeakMap,lx);function Vc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var bi,ux,YA=(ux=class extends Zu{constructor(t={}){super();Ae(this,bi);this.config=t,xe(this,bi,new Map)}build(t,n,s){const a=n.queryKey,c=n.queryHash??$1(a,n);let d=this.get(c);return d||(d=new jA({client:t,queryKey:a,queryHash:c,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(d)),d}add(t){B(this,bi).has(t.queryHash)||(B(this,bi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,bi).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,bi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,bi).get(t)}getAll(){return[...B(this,bi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Qg(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Qg(t,s)):n}notify(t){Pn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Pn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bi=new WeakMap,ux),Yt,ks,Ls,Qa,Za,Bs,$a,Ja,cx,QA=(cx=class{constructor(e={}){Ae(this,Yt);Ae(this,ks);Ae(this,Ls);Ae(this,Qa);Ae(this,Za);Ae(this,Bs);Ae(this,$a);Ae(this,Ja);xe(this,Yt,e.queryCache||new YA),xe(this,ks,e.mutationCache||new KA),xe(this,Ls,e.defaultOptions||{}),xe(this,Qa,new Map),xe(this,Za,new Map),xe(this,Bs,0)}mount(){Ec(this,Bs)._++,B(this,Bs)===1&&(xe(this,$a,ep.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Yt).onFocus())})),xe(this,Ja,kf.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Yt).onOnline())})))}unmount(){var e,t;Ec(this,Bs)._--,B(this,Bs)===0&&((e=B(this,$a))==null||e.call(this),xe(this,$a,void 0),(t=B(this,Ja))==null||t.call(this),xe(this,Ja,void 0))}isFetching(e){return B(this,Yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,ks).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,Yt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=B(this,Yt).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ys(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return B(this,Yt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=B(this,Yt).get(s.queryHash),c=a==null?void 0:a.state.data,d=RA(t,c);if(d!==void 0)return B(this,Yt).build(this,s).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return Pn.batch(()=>B(this,Yt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,Yt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,Yt);Pn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,Yt);return Pn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Pn.batch(()=>B(this,Yt).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(ur).catch(ur)}invalidateQueries(e,t={}){return Pn.batch(()=>(B(this,Yt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Pn.batch(()=>B(this,Yt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let c=a.fetch(void 0,n);return n.throwOnError||(c=c.catch(ur)),a.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then(ur)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,Yt).build(this,t);return n.isStaleByTime(Ys(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ur).catch(ur)}fetchInfiniteQuery(e){return e.behavior=im(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ur).catch(ur)}ensureInfiniteQueryData(e){return e.behavior=im(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return kf.isOnline()?B(this,ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Yt)}getMutationCache(){return B(this,ks)}getDefaultOptions(){return B(this,Ls)}setDefaultOptions(e){xe(this,Ls,e)}setQueryDefaults(e,t){B(this,Qa).set(Ou(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Qa).values()],n={};return t.forEach(s=>{Du(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){B(this,Za).set(Ou(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Za).values()],n={};return t.forEach(s=>{Du(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,Ls).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===J1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,Ls).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,Yt).clear(),B(this,ks).clear()}},Yt=new WeakMap,ks=new WeakMap,Ls=new WeakMap,Qa=new WeakMap,Za=new WeakMap,Bs=new WeakMap,$a=new WeakMap,Ja=new WeakMap,cx),Dw=se.createContext(void 0),ZA=e=>{const t=se.useContext(Dw);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$A=({client:e,children:t})=>(se.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),X.jsx(Dw.Provider,{value:e,children:t})),Pw=se.createContext(!1),JA=()=>se.useContext(Pw);Pw.Provider;function e4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var t4=se.createContext(e4()),n4=()=>se.useContext(t4),r4=(e,t,n)=>{const s=n!=null&&n.state.error&&typeof e.throwOnError=="function"?_w(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(t.isReset()||(e.retryOnMount=!1))},i4=e=>{se.useEffect(()=>{e.clearReset()},[e])},s4=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||_w(n,[e.error,s])),o4=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...a)=>n(s(...a)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},a4=(e,t)=>e.isLoading&&e.isFetching&&!t,l4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,om=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function u4(e,t,n){var T,P,U,I;const s=JA(),a=n4(),c=ZA(),d=c.defaultQueryOptions(e);(P=(T=c.getDefaultOptions().queries)==null?void 0:T._experimental_beforeQuery)==null||P.call(T,d);const g=c.getQueryCache().get(d.queryHash);d._optimisticResults=s?"isRestoring":"optimistic",o4(d),r4(d,a,g),i4(a);const y=!c.getQueryCache().get(d.queryHash),[x]=se.useState(()=>new t(c,d)),E=x.getOptimisticResult(d),C=!s&&e.subscribed!==!1;if(se.useSyncExternalStore(se.useCallback(D=>{const A=C?x.subscribe(Pn.batchCalls(D)):ur;return x.updateResult(),A},[x,C]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),se.useEffect(()=>{x.setOptions(d)},[d,x]),l4(d,E))throw om(d,x,a);if(s4({result:E,errorResetBoundary:a,throwOnError:d.throwOnError,query:g,suspense:d.suspense}))throw E.error;if((I=(U=c.getDefaultOptions().queries)==null?void 0:U._experimental_afterQuery)==null||I.call(U,d,E),d.experimental_prefetchInRender&&!Ko&&a4(E,s)){const D=y?om(d,x,a):g==null?void 0:g.promise;D==null||D.catch(ur).finally(()=>{x.updateResult()})}return d.notifyOnChangeProps?E:x.trackResult(E)}function Mw(e,t){return u4(e,zA)}const c4=new QA({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*60*24,retry:1,networkMode:"offlineFirst"}}});let f4={data:""},d4=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||f4},h4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,p4=/\/\*[^]*?\*\/|  +/g,am=/\n+/g,Ns=(e,t)=>{let n="",s="",a="";for(let c in e){let d=e[c];c[0]=="@"?c[1]=="i"?n=c+" "+d+";":s+=c[1]=="f"?Ns(d,c):c+"{"+Ns(d,c[1]=="k"?"":t)+"}":typeof d=="object"?s+=Ns(d,t?t.replace(/([^,])+/g,g=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,y=>/&/.test(y)?y.replace(/&/g,g):g?g+" "+y:y)):c):d!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ns.p?Ns.p(c,d):c+":"+d+";")}return n+(t&&a?t+"{"+a+"}":a)+s},Fi={},kw=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+kw(e[n]);return t}return e},g4=(e,t,n,s,a)=>{let c=kw(e),d=Fi[c]||(Fi[c]=(y=>{let x=0,E=11;for(;x<y.length;)E=101*E+y.charCodeAt(x++)>>>0;return"go"+E})(c));if(!Fi[d]){let y=c!==e?e:(x=>{let E,C,T=[{}];for(;E=h4.exec(x.replace(p4,""));)E[4]?T.shift():E[3]?(C=E[3].replace(am," ").trim(),T.unshift(T[0][C]=T[0][C]||{})):T[0][E[1]]=E[2].replace(am," ").trim();return T[0]})(e);Fi[d]=Ns(a?{["@keyframes "+d]:y}:y,n?"":"."+d)}let g=n&&Fi.g?Fi.g:null;return n&&(Fi.g=Fi[d]),((y,x,E,C)=>{C?x.data=x.data.replace(C,y):x.data.indexOf(y)===-1&&(x.data=E?y+x.data:x.data+y)})(Fi[d],t,s,g),d},m4=(e,t,n)=>e.reduce((s,a,c)=>{let d=t[c];if(d&&d.call){let g=d(n),y=g&&g.props&&g.props.className||/^go/.test(g)&&g;d=y?"."+y:g&&typeof g=="object"?g.props?"":Ns(g,""):g===!1?"":g}return s+a+(d??"")},"");function fd(e){let t=this||{},n=e.call?e(t.p):e;return g4(n.unshift?n.raw?m4(n,[].slice.call(arguments,1),t.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):n,d4(t.target),t.g,t.o,t.k)}let Lw,I0,N0;fd.bind({g:1});let rs=fd.bind({k:1});function x4(e,t,n,s){Ns.p=t,Lw=e,I0=n,N0=s}function ro(e,t){let n=this||{};return function(){let s=arguments;function a(c,d){let g=Object.assign({},c),y=g.className||a.className;n.p=Object.assign({theme:I0&&I0()},g),n.o=/ *go\d+/.test(y),g.className=fd.apply(n,s)+(y?" "+y:"");let x=e;return e[0]&&(x=g.as||e,delete g.as),N0&&x[0]&&N0(g),Lw(x,g)}return a}}var y4=e=>typeof e=="function",Lf=(e,t)=>y4(e)?e(t):e,w4=(()=>{let e=0;return()=>(++e).toString()})(),Bw=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),v4=20,np="default",Fw=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(d=>d.id===t.toast.id?{...d,...t.toast}:d)};case 2:let{toast:s}=t;return Fw(e,{type:e.toasts.find(d=>d.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(d=>d.id===a||a===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(d=>d.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let c=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+c}))}}},rf=[],Vw={toasts:[],pausedAt:void 0,settings:{toastLimit:v4}},_i={},Uw=(e,t=np)=>{_i[t]=Fw(_i[t]||Vw,e),rf.forEach(([n,s])=>{n===t&&s(_i[t])})},jw=e=>Object.keys(_i).forEach(t=>Uw(e,t)),E4=e=>Object.keys(_i).find(t=>_i[t].toasts.some(n=>n.id===e)),dd=(e=np)=>t=>{Uw(t,e)},C4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},A4=(e={},t=np)=>{let[n,s]=se.useState(_i[t]||Vw),a=se.useRef(_i[t]);se.useEffect(()=>(a.current!==_i[t]&&s(_i[t]),rf.push([t,s]),()=>{let d=rf.findIndex(([g])=>g===t);d>-1&&rf.splice(d,1)}),[t]);let c=n.toasts.map(d=>{var g,y,x;return{...e,...e[d.type],...d,removeDelay:d.removeDelay||((g=e[d.type])==null?void 0:g.removeDelay)||(e==null?void 0:e.removeDelay),duration:d.duration||((y=e[d.type])==null?void 0:y.duration)||(e==null?void 0:e.duration)||C4[d.type],style:{...e.style,...(x=e[d.type])==null?void 0:x.style,...d.style}}});return{...n,toasts:c}},b4=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||w4()}),$u=e=>(t,n)=>{let s=b4(t,e,n);return dd(s.toasterId||E4(s.id))({type:2,toast:s}),s.id},xn=(e,t)=>$u("blank")(e,t);xn.error=$u("error");xn.success=$u("success");xn.loading=$u("loading");xn.custom=$u("custom");xn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?dd(t)(n):jw(n)};xn.dismissAll=e=>xn.dismiss(void 0,e);xn.remove=(e,t)=>{let n={type:4,toastId:e};t?dd(t)(n):jw(n)};xn.removeAll=e=>xn.remove(void 0,e);xn.promise=(e,t,n)=>{let s=xn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let c=t.success?Lf(t.success,a):void 0;return c?xn.success(c,{id:s,...n,...n==null?void 0:n.success}):xn.dismiss(s),a}).catch(a=>{let c=t.error?Lf(t.error,a):void 0;c?xn.error(c,{id:s,...n,...n==null?void 0:n.error}):xn.dismiss(s)}),e};var S4=1e3,_4=(e,t="default")=>{let{toasts:n,pausedAt:s}=A4(e,t),a=se.useRef(new Map).current,c=se.useCallback((C,T=S4)=>{if(a.has(C))return;let P=setTimeout(()=>{a.delete(C),d({type:4,toastId:C})},T);a.set(C,P)},[]);se.useEffect(()=>{if(s)return;let C=Date.now(),T=n.map(P=>{if(P.duration===1/0)return;let U=(P.duration||0)+P.pauseDuration-(C-P.createdAt);if(U<0){P.visible&&xn.dismiss(P.id);return}return setTimeout(()=>xn.dismiss(P.id,t),U)});return()=>{T.forEach(P=>P&&clearTimeout(P))}},[n,s,t]);let d=se.useCallback(dd(t),[t]),g=se.useCallback(()=>{d({type:5,time:Date.now()})},[d]),y=se.useCallback((C,T)=>{d({type:1,toast:{id:C,height:T}})},[d]),x=se.useCallback(()=>{s&&d({type:6,time:Date.now()})},[s,d]),E=se.useCallback((C,T)=>{let{reverseOrder:P=!1,gutter:U=8,defaultPosition:I}=T||{},D=n.filter(N=>(N.position||I)===(C.position||I)&&N.height),A=D.findIndex(N=>N.id===C.id),S=D.filter((N,L)=>L<A&&N.visible).length;return D.filter(N=>N.visible).slice(...P?[S+1]:[0,S]).reduce((N,L)=>N+(L.height||0)+U,0)},[n]);return se.useEffect(()=>{n.forEach(C=>{if(C.dismissed)c(C.id,C.removeDelay);else{let T=a.get(C.id);T&&(clearTimeout(T),a.delete(C.id))}})},[n,c]),{toasts:n,handlers:{updateHeight:y,startPause:g,endPause:x,calculateOffset:E}}},T4=rs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,I4=rs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,N4=rs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,R4=ro("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${T4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${I4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${N4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,O4=rs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,D4=ro("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${O4} 1s linear infinite;
`,P4=rs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,M4=rs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,k4=ro("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${P4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${M4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,L4=ro("div")`
  position: absolute;
`,B4=ro("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,F4=rs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,V4=ro("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${F4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,U4=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?se.createElement(V4,null,t):t:n==="blank"?null:se.createElement(B4,null,se.createElement(D4,{...s}),n!=="loading"&&se.createElement(L4,null,n==="error"?se.createElement(R4,{...s}):se.createElement(k4,{...s})))},j4=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,z4=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,H4="0%{opacity:0;} 100%{opacity:1;}",W4="0%{opacity:1;} 100%{opacity:0;}",G4=ro("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,X4=ro("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,q4=(e,t)=>{let n=e.includes("top")?1:-1,[s,a]=Bw()?[H4,W4]:[j4(n),z4(n)];return{animation:t?`${rs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${rs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},K4=se.memo(({toast:e,position:t,style:n,children:s})=>{let a=e.height?q4(e.position||t||"top-center",e.visible):{opacity:0},c=se.createElement(U4,{toast:e}),d=se.createElement(X4,{...e.ariaProps},Lf(e.message,e));return se.createElement(G4,{className:e.className,style:{...a,...n,...e.style}},typeof s=="function"?s({icon:c,message:d}):se.createElement(se.Fragment,null,c,d))});x4(se.createElement);var Y4=({id:e,className:t,style:n,onHeightUpdate:s,children:a})=>{let c=se.useCallback(d=>{if(d){let g=()=>{let y=d.getBoundingClientRect().height;s(e,y)};g(),new MutationObserver(g).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return se.createElement("div",{ref:c,className:t,style:n},a)},Q4=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Bw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...a}},Z4=fd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Uc=16,$4=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:a,toasterId:c,containerStyle:d,containerClassName:g})=>{let{toasts:y,handlers:x}=_4(n,c);return se.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:Uc,left:Uc,right:Uc,bottom:Uc,pointerEvents:"none",...d},className:g,onMouseEnter:x.startPause,onMouseLeave:x.endPause},y.map(E=>{let C=E.position||t,T=x.calculateOffset(E,{reverseOrder:e,gutter:s,defaultPosition:t}),P=Q4(C,T);return se.createElement(Y4,{id:E.id,key:E.id,onHeightUpdate:x.updateHeight,className:E.visible?Z4:"",style:P},E.type==="custom"?Lf(E.message,E):a?a(E):se.createElement(K4,{toast:E,position:C}))}))},da=xn;/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=(e,t)=>{const n=se.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:g="",children:y,...x},E)=>se.createElement("svg",{ref:E,...J4,width:a,height:a,stroke:s,strokeWidth:d?Number(c)*24/Number(a):c,className:["lucide",`lucide-${eb(e)}`,g].join(" "),...x},[...t.map(([C,T])=>se.createElement(C,T)),...Array.isArray(y)?y:[y]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=tr("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=tr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=tr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=tr("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=tr("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=tr("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=tr("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=tr("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=tr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=tr("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=tr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=tr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=tr("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=tr("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=tr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ft=0,ub=5,rn=10,Ww=12,Gw=14,ho=21,Jd=25,cb=27,eh=100,fb=101,db=3850,hb=522,pb=1,Xw=2,rp=4,gb=8,pa=0,wo=1,sf=2,mb=3,of=4,xb=512,yb=1024,wb=2048,vb=16384,cm=1,fm=2,dm=3,hm=4,pm=5,gm=0x7fffffffffffffffn,mm=-0x8000000000000000n;class Vi extends Error{constructor(t,n){super(t),this.code=n}}const ha=!0;function Eb(e){const t={},n=e._getSqliteFree(),s=e._malloc(8),a=[s,s+4];function c(I){if(typeof I!="string")return 0;const D=e.lengthBytesUTF8(I),A=e._sqlite3_malloc(D+1);return e.stringToUTF8(I,A,D+1),A}function d(I,D){return BigInt(D)<<32n|BigInt(I)&0xffffffffn}const g=function(){const I=BigInt(Number.MAX_SAFE_INTEGER)>>32n,D=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(A,S){return S>I||S<D?d(A,S):S*4294967296+(A&2147483647)-(A&2147483648)}}(),y=new Set;function x(I){if(!y.has(I))throw new Vi("not a database",ho)}const E=new Map;function C(I){if(!E.has(I))throw new Vi("not a statement",ho)}t.bind_collection=function(I,D){C(I);const A=Array.isArray(D),S=t.bind_parameter_count(I);for(let N=1;N<=S;++N){const L=A?N-1:t.bind_parameter_name(I,N),q=D[L];q!==void 0&&t.bind(I,N,q)}return ft},t.bind=function(I,D,A){switch(C(I),typeof A){case"number":return A===(A|0)?t.bind_int(I,D,A):t.bind_double(I,D,A);case"string":return t.bind_text(I,D,A);default:return A instanceof Uint8Array||Array.isArray(A)?t.bind_blob(I,D,A):A===null?t.bind_null(I,D):typeof A=="bigint"?t.bind_int64(I,D,A):A===void 0?cb:(console.warn("unknown binding converted to null",A),t.bind_null(I,D))}},t.bind_blob=function(){const I="sqlite3_bind_blob",D=e.cwrap(I,...je("nnnnn:n"));return function(A,S,N){C(A);const L=N.byteLength??N.length,q=e._sqlite3_malloc(L);e.HEAPU8.subarray(q).set(N);const G=D(A,S,q,L,n);return U(I,G,E.get(A))}}(),t.bind_parameter_count=function(){const D=e.cwrap("sqlite3_bind_parameter_count",...je("n:n"));return function(A){return C(A),D(A)}}(),t.bind_double=function(){const I="sqlite3_bind_double",D=e.cwrap(I,...je("nnn:n"));return function(A,S,N){C(A);const L=D(A,S,N);return U(I,L,E.get(A))}}(),t.bind_int=function(){const I="sqlite3_bind_int",D=e.cwrap(I,...je("nnn:n"));return function(A,S,N){if(C(A),N>2147483647||N<-2147483648)return Jd;const L=D(A,S,N);return U(I,L,E.get(A))}}(),t.bind_int64=function(){const I="sqlite3_bind_int64",D=e.cwrap(I,...je("nnnn:n"));return function(A,S,N){if(C(A),N>gm||N<mm)return Jd;const L=N&0xffffffffn,q=N>>32n,G=D(A,S,Number(L),Number(q));return U(I,G,E.get(A))}}(),t.bind_null=function(){const I="sqlite3_bind_null",D=e.cwrap(I,...je("nn:n"));return function(A,S){C(A);const N=D(A,S);return U(I,N,E.get(A))}}(),t.bind_parameter_name=function(){const D=e.cwrap("sqlite3_bind_parameter_name",...je("n:s"));return function(A,S){return C(A),D(A,S)}}(),t.bind_text=function(){const I="sqlite3_bind_text",D=e.cwrap(I,...je("nnnnn:n"));return function(A,S,N){C(A);const L=c(N),q=D(A,S,L,-1,n);return U(I,q,E.get(A))}}(),t.changes=function(){const D=e.cwrap("sqlite3_changes",...je("n:n"));return function(A){return x(A),D(A)}}(),t.close=function(){const I="sqlite3_close",D=e.cwrap(I,...je("n:n"),{async:ha});return async function(A){x(A);const S=await D(A);return y.delete(A),U(I,S,A)}}(),t.column=function(I,D){C(I);const A=t.column_type(I,D);switch(A){case hm:return t.column_blob(I,D);case fm:return t.column_double(I,D);case cm:const S=t.column_int(I,D),N=e.getTempRet0();return g(S,N);case pm:return null;case dm:return t.column_text(I,D);default:throw new Vi("unknown type",A)}},t.column_blob=function(){const D=e.cwrap("sqlite3_column_blob",...je("nn:n"));return function(A,S){C(A);const N=t.column_bytes(A,S),L=D(A,S);return e.HEAPU8.subarray(L,L+N)}}(),t.column_bytes=function(){const D=e.cwrap("sqlite3_column_bytes",...je("nn:n"));return function(A,S){return C(A),D(A,S)}}(),t.column_count=function(){const D=e.cwrap("sqlite3_column_count",...je("n:n"));return function(A){return C(A),D(A)}}(),t.column_double=function(){const D=e.cwrap("sqlite3_column_double",...je("nn:n"));return function(A,S){return C(A),D(A,S)}}(),t.column_int=function(){const D=e.cwrap("sqlite3_column_int64",...je("nn:n"));return function(A,S){return C(A),D(A,S)}}(),t.column_int64=function(){const D=e.cwrap("sqlite3_column_int64",...je("nn:n"));return function(A,S){C(A);const N=D(A,S),L=e.getTempRet0();return d(N,L)}}(),t.column_name=function(){const D=e.cwrap("sqlite3_column_name",...je("nn:s"));return function(A,S){return C(A),D(A,S)}}(),t.column_names=function(I){const D=[],A=t.column_count(I);for(let S=0;S<A;++S)D.push(t.column_name(I,S));return D},t.column_text=function(){const D=e.cwrap("sqlite3_column_text",...je("nn:s"));return function(A,S){return C(A),D(A,S)}}(),t.column_type=function(){const D=e.cwrap("sqlite3_column_type",...je("nn:n"));return function(A,S){return C(A),D(A,S)}}(),t.create_function=function(I,D,A,S,N,L,q,G){if(x(I),L&&!q&&!G){const H=e.createFunction(I,D,A,S,N,L);return U("sqlite3_create_function",H,I)}if(!L&&q&&G){const H=e.createAggregate(I,D,A,S,N,q,G);return U("sqlite3_create_function",H,I)}throw new Vi("invalid function combination",ho)},t.create_module=function(I,D,A,S){x(I);const N=e.createModule(I,D,A,S);return U("sqlite3_create_module",N,I)},t.data_count=function(){const D=e.cwrap("sqlite3_data_count",...je("n:n"));return function(A){return C(A),D(A)}}(),t.declare_vtab=function(){const D=e.cwrap("sqlite3_declare_vtab",...je("ns:n"));return function(A,S){const N=D(A,S);return U("sqlite3_declare_vtab",N)}}(),t.exec=async function(I,D,A){for await(const S of t.statements(I,D)){let N;for(;await t.step(S)===eh;)if(A){N=N??t.column_names(S);const L=t.row(S);await A(L,N)}}return ft},t.run=async function(I,D,A){for await(const S of t.statements(I,D))A&&t.bind_collection(S,A),await t.step(S);return ft},t.execWithParams=async function(I,D,A){let S=[];const N=[];for await(const L of t.statements(I,D))for(A&&t.bind_collection(L,A);await t.step(L)===eh;){S=S.length===0?t.column_names(L):S;const q=t.row(L);N.push(q)}return{rows:N,columns:S}},t.executeBatch=async function(I,D,A){try{await t.run(I,"BEGIN EXCLUSIVE TRANSACTION",null);for(let S=0;S<D.length;S++){const N=A?A[S]:null;let L;const q=t.str_new(I,D[S]);try{const G=t.str_value(q);L=await t.prepare_v2(I,G),N&&t.bind_collection(L.stmt,N),await t.step(L.stmt)}finally{L!=null&&L.stmt&&t.finalize(L.stmt),t.str_finish(q)}}return await t.run(I,"COMMIT",null),ft}catch{await t.run(I,"ROLLBACK",null)}},t.finalize=function(){const D=e.cwrap("sqlite3_finalize",...je("n:n"),{async:ha});return async function(A){if(!E.has(A))return ho;const S=await D(A);return E.get(A),E.delete(A),S}}(),t.get_autocommit=function(){const D=e.cwrap("sqlite3_get_autocommit",...je("n:n"));return function(A){return D(A)}}(),t.libversion=function(){const D=e.cwrap("sqlite3_libversion",...je(":s"));return function(){return D()}}(),t.libversion_number=function(){const D=e.cwrap("sqlite3_libversion_number",...je(":n"));return function(){return D()}}(),t.limit=function(){const D=e.cwrap("sqlite3_limit",...je("nnn:n"));return function(A,S,N){return D(A,S,N)}}(),t.open_v2=function(){const I="sqlite3_open_v2",D=e.cwrap(I,...je("snnn:n"),{async:ha});return async function(A,S,N){S=S||rp|Xw,N=c(N);const L=await D(A,a[0],S,N),q=e.getValue(a[0],"*");return y.add(q),e._sqlite3_free(N),e.ccall("RegisterExtensionFunctions","void",["number"],[q]),U(I,L),q}}(),t.prepare_v2=function(){const I="sqlite3_prepare_v2",D=e.cwrap(I,...je("nnnnn:n"),{async:ha});return async function(A,S){const N=await D(A,S,-1,a[0],a[1]);U(I,N,A);const L=e.getValue(a[0],"*");return L?(E.set(L,A),{stmt:L,sql:e.getValue(a[1],"*")}):null}}(),t.progress_handler=function(I,D,A,S){x(I),e.progressHandler(I,D,A,S)},t.reset=function(){const I="sqlite3_reset",D=e.cwrap(I,...je("n:n"),{async:ha});return async function(A){C(A);const S=await D(A);return U(I,S,E.get(A))}}(),t.result=function(I,D){switch(typeof D){case"number":D===(D|0)?t.result_int(I,D):t.result_double(I,D);break;case"string":t.result_text(I,D);break;default:if(D instanceof Uint8Array||Array.isArray(D))t.result_blob(I,D);else if(D===null)t.result_null(I);else{if(typeof D=="bigint")return t.result_int64(I,D);console.warn("unknown result converted to null",D),t.result_null(I)}break}},t.result_blob=function(){const D=e.cwrap("sqlite3_result_blob",...je("nnnn:n"));return function(A,S){const N=S.byteLength??S.length,L=e._sqlite3_malloc(N);e.HEAPU8.subarray(L).set(S),D(A,L,N,n)}}(),t.result_double=function(){const D=e.cwrap("sqlite3_result_double",...je("nn:n"));return function(A,S){D(A,S)}}(),t.result_int=function(){const D=e.cwrap("sqlite3_result_int",...je("nn:n"));return function(A,S){D(A,S)}}(),t.result_int64=function(){const D=e.cwrap("sqlite3_result_int64",...je("nnn:n"));return function(A,S){if(S>gm||S<mm)return Jd;const N=S&0xffffffffn,L=S>>32n;D(A,Number(N),Number(L))}}(),t.result_null=function(){const D=e.cwrap("sqlite3_result_null",...je("n:n"));return function(A){D(A)}}(),t.result_text=function(){const D=e.cwrap("sqlite3_result_text",...je("nnnn:n"));return function(A,S){const N=c(S);D(A,N,-1,n)}}(),t.row=function(I){const D=[],A=t.data_count(I);for(let S=0;S<A;++S){const N=t.column(I,S);D.push((N==null?void 0:N.buffer)===e.HEAPU8.buffer?N.slice():N)}return D},t.set_authorizer=function(I,D,A){x(I);const S=e.setAuthorizer(I,D,A);return U("sqlite3_set_authorizer",S,I)},t.sql=function(){const D=e.cwrap("sqlite3_sql",...je("n:s"));return function(A){return C(A),D(A)}}(),t.statements=function(I,D){return async function*(){const A=t.str_new(I,D);let S={stmt:null,sql:t.str_value(A)};try{for(;S=await t.prepare_v2(I,S.sql);)yield S.stmt,t.finalize(S.stmt),S.stmt=null}finally{S!=null&&S.stmt&&t.finalize(S.stmt),t.str_finish(A)}}()},t.step=function(){const I="sqlite3_step",D=e.cwrap(I,...je("n:n"),{async:ha});return async function(A){C(A);const S=await D(A);return U(I,S,E.get(A),[eh,fb])}}();let T=0;const P=new Map;t.str_new=function(I,D=""){const A=e.lengthBytesUTF8(D),S=T++&4294967295,N={offset:e._sqlite3_malloc(A+1),bytes:A};return P.set(S,N),e.stringToUTF8(D,N.offset,N.bytes+1),S},t.str_appendall=function(I,D){if(!P.has(I))throw new Vi("not a string",ho);const A=P.get(I),S=e.lengthBytesUTF8(D),N=A.bytes+S,L=e._sqlite3_malloc(N+1);e.HEAPU8.subarray(L,L+N+1).set(e.HEAPU8.subarray(A.offset,A.offset+A.bytes)),e.stringToUTF8(D,L+A.bytes,S+1),e._sqlite3_free(A.offset),A.offset=L,A.bytes=N,P.set(I,A)},t.str_finish=function(I){if(!P.has(I))throw new Vi("not a string",ho);const D=P.get(I);P.delete(I),e._sqlite3_free(D.offset)},t.str_value=function(I){if(!P.has(I))throw new Vi("not a string",ho);return P.get(I).offset},t.update_hook=function(I,D){return x(I),e.updateHook(I,D),ft},t.user_data=function(I){return e.getFunctionUserData(I)},t.value=function(I){const D=t.value_type(I);switch(D){case hm:return t.value_blob(I);case fm:return t.value_double(I);case cm:const A=t.value_int(I),S=e.getTempRet0();return g(A,S);case pm:return null;case dm:return t.value_text(I);default:throw new Vi("unknown type",D)}},t.value_blob=function(){const D=e.cwrap("sqlite3_value_blob",...je("n:n"));return function(A){const S=t.value_bytes(A),N=D(A);return e.HEAPU8.subarray(N,N+S)}}(),t.value_bytes=function(){const D=e.cwrap("sqlite3_value_bytes",...je("n:n"));return function(A){return D(A)}}(),t.value_double=function(){const D=e.cwrap("sqlite3_value_double",...je("n:n"));return function(A){return D(A)}}(),t.value_int=function(){const D=e.cwrap("sqlite3_value_int64",...je("n:n"));return function(A){return D(A)}}(),t.value_int64=function(){const D=e.cwrap("sqlite3_value_int64",...je("n:n"));return function(A){const S=D(A),N=e.getTempRet0();return d(S,N)}}(),t.value_text=function(){const D=e.cwrap("sqlite3_value_text",...je("n:s"));return function(A){return D(A)}}(),t.value_type=function(){const D=e.cwrap("sqlite3_value_type",...je("n:n"));return function(A){return D(A)}}(),t.vfs_register=function(I,D){const A=e.registerVFS(I,D);return U("sqlite3_vfs_register",A)};function U(I,D,A=null,S=[ft]){if(S.includes(D))return D;const N=A?e.ccall("sqlite3_errmsg","string",["number"],[A]):I;throw new Vi(N,D)}return t}function je(e){const t=[],n=e.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":t.push("number");break;case"s":t.push("string");break;case"v":t.push(null);break}const s=[];for(let a of n[1])switch(a){case"n":s.push("number");break;case"s":s.push("string");break}return t.push(s),t}var Cb=(()=>{var e=import.meta.url;return function(t={}){var n=t,s,a;n.ready=new Promise((m,v)=>{s=m,a=v});var c=Object.assign({},n),d="./this.program",g=(m,v)=>{throw v},y=typeof window=="object",x=typeof importScripts=="function",E="",C;(y||x)&&(x?E=self.location.href:typeof document<"u"&&document.currentScript&&(E=document.currentScript.src),e&&(E=e),E.indexOf("blob:")!==0?E=E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):E="",x&&(C=m=>{var v=new XMLHttpRequest;return v.open("GET",m,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}));var T=n.print||console.log.bind(console),P=n.printErr||console.error.bind(console);Object.assign(n,c),c=null,n.thisProgram&&(d=n.thisProgram),n.quit&&(g=n.quit);var U;n.wasmBinary&&(U=n.wasmBinary);var I=n.noExitRuntime||!0;typeof WebAssembly!="object"&&Ce("no native wasm support detected");var D,A=!1,S,N,L,q,G,H,$,te;function oe(){var m=D.buffer;n.HEAP8=N=new Int8Array(m),n.HEAP16=q=new Int16Array(m),n.HEAPU8=L=new Uint8Array(m),n.HEAPU16=new Uint16Array(m),n.HEAP32=G=new Int32Array(m),n.HEAPU32=H=new Uint32Array(m),n.HEAPF32=$=new Float32Array(m),n.HEAPF64=te=new Float64Array(m)}var Te=[],pe=[],Ve=[],Je=[],re=0;function gt(){var m=n.preRun.shift();Te.unshift(m)}var be=0,ge=null;function Ce(m){throw n.onAbort&&n.onAbort(m),m="Aborted("+m+")",P(m),A=!0,S=1,m=new WebAssembly.RuntimeError(m+". Build with -sASSERTIONS for more info."),a(m),m}function De(m){return m.startsWith("data:application/octet-stream;base64,")}var Ge;if(n.locateFile){if(Ge="wa-sqlite-async.wasm",!De(Ge)){var et=Ge;Ge=n.locateFile?n.locateFile(et,E):E+et}}else Ge=new URL("/ingredients-finder/assets/wa-sqlite-async-DY3_ptqa.wasm",import.meta.url).href;function Wn(m){if(m==Ge&&U)return new Uint8Array(U);if(C)return C(m);throw"both async and sync fetching of the wasm failed"}function Rt(m){return U||!y&&!x||typeof fetch!="function"?Promise.resolve().then(()=>Wn(m)):fetch(m,{credentials:"same-origin"}).then(v=>{if(!v.ok)throw"failed to load wasm binary file at '"+m+"'";return v.arrayBuffer()}).catch(()=>Wn(m))}function li(m,v,_){return Rt(m).then(k=>WebAssembly.instantiate(k,v)).then(k=>k).then(_,k=>{P(`failed to asynchronously prepare wasm: ${k}`),Ce(k)})}function Re(m,v){var _=Ge;return U||typeof WebAssembly.instantiateStreaming!="function"||De(_)||typeof fetch!="function"?li(_,m,v):fetch(_,{credentials:"same-origin"}).then(k=>WebAssembly.instantiateStreaming(k,m).then(v,function(j){return P(`wasm streaming compile failed: ${j}`),P("falling back to ArrayBuffer instantiation"),li(_,m,v)}))}var Pe,ze;function as(m){this.name="ExitStatus",this.message=`Program terminated with exit(${m})`,this.status=m}var ui=m=>{for(;0<m.length;)m.shift()(n)};function lt(m,v="i8"){switch(v.endsWith("*")&&(v="*"),v){case"i1":return N[m>>0];case"i8":return N[m>>0];case"i16":return q[m>>1];case"i32":return G[m>>2];case"i64":Ce("to do getValue(i64) use WASM_BIGINT");case"float":return $[m>>2];case"double":return te[m>>3];case"*":return H[m>>2];default:Ce(`invalid type for getValue: ${v}`)}}function Gn(m,v,_="i8"){switch(_.endsWith("*")&&(_="*"),_){case"i1":N[m>>0]=v;break;case"i8":N[m>>0]=v;break;case"i16":q[m>>1]=v;break;case"i32":G[m>>2]=v;break;case"i64":Ce("to do setValue(i64) use WASM_BIGINT");case"float":$[m>>2]=v;break;case"double":te[m>>3]=v;break;case"*":H[m>>2]=v;break;default:Ce(`invalid type for setValue: ${_}`)}}var at=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,$e=(m,v,_)=>{var k=v+_;for(_=v;m[_]&&!(_>=k);)++_;if(16<_-v&&m.buffer&&at)return at.decode(m.subarray(v,_));for(k="";v<_;){var j=m[v++];if(j&128){var ee=m[v++]&63;if((j&224)==192)k+=String.fromCharCode((j&31)<<6|ee);else{var Q=m[v++]&63;j=(j&240)==224?(j&15)<<12|ee<<6|Q:(j&7)<<18|ee<<12|Q<<6|m[v++]&63,65536>j?k+=String.fromCharCode(j):(j-=65536,k+=String.fromCharCode(55296|j>>10,56320|j&1023))}}else k+=String.fromCharCode(j)}return k},gr=(m,v)=>{for(var _=0,k=m.length-1;0<=k;k--){var j=m[k];j==="."?m.splice(k,1):j===".."?(m.splice(k,1),_++):_&&(m.splice(k,1),_--)}if(v)for(;_;_--)m.unshift("..");return m},nr=m=>{var v=m.charAt(0)==="/",_=m.substr(-1)==="/";return(m=gr(m.split("/").filter(k=>!!k),!v).join("/"))||v||(m="."),m&&_&&(m+="/"),(v?"/":"")+m},un=m=>{var v=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(m).slice(1);return m=v[0],v=v[1],!m&&!v?".":(v&&(v=v.substr(0,v.length-1)),m+v)},dt=m=>{if(m==="/")return"/";m=nr(m),m=m.replace(/\/$/,"");var v=m.lastIndexOf("/");return v===-1?m:m.substr(v+1)},it=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return m=>crypto.getRandomValues(m);Ce("initRandomDevice")},so=m=>(so=it())(m);function Ie(){for(var m="",v=!1,_=arguments.length-1;-1<=_&&!v;_--){if(v=0<=_?arguments[_]:"/",typeof v!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!v)return"";m=v+"/"+m,v=v.charAt(0)==="/"}return m=gr(m.split("/").filter(k=>!!k),!v).join("/"),(v?"/":"")+m||"."}var ls=[],ci=m=>{for(var v=0,_=0;_<m.length;++_){var k=m.charCodeAt(_);127>=k?v++:2047>=k?v+=2:55296<=k&&57343>=k?(v+=4,++_):v+=3}return v},bn=(m,v,_,k)=>{if(!(0<k))return 0;var j=_;k=_+k-1;for(var ee=0;ee<m.length;++ee){var Q=m.charCodeAt(ee);if(55296<=Q&&57343>=Q){var le=m.charCodeAt(++ee);Q=65536+((Q&1023)<<10)|le&1023}if(127>=Q){if(_>=k)break;v[_++]=Q}else{if(2047>=Q){if(_+1>=k)break;v[_++]=192|Q>>6}else{if(65535>=Q){if(_+2>=k)break;v[_++]=224|Q>>12}else{if(_+3>=k)break;v[_++]=240|Q>>18,v[_++]=128|Q>>12&63}v[_++]=128|Q>>6&63}v[_++]=128|Q&63}}return v[_]=0,_-j},$o=[];function rr(m,v){$o[m]={input:[],Tb:[],dc:v},Bn(m,rc)}var rc={open(m){var v=$o[m.node.hc];if(!v)throw new ye(43);m.Ub=v,m.seekable=!1},close(m){m.Ub.dc.kc(m.Ub)},kc(m){m.Ub.dc.kc(m.Ub)},read(m,v,_,k){if(!m.Ub||!m.Ub.dc.zc)throw new ye(60);for(var j=0,ee=0;ee<k;ee++){try{var Q=m.Ub.dc.zc(m.Ub)}catch{throw new ye(29)}if(Q===void 0&&j===0)throw new ye(6);if(Q==null)break;j++,v[_+ee]=Q}return j&&(m.node.timestamp=Date.now()),j},write(m,v,_,k){if(!m.Ub||!m.Ub.dc.tc)throw new ye(60);try{for(var j=0;j<k;j++)m.Ub.dc.tc(m.Ub,v[_+j])}catch{throw new ye(29)}return k&&(m.node.timestamp=Date.now()),j}},fi={zc(){e:{if(!ls.length){var m=null;if(typeof window<"u"&&typeof window.prompt=="function"?(m=window.prompt("Input: "),m!==null&&(m+=`
`)):typeof readline=="function"&&(m=readline(),m!==null&&(m+=`
`)),!m){var v=null;break e}v=Array(ci(m)+1),m=bn(m,v,0,v.length),v.length=m,ls=v}v=ls.shift()}return v},tc(m,v){v===null||v===10?(T($e(m.Tb,0)),m.Tb=[]):v!=0&&m.Tb.push(v)},kc(m){m.Tb&&0<m.Tb.length&&(T($e(m.Tb,0)),m.Tb=[])},$c(){return{Wc:25856,Yc:5,Vc:191,Xc:35387,Uc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ad(){return 0},bd(){return[24,80]}},Sn={tc(m,v){v===null||v===10?(P($e(m.Tb,0)),m.Tb=[]):v!=0&&m.Tb.push(v)},kc(m){m.Tb&&0<m.Tb.length&&(P($e(m.Tb,0)),m.Tb=[])}};function vl(m,v){var _=m.Pb?m.Pb.length:0;_>=v||(v=Math.max(v,_*(1048576>_?2:1.125)>>>0),_!=0&&(v=Math.max(v,256)),_=m.Pb,m.Pb=new Uint8Array(v),0<m.Rb&&m.Pb.set(_.subarray(0,m.Rb),0))}var He={Xb:null,Wb(){return He.createNode(null,"/",16895,0)},createNode(m,v,_,k){if((_&61440)===24576||(_&61440)===4096)throw new ye(63);return He.Xb||(He.Xb={dir:{node:{Vb:He.Eb.Vb,Sb:He.Eb.Sb,ec:He.Eb.ec,lc:He.Eb.lc,Dc:He.Eb.Dc,qc:He.Eb.qc,oc:He.Eb.oc,Cc:He.Eb.Cc,pc:He.Eb.pc},stream:{ac:He.Ob.ac}},file:{node:{Vb:He.Eb.Vb,Sb:He.Eb.Sb},stream:{ac:He.Ob.ac,read:He.Ob.read,write:He.Ob.write,wc:He.Ob.wc,mc:He.Ob.mc,nc:He.Ob.nc}},link:{node:{Vb:He.Eb.Vb,Sb:He.Eb.Sb,ic:He.Eb.ic},stream:{}},xc:{node:{Vb:He.Eb.Vb,Sb:He.Eb.Sb},stream:Pi}}),_=ta(m,v,_,k),wt(_.mode)?(_.Eb=He.Xb.dir.node,_.Ob=He.Xb.dir.stream,_.Pb={}):(_.mode&61440)===32768?(_.Eb=He.Xb.file.node,_.Ob=He.Xb.file.stream,_.Rb=0,_.Pb=null):(_.mode&61440)===40960?(_.Eb=He.Xb.link.node,_.Ob=He.Xb.link.stream):(_.mode&61440)===8192&&(_.Eb=He.Xb.xc.node,_.Ob=He.Xb.xc.stream),_.timestamp=Date.now(),m&&(m.Pb[v]=_,m.timestamp=_.timestamp),_},Zc(m){return m.Pb?m.Pb.subarray?m.Pb.subarray(0,m.Rb):new Uint8Array(m.Pb):new Uint8Array(0)},Eb:{Vb(m){var v={};return v.Jc=(m.mode&61440)===8192?m.id:1,v.Ac=m.id,v.mode=m.mode,v.Pc=1,v.uid=0,v.Mc=0,v.hc=m.hc,wt(m.mode)?v.size=4096:(m.mode&61440)===32768?v.size=m.Rb:(m.mode&61440)===40960?v.size=m.link.length:v.size=0,v.Fc=new Date(m.timestamp),v.Oc=new Date(m.timestamp),v.Ic=new Date(m.timestamp),v.Gc=4096,v.Hc=Math.ceil(v.size/v.Gc),v},Sb(m,v){if(v.mode!==void 0&&(m.mode=v.mode),v.timestamp!==void 0&&(m.timestamp=v.timestamp),v.size!==void 0&&(v=v.size,m.Rb!=v))if(v==0)m.Pb=null,m.Rb=0;else{var _=m.Pb;m.Pb=new Uint8Array(v),_&&m.Pb.set(_.subarray(0,Math.min(v,m.Rb))),m.Rb=v}},ec(){throw Jo[44]},lc(m,v,_,k){return He.createNode(m,v,_,k)},Dc(m,v,_){if(wt(m.mode)){try{var k=cn(v,_)}catch{}if(k)for(var j in k.Pb)throw new ye(55)}delete m.parent.Pb[m.name],m.parent.timestamp=Date.now(),m.name=_,v.Pb[_]=m,v.timestamp=m.parent.timestamp,m.parent=v},qc(m,v){delete m.Pb[v],m.timestamp=Date.now()},oc(m,v){var _=cn(m,v),k;for(k in _.Pb)throw new ye(55);delete m.Pb[v],m.timestamp=Date.now()},Cc(m){var v=[".",".."],_;for(_ in m.Pb)m.Pb.hasOwnProperty(_)&&v.push(_);return v},pc(m,v,_){return m=He.createNode(m,v,41471,0),m.link=_,m},ic(m){if((m.mode&61440)!==40960)throw new ye(28);return m.link}},Ob:{read(m,v,_,k,j){var ee=m.node.Pb;if(j>=m.node.Rb)return 0;if(m=Math.min(m.node.Rb-j,k),8<m&&ee.subarray)v.set(ee.subarray(j,j+m),_);else for(k=0;k<m;k++)v[_+k]=ee[j+k];return m},write(m,v,_,k,j,ee){if(v.buffer===N.buffer&&(ee=!1),!k)return 0;if(m=m.node,m.timestamp=Date.now(),v.subarray&&(!m.Pb||m.Pb.subarray)){if(ee)return m.Pb=v.subarray(_,_+k),m.Rb=k;if(m.Rb===0&&j===0)return m.Pb=v.slice(_,_+k),m.Rb=k;if(j+k<=m.Rb)return m.Pb.set(v.subarray(_,_+k),j),k}if(vl(m,j+k),m.Pb.subarray&&v.subarray)m.Pb.set(v.subarray(_,_+k),j);else for(ee=0;ee<k;ee++)m.Pb[j+ee]=v[_+ee];return m.Rb=Math.max(m.Rb,j+k),k},ac(m,v,_){if(_===1?v+=m.position:_===2&&(m.node.mode&61440)===32768&&(v+=m.node.Rb),0>v)throw new ye(28);return v},wc(m,v,_){vl(m.node,v+_),m.node.Rb=Math.max(m.node.Rb,v+_)},mc(m,v,_,k,j){if((m.node.mode&61440)!==32768)throw new ye(43);if(m=m.node.Pb,j&2||m.buffer!==N.buffer){if((0<_||_+v<m.length)&&(m.subarray?m=m.subarray(_,_+v):m=Array.prototype.slice.call(m,_,_+v)),_=!0,v=65536*Math.ceil(v/65536),(j=ke(65536,v))?(L.fill(0,j,j+v),v=j):v=0,!v)throw new ye(48);N.set(m,v)}else _=!1,v=m.byteOffset;return{Qc:v,Ec:_}},nc(m,v,_,k){return He.Ob.write(m,v,0,k,_,!1),0}}},Ed=(m,v)=>{var _=0;return m&&(_|=365),v&&(_|=146),_},Vt=null,ve={},Ot=[],yt=1,ht=null,us=!0,ye=null,Jo={};function Ue(m,v={}){if(m=Ie(m),!m)return{path:"",node:null};if(v=Object.assign({yc:!0,uc:0},v),8<v.uc)throw new ye(32);m=m.split("/").filter(Q=>!!Q);for(var _=Vt,k="/",j=0;j<m.length;j++){var ee=j===m.length-1;if(ee&&v.parent)break;if(_=cn(_,m[j]),k=nr(k+"/"+m[j]),_.bc&&(!ee||ee&&v.yc)&&(_=_.bc.root),!ee||v.$b){for(ee=0;(_.mode&61440)===40960;)if(_=ao(k),k=Ie(un(k),_),_=Ue(k,{uc:v.uc+1}).node,40<ee++)throw new ye(32)}}return{path:k,node:_}}function Dr(m){for(var v;;){if(m===m.parent)return m=m.Wb.Bc,v?m[m.length-1]!=="/"?`${m}/${v}`:m+v:m;v=v?`${m.name}/${v}`:m.name,m=m.parent}}function ea(m,v){for(var _=0,k=0;k<v.length;k++)_=(_<<5)-_+v.charCodeAt(k)|0;return(m+_>>>0)%ht.length}function El(m){var v=ea(m.parent.id,m.name);if(ht[v]===m)ht[v]=m.cc;else for(v=ht[v];v;){if(v.cc===m){v.cc=m.cc;break}v=v.cc}}function cn(m,v){var _;if(_=(_=Gr(m,"x"))?_:m.Eb.ec?0:2)throw new ye(_,m);for(_=ht[ea(m.id,v)];_;_=_.cc){var k=_.name;if(_.parent.id===m.id&&k===v)return _}return m.Eb.ec(m,v)}function ta(m,v,_,k){return m=new aa(m,v,_,k),v=ea(m.parent.id,m.name),m.cc=ht[v],ht[v]=m}function wt(m){return(m&61440)===16384}function Oi(m){var v=["r","w","rw"][m&3];return m&512&&(v+="w"),v}function Gr(m,v){if(us)return 0;if(!v.includes("r")||m.mode&292){if(v.includes("w")&&!(m.mode&146)||v.includes("x")&&!(m.mode&73))return 2}else return 2;return 0}function mr(m,v){try{return cn(m,v),20}catch{}return Gr(m,"wx")}function ic(m,v,_){try{var k=cn(m,v)}catch(j){return j.Qb}if(m=Gr(m,"wx"))return m;if(_){if(!wt(k.mode))return 54;if(k===k.parent||Dr(k)==="/")return 10}else if(wt(k.mode))return 31;return 0}function Di(){for(var m=0;4096>=m;m++)if(!Ot[m])return m;throw new ye(33)}function fn(m){if(m=Ot[m],!m)throw new ye(8);return m}function _n(m,v=-1){return At||(At=function(){this.jc={}},At.prototype={},Object.defineProperties(At.prototype,{object:{get(){return this.node},set(_){this.node=_}},flags:{get(){return this.jc.flags},set(_){this.jc.flags=_}},position:{get(){return this.jc.position},set(_){this.jc.position=_}}})),m=Object.assign(new At,m),v==-1&&(v=Di()),m.Yb=v,Ot[v]=m}var Pi={open(m){m.Ob=ve[m.node.hc].Ob,m.Ob.open&&m.Ob.open(m)},ac(){throw new ye(70)}};function Bn(m,v){ve[m]={Ob:v}}function _e(m,v){var _=v==="/",k=!v;if(_&&Vt)throw new ye(10);if(!_&&!k){var j=Ue(v,{yc:!1});if(v=j.path,j=j.node,j.bc)throw new ye(10);if(!wt(j.mode))throw new ye(54)}v={type:m,dd:{},Bc:v,Nc:[]},m=m.Wb(v),m.Wb=v,v.root=m,_?Vt=m:j&&(j.bc=v,j.Wb&&j.Wb.Nc.push(v))}function di(m,v,_){var k=Ue(m,{parent:!0}).node;if(m=dt(m),!m||m==="."||m==="..")throw new ye(28);var j=mr(k,m);if(j)throw new ye(j);if(!k.Eb.lc)throw new ye(63);return k.Eb.lc(k,m,v,_)}function ir(m,v){return di(m,(v!==void 0?v:511)&1023|16384,0)}function dn(m,v,_){typeof _>"u"&&(_=v,v=438),di(m,v|8192,_)}function hi(m,v){if(!Ie(m))throw new ye(44);var _=Ue(v,{parent:!0}).node;if(!_)throw new ye(44);v=dt(v);var k=mr(_,v);if(k)throw new ye(k);if(!_.Eb.pc)throw new ye(63);_.Eb.pc(_,v,m)}function oo(m){var v=Ue(m,{parent:!0}).node;m=dt(m);var _=cn(v,m),k=ic(v,m,!0);if(k)throw new ye(k);if(!v.Eb.oc)throw new ye(63);if(_.bc)throw new ye(10);v.Eb.oc(v,m),El(_)}function ao(m){if(m=Ue(m).node,!m)throw new ye(44);if(!m.Eb.ic)throw new ye(28);return Ie(Dr(m.parent),m.Eb.ic(m))}function Xn(m,v){if(m=Ue(m,{$b:!v}).node,!m)throw new ye(44);if(!m.Eb.Vb)throw new ye(63);return m.Eb.Vb(m)}function sc(m){return Xn(m,!0)}function oc(m,v){if(m=typeof m=="string"?Ue(m,{$b:!0}).node:m,!m.Eb.Sb)throw new ye(63);m.Eb.Sb(m,{mode:v&4095|m.mode&-4096,timestamp:Date.now()})}function xr(m,v){if(0>v)throw new ye(28);if(m=typeof m=="string"?Ue(m,{$b:!0}).node:m,!m.Eb.Sb)throw new ye(63);if(wt(m.mode))throw new ye(31);if((m.mode&61440)!==32768)throw new ye(28);var _=Gr(m,"w");if(_)throw new ye(_);m.Eb.Sb(m,{size:v,timestamp:Date.now()})}function on(m,v,_){if(m==="")throw new ye(44);if(typeof v=="string"){var k={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[v];if(typeof k>"u")throw Error(`Unknown file open mode: ${v}`);v=k}if(_=v&64?(typeof _>"u"?438:_)&4095|32768:0,typeof m=="object")var j=m;else{m=nr(m);try{j=Ue(m,{$b:!(v&131072)}).node}catch{}}if(k=!1,v&64)if(j){if(v&128)throw new ye(20)}else j=di(m,_,0),k=!0;if(!j)throw new ye(44);if((j.mode&61440)===8192&&(v&=-513),v&65536&&!wt(j.mode))throw new ye(54);if(!k&&(_=j?(j.mode&61440)===40960?32:wt(j.mode)&&(Oi(v)!=="r"||v&512)?31:Gr(j,Oi(v)):44))throw new ye(_);return v&512&&!k&&xr(j,0),v&=-131713,j=_n({node:j,path:Dr(j),flags:v,seekable:!0,position:0,Ob:j.Ob,Tc:[],error:!1}),j.Ob.open&&j.Ob.open(j),!n.logReadFiles||v&1||(qr||(qr={}),m in qr||(qr[m]=1)),j}function St(m,v,_){if(m.Yb===null)throw new ye(8);if(!m.seekable||!m.Ob.ac)throw new ye(70);if(_!=0&&_!=1&&_!=2)throw new ye(28);m.position=m.Ob.ac(m,v,_),m.Tc=[]}function Cl(){ye||(ye=function(m,v){this.name="ErrnoError",this.node=v,this.Rc=function(_){this.Qb=_},this.Rc(m),this.message="FS error"},ye.prototype=Error(),ye.prototype.constructor=ye,[44].forEach(m=>{Jo[m]=new ye(m),Jo[m].stack="<generic error, no stack>"}))}var Xr;function Mi(m,v,_){m=nr("/dev/"+m);var k=Ed(!!v,!!_);ae||(ae=64);var j=ae++<<8|0;Bn(j,{open(ee){ee.seekable=!1},close(){_&&_.buffer&&_.buffer.length&&_(10)},read(ee,Q,le,Z){for(var ie=0,fe=0;fe<Z;fe++){try{var ue=v()}catch{throw new ye(29)}if(ue===void 0&&ie===0)throw new ye(6);if(ue==null)break;ie++,Q[le+fe]=ue}return ie&&(ee.node.timestamp=Date.now()),ie},write(ee,Q,le,Z){for(var ie=0;ie<Z;ie++)try{_(Q[le+ie])}catch{throw new ye(29)}return Z&&(ee.node.timestamp=Date.now()),ie}}),dn(m,k,j)}var ae,_t={},At,qr;function ki(m,v,_){if(v.charAt(0)==="/")return v;if(m=m===-100?"/":fn(m).path,v.length==0){if(!_)throw new ye(44);return m}return nr(m+"/"+v)}function st(m,v,_){try{var k=m(v)}catch(ee){if(ee&&ee.node&&nr(v)!==nr(Dr(ee.node)))return-54;throw ee}G[_>>2]=k.Jc,G[_+4>>2]=k.mode,H[_+8>>2]=k.Pc,G[_+12>>2]=k.uid,G[_+16>>2]=k.Mc,G[_+20>>2]=k.hc,ze=[k.size>>>0,(Pe=k.size,1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],G[_+24>>2]=ze[0],G[_+28>>2]=ze[1],G[_+32>>2]=4096,G[_+36>>2]=k.Hc,m=k.Fc.getTime(),v=k.Oc.getTime();var j=k.Ic.getTime();return ze=[Math.floor(m/1e3)>>>0,(Pe=Math.floor(m/1e3),1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],G[_+40>>2]=ze[0],G[_+44>>2]=ze[1],H[_+48>>2]=m%1e3*1e3,ze=[Math.floor(v/1e3)>>>0,(Pe=Math.floor(v/1e3),1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],G[_+56>>2]=ze[0],G[_+60>>2]=ze[1],H[_+64>>2]=v%1e3*1e3,ze=[Math.floor(j/1e3)>>>0,(Pe=Math.floor(j/1e3),1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],G[_+72>>2]=ze[0],G[_+76>>2]=ze[1],H[_+80>>2]=j%1e3*1e3,ze=[k.Ac>>>0,(Pe=k.Ac,1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],G[_+88>>2]=ze[0],G[_+92>>2]=ze[1],0}var nt=void 0;function Qe(){var m=G[nt>>2];return nt+=4,m}var Li=(m,v)=>v+2097152>>>0<4194305-!!m?(m>>>0)+4294967296*v:NaN,Al=[0,31,60,91,121,152,182,213,244,274,305,335],bl=[0,31,59,90,120,151,181,212,243,273,304,334],qt=m=>{var v=ci(m)+1,_=ms(v);return _&&bn(m,L,_,v),_},Pr={},ac=()=>{if(!Dt){var m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},v;for(v in Pr)Pr[v]===void 0?delete m[v]:m[v]=Pr[v];var _=[];for(v in m)_.push(`${v}=${m[v]}`);Dt=_}return Dt},Dt;function Kr(){}function lc(){}function Bi(){}function vt(){}function hn(){}function Y(){}function F(){}function Oe(){}function Jt(){}function qn(){}function uc(){}function na(){}function Kn(){}function Me(){}function It(){}function Sl(){}function cc(){}function ra(){}function lo(){}function ia(){}function fc(){}function en(){}function cs(){}function Yr(){}function Le(){}function dc(){}function We(){}function an(){}function hc(){}function sa(){}function _l(){}function pi(){}function pc(){}function fs(){}function ds(){}function hs(){}function Tl(){}function ps(){}function gs(){}function Tn(){}var gc=m=>{S=m,g(m,new as(m))},Il=m=>{m instanceof as||m=="unwind"||g(1,m)},uo=m=>{try{m()}catch(v){Ce(v)}};function Cd(m){var v={},_;for(_ in m)(function(k){var j=m[k];v[k]=typeof j=="function"?function(){co.push(k);try{return j.apply(null,arguments)}finally{A||(co.pop()===k||Ce(),Mr&&gi===1&&co.length===0&&(gi=0,uo(wr),typeof Fibers<"u"&&Fibers.ed()))}}:j})(_);return v}var gi=0,Mr=null,pt=0,co=[],fo={},Qr={},Ad=0,J=null,Ke=[];function pn(){return new Promise((m,v)=>{J={resolve:m,reject:v}})}function oa(){var m=ms(16396),v=m+12;H[m>>2]=v,H[m+4>>2]=v+16384,v=co[0];var _=fo[v];return _===void 0&&(_=Ad++,fo[v]=_,Qr[_]=v),G[m+8>>2]=_,m}function Nl(m){if(!A){if(gi===0){var v=!1,_=!1;m((k=0)=>{if(!A&&(pt=k,v=!0,_)){gi=2,uo(()=>la(Mr)),typeof Browser<"u"&&Browser.sc.Lc&&Browser.sc.resume(),k=!1;try{var j=(0,Ee[Qr[G[Mr+8>>2]]])()}catch(le){j=le,k=!0}var ee=!1;if(!Mr){var Q=J;Q&&(J=null,(k?Q.reject:Q.resolve)(j),ee=!0)}if(k&&!ee)throw j}}),_=!0,v||(gi=1,Mr=oa(),typeof Browser<"u"&&Browser.sc.Lc&&Browser.sc.pause(),uo(()=>wc(Mr)))}else gi===2?(gi=0,uo(Rl),mi(Mr),Mr=null,Ke.forEach(k=>{if(!A)try{k(),I||0<re}catch(j){Il(j)}})):Ce(`invalid state: ${gi}`);return pt}}function mc(m){return Nl(v=>{m().then(v)})}var xc={},yr=(m,v,_,k,j)=>{function ee(ue){return--re,Z!==0&&xi(Z),v==="string"?ue?$e(L,ue):"":v==="boolean"?!!ue:ue}var Q={string:ue=>{var we=0;if(ue!=null&&ue!==0){we=ci(ue)+1;var Xe=yi(we);bn(ue,L,Xe,we),we=Xe}return we},array:ue=>{var we=yi(ue.length);return N.set(ue,we),we}};m=n["_"+m];var le=[],Z=0;if(k)for(var ie=0;ie<k.length;ie++){var fe=Q[_[ie]];fe?(Z===0&&(Z=bt()),le[ie]=fe(k[ie])):le[ie]=k[ie]}return _=Mr,k=m.apply(null,le),j=j&&j.async,re+=1,Mr!=_?pn().then(ee):(k=ee(k),j?Promise.resolve(k):k)};function aa(m,v,_,k){m||(m=this),this.parent=m,this.Wb=m.Wb,this.bc=null,this.id=yt++,this.name=v,this.mode=_,this.Eb={},this.Ob={},this.hc=k}Object.defineProperties(aa.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(m){m?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(m){m?this.mode|=146:this.mode&=-147}}}),Cl(),ht=Array(4096),_e(He,"/"),ir("/tmp"),ir("/home"),ir("/home/web_user"),function(){ir("/dev"),Bn(259,{read:()=>0,write:(k,j,ee,Q)=>Q}),dn("/dev/null",259),rr(1280,fi),rr(1536,Sn),dn("/dev/tty",1280),dn("/dev/tty1",1536);var m=new Uint8Array(1024),v=0,_=()=>(v===0&&(v=so(m).byteLength),m[--v]);Mi("random",_),Mi("urandom",_),ir("/dev/shm"),ir("/dev/shm/tmp")}(),function(){ir("/proc");var m=ir("/proc/self");ir("/proc/self/fd"),_e({Wb(){var v=ta(m,"fd",16895,73);return v.Eb={ec(_,k){var j=fn(+k);return _={parent:null,Wb:{Bc:"fake"},Eb:{ic:()=>j.path}},_.parent=_}},v}},"/proc/self/fd")}(),function(){const m=new Map;n.setAuthorizer=function(v,_,k){return _?m.set(v,{f:_,vc:k}):m.delete(v),yr("set_authorizer","number",["number"],[v])},Kr=function(v,_,k,j,ee,Q){if(m.has(v)){const{f:le,vc:Z}=m.get(v);return le(Z,_,k?k?$e(L,k):"":null,j?j?$e(L,j):"":null,ee?ee?$e(L,ee):"":null,Q?Q?$e(L,Q):"":null)}return 0}}(),function(){function m(k,j){const ee=[];for(let Q=0;k[j+Q]!=0;++Q){if(1e3<Q)throw Error("C-string never terminated after 1k characters");ee.push(k[j+Q])}return String.fromCharCode(...ee)}const v=new Map,_=new Map;n.createFunction=function(k,j,ee,Q,le,Z){const ie=v.size;return v.set(ie,{f:Z,Zb:le}),yr("create_function","number","number string number number number number".split(" "),[k,j,ee,Q,ie,0])},n.createAggregate=function(k,j,ee,Q,le,Z,ie){const fe=v.size;return v.set(fe,{step:Z,Kc:ie,Zb:le}),yr("create_function","number","number string number number number number".split(" "),[k,j,ee,Q,fe,1])},n.getFunctionUserData=function(k){return _.get(k)},n.updateHook=function(k,j){const ee=v.size;return v.set(ee,j),yr("update_hook","void",["number","number"],[k,ee])},Bi=function(k,j,ee,Q){k=v.get(k),_.set(j,k.Zb),k.f(j,new Uint32Array(L.buffer,Q,ee)),_.delete(j)},hn=function(k,j,ee,Q){k=v.get(k),_.set(j,k.Zb),k.step(j,new Uint32Array(L.buffer,Q,ee)),_.delete(j)},lc=function(k,j){k=v.get(k),_.set(j,k.Zb),k.Kc(j),_.delete(j)},Y=function(k,j,ee,Q,le,Z){k=v.get(k);const ie=L;le=BigInt(Z)<<32n|BigInt(le)&4294967295n,k(j,m(ie,ee),m(ie,Q),le)}}(),function(){const m=new Map;n.progressHandler=function(v,_,k,j){return k?m.set(v,{f:k,vc:j}):m.delete(v),yr("progress_handler",null,["number","number"],[v,_])},vt=function(v){if(m.has(v)){const{f:_,vc:k}=m.get(v);return _(k)}return 0}}(),function(){function m(Z,ie){const fe=`get${Z}`,ue=`set${Z}`;return new Proxy(new DataView(L.buffer,ie,Z==="Int32"?4:8),{get(we,Xe){if(Xe===fe)return function(ct,Et){if(!Et)throw Error("must be little endian");return we[Xe](ct,Et)};if(Xe===ue)return function(ct,Et,Kt){if(!Kt)throw Error("must be little endian");return we[Xe](ct,Et,Kt)};if(typeof Xe=="string"&&Xe.match(/^(get)|(set)/))throw Error("invalid type");return we[Xe]}})}const v=typeof xc=="object",_=new Map,k=new Map,j=new Map,ee=v?new Set:null,Q=v?new Set:null,le=new Map;cs=function(Z,ie,fe,ue){le.set(Z?$e(L,Z):"",{size:ie,fc:Array.from(new Uint32Array(L.buffer,ue,fe))})},n.createModule=function(Z,ie,fe,ue){v&&(fe.handleAsync=mc);const we=_.size;return _.set(we,{module:fe,Zb:ue}),ue=0,fe.xCreate&&(ue|=1),fe.xConnect&&(ue|=2),fe.xBestIndex&&(ue|=4),fe.xDisconnect&&(ue|=8),fe.xDestroy&&(ue|=16),fe.xOpen&&(ue|=32),fe.xClose&&(ue|=64),fe.xFilter&&(ue|=128),fe.xNext&&(ue|=256),fe.xEof&&(ue|=512),fe.xColumn&&(ue|=1024),fe.xRowid&&(ue|=2048),fe.xUpdate&&(ue|=4096),fe.xBegin&&(ue|=8192),fe.xSync&&(ue|=16384),fe.xCommit&&(ue|=32768),fe.xRollback&&(ue|=65536),fe.xFindFunction&&(ue|=131072),fe.xRename&&(ue|=262144),yr("create_module","number",["number","string","number","number"],[Z,ie,we,ue])},Kn=function(Z,ie,fe,ue,we,Xe){if(ie=_.get(ie),k.set(we,ie),v){ee.delete(we);for(const ct of ee)k.delete(ct)}return ue=Array.from(new Uint32Array(L.buffer,ue,fe)).map(ct=>ct?$e(L,ct):""),ie.module.xCreate(Z,ie.Zb,ue,we,m("Int32",Xe))},na=function(Z,ie,fe,ue,we,Xe){if(ie=_.get(ie),k.set(we,ie),v){ee.delete(we);for(const ct of ee)k.delete(ct)}return ue=Array.from(new Uint32Array(L.buffer,ue,fe)).map(ct=>ct?$e(L,ct):""),ie.module.xConnect(Z,ie.Zb,ue,we,m("Int32",Xe))},Oe=function(Z,ie){var fe=k.get(Z),ue=le.get("sqlite3_index_info").fc;const we={};we.nConstraint=lt(ie+ue[0],"i32"),we.aConstraint=[];for(var Xe=lt(ie+ue[1],"*"),ct=le.get("sqlite3_index_constraint").size,Et=0;Et<we.nConstraint;++Et){var Kt=we.aConstraint,wn=Kt.push,zt=Xe+Et*ct,Ze=le.get("sqlite3_index_constraint").fc,vr={};vr.iColumn=lt(zt+Ze[0],"i32"),vr.op=lt(zt+Ze[1],"i8"),vr.usable=!!lt(zt+Ze[2],"i8"),wn.call(Kt,vr)}for(we.nOrderBy=lt(ie+ue[2],"i32"),we.aOrderBy=[],Xe=lt(ie+ue[3],"*"),ct=le.get("sqlite3_index_orderby").size,Et=0;Et<we.nOrderBy;++Et)Kt=we.aOrderBy,wn=Kt.push,zt=Xe+Et*ct,Ze=le.get("sqlite3_index_orderby").fc,vr={},vr.iColumn=lt(zt+Ze[0],"i32"),vr.desc=!!lt(zt+Ze[1],"i8"),wn.call(Kt,vr);for(we.aConstraintUsage=[],Xe=0;Xe<we.nConstraint;++Xe)we.aConstraintUsage.push({argvIndex:0,omit:!1});for(we.idxNum=lt(ie+ue[5],"i32"),we.idxStr=null,we.orderByConsumed=!!lt(ie+ue[8],"i8"),we.estimatedCost=lt(ie+ue[9],"double"),we.estimatedRows=lt(ie+ue[10],"i32"),we.idxFlags=lt(ie+ue[11],"i32"),we.colUsed=lt(ie+ue[12],"i32"),Z=fe.module.xBestIndex(Z,we),fe=le.get("sqlite3_index_info").fc,ue=lt(ie+fe[4],"*"),Xe=le.get("sqlite3_index_constraint_usage").size,wn=0;wn<we.nConstraint;++wn)ct=ue+wn*Xe,Kt=we.aConstraintUsage[wn],zt=le.get("sqlite3_index_constraint_usage").fc,Gn(ct+zt[0],Kt.argvIndex,"i32"),Gn(ct+zt[1],Kt.omit?1:0,"i8");return Gn(ie+fe[5],we.idxNum,"i32"),typeof we.idxStr=="string"&&(ue=ci(we.idxStr),Xe=yr("sqlite3_malloc","number",["number"],[ue+1]),bn(we.idxStr,L,Xe,ue+1),Gn(ie+fe[6],Xe,"*"),Gn(ie+fe[7],1,"i32")),Gn(ie+fe[8],we.orderByConsumed,"i32"),Gn(ie+fe[9],we.estimatedCost,"double"),Gn(ie+fe[10],we.estimatedRows,"i32"),Gn(ie+fe[11],we.idxFlags,"i32"),Z},It=function(Z){const ie=k.get(Z);return v?ee.add(Z):k.delete(Z),ie.module.xDisconnect(Z)},Me=function(Z){const ie=k.get(Z);return v?ee.add(Z):k.delete(Z),ie.module.xDestroy(Z)},lo=function(Z,ie){const fe=k.get(Z);if(j.set(ie,fe),v){Q.delete(ie);for(const ue of Q)j.delete(ue)}return fe.module.xOpen(Z,ie)},Jt=function(Z){const ie=j.get(Z);return v?Q.add(Z):j.delete(Z),ie.module.xClose(Z)},Sl=function(Z){return j.get(Z).module.xEof(Z)?1:0},cc=function(Z,ie,fe,ue,we){const Xe=j.get(Z);return fe=fe?fe?$e(L,fe):"":null,we=new Uint32Array(L.buffer,we,ue),Xe.module.xFilter(Z,ie,fe,we)},ra=function(Z){return j.get(Z).module.xNext(Z)},qn=function(Z,ie,fe){return j.get(Z).module.xColumn(Z,ie,fe)},en=function(Z,ie){return j.get(Z).module.xRowid(Z,m("BigInt64",ie))},Le=function(Z,ie,fe,ue){const we=k.get(Z);return fe=new Uint32Array(L.buffer,fe,ie),we.module.xUpdate(Z,fe,m("BigInt64",ue))},F=function(Z){return k.get(Z).module.xBegin(Z)},Yr=function(Z){return k.get(Z).module.xSync(Z)},uc=function(Z){return k.get(Z).module.xCommit(Z)},fc=function(Z){return k.get(Z).module.xRollback(Z)},ia=function(Z,ie){const fe=k.get(Z);return ie=ie?$e(L,ie):"",fe.module.xRename(Z,ie)}}(),function(){function m(Q,le){const Z=`get${Q}`,ie=`set${Q}`;return new Proxy(new DataView(L.buffer,le,Q==="Int32"?4:8),{get(fe,ue){if(ue===Z)return function(we,Xe){if(!Xe)throw Error("must be little endian");return fe[ue](we,Xe)};if(ue===ie)return function(we,Xe,ct){if(!ct)throw Error("must be little endian");return fe[ue](we,Xe,ct)};if(typeof ue=="string"&&ue.match(/^(get)|(set)/))throw Error("invalid type");return fe[ue]}})}function v(Q){return Q>>=2,H[Q]+H[Q+1]*2**32}const _=typeof xc=="object",k=new Map,j=new Map;n.registerVFS=function(Q,le){if(yr("sqlite3_vfs_find","number",["string"],[Q.name]))throw Error(`VFS '${Q.name}' already registered`);_&&(Q.handleAsync=mc);var Z=Q.cd??64;const ie=n._malloc(4);return le=yr("register_vfs","number",["string","number","number","number"],[Q.name,Z,le?1:0,ie]),le||(Z=lt(ie,"*"),k.set(Z,Q)),n._free(ie),le};const ee=_?new Set:null;an=function(Q){const le=j.get(Q);return _?ee.add(Q):j.delete(Q),le.xClose(Q)},ds=function(Q,le,Z,ie){return j.get(Q).xRead(Q,L.subarray(le,le+Z),v(ie))},Tn=function(Q,le,Z,ie){return j.get(Q).xWrite(Q,L.subarray(le,le+Z),v(ie))},ps=function(Q,le){return j.get(Q).xTruncate(Q,v(le))},Tl=function(Q,le){return j.get(Q).xSync(Q,le)},pi=function(Q,le){const Z=j.get(Q);return le=m("BigInt64",le),Z.xFileSize(Q,le)},pc=function(Q,le){return j.get(Q).xLock(Q,le)},gs=function(Q,le){return j.get(Q).xUnlock(Q,le)},We=function(Q,le){const Z=j.get(Q);return le=m("Int32",le),Z.xCheckReservedLock(Q,le)},_l=function(Q,le,Z){const ie=j.get(Q);return Z=new DataView(L.buffer,Z),ie.xFileControl(Q,le,Z)},hs=function(Q){return j.get(Q).xSectorSize(Q)},sa=function(Q){return j.get(Q).xDeviceCharacteristics(Q)},fs=function(Q,le,Z,ie,fe){if(Q=k.get(Q),j.set(Z,Q),_){ee.delete(Z);for(var ue of ee)j.delete(ue)}if(ue=null,ie&64){ue=1;const we=[];for(;ue;){const Xe=L[le++];if(Xe)we.push(Xe);else switch(L[le]||(ue=null),ue){case 1:we.push(63),ue=2;break;case 2:we.push(61),ue=3;break;case 3:we.push(38),ue=2}}ue=new TextDecoder().decode(new Uint8Array(we))}else le&&(ue=le?$e(L,le):"");return fe=m("Int32",fe),Q.xOpen(ue,Z,ie,fe)},hc=function(Q,le,Z){return k.get(Q).xDelete(le?$e(L,le):"",Z)},dc=function(Q,le,Z,ie){return Q=k.get(Q),ie=m("Int32",ie),Q.xAccess(le?$e(L,le):"",Z,ie)}}();var tn={a:(m,v,_,k)=>{Ce(`Assertion failed: ${m?$e(L,m):""}, at: `+[v?v?$e(L,v):"":"unknown filename",_,k?k?$e(L,k):"":"unknown function"])},K:function(m,v){try{return m=m?$e(L,m):"",oc(m,v),0}catch(_){if(typeof _t>"u"||_.name!=="ErrnoError")throw _;return-_.Qb}},M:function(m,v,_){try{if(v=v?$e(L,v):"",v=ki(m,v),_&-8)return-28;var k=Ue(v,{$b:!0}).node;return k?(m="",_&4&&(m+="r"),_&2&&(m+="w"),_&1&&(m+="x"),m&&Gr(k,m)?-2:0):-44}catch(j){if(typeof _t>"u"||j.name!=="ErrnoError")throw j;return-j.Qb}},L:function(m,v){try{var _=fn(m);return oc(_.node,v),0}catch(k){if(typeof _t>"u"||k.name!=="ErrnoError")throw k;return-k.Qb}},J:function(m){try{var v=fn(m).node,_=typeof v=="string"?Ue(v,{$b:!0}).node:v;if(!_.Eb.Sb)throw new ye(63);return _.Eb.Sb(_,{timestamp:Date.now()}),0}catch(k){if(typeof _t>"u"||k.name!=="ErrnoError")throw k;return-k.Qb}},b:function(m,v,_){nt=_;try{var k=fn(m);switch(v){case 0:var j=Qe();if(0>j)return-28;for(;Ot[j];)j++;return _n(k,j).Yb;case 1:case 2:return 0;case 3:return k.flags;case 4:return j=Qe(),k.flags|=j,0;case 5:return j=Qe(),q[j+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return G[Pt()>>2]=28,-1;default:return-28}}catch(ee){if(typeof _t>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Qb}},I:function(m,v){try{var _=fn(m);return st(Xn,_.path,v)}catch(k){if(typeof _t>"u"||k.name!=="ErrnoError")throw k;return-k.Qb}},n:function(m,v,_){v=Li(v,_);try{if(isNaN(v))return 61;var k=fn(m);if(!(k.flags&2097155))throw new ye(28);return xr(k.node,v),0}catch(j){if(typeof _t>"u"||j.name!=="ErrnoError")throw j;return-j.Qb}},C:function(m,v){try{if(v===0)return-28;var _=ci("/")+1;return v<_?-68:(bn("/",L,m,v),_)}catch(k){if(typeof _t>"u"||k.name!=="ErrnoError")throw k;return-k.Qb}},F:function(m,v){try{return m=m?$e(L,m):"",st(sc,m,v)}catch(_){if(typeof _t>"u"||_.name!=="ErrnoError")throw _;return-_.Qb}},z:function(m,v,_){try{return v=v?$e(L,v):"",v=ki(m,v),v=nr(v),v[v.length-1]==="/"&&(v=v.substr(0,v.length-1)),ir(v,_),0}catch(k){if(typeof _t>"u"||k.name!=="ErrnoError")throw k;return-k.Qb}},E:function(m,v,_,k){try{v=v?$e(L,v):"";var j=k&256;return v=ki(m,v,k&4096),st(j?sc:Xn,v,_)}catch(ee){if(typeof _t>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Qb}},y:function(m,v,_,k){nt=k;try{v=v?$e(L,v):"",v=ki(m,v);var j=k?Qe():0;return on(v,_,j).Yb}catch(ee){if(typeof _t>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Qb}},v:function(m,v,_,k){try{if(v=v?$e(L,v):"",v=ki(m,v),0>=k)return-28;var j=ao(v),ee=Math.min(k,ci(j)),Q=N[_+ee];return bn(j,L,_,k+1),N[_+ee]=Q,ee}catch(le){if(typeof _t>"u"||le.name!=="ErrnoError")throw le;return-le.Qb}},u:function(m){try{return m=m?$e(L,m):"",oo(m),0}catch(v){if(typeof _t>"u"||v.name!=="ErrnoError")throw v;return-v.Qb}},G:function(m,v){try{return m=m?$e(L,m):"",st(Xn,m,v)}catch(_){if(typeof _t>"u"||_.name!=="ErrnoError")throw _;return-_.Qb}},r:function(m,v,_){try{if(v=v?$e(L,v):"",v=ki(m,v),_===0){m=v;var k=Ue(m,{parent:!0}).node;if(!k)throw new ye(44);var j=dt(m),ee=cn(k,j),Q=ic(k,j,!1);if(Q)throw new ye(Q);if(!k.Eb.qc)throw new ye(63);if(ee.bc)throw new ye(10);k.Eb.qc(k,j),El(ee)}else _===512?oo(v):Ce("Invalid flags passed to unlinkat");return 0}catch(le){if(typeof _t>"u"||le.name!=="ErrnoError")throw le;return-le.Qb}},q:function(m,v,_){try{if(v=v?$e(L,v):"",v=ki(m,v,!0),_){var k=H[_>>2]+4294967296*G[_+4>>2],j=G[_+8>>2];ee=1e3*k+j/1e6,_+=16,k=H[_>>2]+4294967296*G[_+4>>2],j=G[_+8>>2],Q=1e3*k+j/1e6}else var ee=Date.now(),Q=ee;m=ee;var le=Ue(v,{$b:!0}).node;return le.Eb.Sb(le,{timestamp:Math.max(m,Q)}),0}catch(Z){if(typeof _t>"u"||Z.name!=="ErrnoError")throw Z;return-Z.Qb}},k:function(m,v,_){m=new Date(1e3*Li(m,v)),G[_>>2]=m.getSeconds(),G[_+4>>2]=m.getMinutes(),G[_+8>>2]=m.getHours(),G[_+12>>2]=m.getDate(),G[_+16>>2]=m.getMonth(),G[_+20>>2]=m.getFullYear()-1900,G[_+24>>2]=m.getDay(),v=m.getFullYear(),G[_+28>>2]=(v%4!==0||v%100===0&&v%400!==0?bl:Al)[m.getMonth()]+m.getDate()-1|0,G[_+36>>2]=-(60*m.getTimezoneOffset()),v=new Date(m.getFullYear(),6,1).getTimezoneOffset();var k=new Date(m.getFullYear(),0,1).getTimezoneOffset();G[_+32>>2]=(v!=k&&m.getTimezoneOffset()==Math.min(k,v))|0},i:function(m,v,_,k,j,ee,Q,le){j=Li(j,ee);try{if(isNaN(j))return 61;var Z=fn(k);if(v&2&&!(_&2)&&(Z.flags&2097155)!==2)throw new ye(2);if((Z.flags&2097155)===1)throw new ye(2);if(!Z.Ob.mc)throw new ye(43);var ie=Z.Ob.mc(Z,m,j,v,_),fe=ie.Qc;return G[Q>>2]=ie.Ec,H[le>>2]=fe,0}catch(ue){if(typeof _t>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Qb}},j:function(m,v,_,k,j,ee,Q){ee=Li(ee,Q);try{if(isNaN(ee))return 61;var le=fn(j);if(_&2){if((le.node.mode&61440)!==32768)throw new ye(43);k&2||le.Ob.nc&&le.Ob.nc(le,L.slice(m,m+v),ee,v,k)}}catch(Z){if(typeof _t>"u"||Z.name!=="ErrnoError")throw Z;return-Z.Qb}},s:(m,v,_)=>{function k(Z){return(Z=Z.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Z[1]:"GMT"}var j=new Date().getFullYear(),ee=new Date(j,0,1),Q=new Date(j,6,1);j=ee.getTimezoneOffset();var le=Q.getTimezoneOffset();H[m>>2]=60*Math.max(j,le),G[v>>2]=+(j!=le),m=k(ee),v=k(Q),m=qt(m),v=qt(v),le<j?(H[_>>2]=m,H[_+4>>2]=v):(H[_>>2]=v,H[_+4>>2]=m)},e:()=>Date.now(),d:()=>performance.now(),o:m=>{var v=L.length;if(m>>>=0,2147483648<m)return!1;for(var _=1;4>=_;_*=2){var k=v*(1+.2/_);k=Math.min(k,m+100663296);var j=Math;k=Math.max(m,k);e:{j=(j.min.call(j,2147483648,k+(65536-k%65536)%65536)-D.buffer.byteLength+65535)/65536;try{D.grow(j),oe();var ee=1;break e}catch{}ee=void 0}if(ee)return!0}return!1},A:(m,v)=>{var _=0;return ac().forEach((k,j)=>{var ee=v+_;for(j=H[m+4*j>>2]=ee,ee=0;ee<k.length;++ee)N[j++>>0]=k.charCodeAt(ee);N[j>>0]=0,_+=k.length+1}),0},B:(m,v)=>{var _=ac();H[m>>2]=_.length;var k=0;return _.forEach(j=>k+=j.length+1),H[v>>2]=k,0},f:function(m){try{var v=fn(m);if(v.Yb===null)throw new ye(8);v.rc&&(v.rc=null);try{v.Ob.close&&v.Ob.close(v)}catch(_){throw _}finally{Ot[v.Yb]=null}return v.Yb=null,0}catch(_){if(typeof _t>"u"||_.name!=="ErrnoError")throw _;return _.Qb}},p:function(m,v){try{var _=fn(m);return N[v>>0]=_.Ub?2:wt(_.mode)?3:(_.mode&61440)===40960?7:4,q[v+2>>1]=0,ze=[0,(Pe=0,1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],G[v+8>>2]=ze[0],G[v+12>>2]=ze[1],ze=[0,(Pe=0,1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],G[v+16>>2]=ze[0],G[v+20>>2]=ze[1],0}catch(k){if(typeof _t>"u"||k.name!=="ErrnoError")throw k;return k.Qb}},x:function(m,v,_,k){try{e:{var j=fn(m);m=v;for(var ee,Q=v=0;Q<_;Q++){var le=H[m>>2],Z=H[m+4>>2];m+=8;var ie=j,fe=le,ue=Z,we=ee,Xe=N;if(0>ue||0>we)throw new ye(28);if(ie.Yb===null)throw new ye(8);if((ie.flags&2097155)===1)throw new ye(8);if(wt(ie.node.mode))throw new ye(31);if(!ie.Ob.read)throw new ye(28);var ct=typeof we<"u";if(!ct)we=ie.position;else if(!ie.seekable)throw new ye(70);var Et=ie.Ob.read(ie,Xe,fe,ue,we);ct||(ie.position+=Et);var Kt=Et;if(0>Kt){var wn=-1;break e}if(v+=Kt,Kt<Z)break;typeof ee<"u"&&(ee+=Kt)}wn=v}return H[k>>2]=wn,0}catch(zt){if(typeof _t>"u"||zt.name!=="ErrnoError")throw zt;return zt.Qb}},m:function(m,v,_,k,j){v=Li(v,_);try{if(isNaN(v))return 61;var ee=fn(m);return St(ee,v,k),ze=[ee.position>>>0,(Pe=ee.position,1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],G[j>>2]=ze[0],G[j+4>>2]=ze[1],ee.rc&&v===0&&k===0&&(ee.rc=null),0}catch(Q){if(typeof _t>"u"||Q.name!=="ErrnoError")throw Q;return Q.Qb}},D:function(m){try{var v=fn(m);return Nl(_=>{var k=v.node.Wb;k.type.Sc?k.type.Sc(k,!1,j=>{_(j?29:0)}):_(0)})}catch(_){if(typeof _t>"u"||_.name!=="ErrnoError")throw _;return _.Qb}},t:function(m,v,_,k){try{e:{var j=fn(m);m=v;for(var ee,Q=v=0;Q<_;Q++){var le=H[m>>2],Z=H[m+4>>2];m+=8;var ie=j,fe=le,ue=Z,we=ee,Xe=N;if(0>ue||0>we)throw new ye(28);if(ie.Yb===null)throw new ye(8);if(!(ie.flags&2097155))throw new ye(8);if(wt(ie.node.mode))throw new ye(31);if(!ie.Ob.write)throw new ye(28);ie.seekable&&ie.flags&1024&&St(ie,0,2);var ct=typeof we<"u";if(!ct)we=ie.position;else if(!ie.seekable)throw new ye(70);var Et=ie.Ob.write(ie,Xe,fe,ue,we,void 0);ct||(ie.position+=Et);var Kt=Et;if(0>Kt){var wn=-1;break e}v+=Kt,typeof ee<"u"&&(ee+=Kt)}wn=v}return H[k>>2]=wn,0}catch(zt){if(typeof _t>"u"||zt.name!=="ErrnoError")throw zt;return zt.Qb}},sa:Kr,O:lc,ha:Bi,ca:vt,Z:hn,H:Y,la:F,w:Oe,g:Jt,oa:qn,ja:uc,ea:na,fa:Kn,h:Me,l:It,pa:Sl,ra:cc,qa:ra,da:lo,ga:ia,ia:fc,na:en,c:cs,ka:Yr,ma:Le,aa:dc,V:We,$:an,ba:hc,S:sa,U:_l,Y:pi,X:pc,R:fs,Q:ds,T:hs,_:Tl,N:ps,W:gs,P:Tn},Ee=function(){function m(_){if(_=_.exports,Ee=_=Cd(_),D=Ee.ta,oe(),pe.unshift(Ee.ua),be--,n.monitorRunDependencies&&n.monitorRunDependencies(be),be==0&&ge){var k=ge;ge=null,k()}return _}var v={a:tn};if(be++,n.monitorRunDependencies&&n.monitorRunDependencies(be),n.instantiateWasm)try{return n.instantiateWasm(v,m)}catch(_){P(`Module.instantiateWasm callback failed with error: ${_}`),a(_)}return Re(v,function(_){m(_.instance)}).catch(a),{}}();n._sqlite3_vfs_find=m=>(n._sqlite3_vfs_find=Ee.va)(m),n._sqlite3_malloc=m=>(n._sqlite3_malloc=Ee.wa)(m),n._sqlite3_free=m=>(n._sqlite3_free=Ee.xa)(m),n._sqlite3_prepare_v2=(m,v,_,k,j)=>(n._sqlite3_prepare_v2=Ee.ya)(m,v,_,k,j),n._sqlite3_step=m=>(n._sqlite3_step=Ee.za)(m),n._sqlite3_column_int64=(m,v)=>(n._sqlite3_column_int64=Ee.Aa)(m,v),n._sqlite3_column_int=(m,v)=>(n._sqlite3_column_int=Ee.Ba)(m,v),n._sqlite3_finalize=m=>(n._sqlite3_finalize=Ee.Ca)(m),n._sqlite3_reset=m=>(n._sqlite3_reset=Ee.Da)(m),n._sqlite3_clear_bindings=m=>(n._sqlite3_clear_bindings=Ee.Ea)(m),n._sqlite3_value_blob=m=>(n._sqlite3_value_blob=Ee.Fa)(m),n._sqlite3_value_text=m=>(n._sqlite3_value_text=Ee.Ga)(m),n._sqlite3_value_bytes=m=>(n._sqlite3_value_bytes=Ee.Ha)(m),n._sqlite3_value_double=m=>(n._sqlite3_value_double=Ee.Ia)(m),n._sqlite3_value_int=m=>(n._sqlite3_value_int=Ee.Ja)(m),n._sqlite3_value_int64=m=>(n._sqlite3_value_int64=Ee.Ka)(m),n._sqlite3_value_type=m=>(n._sqlite3_value_type=Ee.La)(m),n._sqlite3_result_blob=(m,v,_,k)=>(n._sqlite3_result_blob=Ee.Ma)(m,v,_,k),n._sqlite3_result_double=(m,v)=>(n._sqlite3_result_double=Ee.Na)(m,v),n._sqlite3_result_error=(m,v,_)=>(n._sqlite3_result_error=Ee.Oa)(m,v,_),n._sqlite3_result_int=(m,v)=>(n._sqlite3_result_int=Ee.Pa)(m,v),n._sqlite3_result_int64=(m,v,_)=>(n._sqlite3_result_int64=Ee.Qa)(m,v,_),n._sqlite3_result_null=m=>(n._sqlite3_result_null=Ee.Ra)(m),n._sqlite3_result_text=(m,v,_,k)=>(n._sqlite3_result_text=Ee.Sa)(m,v,_,k),n._sqlite3_column_count=m=>(n._sqlite3_column_count=Ee.Ta)(m),n._sqlite3_data_count=m=>(n._sqlite3_data_count=Ee.Ua)(m),n._sqlite3_column_blob=(m,v)=>(n._sqlite3_column_blob=Ee.Va)(m,v),n._sqlite3_column_bytes=(m,v)=>(n._sqlite3_column_bytes=Ee.Wa)(m,v),n._sqlite3_column_double=(m,v)=>(n._sqlite3_column_double=Ee.Xa)(m,v),n._sqlite3_column_text=(m,v)=>(n._sqlite3_column_text=Ee.Ya)(m,v),n._sqlite3_column_type=(m,v)=>(n._sqlite3_column_type=Ee.Za)(m,v),n._sqlite3_column_name=(m,v)=>(n._sqlite3_column_name=Ee._a)(m,v),n._sqlite3_bind_blob=(m,v,_,k,j)=>(n._sqlite3_bind_blob=Ee.$a)(m,v,_,k,j),n._sqlite3_bind_double=(m,v,_)=>(n._sqlite3_bind_double=Ee.ab)(m,v,_),n._sqlite3_bind_int=(m,v,_)=>(n._sqlite3_bind_int=Ee.bb)(m,v,_),n._sqlite3_bind_int64=(m,v,_,k)=>(n._sqlite3_bind_int64=Ee.cb)(m,v,_,k),n._sqlite3_bind_null=(m,v)=>(n._sqlite3_bind_null=Ee.db)(m,v),n._sqlite3_bind_text=(m,v,_,k,j)=>(n._sqlite3_bind_text=Ee.eb)(m,v,_,k,j),n._sqlite3_bind_parameter_count=m=>(n._sqlite3_bind_parameter_count=Ee.fb)(m),n._sqlite3_bind_parameter_name=(m,v)=>(n._sqlite3_bind_parameter_name=Ee.gb)(m,v),n._sqlite3_sql=m=>(n._sqlite3_sql=Ee.hb)(m),n._sqlite3_exec=(m,v,_,k,j)=>(n._sqlite3_exec=Ee.ib)(m,v,_,k,j),n._sqlite3_errmsg=m=>(n._sqlite3_errmsg=Ee.jb)(m),n._sqlite3_declare_vtab=(m,v)=>(n._sqlite3_declare_vtab=Ee.kb)(m,v),n._sqlite3_libversion=()=>(n._sqlite3_libversion=Ee.lb)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=Ee.mb)(),n._sqlite3_changes=m=>(n._sqlite3_changes=Ee.nb)(m),n._sqlite3_close=m=>(n._sqlite3_close=Ee.ob)(m),n._sqlite3_limit=(m,v,_)=>(n._sqlite3_limit=Ee.pb)(m,v,_),n._sqlite3_open_v2=(m,v,_,k)=>(n._sqlite3_open_v2=Ee.qb)(m,v,_,k),n._sqlite3_get_autocommit=m=>(n._sqlite3_get_autocommit=Ee.rb)(m);var Pt=()=>(Pt=Ee.sb)(),ms=n._malloc=m=>(ms=n._malloc=Ee.tb)(m),mi=n._free=m=>(mi=n._free=Ee.ub)(m);n._RegisterExtensionFunctions=m=>(n._RegisterExtensionFunctions=Ee.vb)(m),n._set_authorizer=m=>(n._set_authorizer=Ee.wb)(m),n._create_function=(m,v,_,k,j,ee)=>(n._create_function=Ee.xb)(m,v,_,k,j,ee),n._update_hook=(m,v)=>(n._update_hook=Ee.yb)(m,v),n._create_module=(m,v,_,k)=>(n._create_module=Ee.zb)(m,v,_,k),n._progress_handler=(m,v)=>(n._progress_handler=Ee.Ab)(m,v),n._register_vfs=(m,v,_,k)=>(n._register_vfs=Ee.Bb)(m,v,_,k),n._getSqliteFree=()=>(n._getSqliteFree=Ee.Cb)();var mt=n._main=(m,v)=>(mt=n._main=Ee.Db)(m,v),ke=(m,v)=>(ke=Ee.Fb)(m,v),yc=()=>(yc=Ee.Gb)(),bt=()=>(bt=Ee.Hb)(),xi=m=>(xi=Ee.Ib)(m),yi=m=>(yi=Ee.Jb)(m),wc=m=>(wc=Ee.Kb)(m),wr=()=>(wr=Ee.Lb)(),la=m=>(la=Ee.Mb)(m),Rl=()=>(Rl=Ee.Nb)();n.getTempRet0=yc,n.ccall=yr,n.cwrap=(m,v,_,k)=>{var j=!_||_.every(ee=>ee==="number"||ee==="boolean");return v!=="string"&&j&&!k?n["_"+m]:function(){return yr(m,v,_,arguments,k)}},n.setValue=Gn,n.getValue=lt,n.UTF8ToString=(m,v)=>m?$e(L,m,v):"",n.stringToUTF8=(m,v,_)=>bn(m,L,v,_),n.lengthBytesUTF8=ci;var xs;ge=function m(){xs||Ol(),xs||(ge=m)};function Ol(){function m(){if(!xs&&(xs=!0,n.calledRun=!0,!A)){if(n.noFSInit||Xr||(Xr=!0,Cl(),n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?Mi("stdin",n.stdin):hi("/dev/tty","/dev/stdin"),n.stdout?Mi("stdout",null,n.stdout):hi("/dev/tty","/dev/stdout"),n.stderr?Mi("stderr",null,n.stderr):hi("/dev/tty1","/dev/stderr"),on("/dev/stdin",0),on("/dev/stdout",1),on("/dev/stderr",1)),us=!1,ui(pe),ui(Ve),s(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),Dl){var v=mt;try{var _=v(0,0);S=_,gc(_)}catch(k){Il(k)}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)v=n.postRun.shift(),Je.unshift(v);ui(Je)}}if(!(0<be)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)gt();ui(Te),0<be||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),m()},1)):m())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var Dl=!0;return n.noInitialRun&&(Dl=!1),Ol(),t.ready}})();class Ab{constructor(){vc(this,"mxPathName",64)}xClose(t){return rn}xRead(t,n,s){return rn}xWrite(t,n,s){return rn}xTruncate(t,n){return rn}xSync(t,n){return ft}xFileSize(t,n){return rn}xLock(t,n){return ft}xUnlock(t,n){return ft}xCheckReservedLock(t,n){return n.setInt32(0,0,!0),ft}xFileControl(t,n,s){return Ww}xSectorSize(t){return 512}xDeviceCharacteristics(t){return 0}xOpen(t,n,s,a){return Gw}xDelete(t,n){return rn}xAccess(t,n,s){return rn}handleAsync(t){return t()}}const bb=pa|wo|sf|mb|of;var Nn,el,Hu,ss,R0,qw,Kw;class Sb{constructor(){Ae(this,ss);Ae(this,Nn,pa);vc(this,"timeoutMillis",0);Ae(this,el,new Map);Ae(this,Hu,Promise.resolve(0))}get state(){return B(this,Nn)}async lock(t){return Be(this,ss,R0).call(this,Be(this,ss,qw),t)}async unlock(t){return Be(this,ss,R0).call(this,Be(this,ss,Kw),t)}async isSomewhereReserved(){throw new Error("unimplemented")}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(t,n){return new Promise(async(s,a)=>{try{await navigator.locks.request(t,n,c=>{if(s(c),c)return new Promise(d=>B(this,el).set(t,d))})}catch(c){a(c)}})}_releaseWebLock(t){var n;(n=B(this,el).get(t))==null||n(),B(this,el).delete(t)}async _pollWebLock(t){var s;return(s=(await navigator.locks.query()).held.find(({name:a})=>a===t))==null?void 0:s.mode}_getTimeoutSignal(){if(this.timeoutMillis){const t=new AbortController;return setTimeout(()=>t.abort(),this.timeoutMillis),t.signal}}}Nn=new WeakMap,el=new WeakMap,Hu=new WeakMap,ss=new WeakSet,R0=async function(t,n){const s=n&bb;try{const a=()=>t.call(this,s);return await xe(this,Hu,B(this,Hu).then(a,a)),xe(this,Nn,s),ft}catch(a){return a.name==="AbortError"?ub:(console.error(a),db)}},qw=async function(t){if(t===B(this,Nn))return ft;switch(B(this,Nn)){case pa:switch(t){case wo:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${B(this,Nn)} -> ${t}`)}case wo:switch(t){case sf:return this._SHAREDtoRESERVED();case of:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${B(this,Nn)} -> ${t}`)}case sf:switch(t){case of:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${B(this,Nn)} -> ${t}`)}default:throw new Error(`unexpected transition ${B(this,Nn)} -> ${t}`)}},Kw=async function(t){if(t===B(this,Nn))return ft;switch(B(this,Nn)){case of:switch(t){case wo:return this._EXCLUSIVEtoSHARED();case pa:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${B(this,Nn)} -> ${t}`)}case sf:switch(t){case wo:return this._RESERVEDtoSHARED();case pa:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${B(this,Nn)} -> ${t}`)}case wo:switch(t){case pa:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${B(this,Nn)} -> ${t}`)}default:throw new Error(`unexpected transition ${B(this,Nn)} -> ${t}`)}};class _b extends Sb{constructor(t){super(),this._lockName=t+"-outer",this._reservedName=t+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}const Tb=5e3;let Ib=0;const th=new WeakMap;function Ei(...e){}var tl,nl,Wu,En,Gu,Mo,ko,Kf,Yw;class Nb{constructor(t,n={durability:"default"}){Ae(this,Kf);Ae(this,tl);Ae(this,nl);Ae(this,Wu);Ae(this,En,null);Ae(this,Gu,0);Ae(this,Mo,Promise.resolve());Ae(this,ko,Promise.resolve());xe(this,nl,Promise.resolve(t).then(s=>xe(this,tl,s))),xe(this,Wu,n)}async close(){const t=B(this,tl)??await B(this,nl);await B(this,Mo),await this.sync(),t.close()}async run(t,n){const s=B(this,Mo).then(()=>Be(this,Kf,Yw).call(this,t,n));return xe(this,Mo,s.catch(()=>{})),s}async sync(){await B(this,Mo),await B(this,ko),xe(this,ko,Promise.resolve())}}tl=new WeakMap,nl=new WeakMap,Wu=new WeakMap,En=new WeakMap,Gu=new WeakMap,Mo=new WeakMap,ko=new WeakMap,Kf=new WeakSet,Yw=async function(t,n){var a,c;const s=B(this,tl)??await B(this,nl);if(t==="readwrite"&&((a=B(this,En))==null?void 0:a.mode)==="readonly")xe(this,En,null);else if(performance.now()-B(this,Gu)>Tb){try{(c=B(this,En))==null||c.commit()}catch(d){if(d.name!=="InvalidStateError")throw d}await new Promise(d=>setTimeout(d)),xe(this,En,null)}for(let d=0;d<2;++d){if(!B(this,En)){xe(this,En,s.transaction(s.objectStoreNames,t,B(this,Wu)));const g=xe(this,Gu,performance.now());xe(this,ko,B(this,ko).then(()=>new Promise((y,x)=>{B(this,En).addEventListener("complete",E=>{y(),B(this,En)===E.target&&xe(this,En,null),Ei(`transaction ${th.get(E.target)} complete`)}),B(this,En).addEventListener("abort",E=>{console.warn("tx abort",(performance.now()-g)/1e3);const C=E.target.error;x(C),B(this,En)===E.target&&xe(this,En,null),Ei(`transaction ${th.get(E.target)} aborted`,C)})}))),th.set(B(this,En),Ib++)}try{const g=Object.fromEntries(Array.from(s.objectStoreNames,y=>[y,new Rb(B(this,En).objectStore(y))]));return await n(g)}catch(g){if(xe(this,En,null),d)throw g}}};function Cs(e){return new Promise((t,n)=>{e.addEventListener("success",()=>t(e.result)),e.addEventListener("error",()=>n(e.error))})}var gn;class Rb{constructor(t){Ae(this,gn);xe(this,gn,t)}get(t){Ei(`get ${B(this,gn).name}`,t);const n=B(this,gn).get(t);return Cs(n)}getAll(t,n){Ei(`getAll ${B(this,gn).name}`,t,n);const s=B(this,gn).getAll(t,n);return Cs(s)}getKey(t){Ei(`getKey ${B(this,gn).name}`,t);const n=B(this,gn).getKey(t);return Cs(n)}getAllKeys(t,n){Ei(`getAllKeys ${B(this,gn).name}`,t,n);const s=B(this,gn).getAllKeys(t,n);return Cs(s)}put(t,n){Ei(`put ${B(this,gn).name}`,t,n);const s=B(this,gn).put(t,n);return Cs(s)}delete(t){Ei(`delete ${B(this,gn).name}`,t);const n=B(this,gn).delete(t);return Cs(n)}clear(){Ei(`clear ${B(this,gn).name}`);const t=B(this,gn).clear();return Cs(t)}index(t){return new Ob(B(this,gn).index(t))}}gn=new WeakMap;var Lo;class Ob{constructor(t){Ae(this,Lo);xe(this,Lo,t)}getAllKeys(t,n){Ei(`IDBIndex.getAllKeys ${B(this,Lo).objectStore.name}<${B(this,Lo).name}>`,t,n);const s=B(this,Lo).getAllKeys(t,n);return Cs(s)}}Lo=new WeakMap;const Db=512,xm=3e3,ym={durability:"default",purge:"deferred",purgeAtLeast:16};function ar(...e){}var Fs,Rn,Ut,Bo,Fo,qi,Mn,O0,Qw,Zw,ga,$w;class Pb extends Ab{constructor(n="wa-sqlite",s=ym){super();Ae(this,Mn);Ae(this,Fs);Ae(this,Rn,new Map);Ae(this,Ut);Ae(this,Bo,new Set);Ae(this,Fo,performance.now());Ae(this,qi,new Set);this.name=n,xe(this,Fs,Object.assign({},ym,s)),xe(this,Ut,new Nb(Mb(n),{durability:B(this,Fs).durability}))}async close(){var n;for(const s of B(this,Rn).keys())await this.xClose(s);await((n=B(this,Ut))==null?void 0:n.close()),xe(this,Ut,null)}xOpen(n,s,a,c){return this.handleAsync(async()=>{n===null&&(n=`null_${s}`),ar(`xOpen ${n} 0x${s.toString(16)} 0x${a.toString(16)}`);try{const d=new URL(n,"http://localhost/"),g={path:d.pathname,flags:a,block0:null,isMetadataChanged:!0,locks:new _b(d.pathname)};return B(this,Rn).set(s,g),await B(this,Ut).run("readwrite",async({blocks:y})=>{if(g.block0=await y.get(Be(this,Mn,ga).call(this,g,0)),!g.block0)if(a&rp)g.block0={path:g.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},y.put(g.block0);else throw new Error(`file not found: ${g.path}`)}),c.setInt32(0,a&pb,!0),ft}catch(d){return console.error(d),Gw}})}xClose(n){return this.handleAsync(async()=>{try{const s=B(this,Rn).get(n);return s&&(ar(`xClose ${s.path}`),B(this,Rn).delete(n),s.flags&gb&&B(this,Ut).run("readwrite",({blocks:a})=>{a.delete(IDBKeyRange.bound([s.path],[s.path,[]]))})),ft}catch(s){return console.error(s),rn}})}xRead(n,s,a){return this.handleAsync(async()=>{const c=B(this,Rn).get(n);ar(`xRead ${c.path} ${s.byteLength} ${a}`);try{return await B(this,Ut).run("readonly",async({blocks:g})=>{let y=0;for(;y<s.byteLength;){const x=a+y,E=x<c.block0.data.byteLength?c.block0:await g.get(Be(this,Mn,ga).call(this,c,-x));if(!E||E.data.byteLength-E.offset<=x)return s.fill(0,y),hb;const C=s.subarray(y),T=x+E.offset,P=Math.min(Math.max(E.data.byteLength-T,0),C.byteLength);C.set(E.data.subarray(T,T+P)),y+=P}return ft})}catch(d){return console.error(d),rn}})}xWrite(n,s,a){const c=B(this,qi).has(n);if(c||performance.now()-B(this,Fo)>xm){const d=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&B(this,qi).add(n),await new Promise(y=>setTimeout(y));const g=Be(this,Mn,O0).call(this,n,s,a);return xe(this,Fo,performance.now()),g});return c&&B(this,qi).delete(n),d}return Be(this,Mn,O0).call(this,n,s,a)}xTruncate(n,s){const a=B(this,Rn).get(n);ar(`xTruncate ${a.path} ${s}`);try{Object.assign(a.block0,{fileSize:s,data:a.block0.data.slice(0,s)});const c=Object.assign({},a.block0);return B(this,Ut).run("readwrite",({blocks:d})=>{d.delete(Be(this,Mn,ga).call(this,a,-1/0,-s)),d.put(c)}),ft}catch(c){return console.error(c),rn}}xSync(n,s){const a=B(this,qi).has(n);if(a||B(this,Fs).durability!=="relaxed"||performance.now()-B(this,Fo)>xm){const d=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&B(this,qi).add(n);const g=await Be(this,Mn,Qw).call(this,n,s);return xe(this,Fo,performance.now()),g});return a&&B(this,qi).delete(n),d}const c=B(this,Rn).get(n);return ar(`xSync ${c.path} ${s}`),ft}xFileSize(n,s){const a=B(this,Rn).get(n);return ar(`xFileSize ${a.path}`),s.setBigInt64(0,BigInt(a.block0.fileSize),!0),ft}xLock(n,s){return this.handleAsync(async()=>{const a=B(this,Rn).get(n);ar(`xLock ${a.path} ${s}`);try{const c=await a.locks.lock(s);return c===ft&&a.locks.state===wo&&(a.block0=await B(this,Ut).run("readonly",({blocks:d})=>d.get(Be(this,Mn,ga).call(this,a,0)))),c}catch(c){return console.error(c),rn}})}xUnlock(n,s){return this.handleAsync(async()=>{const a=B(this,Rn).get(n);ar(`xUnlock ${a.path} ${s}`);try{return a.locks.unlock(s)}catch(c){return console.error(c),rn}})}xCheckReservedLock(n,s){return this.handleAsync(async()=>{const a=B(this,Rn).get(n);ar(`xCheckReservedLock ${a.path}`);const c=await a.locks.isSomewhereReserved();return s.setInt32(0,c?1:0,!0),ft})}xSectorSize(n){return Db}xDeviceCharacteristics(n){return vb|xb|yb|wb}xFileControl(n,s,a){const c=B(this,Rn).get(n);switch(ar(`xFileControl ${c.path} ${s}`),s){case 11:return c.overwrite=!0,ft;case 21:if(c.overwrite)try{return this.handleAsync(async()=>(await Be(this,Mn,$w).call(this,c),ft))}catch(d){return console.error(d),rn}if(c.isMetadataChanged)try{B(this,Ut).run("readwrite",async({blocks:d})=>{await d.put(c.block0)}),c.isMetadataChanged=!1}catch(d){return console.error(d),rn}return ft;case 22:return c.overwrite=!1,ft;case 31:return this.handleAsync(async()=>{try{return c.block0.version--,c.changedPages=new Set,B(this,Ut).run("readwrite",async({blocks:d})=>{const g=await d.index("version").getAllKeys(IDBKeyRange.bound([c.path],[c.path,c.block0.version]));for(const y of g)d.delete(y)}),ft}catch(d){return console.error(d),rn}});case 32:try{const d=Object.assign({},c.block0);d.data=d.data.slice();const g=c.changedPages;return c.changedPages=null,c.isMetadataChanged=!1,B(this,Ut).run("readwrite",async({blocks:y})=>{y.put(d);const x=await y.get([c.path,"purge",0])??{path:c.path,offset:"purge",version:0,data:new Map,count:0};x.count+=g.size;for(const E of g)x.data.set(E,d.version);y.put(x),Be(this,Mn,Zw).call(this,c.path,x.count)}),ft}catch(d){return console.error(d),rn}case 33:return this.handleAsync(async()=>{try{return c.changedPages=null,c.isMetadataChanged=!1,c.block0=await B(this,Ut).run("readonly",({blocks:d})=>d.get([c.path,0,c.block0.version+1])),ft}catch(d){return console.error(d),rn}});default:return Ww}}xAccess(n,s,a){return this.handleAsync(async()=>{try{const c=new URL(n,"file://localhost/").pathname;ar(`xAccess ${c} ${s}`);const d=await B(this,Ut).run("readonly",({blocks:g})=>g.getKey(Be(this,Mn,ga).call(this,{path:c},0)));return a.setInt32(0,d?1:0,!0),ft}catch(c){return console.error(c),rn}})}xDelete(n,s){return this.handleAsync(async()=>{const a=new URL(n,"file://localhost/").pathname;try{return B(this,Ut).run("readwrite",({blocks:c})=>c.delete(IDBKeyRange.bound([a],[a,[]]))),s&&await B(this,Ut).sync(),ft}catch(c){return console.error(c),rn}})}async purge(n){const s=Date.now();await B(this,Ut).run("readwrite",async({blocks:a})=>{const c=await a.get([n,"purge",0]);if(c){for(const[d,g]of c.data)a.delete(IDBKeyRange.bound([n,d,g],[n,d,1/0],!0,!1));await a.delete([n,"purge",0])}ar(`purge ${n} ${(c==null?void 0:c.data.size)??0} pages in ${Date.now()-s} ms`)})}}Fs=new WeakMap,Rn=new WeakMap,Ut=new WeakMap,Bo=new WeakMap,Fo=new WeakMap,qi=new WeakMap,Mn=new WeakSet,O0=function(n,s,a){const c=B(this,Rn).get(n);ar(`xWrite ${c.path} ${s.byteLength} ${a}`);try{const d=c.block0.fileSize;c.block0.fileSize<a+s.byteLength&&(c.block0.fileSize=a+s.byteLength,c.isMetadataChanged=!0);const g=a===0?c.block0:{path:c.path,offset:-a,version:c.block0.version,data:null};return g.data=s.slice(),c.changedPages?(d===c.block0.fileSize&&c.changedPages.add(-a),a!==0&&B(this,Ut).run("readwrite",({blocks:y})=>y.put(g))):B(this,Ut).run("readwrite",({blocks:y})=>y.put(g)),c.isMetadataChanged=a===0?!1:c.isMetadataChanged,ft}catch(d){return console.error(d),rn}},Qw=async function(n,s){const a=B(this,Rn).get(n);ar(`xSync ${a.path} ${s}`);try{a.isMetadataChanged&&(B(this,Ut).run("readwrite",async({blocks:c})=>{await c.put(a.block0)}),a.isMetadataChanged=!1),await B(this,Ut).sync()}catch(c){return console.error(c),rn}return ft},Zw=function(n,s){B(this,Fs).purge==="manual"||B(this,Bo).has(n)||s<B(this,Fs).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(n),B(this,Bo).delete(n)}):setTimeout(()=>{this.purge(n),B(this,Bo).delete(n)}),B(this,Bo).add(n))},ga=function(n,s,a=0){const c=!s||-s<n.block0.data.length?-1/0:n.block0.version;return IDBKeyRange.bound([n.path,s,c],[n.path,a,1/0])},$w=async function(n){const s=n.block0.data.length;if(s<18)return;const a=new DataView(n.block0.data.buffer,n.block0.data.byteOffset);let c=a.getUint16(16);if(c===1&&(c=65536),c===s)return;const d=Math.max(s,c),g=d/s,y=d/c,E=a.getUint32(28)*c,C=n.block0.version;await B(this,Ut).run("readwrite",async({blocks:T})=>{const P=await T.index("version").getAllKeys(IDBKeyRange.bound([n.path,C+1],[n.path,1/0]));for(const U of P)T.delete(U);T.delete([n.path,"purge",0]);for(let U=0;U<E;U+=d){const I=await T.getAll(IDBKeyRange.lowerBound([n.path,-(U+d),1/0]),g);for(const D of I)T.delete([D.path,D.offset,D.version]);if(y===1){const D=new Uint8Array(c);for(const S of I)D.set(S.data,-(U+S.offset));const A={path:n.path,offset:-U,version:C,data:D};A.offset===0&&(A.fileSize=E,n.block0=A),T.put(A)}else{const D=I[0];for(let A=0;A<y;++A){const S=-(U+A*c);if(-S>=E)break;const N={path:D.path,offset:S,version:C,data:D.data.subarray(A*c,(A+1)*c)};N.offset===0&&(N.fileSize=E,n.block0=N),T.put(N)}}}})};function Mb(e){return new Promise((t,n)=>{const s=globalThis.indexedDB.open(e,5);s.addEventListener("upgradeneeded",function(){s.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),s.addEventListener("success",()=>{t(s.result)}),s.addEventListener("error",()=>{n(s.error)})})}let zl=null,nh=null,Hl=null;const wm="foodscan_v1.sqlite";async function kb(){return Hl||(Hl=(async()=>{try{const e=await Cb({locateFile:t=>t.includes("wa-sqlite-async.wasm")?"./wa-sqlite-async.wasm":t});if(zl=Eb(e),typeof navigator<"u"&&navigator.locks)try{const t=new Pb(wm);zl.vfs_register(t,!0)}catch(t){console.warn("VFS registration failed, falling back to default/memory",t)}return nh=await zl.open_v2(wm,Xw|rp),await Lb(nh,zl),{db:nh,sqlite3:zl}}catch(e){throw Hl=null,console.error("CRITICAL: Failed to init DB",e),e}})(),Hl)}async function Lb(e,t){const n=[`CREATE TABLE IF NOT EXISTS products (
      code TEXT PRIMARY KEY,
      name TEXT,
      ingredients TEXT,
      palm_oil_tags TEXT,
      palm_oil_may_be_tags TEXT,
      image_url TEXT,
      nutriscore_grade TEXT,
      nova_group INTEGER,
      nutrient_levels TEXT,
      additives_tags TEXT,
      last_updated INTEGER
    )`,"CREATE INDEX IF NOT EXISTS idx_products_name ON products(name)"];for(const s of n)await t.exec(e,s.trim())}async function Bb(){const{db:e,sqlite3:t}=await kb();if(!e)return null;try{let n=0,s=0;return await t.exec(e,"SELECT MAX(last_updated) as ts, COUNT(*) as c FROM products",a=>{n=a[0],s=a[1]}),console.log(`[DB Stats] Items in DB: ${s}, Last Updated: ${n}`),{last_updated:n}}catch(n){return console.error("Failed to get stats",n),{last_updated:0}}}const Jw="/ingredients-finder/data",e3=async()=>{try{const e=await fetch(`${Jw}/version.json?t=${Date.now()}`);if(!e.ok)return null;const t=e.headers.get("content-type");return!t||!t.includes("application/json")?(console.warn("Version check returned non-JSON response. Check if public/data/version.json exists."),null):(await e.json()).last_updated}catch(e){return console.error("Failed to check remote version",e),null}},Fb=async e=>{try{e&&e("Checking for updates...");const t=await e3();if(!t)throw new Error("Could not fetch version info");const n=localStorage.getItem("db_version");if(n&&Number(n)>=t)return!1;e&&e("Downloading database (might take a while)...");const s=await fetch(`${Jw}/products.json.gz`);if(!s.ok)throw new Error("Download failed");if(!s.body)throw new Error("Response body is empty");const a=new DecompressionStream("gzip"),c=s.body.pipeThrough(a),d=new Response(c);e&&e("Processing data...");const g=await d.json();return e&&e(`Importing ${g.length} items...`),console.log("[Sync] ISOLATED: Skipping bulkImport to DB."),localStorage.setItem("db_version",String(t)),!0}catch(t){throw console.error("Sync failed",t),e&&e("Sync failed: "+t.message),t}},Vb={},vm=e=>{let t;const n=new Set,s=(E,C)=>{const T=typeof E=="function"?E(t):E;if(!Object.is(T,t)){const P=t;t=C??(typeof T!="object"||T===null)?T:Object.assign({},t,T),n.forEach(U=>U(t,P))}},a=()=>t,y={setState:s,getState:a,getInitialState:()=>x,subscribe:E=>(n.add(E),()=>n.delete(E)),destroy:()=>{(Vb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},x=t=e(s,a,y);return y},Ub=e=>e?vm(e):vm;var t3={exports:{}},n3={},r3={exports:{}},i3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=se;function jb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zb=typeof Object.is=="function"?Object.is:jb,Hb=cl.useState,Wb=cl.useEffect,Gb=cl.useLayoutEffect,Xb=cl.useDebugValue;function qb(e,t){var n=t(),s=Hb({inst:{value:n,getSnapshot:t}}),a=s[0].inst,c=s[1];return Gb(function(){a.value=n,a.getSnapshot=t,rh(a)&&c({inst:a})},[e,n,t]),Wb(function(){return rh(a)&&c({inst:a}),e(function(){rh(a)&&c({inst:a})})},[e]),Xb(n),n}function rh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zb(e,n)}catch{return!0}}function Kb(e,t){return t()}var Yb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Kb:qb;i3.useSyncExternalStore=cl.useSyncExternalStore!==void 0?cl.useSyncExternalStore:Yb;r3.exports=i3;var Qb=r3.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=se,Zb=Qb;function $b(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jb=typeof Object.is=="function"?Object.is:$b,e8=Zb.useSyncExternalStore,t8=hd.useRef,n8=hd.useEffect,r8=hd.useMemo,i8=hd.useDebugValue;n3.useSyncExternalStoreWithSelector=function(e,t,n,s,a){var c=t8(null);if(c.current===null){var d={hasValue:!1,value:null};c.current=d}else d=c.current;c=r8(function(){function y(P){if(!x){if(x=!0,E=P,P=s(P),a!==void 0&&d.hasValue){var U=d.value;if(a(U,P))return C=U}return C=P}if(U=C,Jb(E,P))return U;var I=s(P);return a!==void 0&&a(U,I)?(E=P,U):(E=P,C=I)}var x=!1,E,C,T=n===void 0?null:n;return[function(){return y(t())},T===null?void 0:function(){return y(T())}]},[t,n,s,a]);var g=e8(e,c[0],c[1]);return n8(function(){d.hasValue=!0,d.value=g},[g]),i8(g),g};t3.exports=n3;var s8=t3.exports;const o8=r1(s8),s3={},{useDebugValue:a8}=Ma,{useSyncExternalStoreWithSelector:l8}=o8;let Em=!1;const u8=e=>e;function c8(e,t=u8,n){(s3?"production":void 0)!=="production"&&n&&!Em&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Em=!0);const s=l8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return a8(s),s}const Cm=e=>{(s3?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ub(e):e,n=(s,a)=>c8(t,s,a);return Object.assign(n,t),n},f8=e=>e?Cm(e):Cm,Sr=f8(e=>({currentView:"home",setView:t=>e({currentView:t}),toasts:[],addToast:t=>{const n=Math.random().toString(36).substring(7);e({toasts:[{...t,id:n}]}),t.type!=="percentage"&&setTimeout(()=>{e(s=>({toasts:s.toasts.filter(a=>a.id!==n)}))},3e3)},removeToast:t=>e(n=>({toasts:n.toasts.filter(s=>s.id!==t)})),activeCode:null,setActiveCode:t=>e({activeCode:t}),isOnline:navigator.onLine,setOnlineStatus:t=>e({isOnline:t})})),d8=()=>{const e=Sr(P=>P.isOnline),t=Sr(P=>P.setOnlineStatus),[n,s]=se.useState(null),[a,c]=se.useState(!1),[d,g]=se.useState(!1),[y,x]=se.useState(!1);se.useEffect(()=>{const P=async()=>{if(!navigator.onLine){t(!1);return}try{let D=0;for(;D<2;)try{D++;const A=new AbortController,S=setTimeout(()=>A.abort(),3e3);console.log("ISOLATION MODE: Commenting out bulk import to verify if large JSON/DB write causes crash checkConnection"),await fetch(`/ingredients-finder/vite.svg?t=${Date.now()}`,{method:"HEAD",signal:A.signal,cache:"no-store"}),clearTimeout(S),t(!0);return}catch(A){if(D<2&&A.name!=="AbortError"){console.log(`[Connection] Ping attempt ${D} failed, retrying...`),await new Promise(S=>setTimeout(S,1e3));continue}throw A}}catch{console.log("[Connection] Ping failed, setting global Offline."),t(!1)}},U=()=>{navigator.onLine?P():t(!1)};window.addEventListener("online",U),window.addEventListener("offline",U);const I=setInterval(P,1e4);return E(),P(),C(),()=>{window.removeEventListener("online",U),window.removeEventListener("offline",U),clearInterval(I)}},[]),se.useEffect(()=>{e&&d&&!y&&(console.log("Auto-syncing on WiFi..."),x(!0),T())},[e,d,y]);const E=async()=>{console.log("ISOLATION MODE: Commenting out bulk import to verify if large JSON/DB write causes crash refreshStats");const P=await Bb();if(P&&P.last_updated){const U=new Date(Number(P.last_updated));P.last_updated>0?s(U.toLocaleDateString()):s("Basic")}else s("Empty")},C=async()=>{if(console.log("ISOLATION MODE: Commenting out bulk import to verify if large JSON/DB write causes crash checkRemote"),!navigator.onLine)return;const P=await e3(),U=localStorage.getItem("db_version");P&&(!U||Number(U)<P)&&g(!0)},T=async()=>{if(console.log("ISOLATION MODE: Commenting out bulk import to verify if large JSON/DB write causes crash handleSync"),!e){da.error("You are offline.");return}c(!0);const P=da.loading("Updating Database...");try{await Fb(I=>{da.loading(I,{id:P})})?(da.success("Update Complete!",{id:P}),await E(),g(!1)):da.success("Already up to date",{id:P})}catch(U){console.error(U),da.error("Update Failed",{id:P})}finally{c(!1)}};return X.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 px-4 py-2 flex items-center justify-between text-[10px] sm:text-xs text-slate-500 z-50 pb-[env(safe-area-inset-bottom)]",children:X.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[X.jsxs("div",{className:`flex items-center gap-1.5 ${e?"text-emerald-500":"text-slate-400"}`,children:[e?X.jsx(lb,{size:14}):X.jsx(ab,{size:14}),X.jsx("span",{className:"font-semibold hidden sm:inline",children:e?"Online":"Offline"})]}),X.jsx("div",{className:"h-3 w-[1px] bg-slate-200"}),X.jsxs("button",{onClick:T,disabled:a,className:`flex items-center gap-1.5 transition-colors ${d||a?"text-blue-600 font-bold animate-pulse":"text-slate-500 hover:text-slate-700"}`,children:[a?X.jsx(lm,{size:14,className:"animate-spin"}):d?X.jsx(lm,{size:14}):X.jsx(nb,{size:14}),!a&&X.jsx("span",{children:d?"Update Now":n?`${n}`:"No Data"})]})]})})},ip=se.createContext({});function sp(e){const t=se.useRef(null);return t.current===null&&(t.current=e()),t.current}const pd=se.createContext(null),op=se.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class h8 extends se.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function p8({children:e,isPresent:t}){const n=se.useId(),s=se.useRef(null),a=se.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=se.useContext(op);return se.useInsertionEffect(()=>{const{width:d,height:g,top:y,left:x}=a.current;if(t||!s.current||!d||!g)return;s.current.dataset.motionPopId=n;const E=document.createElement("style");return c&&(E.nonce=c),document.head.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${g}px !important;
            top: ${y}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(E)}},[t]),X.jsx(h8,{isPresent:t,childRef:s,sizeRef:a,children:se.cloneElement(e,{ref:s})})}const g8=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:c,mode:d})=>{const g=sp(m8),y=se.useId(),x=se.useCallback(C=>{g.set(C,!0);for(const T of g.values())if(!T)return;s&&s()},[g,s]),E=se.useMemo(()=>({id:y,initial:t,isPresent:n,custom:a,onExitComplete:x,register:C=>(g.set(C,!1),()=>g.delete(C))}),c?[Math.random(),x]:[n,x]);return se.useMemo(()=>{g.forEach((C,T)=>g.set(T,!1))},[n]),se.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),d==="popLayout"&&(e=X.jsx(p8,{isPresent:n,children:e})),X.jsx(pd.Provider,{value:E,children:e})};function m8(){return new Map}function o3(e=!0){const t=se.useContext(pd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,c=se.useId();se.useEffect(()=>{e&&a(c)},[e]);const d=se.useCallback(()=>e&&s&&s(c),[c,s,e]);return!n&&s?[!1,d]:[!0]}const jc=e=>e.key||"";function Am(e){const t=[];return se.Children.forEach(e,n=>{se.isValidElement(n)&&t.push(n)}),t}const ap=typeof window<"u",a3=ap?se.useLayoutEffect:se.useEffect,af=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:c="sync",propagate:d=!1})=>{const[g,y]=o3(d),x=se.useMemo(()=>Am(e),[e]),E=d&&!g?[]:x.map(jc),C=se.useRef(!0),T=se.useRef(x),P=sp(()=>new Map),[U,I]=se.useState(x),[D,A]=se.useState(x);a3(()=>{C.current=!1,T.current=x;for(let L=0;L<D.length;L++){const q=jc(D[L]);E.includes(q)?P.delete(q):P.get(q)!==!0&&P.set(q,!1)}},[D,E.length,E.join("-")]);const S=[];if(x!==U){let L=[...x];for(let q=0;q<D.length;q++){const G=D[q],H=jc(G);E.includes(H)||(L.splice(q,0,G),S.push(G))}c==="wait"&&S.length&&(L=S),A(Am(L)),I(x);return}const{forceRender:N}=se.useContext(ip);return X.jsx(X.Fragment,{children:D.map(L=>{const q=jc(L),G=d&&!g?!1:x===D||E.includes(q),H=()=>{if(P.has(q))P.set(q,!0);else return;let $=!0;P.forEach(te=>{te||($=!1)}),$&&(N==null||N(),A(T.current),d&&(y==null||y()),s&&s())};return X.jsx(g8,{isPresent:G,initial:!C.current||n?void 0:!1,custom:G?void 0:t,presenceAffectsLayout:a,mode:c,onExitComplete:G?void 0:H,children:L},q)})})},Tr=e=>e;let l3=Tr;function lp(e){let t;return()=>(t===void 0&&(t=e()),t)}const fl=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},Zi=e=>e*1e3,$i=e=>e/1e3,x8={useManualTiming:!1};function y8(e){let t=new Set,n=new Set,s=!1,a=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function g(x){c.has(x)&&(y.schedule(x),e()),x(d)}const y={schedule:(x,E=!1,C=!1)=>{const P=C&&s?t:n;return E&&c.add(x),P.has(x)||P.add(x),x},cancel:x=>{n.delete(x),c.delete(x)},process:x=>{if(d=x,s){a=!0;return}s=!0,[t,n]=[n,t],t.forEach(g),t.clear(),s=!1,a&&(a=!1,y.process(x))}};return y}const zc=["read","resolveKeyframes","update","preRender","render","postRender"],w8=40;function u3(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,d=zc.reduce((A,S)=>(A[S]=y8(c),A),{}),{read:g,resolveKeyframes:y,update:x,preRender:E,render:C,postRender:T}=d,P=()=>{const A=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(A-a.timestamp,w8),1),a.timestamp=A,a.isProcessing=!0,g.process(a),y.process(a),x.process(a),E.process(a),C.process(a),T.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(P))},U=()=>{n=!0,s=!0,a.isProcessing||e(P)};return{schedule:zc.reduce((A,S)=>{const N=d[S];return A[S]=(L,q=!1,G=!1)=>(n||U(),N.schedule(L,q,G)),A},{}),cancel:A=>{for(let S=0;S<zc.length;S++)d[zc[S]].cancel(A)},state:a,steps:d}}const{schedule:Ft,cancel:$s,state:Dn,steps:ih}=u3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tr,!0),c3=se.createContext({strict:!1}),bm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dl={};for(const e in bm)dl[e]={isEnabled:t=>bm[e].some(n=>!!t[n])};function v8(e){for(const t in e)dl[t]={...dl[t],...e[t]}}const E8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ff(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||E8.has(e)}let f3=e=>!Ff(e);function C8(e){e&&(f3=t=>t.startsWith("on")?!Ff(t):e(t))}try{C8(require("@emotion/is-prop-valid").default)}catch{}function A8(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(f3(a)||n===!0&&Ff(a)||!t&&!Ff(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function b8(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const gd=se.createContext({});function Pu(e){return typeof e=="string"||Array.isArray(e)}function md(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const up=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cp=["initial",...up];function xd(e){return md(e.animate)||cp.some(t=>Pu(e[t]))}function d3(e){return!!(xd(e)||e.variants)}function S8(e,t){if(xd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Pu(n)?n:void 0,animate:Pu(s)?s:void 0}}return e.inherit!==!1?t:{}}function _8(e){const{initial:t,animate:n}=S8(e,se.useContext(gd));return se.useMemo(()=>({initial:t,animate:n}),[Sm(t),Sm(n)])}function Sm(e){return Array.isArray(e)?e.join(" "):e}const T8=Symbol.for("motionComponentSymbol");function Ia(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function I8(e,t,n){return se.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Ia(n)&&(n.current=s))},[t])}const fp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),N8="framerAppearId",h3="data-"+fp(N8),{schedule:dp}=u3(queueMicrotask,!1),p3=se.createContext({});function R8(e,t,n,s,a){var c,d;const{visualElement:g}=se.useContext(gd),y=se.useContext(c3),x=se.useContext(pd),E=se.useContext(op).reducedMotion,C=se.useRef(null);s=s||y.renderer,!C.current&&s&&(C.current=s(e,{visualState:t,parent:g,props:n,presenceContext:x,blockInitialAnimation:x?x.initial===!1:!1,reducedMotionConfig:E}));const T=C.current,P=se.useContext(p3);T&&!T.projection&&a&&(T.type==="html"||T.type==="svg")&&O8(C.current,n,a,P);const U=se.useRef(!1);se.useInsertionEffect(()=>{T&&U.current&&T.update(n,x)});const I=n[h3],D=se.useRef(!!I&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,I))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,I)));return a3(()=>{T&&(U.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),dp.render(T.render),D.current&&T.animationState&&T.animationState.animateChanges())}),se.useEffect(()=>{T&&(!D.current&&T.animationState&&T.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)===null||A===void 0||A.call(window,I)}),D.current=!1))}),T}function O8(e,t,n,s){const{layoutId:a,layout:c,drag:d,dragConstraints:g,layoutScroll:y,layoutRoot:x}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:g3(e.parent)),e.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!d||g&&Ia(g),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:y,layoutRoot:x})}function g3(e){if(e)return e.options.allowProjection!==!1?e.projection:g3(e.parent)}function D8({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:a}){var c,d;e&&v8(e);function g(x,E){let C;const T={...se.useContext(op),...x,layoutId:P8(x)},{isStatic:P}=T,U=_8(x),I=s(x,P);if(!P&&ap){M8();const D=k8(T);C=D.MeasureLayout,U.visualElement=R8(a,I,T,t,D.ProjectionNode)}return X.jsxs(gd.Provider,{value:U,children:[C&&U.visualElement?X.jsx(C,{visualElement:U.visualElement,...T}):null,n(a,x,I8(I,U.visualElement,E),I,P,U.visualElement)]})}g.displayName=`motion.${typeof a=="string"?a:`create(${(d=(c=a.displayName)!==null&&c!==void 0?c:a.name)!==null&&d!==void 0?d:""})`}`;const y=se.forwardRef(g);return y[T8]=a,y}function P8({layoutId:e}){const t=se.useContext(ip).id;return t&&e!==void 0?t+"-"+e:e}function M8(e,t){se.useContext(c3).strict}function k8(e){const{drag:t,layout:n}=dl;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const L8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hp(e){return typeof e!="string"||e.includes("-")?!1:!!(L8.indexOf(e)>-1||/[A-Z]/u.test(e))}function _m(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function pp(e,t,n,s){if(typeof t=="function"){const[a,c]=_m(s);t=t(n!==void 0?n:e.custom,a,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,c]=_m(s);t=t(n!==void 0?n:e.custom,a,c)}return t}const D0=e=>Array.isArray(e),B8=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),F8=e=>D0(e)?e[e.length-1]||0:e,zn=e=>!!(e&&e.getVelocity);function lf(e){const t=zn(e)?e.get():e;return B8(t)?t.toValue():t}function V8({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,a,c){const d={latestValues:U8(s,a,c,e),renderState:t()};return n&&(d.onMount=g=>n({props:s,current:g,...d}),d.onUpdate=g=>n(g)),d}const m3=e=>(t,n)=>{const s=se.useContext(gd),a=se.useContext(pd),c=()=>V8(e,t,s,a);return n?c():sp(c)};function U8(e,t,n,s){const a={},c=s(e,{});for(const T in c)a[T]=lf(c[T]);let{initial:d,animate:g}=e;const y=xd(e),x=d3(e);t&&x&&!y&&e.inherit!==!1&&(d===void 0&&(d=t.initial),g===void 0&&(g=t.animate));let E=n?n.initial===!1:!1;E=E||d===!1;const C=E?g:d;if(C&&typeof C!="boolean"&&!md(C)){const T=Array.isArray(C)?C:[C];for(let P=0;P<T.length;P++){const U=pp(e,T[P]);if(U){const{transitionEnd:I,transition:D,...A}=U;for(const S in A){let N=A[S];if(Array.isArray(N)){const L=E?N.length-1:0;N=N[L]}N!==null&&(a[S]=N)}for(const S in I)a[S]=I[S]}}}return a}const xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zo=new Set(xl),x3=e=>t=>typeof t=="string"&&t.startsWith(e),y3=x3("--"),j8=x3("var(--"),gp=e=>j8(e)?z8.test(e.split("/*")[0].trim()):!1,z8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,w3=(e,t)=>t&&typeof e=="number"?t.transform(e):e,is=(e,t,n)=>n>t?t:n<e?e:n,yl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Mu={...yl,transform:e=>is(0,1,e)},Hc={...yl,default:1},Ju=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),As=Ju("deg"),Ni=Ju("%"),Fe=Ju("px"),H8=Ju("vh"),W8=Ju("vw"),Tm={...Ni,parse:e=>Ni.parse(e)/100,transform:e=>Ni.transform(e*100)},G8={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe},X8={rotate:As,rotateX:As,rotateY:As,rotateZ:As,scale:Hc,scaleX:Hc,scaleY:Hc,scaleZ:Hc,skew:As,skewX:As,skewY:As,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Mu,originX:Tm,originY:Tm,originZ:Fe},Im={...yl,transform:Math.round},mp={...G8,...X8,zIndex:Im,size:Fe,fillOpacity:Mu,strokeOpacity:Mu,numOctaves:Im},q8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K8=xl.length;function Y8(e,t,n){let s="",a=!0;for(let c=0;c<K8;c++){const d=xl[c],g=e[d];if(g===void 0)continue;let y=!0;if(typeof g=="number"?y=g===(d.startsWith("scale")?1:0):y=parseFloat(g)===0,!y||n){const x=w3(g,mp[d]);if(!y){a=!1;const E=q8[d]||d;s+=`${E}(${x}) `}n&&(t[d]=x)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function xp(e,t,n){const{style:s,vars:a,transformOrigin:c}=e;let d=!1,g=!1;for(const y in t){const x=t[y];if(Zo.has(y)){d=!0;continue}else if(y3(y)){a[y]=x;continue}else{const E=w3(x,mp[y]);y.startsWith("origin")?(g=!0,c[y]=E):s[y]=E}}if(t.transform||(d||n?s.transform=Y8(t,e.transform,n):s.transform&&(s.transform="none")),g){const{originX:y="50%",originY:x="50%",originZ:E=0}=c;s.transformOrigin=`${y} ${x} ${E}`}}const Q8={offset:"stroke-dashoffset",array:"stroke-dasharray"},Z8={offset:"strokeDashoffset",array:"strokeDasharray"};function $8(e,t,n=1,s=0,a=!0){e.pathLength=1;const c=a?Q8:Z8;e[c.offset]=Fe.transform(-s);const d=Fe.transform(t),g=Fe.transform(n);e[c.array]=`${d} ${g}`}function Nm(e,t,n){return typeof e=="string"?e:Fe.transform(t+n*e)}function J8(e,t,n){const s=Nm(t,e.x,e.width),a=Nm(n,e.y,e.height);return`${s} ${a}`}function yp(e,{attrX:t,attrY:n,attrScale:s,originX:a,originY:c,pathLength:d,pathSpacing:g=1,pathOffset:y=0,...x},E,C){if(xp(e,x,C),E){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:P,dimensions:U}=e;T.transform&&(U&&(P.transform=T.transform),delete T.transform),U&&(a!==void 0||c!==void 0||P.transform)&&(P.transformOrigin=J8(U,a!==void 0?a:.5,c!==void 0?c:.5)),t!==void 0&&(T.x=t),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),d!==void 0&&$8(T,d,g,y,!1)}const wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),v3=()=>({...wp(),attrs:{}}),vp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function E3(e,{style:t,vars:n},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const c in n)e.style.setProperty(c,n[c])}const C3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function A3(e,t,n,s){E3(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(C3.has(a)?a:fp(a),t.attrs[a])}const Vf={};function eS(e){Object.assign(Vf,e)}function b3(e,{layout:t,layoutId:n}){return Zo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Vf[e]||e==="opacity")}function Ep(e,t,n){var s;const{style:a}=e,c={};for(const d in a)(zn(a[d])||t.style&&zn(t.style[d])||b3(d,e)||((s=n==null?void 0:n.getValue(d))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(c[d]=a[d]);return c}function S3(e,t,n){const s=Ep(e,t,n);for(const a in e)if(zn(e[a])||zn(t[a])){const c=xl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[c]=e[a]}return s}function tS(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Rm=["x","y","width","height","cx","cy","r"],nS={useVisualState:m3({scrapeMotionValuesFromProps:S3,createRenderState:v3,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:a})=>{if(!n)return;let c=!!e.drag;if(!c){for(const g in a)if(Zo.has(g)){c=!0;break}}if(!c)return;let d=!t;if(t)for(let g=0;g<Rm.length;g++){const y=Rm[g];e[y]!==t[y]&&(d=!0)}d&&Ft.read(()=>{tS(n,s),Ft.render(()=>{yp(s,a,vp(n.tagName),e.transformTemplate),A3(n,s)})})}})},rS={useVisualState:m3({scrapeMotionValuesFromProps:Ep,createRenderState:wp})};function _3(e,t,n){for(const s in t)!zn(t[s])&&!b3(s,n)&&(e[s]=t[s])}function iS({transformTemplate:e},t){return se.useMemo(()=>{const n=wp();return xp(n,t,e),Object.assign({},n.vars,n.style)},[t])}function sS(e,t){const n=e.style||{},s={};return _3(s,n,e),Object.assign(s,iS(e,t)),s}function oS(e,t){const n={},s=sS(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}function aS(e,t,n,s){const a=se.useMemo(()=>{const c=v3();return yp(c,t,vp(s),e.transformTemplate),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};_3(c,e.style,e),a.style={...c,...a.style}}return a}function lS(e=!1){return(n,s,a,{latestValues:c},d)=>{const y=(hp(n)?aS:oS)(s,c,d,n),x=A8(s,typeof n=="string",e),E=n!==se.Fragment?{...x,...y,ref:a}:{},{children:C}=s,T=se.useMemo(()=>zn(C)?C.get():C,[C]);return se.createElement(n,{...E,children:T})}}function uS(e,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const d={...hp(s)?nS:rS,preloadedFeatures:e,useRender:lS(a),createVisualElement:t,Component:s};return D8(d)}}function T3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function yd(e,t,n){const s=e.getProps();return pp(s,t,n!==void 0?n:s.custom,e)}const cS=lp(()=>window.ScrollTimeline!==void 0);class fS{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(a=>{if(cS()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,c)=>{a&&a(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dS extends fS{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Cp(e,t){return e?e[t]||e.default||e:void 0}const P0=2e4;function I3(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<P0;)t+=n,s=e.next(t);return t>=P0?1/0:t}function Ap(e){return typeof e=="function"}function Om(e,t){e.timeline=t,e.onfinish=null}const bp=e=>Array.isArray(e)&&typeof e[0]=="number",hS={linearEasing:void 0};function pS(e,t){const n=lp(e);return()=>{var s;return(s=hS[t])!==null&&s!==void 0?s:n()}}const Uf=pS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),N3=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let c=0;c<a;c++)s+=e(fl(0,a-1,c))+", ";return`linear(${s.substring(0,s.length-2)})`};function R3(e){return!!(typeof e=="function"&&Uf()||!e||typeof e=="string"&&(e in M0||Uf())||bp(e)||Array.isArray(e)&&e.every(R3))}const $l=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,M0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$l([0,.65,.55,1]),circOut:$l([.55,0,1,.45]),backIn:$l([.31,.01,.66,-.59]),backOut:$l([.33,1.53,.69,.99])};function O3(e,t){if(e)return typeof e=="function"&&Uf()?N3(e,t):bp(e)?$l(e):Array.isArray(e)?e.map(n=>O3(n,t)||M0.easeOut):M0[e]}const Jr={x:!1,y:!1};function D3(){return Jr.x||Jr.y}function gS(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const c=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e)}function P3(e,t){const n=gS(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function Dm(e){return t=>{t.pointerType==="touch"||D3()||e(t)}}function mS(e,t,n={}){const[s,a,c]=P3(e,n),d=Dm(g=>{const{target:y}=g,x=t(g);if(typeof x!="function"||!y)return;const E=Dm(C=>{x(C),y.removeEventListener("pointerleave",E)});y.addEventListener("pointerleave",E,a)});return s.forEach(g=>{g.addEventListener("pointerenter",d,a)}),c}const M3=(e,t)=>t?e===t?!0:M3(e,t.parentElement):!1,Sp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,xS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yS(e){return xS.has(e.tagName)||e.tabIndex!==-1}const Jl=new WeakSet;function Pm(e){return t=>{t.key==="Enter"&&e(t)}}function sh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wS=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Pm(()=>{if(Jl.has(n))return;sh(n,"down");const a=Pm(()=>{sh(n,"up")}),c=()=>sh(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",c,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Mm(e){return Sp(e)&&!D3()}function vS(e,t,n={}){const[s,a,c]=P3(e,n),d=g=>{const y=g.currentTarget;if(!Mm(g)||Jl.has(y))return;Jl.add(y);const x=t(g),E=(P,U)=>{window.removeEventListener("pointerup",C),window.removeEventListener("pointercancel",T),!(!Mm(P)||!Jl.has(y))&&(Jl.delete(y),typeof x=="function"&&x(P,{success:U}))},C=P=>{E(P,n.useGlobalTarget||M3(y,P.target))},T=P=>{E(P,!1)};window.addEventListener("pointerup",C,a),window.addEventListener("pointercancel",T,a)};return s.forEach(g=>{!yS(g)&&g.getAttribute("tabindex")===null&&(g.tabIndex=0),(n.useGlobalTarget?window:g).addEventListener("pointerdown",d,a),g.addEventListener("focus",x=>wS(x,a),a)}),c}function ES(e){return e==="x"||e==="y"?Jr[e]?null:(Jr[e]=!0,()=>{Jr[e]=!1}):Jr.x||Jr.y?null:(Jr.x=Jr.y=!0,()=>{Jr.x=Jr.y=!1})}const k3=new Set(["width","height","top","left","right","bottom",...xl]);let uf;function CS(){uf=void 0}const Ri={now:()=>(uf===void 0&&Ri.set(Dn.isProcessing||x8.useManualTiming?Dn.timestamp:performance.now()),uf),set:e=>{uf=e,queueMicrotask(CS)}};function _p(e,t){e.indexOf(t)===-1&&e.push(t)}function Tp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ip{constructor(){this.subscriptions=[]}add(t){return _p(this.subscriptions,t),()=>Tp(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let c=0;c<a;c++){const d=this.subscriptions[c];d&&d(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function L3(e,t){return t?e*(1e3/t):0}const km=30,AS=e=>!isNaN(parseFloat(e));class bS{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const c=Ri.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ri.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=AS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ip);const s=this.events[t].add(n);return t==="change"?()=>{s(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ri.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>km)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,km);return L3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ku(e,t){return new bS(e,t)}function SS(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ku(n))}function _S(e,t){const n=yd(e,t);let{transitionEnd:s={},transition:a={},...c}=n||{};c={...c,...s};for(const d in c){const g=F8(c[d]);SS(e,d,g)}}function TS(e){return!!(zn(e)&&e.add)}function k0(e,t){const n=e.getValue("willChange");if(TS(n))return n.add(t)}function B3(e){return e.props[h3]}const F3=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,IS=1e-7,NS=12;function RS(e,t,n,s,a){let c,d,g=0;do d=t+(n-t)/2,c=F3(d,s,a)-e,c>0?n=d:t=d;while(Math.abs(c)>IS&&++g<NS);return d}function ec(e,t,n,s){if(e===t&&n===s)return Tr;const a=c=>RS(c,0,1,e,n);return c=>c===0||c===1?c:F3(a(c),t,s)}const V3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,U3=e=>t=>1-e(1-t),j3=ec(.33,1.53,.69,.99),Np=U3(j3),z3=V3(Np),H3=e=>(e*=2)<1?.5*Np(e):.5*(2-Math.pow(2,-10*(e-1))),Rp=e=>1-Math.sin(Math.acos(e)),W3=U3(Rp),G3=V3(Rp),X3=e=>/^0[^.\s]+$/u.test(e);function OS(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||X3(e):!0}const cu=e=>Math.round(e*1e5)/1e5,Op=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DS(e){return e==null}const PS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dp=(e,t)=>n=>!!(typeof n=="string"&&PS.test(n)&&n.startsWith(e)||t&&!DS(n)&&Object.prototype.hasOwnProperty.call(n,t)),q3=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,c,d,g]=s.match(Op);return{[e]:parseFloat(a),[t]:parseFloat(c),[n]:parseFloat(d),alpha:g!==void 0?parseFloat(g):1}},MS=e=>is(0,255,e),oh={...yl,transform:e=>Math.round(MS(e))},bo={test:Dp("rgb","red"),parse:q3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+oh.transform(e)+", "+oh.transform(t)+", "+oh.transform(n)+", "+cu(Mu.transform(s))+")"};function kS(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const L0={test:Dp("#"),parse:kS,transform:bo.transform},Na={test:Dp("hsl","hue"),parse:q3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ni.transform(cu(t))+", "+Ni.transform(cu(n))+", "+cu(Mu.transform(s))+")"},Un={test:e=>bo.test(e)||L0.test(e)||Na.test(e),parse:e=>bo.test(e)?bo.parse(e):Na.test(e)?Na.parse(e):L0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?bo.transform(e):Na.transform(e)},LS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BS(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Op))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(LS))===null||n===void 0?void 0:n.length)||0)>0}const K3="number",Y3="color",FS="var",VS="var(",Lm="${}",US=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let c=0;const g=t.replace(US,y=>(Un.test(y)?(s.color.push(c),a.push(Y3),n.push(Un.parse(y))):y.startsWith(VS)?(s.var.push(c),a.push(FS),n.push(y)):(s.number.push(c),a.push(K3),n.push(parseFloat(y))),++c,Lm)).split(Lm);return{values:n,split:g,indexes:s,types:a}}function Q3(e){return Lu(e).values}function Z3(e){const{split:t,types:n}=Lu(e),s=t.length;return a=>{let c="";for(let d=0;d<s;d++)if(c+=t[d],a[d]!==void 0){const g=n[d];g===K3?c+=cu(a[d]):g===Y3?c+=Un.transform(a[d]):c+=a[d]}return c}}const jS=e=>typeof e=="number"?0:e;function zS(e){const t=Q3(e);return Z3(e)(t.map(jS))}const Js={test:BS,parse:Q3,createTransformer:Z3,getAnimatableNone:zS},HS=new Set(["brightness","contrast","saturate","opacity"]);function WS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Op)||[];if(!s)return e;const a=n.replace(s,"");let c=HS.has(t)?1:0;return s!==n&&(c*=100),t+"("+c+a+")"}const GS=/\b([a-z-]*)\(.*?\)/gu,B0={...Js,getAnimatableNone:e=>{const t=e.match(GS);return t?t.map(WS).join(" "):e}},XS={...mp,color:Un,backgroundColor:Un,outlineColor:Un,fill:Un,stroke:Un,borderColor:Un,borderTopColor:Un,borderRightColor:Un,borderBottomColor:Un,borderLeftColor:Un,filter:B0,WebkitFilter:B0},Pp=e=>XS[e];function $3(e,t){let n=Pp(e);return n!==B0&&(n=Js),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qS=new Set(["auto","none","0"]);function KS(e,t,n){let s=0,a;for(;s<e.length&&!a;){const c=e[s];typeof c=="string"&&!qS.has(c)&&Lu(c).values.length&&(a=e[s]),s++}if(a&&n)for(const c of t)e[c]=$3(n,a)}const Bm=e=>e===yl||e===Fe,Fm=(e,t)=>parseFloat(e.split(", ")[t]),Vm=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return Fm(a[1],t);{const c=s.match(/^matrix\((.+)\)$/u);return c?Fm(c[1],e):0}},YS=new Set(["x","y","z"]),QS=xl.filter(e=>!YS.has(e));function ZS(e){const t=[];return QS.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const hl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Vm(4,13),y:Vm(5,14)};hl.translateX=hl.x;hl.translateY=hl.y;const jo=new Set;let F0=!1,V0=!1;function J3(){if(V0){const e=Array.from(jo).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=ZS(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([c,d])=>{var g;(g=s.getValue(c))===null||g===void 0||g.set(d)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}V0=!1,F0=!1,jo.forEach(e=>e.complete()),jo.clear()}function ev(){jo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(V0=!0)})}function $S(){ev(),J3()}class Mp{constructor(t,n,s,a,c,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=c,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(jo.add(this),F0||(F0=!0,Ft.read(ev),Ft.resolveKeyframes(J3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;for(let c=0;c<t.length;c++)if(t[c]===null)if(c===0){const d=a==null?void 0:a.get(),g=t[t.length-1];if(d!==void 0)t[0]=d;else if(s&&n){const y=s.readValue(n,g);y!=null&&(t[0]=y)}t[0]===void 0&&(t[0]=g),a&&d===void 0&&a.set(t[0])}else t[c]=t[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),jo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,jo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),JS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function e6(e){const t=JS.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function nv(e,t,n=1){const[s,a]=e6(e);if(!s)return;const c=window.getComputedStyle(t).getPropertyValue(s);if(c){const d=c.trim();return tv(d)?parseFloat(d):d}return gp(a)?nv(a,t,n+1):a}const rv=e=>t=>t.test(e),t6={test:e=>e==="auto",parse:e=>e},iv=[yl,Fe,Ni,As,W8,H8,t6],Um=e=>iv.find(rv(e));class sv extends Mp{constructor(t,n,s,a,c){super(t,n,s,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let x=t[y];if(typeof x=="string"&&(x=x.trim(),gp(x))){const E=nv(x,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!k3.has(s)||t.length!==2)return;const[a,c]=t,d=Um(a),g=Um(c);if(d!==g)if(Bm(d)&&Bm(g))for(let y=0;y<t.length;y++){const x=t[y];typeof x=="string"&&(t[y]=parseFloat(x))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)OS(t[a])&&s.push(a);s.length&&KS(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const c=n.getValue(s);c&&c.jump(this.measuredOrigin,!1);const d=a.length-1,g=a[d];a[d]=hl[s](n.measureViewportBox(),window.getComputedStyle(n.current)),g!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=g),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([y,x])=>{n.getValue(y).set(x)}),this.resolveNoneKeyframes()}}const jm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Js.test(e)||e==="0")&&!e.startsWith("url("));function n6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function r6(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],d=jm(a,t),g=jm(c,t);return!d||!g?!1:n6(e)||(n==="spring"||Ap(n))&&s}const i6=e=>e!==null;function wd(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(i6),c=t&&n!=="loop"&&t%2===1?0:a.length-1;return!c||s===void 0?a[c]:s}const s6=40;class ov{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:d="loop",...g}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ri.now(),this.options={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:c,repeatType:d,...g},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>s6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$S(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Ri.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:c,delay:d,onComplete:g,onUpdate:y,isGenerator:x}=this.options;if(!x&&!r6(t,s,a,c))if(d)this.options.duration=0;else{y&&y(wd(t,this.options,n)),g&&g(),this.resolveFinishedPromise();return}const E=this.initPlayback(t,n);E!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...E},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Wt=(e,t,n)=>e+(t-e)*n;function ah(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function o6({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,c=0,d=0;if(!t)a=c=d=n;else{const g=n<.5?n*(1+t):n+t-n*t,y=2*n-g;a=ah(y,g,e+1/3),c=ah(y,g,e),d=ah(y,g,e-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:s}}function jf(e,t){return n=>n>0?t:e}const lh=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},a6=[L0,bo,Na],l6=e=>a6.find(t=>t.test(e));function zm(e){const t=l6(e);if(!t)return!1;let n=t.parse(e);return t===Na&&(n=o6(n)),n}const Hm=(e,t)=>{const n=zm(e),s=zm(t);if(!n||!s)return jf(e,t);const a={...n};return c=>(a.red=lh(n.red,s.red,c),a.green=lh(n.green,s.green,c),a.blue=lh(n.blue,s.blue,c),a.alpha=Wt(n.alpha,s.alpha,c),bo.transform(a))},u6=(e,t)=>n=>t(e(n)),tc=(...e)=>e.reduce(u6),U0=new Set(["none","hidden"]);function c6(e,t){return U0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function f6(e,t){return n=>Wt(e,t,n)}function kp(e){return typeof e=="number"?f6:typeof e=="string"?gp(e)?jf:Un.test(e)?Hm:p6:Array.isArray(e)?av:typeof e=="object"?Un.test(e)?Hm:d6:jf}function av(e,t){const n=[...e],s=n.length,a=e.map((c,d)=>kp(c)(c,t[d]));return c=>{for(let d=0;d<s;d++)n[d]=a[d](c);return n}}function d6(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=kp(e[a])(e[a],t[a]));return a=>{for(const c in s)n[c]=s[c](a);return n}}function h6(e,t){var n;const s=[],a={color:0,var:0,number:0};for(let c=0;c<t.values.length;c++){const d=t.types[c],g=e.indexes[d][a[d]],y=(n=e.values[g])!==null&&n!==void 0?n:0;s[c]=y,a[d]++}return s}const p6=(e,t)=>{const n=Js.createTransformer(t),s=Lu(e),a=Lu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?U0.has(e)&&!a.values.length||U0.has(t)&&!s.values.length?c6(e,t):tc(av(h6(s,a),a.values),n):jf(e,t)};function lv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Wt(e,t,n):kp(e)(e,t)}const g6=5;function uv(e,t,n){const s=Math.max(t-g6,0);return L3(n-e(s),t-s)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uh=.001;function m6({duration:e=Zt.duration,bounce:t=Zt.bounce,velocity:n=Zt.velocity,mass:s=Zt.mass}){let a,c,d=1-t;d=is(Zt.minDamping,Zt.maxDamping,d),e=is(Zt.minDuration,Zt.maxDuration,$i(e)),d<1?(a=x=>{const E=x*d,C=E*e,T=E-n,P=j0(x,d),U=Math.exp(-C);return uh-T/P*U},c=x=>{const C=x*d*e,T=C*n+n,P=Math.pow(d,2)*Math.pow(x,2)*e,U=Math.exp(-C),I=j0(Math.pow(x,2),d);return(-a(x)+uh>0?-1:1)*((T-P)*U)/I}):(a=x=>{const E=Math.exp(-x*e),C=(x-n)*e+1;return-uh+E*C},c=x=>{const E=Math.exp(-x*e),C=(n-x)*(e*e);return E*C});const g=5/e,y=y6(a,c,g);if(e=Zi(e),isNaN(y))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:e};{const x=Math.pow(y,2)*s;return{stiffness:x,damping:d*2*Math.sqrt(s*x),duration:e}}}const x6=12;function y6(e,t,n){let s=n;for(let a=1;a<x6;a++)s=s-e(s)/t(s);return s}function j0(e,t){return e*Math.sqrt(1-t*t)}const w6=["duration","bounce"],v6=["stiffness","damping","mass"];function Wm(e,t){return t.some(n=>e[n]!==void 0)}function E6(e){let t={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...e};if(!Wm(e,v6)&&Wm(e,w6))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,c=2*is(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Zt.mass,stiffness:a,damping:c}}else{const n=m6(e);t={...t,...n,mass:Zt.mass},t.isResolvedFromDuration=!0}return t}function cv(e=Zt.visualDuration,t=Zt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const c=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],g={done:!1,value:c},{stiffness:y,damping:x,mass:E,duration:C,velocity:T,isResolvedFromDuration:P}=E6({...n,velocity:-$i(n.velocity||0)}),U=T||0,I=x/(2*Math.sqrt(y*E)),D=d-c,A=$i(Math.sqrt(y/E)),S=Math.abs(D)<5;s||(s=S?Zt.restSpeed.granular:Zt.restSpeed.default),a||(a=S?Zt.restDelta.granular:Zt.restDelta.default);let N;if(I<1){const q=j0(A,I);N=G=>{const H=Math.exp(-I*A*G);return d-H*((U+I*A*D)/q*Math.sin(q*G)+D*Math.cos(q*G))}}else if(I===1)N=q=>d-Math.exp(-A*q)*(D+(U+A*D)*q);else{const q=A*Math.sqrt(I*I-1);N=G=>{const H=Math.exp(-I*A*G),$=Math.min(q*G,300);return d-H*((U+I*A*D)*Math.sinh($)+q*D*Math.cosh($))/q}}const L={calculatedDuration:P&&C||null,next:q=>{const G=N(q);if(P)g.done=q>=C;else{let H=0;I<1&&(H=q===0?Zi(U):uv(N,q,G));const $=Math.abs(H)<=s,te=Math.abs(d-G)<=a;g.done=$&&te}return g.value=g.done?d:G,g},toString:()=>{const q=Math.min(I3(L),P0),G=N3(H=>L.next(q*H).value,q,30);return q+"ms "+G}};return L}function Gm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:d,min:g,max:y,restDelta:x=.5,restSpeed:E}){const C=e[0],T={done:!1,value:C},P=$=>g!==void 0&&$<g||y!==void 0&&$>y,U=$=>g===void 0?y:y===void 0||Math.abs(g-$)<Math.abs(y-$)?g:y;let I=n*t;const D=C+I,A=d===void 0?D:d(D);A!==D&&(I=A-C);const S=$=>-I*Math.exp(-$/s),N=$=>A+S($),L=$=>{const te=S($),oe=N($);T.done=Math.abs(te)<=x,T.value=T.done?A:oe};let q,G;const H=$=>{P(T.value)&&(q=$,G=cv({keyframes:[T.value,U(T.value)],velocity:uv(N,$,T.value),damping:a,stiffness:c,restDelta:x,restSpeed:E}))};return H(0),{calculatedDuration:null,next:$=>{let te=!1;return!G&&q===void 0&&(te=!0,L($),H($)),q!==void 0&&$>=q?G.next($-q):(!te&&L($),T)}}}const C6=ec(.42,0,1,1),A6=ec(0,0,.58,1),fv=ec(.42,0,.58,1),b6=e=>Array.isArray(e)&&typeof e[0]!="number",S6={linear:Tr,easeIn:C6,easeInOut:fv,easeOut:A6,circIn:Rp,circInOut:G3,circOut:W3,backIn:Np,backInOut:z3,backOut:j3,anticipate:H3},Xm=e=>{if(bp(e)){l3(e.length===4);const[t,n,s,a]=e;return ec(t,n,s,a)}else if(typeof e=="string")return S6[e];return e};function _6(e,t,n){const s=[],a=n||lv,c=e.length-1;for(let d=0;d<c;d++){let g=a(e[d],e[d+1]);if(t){const y=Array.isArray(t)?t[d]||Tr:t;g=tc(y,g)}s.push(g)}return s}function T6(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const c=e.length;if(l3(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const g=_6(t,s,a),y=g.length,x=E=>{if(d&&E<e[0])return t[0];let C=0;if(y>1)for(;C<e.length-2&&!(E<e[C+1]);C++);const T=fl(e[C],e[C+1],E);return g[C](T)};return n?E=>x(is(e[0],e[c-1],E)):x}function I6(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=fl(0,t,s);e.push(Wt(n,1,a))}}function N6(e){const t=[0];return I6(t,e.length-1),t}function R6(e,t){return e.map(n=>n*t)}function O6(e,t){return e.map(()=>t||fv).splice(0,e.length-1)}function zf({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=b6(s)?s.map(Xm):Xm(s),c={done:!1,value:t[0]},d=R6(n&&n.length===t.length?n:N6(t),e),g=T6(d,t,{ease:Array.isArray(a)?a:O6(t,a)});return{calculatedDuration:e,next:y=>(c.value=g(y),c.done=y>=e,c)}}const D6=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ft.update(t,!0),stop:()=>$s(t),now:()=>Dn.isProcessing?Dn.timestamp:Ri.now()}},P6={decay:Gm,inertia:Gm,tween:zf,keyframes:zf,spring:cv},M6=e=>e/100;class Lp extends ov{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:y}=this.options;y&&y()};const{name:n,motionValue:s,element:a,keyframes:c}=this.options,d=(a==null?void 0:a.KeyframeResolver)||Mp,g=(y,x)=>this.onKeyframesResolved(y,x);this.resolver=new d(c,g,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:c,velocity:d=0}=this.options,g=Ap(n)?n:P6[n]||zf;let y,x;g!==zf&&typeof t[0]!="number"&&(y=tc(M6,lv(t[0],t[1])),t=[0,100]);const E=g({...this.options,keyframes:t});c==="mirror"&&(x=g({...this.options,keyframes:[...t].reverse(),velocity:-d})),E.calculatedDuration===null&&(E.calculatedDuration=I3(E));const{calculatedDuration:C}=E,T=C+a,P=T*(s+1)-a;return{generator:E,mirroredGenerator:x,mapPercentToKeyframes:y,calculatedDuration:C,resolvedDuration:T,totalDuration:P}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:$}=this.options;return{done:!0,value:$[$.length-1]}}const{finalKeyframe:a,generator:c,mirroredGenerator:d,mapPercentToKeyframes:g,keyframes:y,calculatedDuration:x,totalDuration:E,resolvedDuration:C}=s;if(this.startTime===null)return c.next(0);const{delay:T,repeat:P,repeatType:U,repeatDelay:I,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-E/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const A=this.currentTime-T*(this.speed>=0?1:-1),S=this.speed>=0?A<0:A>E;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=E);let N=this.currentTime,L=c;if(P){const $=Math.min(this.currentTime,E)/C;let te=Math.floor($),oe=$%1;!oe&&$>=1&&(oe=1),oe===1&&te--,te=Math.min(te,P+1),!!(te%2)&&(U==="reverse"?(oe=1-oe,I&&(oe-=I/C)):U==="mirror"&&(L=d)),N=is(0,1,oe)*C}const q=S?{done:!1,value:y[0]}:L.next(N);g&&(q.value=g(q.value));let{done:G}=q;!S&&x!==null&&(G=this.speed>=0?this.currentTime>=E:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return H&&a!==void 0&&(q.value=wd(y,this.options,a)),D&&D(q.value),H&&this.finish(),q}get duration(){const{resolved:t}=this;return t?$i(t.calculatedDuration):0}get time(){return $i(this.currentTime)}set time(t){t=Zi(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$i(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=D6,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const k6=new Set(["opacity","clipPath","filter","transform"]);function L6(e,t,n,{delay:s=0,duration:a=300,repeat:c=0,repeatType:d="loop",ease:g="easeInOut",times:y}={}){const x={[t]:n};y&&(x.offset=y);const E=O3(g,a);return Array.isArray(E)&&(x.easing=E),e.animate(x,{delay:s,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"})}const B6=lp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hf=10,F6=2e4;function V6(e){return Ap(e.type)||e.type==="spring"||!R3(e.ease)}function U6(e,t){const n=new Lp({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const a=[];let c=0;for(;!s.done&&c<F6;)s=n.sample(c),a.push(s.value),c+=Hf;return{times:void 0,keyframes:a,duration:c-Hf,ease:"linear"}}const dv={anticipate:H3,backInOut:z3,circInOut:G3};function j6(e){return e in dv}class qm extends ov{constructor(t){super(t);const{name:n,motionValue:s,element:a,keyframes:c}=this.options;this.resolver=new sv(c,(d,g)=>this.onKeyframesResolved(d,g),n,s,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:s=300,times:a,ease:c,type:d,motionValue:g,name:y,startTime:x}=this.options;if(!g.owner||!g.owner.current)return!1;if(typeof c=="string"&&Uf()&&j6(c)&&(c=dv[c]),V6(this.options)){const{onComplete:C,onUpdate:T,motionValue:P,element:U,...I}=this.options,D=U6(t,I);t=D.keyframes,t.length===1&&(t[1]=t[0]),s=D.duration,a=D.times,c=D.ease,d="keyframes"}const E=L6(g.owner.current,y,t,{...this.options,duration:s,times:a,ease:c});return E.startTime=x??this.calcStartTime(),this.pendingTimeline?(Om(E,this.pendingTimeline),this.pendingTimeline=void 0):E.onfinish=()=>{const{onComplete:C}=this.options;g.set(wd(t,this.options,n)),C&&C(),this.cancel(),this.resolveFinishedPromise()},{animation:E,duration:s,times:a,type:d,ease:c,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return $i(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return $i(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Zi(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Tr;const{animation:s}=n;Om(s,t)}return Tr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:a,type:c,ease:d,times:g}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:x,onUpdate:E,onComplete:C,element:T,...P}=this.options,U=new Lp({...P,keyframes:s,duration:a,type:c,ease:d,times:g,isGenerator:!0}),I=Zi(this.time);x.setWithVelocity(U.sample(I-Hf).value,U.sample(I).value,Hf)}const{onStop:y}=this.options;y&&y(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:a,repeatType:c,damping:d,type:g}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:x}=n.owner.getProps();return B6()&&s&&k6.has(s)&&!y&&!x&&!a&&c!=="mirror"&&d!==0&&g!=="inertia"}}const z6={type:"spring",stiffness:500,damping:25,restSpeed:10},H6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),W6={type:"keyframes",duration:.8},G6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X6=(e,{keyframes:t})=>t.length>2?W6:Zo.has(e)?e.startsWith("scale")?H6(t[1]):z6:G6;function q6({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:c,repeatType:d,repeatDelay:g,from:y,elapsed:x,...E}){return!!Object.keys(E).length}const Bp=(e,t,n,s={},a,c)=>d=>{const g=Cp(s,e)||{},y=g.delay||s.delay||0;let{elapsed:x=0}=s;x=x-Zi(y);let E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...g,delay:-x,onUpdate:T=>{t.set(T),g.onUpdate&&g.onUpdate(T)},onComplete:()=>{d(),g.onComplete&&g.onComplete()},name:e,motionValue:t,element:c?void 0:a};q6(g)||(E={...E,...X6(e,E)}),E.duration&&(E.duration=Zi(E.duration)),E.repeatDelay&&(E.repeatDelay=Zi(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let C=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(C=!0)),C&&!c&&t.get()!==void 0){const T=wd(E.keyframes,g);if(T!==void 0)return Ft.update(()=>{E.onUpdate(T),E.onComplete()}),new dS([])}return!c&&qm.supports(E)?new qm(E):new Lp(E)};function K6({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function hv(e,t,{delay:n=0,transitionOverride:s,type:a}={}){var c;let{transition:d=e.getDefaultTransition(),transitionEnd:g,...y}=t;s&&(d=s);const x=[],E=a&&e.animationState&&e.animationState.getState()[a];for(const C in y){const T=e.getValue(C,(c=e.latestValues[C])!==null&&c!==void 0?c:null),P=y[C];if(P===void 0||E&&K6(E,C))continue;const U={delay:n,...Cp(d||{},C)};let I=!1;if(window.MotionHandoffAnimation){const A=B3(e);if(A){const S=window.MotionHandoffAnimation(A,C,Ft);S!==null&&(U.startTime=S,I=!0)}}k0(e,C),T.start(Bp(C,T,P,e.shouldReduceMotion&&k3.has(C)?{type:!1}:U,e,I));const D=T.animation;D&&x.push(D)}return g&&Promise.all(x).then(()=>{Ft.update(()=>{g&&_S(e,g)})}),x}function z0(e,t,n={}){var s;const a=yd(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(c=n.transitionOverride);const d=a?()=>Promise.all(hv(e,a,n)):()=>Promise.resolve(),g=e.variantChildren&&e.variantChildren.size?(x=0)=>{const{delayChildren:E=0,staggerChildren:C,staggerDirection:T}=c;return Y6(e,t,E+x,C,T,n)}:()=>Promise.resolve(),{when:y}=c;if(y){const[x,E]=y==="beforeChildren"?[d,g]:[g,d];return x().then(()=>E())}else return Promise.all([d(),g(n.delay)])}function Y6(e,t,n=0,s=0,a=1,c){const d=[],g=(e.variantChildren.size-1)*s,y=a===1?(x=0)=>x*s:(x=0)=>g-x*s;return Array.from(e.variantChildren).sort(Q6).forEach((x,E)=>{x.notify("AnimationStart",t),d.push(z0(x,t,{...c,delay:n+y(E)}).then(()=>x.notify("AnimationComplete",t)))}),Promise.all(d)}function Q6(e,t){return e.sortNodePosition(t)}function Z6(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(c=>z0(e,c,n));s=Promise.all(a)}else if(typeof t=="string")s=z0(e,t,n);else{const a=typeof t=="function"?yd(e,t,n.custom):t;s=Promise.all(hv(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const $6=cp.length;function pv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$6;n++){const s=cp[n],a=e.props[s];(Pu(a)||a===!1)&&(t[s]=a)}return t}const J6=[...up].reverse(),e_=up.length;function t_(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Z6(e,n,s)))}function n_(e){let t=t_(e),n=Km(),s=!0;const a=y=>(x,E)=>{var C;const T=yd(e,E,y==="exit"?(C=e.presenceContext)===null||C===void 0?void 0:C.custom:void 0);if(T){const{transition:P,transitionEnd:U,...I}=T;x={...x,...I,...U}}return x};function c(y){t=y(e)}function d(y){const{props:x}=e,E=pv(e.parent)||{},C=[],T=new Set;let P={},U=1/0;for(let D=0;D<e_;D++){const A=J6[D],S=n[A],N=x[A]!==void 0?x[A]:E[A],L=Pu(N),q=A===y?S.isActive:null;q===!1&&(U=D);let G=N===E[A]&&N!==x[A]&&L;if(G&&s&&e.manuallyAnimateOnMount&&(G=!1),S.protectedKeys={...P},!S.isActive&&q===null||!N&&!S.prevProp||md(N)||typeof N=="boolean")continue;const H=r_(S.prevProp,N);let $=H||A===y&&S.isActive&&!G&&L||D>U&&L,te=!1;const oe=Array.isArray(N)?N:[N];let Te=oe.reduce(a(A),{});q===!1&&(Te={});const{prevResolvedValues:pe={}}=S,Ve={...pe,...Te},Je=be=>{$=!0,T.has(be)&&(te=!0,T.delete(be)),S.needsAnimating[be]=!0;const ge=e.getValue(be);ge&&(ge.liveStyle=!1)};for(const be in Ve){const ge=Te[be],Ce=pe[be];if(P.hasOwnProperty(be))continue;let De=!1;D0(ge)&&D0(Ce)?De=!T3(ge,Ce):De=ge!==Ce,De?ge!=null?Je(be):T.add(be):ge!==void 0&&T.has(be)?Je(be):S.protectedKeys[be]=!0}S.prevProp=N,S.prevResolvedValues=Te,S.isActive&&(P={...P,...Te}),s&&e.blockInitialAnimation&&($=!1),$&&(!(G&&H)||te)&&C.push(...oe.map(be=>({animation:be,options:{type:A}})))}if(T.size){const D={};T.forEach(A=>{const S=e.getBaseTarget(A),N=e.getValue(A);N&&(N.liveStyle=!0),D[A]=S??null}),C.push({animation:D})}let I=!!C.length;return s&&(x.initial===!1||x.initial===x.animate)&&!e.manuallyAnimateOnMount&&(I=!1),s=!1,I?t(C):Promise.resolve()}function g(y,x){var E;if(n[y].isActive===x)return Promise.resolve();(E=e.variantChildren)===null||E===void 0||E.forEach(T=>{var P;return(P=T.animationState)===null||P===void 0?void 0:P.setActive(y,x)}),n[y].isActive=x;const C=d(y);for(const T in n)n[T].protectedKeys={};return C}return{animateChanges:d,setActive:g,setAnimateFunction:c,getState:()=>n,reset:()=>{n=Km(),s=!0}}}function r_(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!T3(t,e):!1}function po(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Km(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class io{constructor(t){this.isMounted=!1,this.node=t}update(){}}class i_ extends io{constructor(t){super(t),t.animationState||(t.animationState=n_(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();md(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let s_=0;class o_ extends io{constructor(){super(...arguments),this.id=s_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const a_={animation:{Feature:i_},exit:{Feature:o_}};function Bu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function nc(e){return{point:{x:e.pageX,y:e.pageY}}}const l_=e=>t=>Sp(t)&&e(t,nc(t));function fu(e,t,n,s){return Bu(e,t,l_(n),s)}const Ym=(e,t)=>Math.abs(e-t);function u_(e,t){const n=Ym(e.x,t.x),s=Ym(e.y,t.y);return Math.sqrt(n**2+s**2)}class gv{constructor(t,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=fh(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,P=u_(C.offset,{x:0,y:0})>=3;if(!T&&!P)return;const{point:U}=C,{timestamp:I}=Dn;this.history.push({...U,timestamp:I});const{onStart:D,onMove:A}=this.handlers;T||(D&&D(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,C)},this.handlePointerMove=(C,T)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=ch(T,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(C,T)=>{this.end();const{onEnd:P,onSessionEnd:U,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=fh(C.type==="pointercancel"?this.lastMoveEventInfo:ch(T,this.transformPagePoint),this.history);this.startEvent&&P&&P(C,D),U&&U(C,D)},!Sp(t))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const d=nc(t),g=ch(d,this.transformPagePoint),{point:y}=g,{timestamp:x}=Dn;this.history=[{...y,timestamp:x}];const{onSessionStart:E}=n;E&&E(t,fh(g,this.history)),this.removeListeners=tc(fu(this.contextWindow,"pointermove",this.handlePointerMove),fu(this.contextWindow,"pointerup",this.handlePointerUp),fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$s(this.updatePoint)}}function ch(e,t){return t?{point:t(e.point)}:e}function Qm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fh({point:e},t){return{point:e,delta:Qm(e,mv(t)),offset:Qm(e,c_(t)),velocity:f_(t,.1)}}function c_(e){return e[0]}function mv(e){return e[e.length-1]}function f_(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=mv(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Zi(t)));)n--;if(!s)return{x:0,y:0};const c=$i(a.timestamp-s.timestamp);if(c===0)return{x:0,y:0};const d={x:(a.x-s.x)/c,y:(a.y-s.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const xv=1e-4,d_=1-xv,h_=1+xv,yv=.01,p_=0-yv,g_=0+yv;function Nr(e){return e.max-e.min}function m_(e,t,n){return Math.abs(e-t)<=n}function Zm(e,t,n,s=.5){e.origin=s,e.originPoint=Wt(t.min,t.max,e.origin),e.scale=Nr(n)/Nr(t),e.translate=Wt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=d_&&e.scale<=h_||isNaN(e.scale))&&(e.scale=1),(e.translate>=p_&&e.translate<=g_||isNaN(e.translate))&&(e.translate=0)}function du(e,t,n,s){Zm(e.x,t.x,n.x,s?s.originX:void 0),Zm(e.y,t.y,n.y,s?s.originY:void 0)}function $m(e,t,n){e.min=n.min+t.min,e.max=e.min+Nr(t)}function x_(e,t,n){$m(e.x,t.x,n.x),$m(e.y,t.y,n.y)}function Jm(e,t,n){e.min=t.min-n.min,e.max=e.min+Nr(t)}function hu(e,t,n){Jm(e.x,t.x,n.x),Jm(e.y,t.y,n.y)}function y_(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Wt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Wt(n,e,s.max):Math.min(e,n)),e}function e2(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function w_(e,{top:t,left:n,bottom:s,right:a}){return{x:e2(e.x,n,a),y:e2(e.y,t,s)}}function t2(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function v_(e,t){return{x:t2(e.x,t.x),y:t2(e.y,t.y)}}function E_(e,t){let n=.5;const s=Nr(e),a=Nr(t);return a>s?n=fl(t.min,t.max-s,e.min):s>a&&(n=fl(e.min,e.max-a,t.min)),is(0,1,n)}function C_(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const H0=.35;function A_(e=H0){return e===!1?e=0:e===!0&&(e=H0),{x:n2(e,"left","right"),y:n2(e,"top","bottom")}}function n2(e,t,n){return{min:r2(e,t),max:r2(e,n)}}function r2(e,t){return typeof e=="number"?e:e[t]||0}const i2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ra=()=>({x:i2(),y:i2()}),s2=()=>({min:0,max:0}),nn=()=>({x:s2(),y:s2()});function Lr(e){return[e("x"),e("y")]}function wv({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function b_({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function S_(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function dh(e){return e===void 0||e===1}function W0({scale:e,scaleX:t,scaleY:n}){return!dh(e)||!dh(t)||!dh(n)}function xo(e){return W0(e)||vv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vv(e){return o2(e.x)||o2(e.y)}function o2(e){return e&&e!=="0%"}function Wf(e,t,n){const s=e-n,a=t*s;return n+a}function a2(e,t,n,s,a){return a!==void 0&&(e=Wf(e,a,s)),Wf(e,n,s)+t}function G0(e,t=0,n=1,s,a){e.min=a2(e.min,t,n,s,a),e.max=a2(e.max,t,n,s,a)}function Ev(e,{x:t,y:n}){G0(e.x,t.translate,t.scale,t.originPoint),G0(e.y,n.translate,n.scale,n.originPoint)}const l2=.999999999999,u2=1.0000000000001;function __(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let c,d;for(let g=0;g<a;g++){c=n[g],d=c.projectionDelta;const{visualElement:y}=c.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Da(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,Ev(e,d)),s&&xo(c.latestValues)&&Da(e,c.latestValues))}t.x<u2&&t.x>l2&&(t.x=1),t.y<u2&&t.y>l2&&(t.y=1)}function Oa(e,t){e.min=e.min+t,e.max=e.max+t}function c2(e,t,n,s,a=.5){const c=Wt(e.min,e.max,a);G0(e,t,n,c,s)}function Da(e,t){c2(e.x,t.x,t.scaleX,t.scale,t.originX),c2(e.y,t.y,t.scaleY,t.scale,t.originY)}function Cv(e,t){return wv(S_(e.getBoundingClientRect(),t))}function T_(e,t,n){const s=Cv(e,n),{scroll:a}=t;return a&&(Oa(s.x,a.offset.x),Oa(s.y,a.offset.y)),s}const Av=({current:e})=>e?e.ownerDocument.defaultView:null,I_=new WeakMap;class N_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=E=>{const{dragSnapToOrigin:C}=this.getProps();C?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nc(E).point)},c=(E,C)=>{const{drag:T,dragPropagation:P,onDragStart:U}=this.getProps();if(T&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ES(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lr(D=>{let A=this.getAxisMotionValue(D).get()||0;if(Ni.test(A)){const{projection:S}=this.visualElement;if(S&&S.layout){const N=S.layout.layoutBox[D];N&&(A=Nr(N)*(parseFloat(A)/100))}}this.originPoint[D]=A}),U&&Ft.postRender(()=>U(E,C)),k0(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},d=(E,C)=>{const{dragPropagation:T,dragDirectionLock:P,onDirectionLock:U,onDrag:I}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:D}=C;if(P&&this.currentDirection===null){this.currentDirection=R_(D),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",C.point,D),this.updateAxis("y",C.point,D),this.visualElement.render(),I&&I(E,C)},g=(E,C)=>this.stop(E,C),y=()=>Lr(E=>{var C;return this.getAnimationState(E)==="paused"&&((C=this.getAxisMotionValue(E).animation)===null||C===void 0?void 0:C.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new gv(t,{onSessionStart:a,onStart:c,onMove:d,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,contextWindow:Av(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&Ft.postRender(()=>c(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Wc(t,a,this.currentDirection))return;const c=this.getAxisMotionValue(t);let d=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(d=y_(d,this.constraints[t],this.elastic[t])),c.set(d)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,c=this.constraints;n&&Ia(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=w_(a.layoutBox,n):this.constraints=!1,this.elastic=A_(s),c!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Lr(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=C_(a.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ia(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=T_(s,a.root,this.visualElement.getTransformPagePoint());let d=v_(a.layout.layoutBox,c);if(n){const g=n(b_(d));this.hasMutatedConstraints=!!g,g&&(d=wv(g))}return d}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:g}=this.getProps(),y=this.constraints||{},x=Lr(E=>{if(!Wc(E,n,this.currentDirection))return;let C=y&&y[E]||{};d&&(C={min:0,max:0});const T=a?200:1e6,P=a?40:1e7,U={type:"inertia",velocity:s?t[E]:0,bounceStiffness:T,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...c,...C};return this.startAxisValueAnimation(E,U)});return Promise.all(x).then(g)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return k0(this.visualElement,t),s.start(Bp(t,s,0,n,this.visualElement,!1))}stopAnimation(){Lr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Lr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Lr(n=>{const{drag:s}=this.getProps();if(!Wc(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(n);if(a&&a.layout){const{min:d,max:g}=a.layout.layoutBox[n];c.set(t[n]-Wt(d,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ia(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Lr(d=>{const g=this.getAxisMotionValue(d);if(g&&this.constraints!==!1){const y=g.get();a[d]=E_({min:y,max:y},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Lr(d=>{if(!Wc(d,t,null))return;const g=this.getAxisMotionValue(d),{min:y,max:x}=this.constraints[d];g.set(Wt(y,x,a[d]))})}addListeners(){if(!this.visualElement.current)return;I_.set(this.visualElement,this);const t=this.visualElement.current,n=fu(t,"pointerdown",y=>{const{drag:x,dragListener:E=!0}=this.getProps();x&&E&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Ia(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ft.read(s);const d=Bu(window,"resize",()=>this.scalePositionWithinConstraints()),g=a.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x})=>{this.isDragging&&x&&(Lr(E=>{const C=this.getAxisMotionValue(E);C&&(this.originPoint[E]+=y[E].translate,C.set(C.get()+y[E].translate))}),this.visualElement.render())});return()=>{d(),n(),c(),g&&g()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:d=H0,dragMomentum:g=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:c,dragElastic:d,dragMomentum:g}}}function Wc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function R_(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class O_ extends io{constructor(t){super(t),this.removeGroupControls=Tr,this.removeListeners=Tr,this.controls=new N_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const f2=e=>(t,n)=>{e&&Ft.postRender(()=>e(t,n))};class D_ extends io{constructor(){super(...arguments),this.removePointerDownListener=Tr}onPointerDown(t){this.session=new gv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Av(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:f2(t),onStart:f2(n),onMove:s,onEnd:(c,d)=>{delete this.session,a&&Ft.postRender(()=>a(c,d))}}}mount(){this.removePointerDownListener=fu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Fe.test(e))e=parseFloat(e);else return e;const n=d2(e,t.target.x),s=d2(e,t.target.y);return`${n}% ${s}%`}},P_={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Js.parse(e);if(a.length>5)return s;const c=Js.createTransformer(e),d=typeof a[0]!="number"?1:0,g=n.x.scale*t.x,y=n.y.scale*t.y;a[0+d]/=g,a[1+d]/=y;const x=Wt(g,y,.5);return typeof a[2+d]=="number"&&(a[2+d]/=x),typeof a[3+d]=="number"&&(a[3+d]/=x),c(a)}};class M_ extends se.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:c}=t;eS(k_),c&&(n.group&&n.group.add(c),s&&s.register&&a&&s.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:c}=this.props,d=s.projection;return d&&(d.isPresent=c,a||t.layoutDependency!==n||n===void 0?d.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?d.promote():d.relegate()||Ft.postRender(()=>{const g=d.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),dp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bv(e){const[t,n]=o3(),s=se.useContext(ip);return X.jsx(M_,{...e,layoutGroup:s,switchLayoutGroup:se.useContext(p3),isPresent:t,safeToRemove:n})}const k_={borderRadius:{...Wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wl,borderTopRightRadius:Wl,borderBottomLeftRadius:Wl,borderBottomRightRadius:Wl,boxShadow:P_};function L_(e,t,n){const s=zn(e)?e:ku(e);return s.start(Bp("",s,t,n)),s.animation}function B_(e){return e instanceof SVGElement&&e.tagName!=="svg"}const F_=(e,t)=>e.depth-t.depth;class V_{constructor(){this.children=[],this.isDirty=!1}add(t){_p(this.children,t),this.isDirty=!0}remove(t){Tp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(F_),this.isDirty=!1,this.children.forEach(t)}}function U_(e,t){const n=Ri.now(),s=({timestamp:a})=>{const c=a-n;c>=t&&($s(s),e(c-t))};return Ft.read(s,!0),()=>$s(s)}const Sv=["TopLeft","TopRight","BottomLeft","BottomRight"],j_=Sv.length,h2=e=>typeof e=="string"?parseFloat(e):e,p2=e=>typeof e=="number"||Fe.test(e);function z_(e,t,n,s,a,c){a?(e.opacity=Wt(0,n.opacity!==void 0?n.opacity:1,H_(s)),e.opacityExit=Wt(t.opacity!==void 0?t.opacity:1,0,W_(s))):c&&(e.opacity=Wt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let d=0;d<j_;d++){const g=`border${Sv[d]}Radius`;let y=g2(t,g),x=g2(n,g);if(y===void 0&&x===void 0)continue;y||(y=0),x||(x=0),y===0||x===0||p2(y)===p2(x)?(e[g]=Math.max(Wt(h2(y),h2(x),s),0),(Ni.test(x)||Ni.test(y))&&(e[g]+="%")):e[g]=x}(t.rotate||n.rotate)&&(e.rotate=Wt(t.rotate||0,n.rotate||0,s))}function g2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const H_=_v(0,.5,W3),W_=_v(.5,.95,Tr);function _v(e,t,n){return s=>s<e?0:s>t?1:n(fl(e,t,s))}function m2(e,t){e.min=t.min,e.max=t.max}function kr(e,t){m2(e.x,t.x),m2(e.y,t.y)}function x2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function y2(e,t,n,s,a){return e-=t,e=Wf(e,1/n,s),a!==void 0&&(e=Wf(e,1/a,s)),e}function G_(e,t=0,n=1,s=.5,a,c=e,d=e){if(Ni.test(t)&&(t=parseFloat(t),t=Wt(d.min,d.max,t/100)-d.min),typeof t!="number")return;let g=Wt(c.min,c.max,s);e===c&&(g-=t),e.min=y2(e.min,t,n,g,a),e.max=y2(e.max,t,n,g,a)}function w2(e,t,[n,s,a],c,d){G_(e,t[n],t[s],t[a],t.scale,c,d)}const X_=["x","scaleX","originX"],q_=["y","scaleY","originY"];function v2(e,t,n,s){w2(e.x,t,X_,n?n.x:void 0,s?s.x:void 0),w2(e.y,t,q_,n?n.y:void 0,s?s.y:void 0)}function E2(e){return e.translate===0&&e.scale===1}function Tv(e){return E2(e.x)&&E2(e.y)}function C2(e,t){return e.min===t.min&&e.max===t.max}function K_(e,t){return C2(e.x,t.x)&&C2(e.y,t.y)}function A2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Iv(e,t){return A2(e.x,t.x)&&A2(e.y,t.y)}function b2(e){return Nr(e.x)/Nr(e.y)}function S2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Y_{constructor(){this.members=[]}add(t){_p(this.members,t),t.scheduleRender()}remove(t){if(Tp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){s=c;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Q_(e,t,n){let s="";const a=e.x.translate/t.x,c=e.y.translate/t.y,d=(n==null?void 0:n.z)||0;if((a||c||d)&&(s=`translate3d(${a}px, ${c}px, ${d}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:x,rotate:E,rotateX:C,rotateY:T,skewX:P,skewY:U}=n;x&&(s=`perspective(${x}px) ${s}`),E&&(s+=`rotate(${E}deg) `),C&&(s+=`rotateX(${C}deg) `),T&&(s+=`rotateY(${T}deg) `),P&&(s+=`skewX(${P}deg) `),U&&(s+=`skewY(${U}deg) `)}const g=e.x.scale*t.x,y=e.y.scale*t.y;return(g!==1||y!==1)&&(s+=`scale(${g}, ${y})`),s||"none"}const yo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},eu=typeof window<"u"&&window.MotionDebug!==void 0,hh=["","X","Y","Z"],Z_={visibility:"hidden"},_2=1e3;let $_=0;function ph(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Nv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=B3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(a||c))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Nv(s)}function Rv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(d={},g=t==null?void 0:t()){this.id=$_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,eu&&(yo.totalNodes=yo.resolvedTargetDeltas=yo.recalculatedProjection=0),this.nodes.forEach(tT),this.nodes.forEach(oT),this.nodes.forEach(aT),this.nodes.forEach(nT),eu&&window.MotionDebug.record(yo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new V_)}addEventListener(d,g){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Ip),this.eventHandlers.get(d).add(g)}notifyListeners(d,...g){const y=this.eventHandlers.get(d);y&&y.notify(...g)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,g=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=B_(d),this.instance=d;const{layoutId:y,layout:x,visualElement:E}=this.options;if(E&&!E.current&&E.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),g&&(x||y)&&(this.isLayoutDirty=!0),e){let C;const T=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,C&&C(),C=U_(T,250),cf.hasAnimatedSinceResize&&(cf.hasAnimatedSinceResize=!1,this.nodes.forEach(I2))})}y&&this.root.registerSharedNode(y,this),this.options.animate!==!1&&E&&(y||x)&&this.addEventListener("didUpdate",({delta:C,hasLayoutChanged:T,hasRelativeTargetChanged:P,layout:U})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||E.getDefaultTransition()||dT,{onLayoutAnimationStart:D,onLayoutAnimationComplete:A}=E.getProps(),S=!this.targetLayout||!Iv(this.targetLayout,U)||P,N=!T&&P;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||T&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(C,N);const L={...Cp(I,"layout"),onPlay:D,onComplete:A};(E.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else T||I2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=U})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$s(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lT),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Nv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const C=this.path[E];C.shouldResetTransform=!0,C.updateScroll("snapshot"),C.options.layoutRoot&&C.willUpdate(!1)}const{layoutId:g,layout:y}=this.options;if(g===void 0&&!y)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(T2);return}this.isUpdating||this.nodes.forEach(iT),this.isUpdating=!1,this.nodes.forEach(sT),this.nodes.forEach(J_),this.nodes.forEach(eT),this.clearAllSnapshots();const g=Ri.now();Dn.delta=is(0,1e3/60,g-Dn.timestamp),Dn.timestamp=g,Dn.isProcessing=!0,ih.update.process(Dn),ih.preRender.process(Dn),ih.render.process(Dn),Dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rT),this.sharedNodes.forEach(uT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(g=!1),g){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!a)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!Tv(this.projectionDelta),y=this.getTransformTemplate(),x=y?y(this.latestValues,""):void 0,E=x!==this.prevTransformTemplateValue;d&&(g||xo(this.latestValues)||E)&&(a(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const g=this.measurePageBox();let y=this.removeElementScroll(g);return d&&(y=this.removeTransform(y)),hT(y),{animationId:this.root.animationId,measuredBox:g,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:g}=this.options;if(!g)return nn();const y=g.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(pT))){const{scroll:E}=this.root;E&&(Oa(y.x,E.offset.x),Oa(y.y,E.offset.y))}return y}removeElementScroll(d){var g;const y=nn();if(kr(y,d),!((g=this.scroll)===null||g===void 0)&&g.wasRoot)return y;for(let x=0;x<this.path.length;x++){const E=this.path[x],{scroll:C,options:T}=E;E!==this.root&&C&&T.layoutScroll&&(C.wasRoot&&kr(y,d),Oa(y.x,C.offset.x),Oa(y.y,C.offset.y))}return y}applyTransform(d,g=!1){const y=nn();kr(y,d);for(let x=0;x<this.path.length;x++){const E=this.path[x];!g&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Da(y,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),xo(E.latestValues)&&Da(y,E.latestValues)}return xo(this.latestValues)&&Da(y,this.latestValues),y}removeTransform(d){const g=nn();kr(g,d);for(let y=0;y<this.path.length;y++){const x=this.path[y];if(!x.instance||!xo(x.latestValues))continue;W0(x.latestValues)&&x.updateSnapshot();const E=nn(),C=x.measurePageBox();kr(E,C),v2(g,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,E)}return xo(this.latestValues)&&v2(g,this.latestValues),g}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var g;const y=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=y.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=y.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=y.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==y;if(!(d||x&&this.isSharedProjectionDirty||this.isProjectionDirty||!((g=this.parent)===null||g===void 0)&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:C,layoutId:T}=this.options;if(!(!this.layout||!(C||T))){if(this.resolvedRelativeTargetAt=Dn.timestamp,!this.targetDelta&&!this.relativeTarget){const P=this.getClosestProjectingParent();P&&P.layout&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),hu(this.relativeTargetOrigin,this.layout.layoutBox,P.layout.layoutBox),kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kr(this.target,this.layout.layoutBox),Ev(this.target,this.targetDelta)):kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const P=this.getClosestProjectingParent();P&&!!P.resumingFrom==!!this.resumingFrom&&!P.options.layoutScroll&&P.target&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),hu(this.relativeTargetOrigin,this.target,P.target),kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}eu&&yo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||W0(this.parent.latestValues)||vv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const g=this.getLead(),y=!!this.resumingFrom||this!==g;let x=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(x=!1),y&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===Dn.timestamp&&(x=!1),x)return;const{layout:E,layoutId:C}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||C))return;kr(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,P=this.treeScale.y;__(this.layoutCorrected,this.treeScale,this.path,y),g.layout&&!g.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(g.target=g.layout.layoutBox,g.targetWithTransforms=nn());const{target:U}=g;if(!U){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(x2(this.prevProjectionDelta.x,this.projectionDelta.x),x2(this.prevProjectionDelta.y,this.projectionDelta.y)),du(this.projectionDelta,this.layoutCorrected,U,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==P||!S2(this.projectionDelta.x,this.prevProjectionDelta.x)||!S2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",U)),eu&&yo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var g;if((g=this.options.visualElement)===null||g===void 0||g.scheduleRender(),d){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ra(),this.projectionDelta=Ra(),this.projectionDeltaWithTransform=Ra()}setAnimationOrigin(d,g=!1){const y=this.snapshot,x=y?y.latestValues:{},E={...this.latestValues},C=Ra();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const T=nn(),P=y?y.source:void 0,U=this.layout?this.layout.source:void 0,I=P!==U,D=this.getStack(),A=!D||D.members.length<=1,S=!!(I&&!A&&this.options.crossfade===!0&&!this.path.some(fT));this.animationProgress=0;let N;this.mixTargetDelta=L=>{const q=L/1e3;N2(C.x,d.x,q),N2(C.y,d.y,q),this.setTargetDelta(C),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hu(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cT(this.relativeTarget,this.relativeTargetOrigin,T,q),N&&K_(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=nn()),kr(N,this.relativeTarget)),I&&(this.animationValues=E,z_(E,x,this.latestValues,q,S,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($s(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{cf.hasAnimatedSinceResize=!0,this.currentAnimation=L_(0,_2,{...d,onUpdate:g=>{this.mixTargetDelta(g),d.onUpdate&&d.onUpdate(g)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:g,target:y,layout:x,latestValues:E}=d;if(!(!g||!y||!x)){if(this!==d&&this.layout&&x&&Ov(this.options.animationType,this.layout.layoutBox,x.layoutBox)){y=this.target||nn();const C=Nr(this.layout.layoutBox.x);y.x.min=d.target.x.min,y.x.max=y.x.min+C;const T=Nr(this.layout.layoutBox.y);y.y.min=d.target.y.min,y.y.max=y.y.min+T}kr(g,y),Da(g,E),du(this.projectionDeltaWithTransform,this.layoutCorrected,g,E)}}registerSharedNode(d,g){this.sharedNodes.has(d)||this.sharedNodes.set(d,new Y_),this.sharedNodes.get(d).add(g);const x=g.options.initialPromotionConfig;g.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(g):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:g}=this.options;return g?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:g}=this.options;return g?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:g,preserveFollowOpacity:y}={}){const x=this.getStack();x&&x.promote(this,y),d&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let g=!1;const{latestValues:y}=d;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(g=!0),!g)return;const x={};y.z&&ph("z",d,x,this.animationValues);for(let E=0;E<hh.length;E++)ph(`rotate${hh[E]}`,d,x,this.animationValues),ph(`skew${hh[E]}`,d,x,this.animationValues);d.render();for(const E in x)d.setStaticValue(E,x[E]),this.animationValues&&(this.animationValues[E]=x[E]);d.scheduleRender()}getProjectionStyles(d){var g,y;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Z_;const x={visibility:""},E=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,x.opacity="",x.pointerEvents=lf(d==null?void 0:d.pointerEvents)||"",x.transform=E?E(this.latestValues,""):"none",x;const C=this.getLead();if(!this.projectionDelta||!this.layout||!C.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=lf(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!xo(this.latestValues)&&(I.transform=E?E({},""):"none",this.hasProjected=!1),I}const T=C.animationValues||C.latestValues;this.applyTransformsToTarget(),x.transform=Q_(this.projectionDeltaWithTransform,this.treeScale,T),E&&(x.transform=E(T,x.transform));const{x:P,y:U}=this.projectionDelta;x.transformOrigin=`${P.origin*100}% ${U.origin*100}% 0`,C.animationValues?x.opacity=C===this?(y=(g=T.opacity)!==null&&g!==void 0?g:this.latestValues.opacity)!==null&&y!==void 0?y:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:x.opacity=C===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const I in Vf){if(T[I]===void 0)continue;const{correct:D,applyTo:A}=Vf[I],S=x.transform==="none"?T[I]:D(T[I],C);if(A){const N=A.length;for(let L=0;L<N;L++)x[A[L]]=S}else x[I]=S}return this.options.layoutId&&(x.pointerEvents=C===this?lf(d==null?void 0:d.pointerEvents)||"":"none"),x}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var g;return(g=d.currentAnimation)===null||g===void 0?void 0:g.stop()}),this.root.nodes.forEach(T2),this.root.sharedNodes.clear()}}}function J_(e){e.updateLayout()}function eT(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:c}=e.options,d=n.source!==e.layout.source;c==="size"?Lr(C=>{const T=d?n.measuredBox[C]:n.layoutBox[C],P=Nr(T);T.min=s[C].min,T.max=T.min+P}):Ov(c,n.layoutBox,s)&&Lr(C=>{const T=d?n.measuredBox[C]:n.layoutBox[C],P=Nr(s[C]);T.max=T.min+P,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[C].max=e.relativeTarget[C].min+P)});const g=Ra();du(g,s,n.layoutBox);const y=Ra();d?du(y,e.applyTransform(a,!0),n.measuredBox):du(y,s,n.layoutBox);const x=!Tv(g);let E=!1;if(!e.resumeFrom){const C=e.getClosestProjectingParent();if(C&&!C.resumeFrom){const{snapshot:T,layout:P}=C;if(T&&P){const U=nn();hu(U,n.layoutBox,T.layoutBox);const I=nn();hu(I,s,P.layoutBox),Iv(U,I)||(E=!0),C.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=U,e.relativeParent=C)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:y,layoutDelta:g,hasLayoutChanged:x,hasRelativeTargetChanged:E})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function tT(e){eu&&yo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rT(e){e.clearSnapshot()}function T2(e){e.clearMeasurements()}function iT(e){e.isLayoutDirty=!1}function sT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function I2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oT(e){e.resolveTargetDelta()}function aT(e){e.calcProjection()}function lT(e){e.resetSkewAndRotation()}function uT(e){e.removeLeadSnapshot()}function N2(e,t,n){e.translate=Wt(t.translate,0,n),e.scale=Wt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function R2(e,t,n,s){e.min=Wt(t.min,n.min,s),e.max=Wt(t.max,n.max,s)}function cT(e,t,n,s){R2(e.x,t.x,n.x,s),R2(e.y,t.y,n.y,s)}function fT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dT={duration:.45,ease:[.4,0,.1,1]},O2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),D2=O2("applewebkit/")&&!O2("chrome/")?Math.round:Tr;function P2(e){e.min=D2(e.min),e.max=D2(e.max)}function hT(e){P2(e.x),P2(e.y)}function Ov(e,t,n){return e==="position"||e==="preserve-aspect"&&!m_(b2(t),b2(n),.2)}function pT(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const gT=Rv({attachResizeListener:(e,t)=>Bu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gh={current:void 0},Dv=Rv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gh.current){const e=new gT({});e.mount(window),e.setOptions({layoutScroll:!0}),gh.current=e}return gh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mT={pan:{Feature:D_},drag:{Feature:O_,ProjectionNode:Dv,MeasureLayout:bv}};function M2(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,c=s[a];c&&Ft.postRender(()=>c(t,nc(t)))}class xT extends io{mount(){const{current:t}=this.node;t&&(this.unmount=mS(t,n=>(M2(this.node,n,"Start"),s=>M2(this.node,s,"End"))))}unmount(){}}class yT extends io{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tc(Bu(this.node.current,"focus",()=>this.onFocus()),Bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function k2(e,t,n){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),c=s[a];c&&Ft.postRender(()=>c(t,nc(t)))}class wT extends io{mount(){const{current:t}=this.node;t&&(this.unmount=vS(t,n=>(k2(this.node,n,"Start"),(s,{success:a})=>k2(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const X0=new WeakMap,mh=new WeakMap,vT=e=>{const t=X0.get(e.target);t&&t(e)},ET=e=>{e.forEach(vT)};function CT({root:e,...t}){const n=e||document;mh.has(n)||mh.set(n,{});const s=mh.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(ET,{root:e,...t})),s[a]}function AT(e,t,n){const s=CT(t);return X0.set(e,n),s.observe(e),()=>{X0.delete(e),s.unobserve(e)}}const bT={some:0,all:1};class ST extends io{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:c}=t,d={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:bT[a]},g=y=>{const{isIntersecting:x}=y;if(this.isInView===x||(this.isInView=x,c&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:E,onViewportLeave:C}=this.node.getProps(),T=x?E:C;T&&T(y)};return AT(this.node.current,d,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(_T(t,n))&&this.startObserver()}unmount(){}}function _T({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const TT={inView:{Feature:ST},tap:{Feature:wT},focus:{Feature:yT},hover:{Feature:xT}},IT={layout:{ProjectionNode:Dv,MeasureLayout:bv}},q0={current:null},Pv={current:!1};function NT(){if(Pv.current=!0,!!ap)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>q0.current=e.matches;e.addListener(t),t()}else q0.current=!1}const RT=[...iv,Un,Js],OT=e=>RT.find(rv(e)),L2=new WeakMap;function DT(e,t,n){for(const s in t){const a=t[s],c=n[s];if(zn(a))e.addValue(s,a);else if(zn(c))e.addValue(s,ku(a,{owner:e}));else if(c!==a)if(e.hasValue(s)){const d=e.getValue(s);d.liveStyle===!0?d.jump(a):d.hasAnimated||d.set(a)}else{const d=e.getStaticValue(s);e.addValue(s,ku(d!==void 0?d:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const B2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PT{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:c,visualState:d},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const P=Ri.now();this.renderScheduledAt<P&&(this.renderScheduledAt=P,Ft.render(this.render,!1,!0))};const{latestValues:y,renderState:x,onUpdate:E}=d;this.onUpdate=E,this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=x,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=g,this.blockInitialAnimation=!!c,this.isControllingVariants=xd(n),this.isVariantNode=d3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:C,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const P in T){const U=T[P];y[P]!==void 0&&zn(U)&&U.set(y[P],!1)}}mount(t){this.current=t,L2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Pv.current||NT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:q0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){L2.delete(this.current),this.projection&&this.projection.unmount(),$s(this.notifyUpdate),$s(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Zo.has(t),a=n.on("change",g=>{this.latestValues[t]=g,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),c=n.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),c(),d&&d(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dl){const n=dl[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<B2.length;s++){const a=B2[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,d=t[c];d&&(this.propEventSubscriptions[a]=this.on(a,d))}this.prevMotionValues=DT(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ku(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(tv(a)||X3(a))?a=parseFloat(a):!OT(a)&&Js.test(n)&&(a=$3(t,n)),this.setBaseTarget(t,zn(a)?a.get():a)),zn(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const d=pp(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);d&&(a=d[t])}if(s&&a!==void 0)return a;const c=this.getBaseTargetFromProps(this.props,t);return c!==void 0&&!zn(c)?c:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ip),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Mv extends PT{constructor(){super(...arguments),this.KeyframeResolver=sv}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function MT(e){return window.getComputedStyle(e)}class kT extends Mv{constructor(){super(...arguments),this.type="html",this.renderInstance=E3}readValueFromInstance(t,n){if(Zo.has(n)){const s=Pp(n);return s&&s.default||0}else{const s=MT(t),a=(y3(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Cv(t,n)}build(t,n,s){xp(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Ep(t,n,s)}}class LT extends Mv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Zo.has(n)){const s=Pp(n);return s&&s.default||0}return n=C3.has(n)?n:fp(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return S3(t,n,s)}build(t,n,s){yp(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,a){A3(t,n,s,a)}mount(t){this.isSVGTag=vp(t.tagName),super.mount(t)}}const BT=(e,t)=>hp(e)?new LT(t):new kT(t,{allowProjection:e!==se.Fragment}),FT=uS({...a_,...TT,...mT,...IT},BT),bs=b8(FT);function kv(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=kv(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function VT(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=kv(e))&&(s&&(s+=" "),s+=t);return s}const Fp="-",UT=e=>{const t=zT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:d=>{const g=d.split(Fp);return g[0]===""&&g.length!==1&&g.shift(),Lv(g,t)||jT(d)},getConflictingClassGroupIds:(d,g)=>{const y=n[d]||[];return g&&s[d]?[...y,...s[d]]:y}}},Lv=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?Lv(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const c=e.join(Fp);return(d=t.validators.find(({validator:g})=>g(c)))==null?void 0:d.classGroupId},F2=/^\[(.+)\]$/,jT=e=>{if(F2.test(e)){const t=F2.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zT=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return WT(Object.entries(e.classGroups),n).forEach(([c,d])=>{K0(d,s,c,t)}),s},K0=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const c=a===""?t:V2(t,a);c.classGroupId=n;return}if(typeof a=="function"){if(HT(a)){K0(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([c,d])=>{K0(d,V2(t,c),n,s)})})},V2=(e,t)=>{let n=e;return t.split(Fp).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},HT=e=>e.isThemeGetter,WT=(e,t)=>t?e.map(([n,s])=>{const a=s.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,g])=>[t+d,g])):c);return[n,a]}):e,GT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(c,d)=>{n.set(c,d),t++,t>e&&(t=0,s=n,n=new Map)};return{get(c){let d=n.get(c);if(d!==void 0)return d;if((d=s.get(c))!==void 0)return a(c,d),d},set(c,d){n.has(c)?n.set(c,d):a(c,d)}}},Bv="!",XT=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],c=t.length,d=g=>{const y=[];let x=0,E=0,C;for(let D=0;D<g.length;D++){let A=g[D];if(x===0){if(A===a&&(s||g.slice(D,D+c)===t)){y.push(g.slice(E,D)),E=D+c;continue}if(A==="/"){C=D;continue}}A==="["?x++:A==="]"&&x--}const T=y.length===0?g:g.substring(E),P=T.startsWith(Bv),U=P?T.substring(1):T,I=C&&C>E?C-E:void 0;return{modifiers:y,hasImportantModifier:P,baseClassName:U,maybePostfixModifierPosition:I}};return n?g=>n({className:g,parseClassName:d}):d},qT=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},KT=e=>({cache:GT(e.cacheSize),parseClassName:XT(e),...UT(e)}),YT=/\s+/,QT=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,c=[],d=e.trim().split(YT);let g="";for(let y=d.length-1;y>=0;y-=1){const x=d[y],{modifiers:E,hasImportantModifier:C,baseClassName:T,maybePostfixModifierPosition:P}=n(x);let U=!!P,I=s(U?T.substring(0,P):T);if(!I){if(!U){g=x+(g.length>0?" "+g:g);continue}if(I=s(T),!I){g=x+(g.length>0?" "+g:g);continue}U=!1}const D=qT(E).join(":"),A=C?D+Bv:D,S=A+I;if(c.includes(S))continue;c.push(S);const N=a(I,U);for(let L=0;L<N.length;++L){const q=N[L];c.push(A+q)}g=x+(g.length>0?" "+g:g)}return g};function ZT(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Fv(t))&&(s&&(s+=" "),s+=n);return s}const Fv=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=Fv(e[s]))&&(n&&(n+=" "),n+=t);return n};function $T(e,...t){let n,s,a,c=d;function d(y){const x=t.reduce((E,C)=>C(E),e());return n=KT(x),s=n.cache.get,a=n.cache.set,c=g,g(y)}function g(y){const x=s(y);if(x)return x;const E=QT(y,n);return a(y,E),E}return function(){return c(ZT.apply(null,arguments))}}const Mt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Vv=/^\[(?:([a-z-]+):)?(.+)\]$/i,JT=/^\d+\/\d+$/,eI=new Set(["px","full","screen"]),tI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ui=e=>ja(e)||eI.has(e)||JT.test(e),ws=e=>wl(e,"length",hI),ja=e=>!!e&&!Number.isNaN(Number(e)),xh=e=>wl(e,"number",ja),Gl=e=>!!e&&Number.isInteger(Number(e)),oI=e=>e.endsWith("%")&&ja(e.slice(0,-1)),Ye=e=>Vv.test(e),vs=e=>tI.test(e),aI=new Set(["length","size","percentage"]),lI=e=>wl(e,aI,Uv),uI=e=>wl(e,"position",Uv),cI=new Set(["image","url"]),fI=e=>wl(e,cI,gI),dI=e=>wl(e,"",pI),Xl=()=>!0,wl=(e,t,n)=>{const s=Vv.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},hI=e=>nI.test(e)&&!rI.test(e),Uv=()=>!1,pI=e=>iI.test(e),gI=e=>sI.test(e),mI=()=>{const e=Mt("colors"),t=Mt("spacing"),n=Mt("blur"),s=Mt("brightness"),a=Mt("borderColor"),c=Mt("borderRadius"),d=Mt("borderSpacing"),g=Mt("borderWidth"),y=Mt("contrast"),x=Mt("grayscale"),E=Mt("hueRotate"),C=Mt("invert"),T=Mt("gap"),P=Mt("gradientColorStops"),U=Mt("gradientColorStopPositions"),I=Mt("inset"),D=Mt("margin"),A=Mt("opacity"),S=Mt("padding"),N=Mt("saturate"),L=Mt("scale"),q=Mt("sepia"),G=Mt("skew"),H=Mt("space"),$=Mt("translate"),te=()=>["auto","contain","none"],oe=()=>["auto","hidden","clip","visible","scroll"],Te=()=>["auto",Ye,t],pe=()=>[Ye,t],Ve=()=>["",Ui,ws],Je=()=>["auto",ja,Ye],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],gt=()=>["solid","dashed","dotted","double","none"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>["start","end","center","between","around","evenly","stretch"],Ce=()=>["","0",Ye],De=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ge=()=>[ja,Ye];return{cacheSize:500,separator:":",theme:{colors:[Xl],spacing:[Ui,ws],blur:["none","",vs,Ye],brightness:Ge(),borderColor:[e],borderRadius:["none","","full",vs,Ye],borderSpacing:pe(),borderWidth:Ve(),contrast:Ge(),grayscale:Ce(),hueRotate:Ge(),invert:Ce(),gap:pe(),gradientColorStops:[e],gradientColorStopPositions:[oI,ws],inset:Te(),margin:Te(),opacity:Ge(),padding:pe(),saturate:Ge(),scale:Ge(),sepia:Ce(),skew:Ge(),space:pe(),translate:pe()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[vs]}],"break-after":[{"break-after":De()}],"break-before":[{"break-before":De()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Ye]}],overflow:[{overflow:oe()}],"overflow-x":[{"overflow-x":oe()}],"overflow-y":[{"overflow-y":oe()}],overscroll:[{overscroll:te()}],"overscroll-x":[{"overscroll-x":te()}],"overscroll-y":[{"overscroll-y":te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gl,Ye]}],basis:[{basis:Te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:Ce()}],shrink:[{shrink:Ce()}],order:[{order:["first","last","none",Gl,Ye]}],"grid-cols":[{"grid-cols":[Xl]}],"col-start-end":[{col:["auto",{span:["full",Gl,Ye]},Ye]}],"col-start":[{"col-start":Je()}],"col-end":[{"col-end":Je()}],"grid-rows":[{"grid-rows":[Xl]}],"row-start-end":[{row:["auto",{span:[Gl,Ye]},Ye]}],"row-start":[{"row-start":Je()}],"row-end":[{"row-end":Je()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...ge()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ge(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ge(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[D]}],mx:[{mx:[D]}],my:[{my:[D]}],ms:[{ms:[D]}],me:[{me:[D]}],mt:[{mt:[D]}],mr:[{mr:[D]}],mb:[{mb:[D]}],ml:[{ml:[D]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,t]}],"min-w":[{"min-w":[Ye,t,"min","max","fit"]}],"max-w":[{"max-w":[Ye,t,"none","full","min","max","fit","prose",{screen:[vs]},vs]}],h:[{h:[Ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vs,ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xh]}],"font-family":[{font:[Xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",ja,xh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ui,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...gt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ui,ws]}],"underline-offset":[{"underline-offset":["auto",Ui,Ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:pe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),uI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[U]}],"gradient-via-pos":[{via:[U]}],"gradient-to-pos":[{to:[U]}],"gradient-from":[{from:[P]}],"gradient-via":[{via:[P]}],"gradient-to":[{to:[P]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...gt(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:gt()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...gt()]}],"outline-offset":[{"outline-offset":[Ui,Ye]}],"outline-w":[{outline:[Ui,ws]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[Ui,ws]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vs,dI]}],"shadow-color":[{shadow:[Xl]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":be()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[y]}],"drop-shadow":[{"drop-shadow":["","none",vs,Ye]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[E]}],invert:[{invert:[C]}],saturate:[{saturate:[N]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[y]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[E]}],"backdrop-invert":[{"backdrop-invert":[C]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:Ge()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:Ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[Gl,Ye]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":pe()}],"scroll-mx":[{"scroll-mx":pe()}],"scroll-my":[{"scroll-my":pe()}],"scroll-ms":[{"scroll-ms":pe()}],"scroll-me":[{"scroll-me":pe()}],"scroll-mt":[{"scroll-mt":pe()}],"scroll-mr":[{"scroll-mr":pe()}],"scroll-mb":[{"scroll-mb":pe()}],"scroll-ml":[{"scroll-ml":pe()}],"scroll-p":[{"scroll-p":pe()}],"scroll-px":[{"scroll-px":pe()}],"scroll-py":[{"scroll-py":pe()}],"scroll-ps":[{"scroll-ps":pe()}],"scroll-pe":[{"scroll-pe":pe()}],"scroll-pt":[{"scroll-pt":pe()}],"scroll-pr":[{"scroll-pr":pe()}],"scroll-pb":[{"scroll-pb":pe()}],"scroll-pl":[{"scroll-pl":pe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ui,ws,xh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xI=$T(mI);function yI(...e){return xI(VT(e))}const wI=()=>{const e=Sr(n=>n.toasts);return Sr(n=>n.currentView)==="scanner"?null:X.jsx("div",{className:"fixed bottom-4 left-0 right-0 z-50 flex flex-col items-center gap-2 pointer-events-none p-4",children:X.jsx(af,{children:e.map(n=>X.jsxs(bs.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:yI("bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] pointer-events-auto",n.type==="error"&&"bg-red-600",n.type==="success"&&"bg-green-600"),children:[X.jsx("div",{className:"flex-1 font-medium",children:n.message}),n.type==="percentage"&&X.jsxs("div",{className:"font-mono text-sm bg-white/20 px-2 py-0.5 rounded",children:[n.value,"%"]})]},n.id))})})},yh="foodscan_debug_logs",vI=()=>{const[e,t]=se.useState([]),[n,s]=se.useState(!1),a=se.useRef(null);se.useEffect(()=>{try{const T=localStorage.getItem(yh);T&&t(JSON.parse(T))}catch(T){console.error("Failed to load logs",T)}const d=console.log,g=console.warn,y=console.error,x=(T,P)=>{const U={ts:new Date().toISOString().split("T")[1].slice(0,8),type:T,args:P.map(I=>{try{return I instanceof Error?I.toString():typeof I=="object"?JSON.stringify(I,null,2):String(I)}catch{return"[Circular/Unserializable]"}})};t(I=>{const D=[...I,U].slice(-50);try{localStorage.setItem(yh,JSON.stringify(D))}catch{}return D})};console.log=(...T)=>{x("log",T),d.apply(console,T)},console.warn=(...T)=>{x("warn",T),g.apply(console,T)},console.error=(...T)=>{x("error",T),y.apply(console,T)};const E=T=>{x("error",["[Global Error]",T.message,T.filename,T.lineno])},C=T=>{x("error",["[Unhandled Rejection]",T.reason])};return window.addEventListener("error",E),window.addEventListener("unhandledrejection",C),()=>{console.log=d,console.warn=g,console.error=y,window.removeEventListener("error",E),window.removeEventListener("unhandledrejection",C)}},[]),se.useEffect(()=>{n&&a.current&&(a.current.scrollTop=a.current.scrollHeight)},[e,n]);const c=()=>{t([]),localStorage.removeItem(yh)};return n?X.jsxs("div",{className:"fixed inset-x-0 bottom-0 h-[50vh] bg-slate-900 z-[9999] flex flex-col shadow-2xl border-t border-slate-700 animate-in slide-in-from-bottom duration-200",children:[X.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-slate-800 border-b border-slate-700",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx(sb,{size:16,className:"text-slate-400"}),X.jsx("span",{className:"text-xs font-bold text-slate-200",children:"Debug Console"})]}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:c,className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-red-400",children:X.jsx(ob,{size:16})}),X.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-white",children:X.jsx(Bf,{size:16})})]})]}),X.jsxs("div",{ref:a,className:"flex-1 overflow-auto p-4 font-mono text-[10px] space-y-1",children:[e.length===0&&X.jsx("span",{className:"text-slate-500 italic",children:"No logs..."}),e.map((d,g)=>X.jsxs("div",{className:`flex gap-2 break-all ${d.type==="error"?"text-red-400":d.type==="warn"?"text-amber-400":"text-slate-300"}`,children:[X.jsxs("span",{className:"opacity-50 shrink-0",children:["[",d.ts,"]"]}),X.jsx("span",{children:d.args.join(" ")})]},g))]})]}):X.jsx("button",{onClick:()=>s(!0),className:"fixed bottom-20 right-4 z-[9999] w-10 h-10 bg-black/80 text-white rounded-full flex items-center justify-center shadow-lg backdrop-blur",children:X.jsx(tb,{size:20})})},EI=({children:e})=>X.jsx($A,{client:c4,children:X.jsxs("div",{className:"min-h-screen bg-neutral-100 text-neutral-900 font-sans antialiased overflow-hidden relative pb-12",children:[e,X.jsx(d8,{}),X.jsx($4,{position:"bottom-center",toastOptions:{duration:4e3,style:{fontSize:"13px"}}}),X.jsx(wI,{}),X.jsx(vI,{})]})}),jv=({isLoading:e,isPaused:t,error:n,data:s,code:a,onReset:c})=>{Ma.useEffect(()=>{console.log("[ResultCard] Render:",{isLoading:e,isPaused:t,error:n,data:s,code:a})},[e,t,n,s,a]);const[d,g]=se.useState(!1),[y,x]=se.useState(!1),[E,C]=se.useState(!1);if(e||t)return X.jsxs(bs.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center min-h-[200px]",children:[X.jsx("div",{className:`w-8 h-8 border-4 border-t-transparent rounded-full animate-spin mb-4 ${t?"border-amber-500":"border-blue-600"}`}),X.jsxs("div",{className:"text-center",children:[X.jsx("p",{className:"text-neutral-500 font-medium",children:t?"Waiting for connection...":"Analyzing product..."}),a&&X.jsxs("p",{className:"text-[10px] font-mono text-neutral-400 mt-2 uppercase tracking-widest",children:["Code: ",a]})]})]});if(n)return X.jsxs(bs.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center min-h-[200px] border-l-8 border-amber-500",children:[X.jsx(um,{size:32,className:"text-amber-500 mb-3"}),X.jsxs("div",{className:"text-center",children:[X.jsx("p",{className:"text-neutral-800 font-bold",children:"Network Error"}),X.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:n.message}),X.jsx("p",{className:"text-xs text-neutral-400 mt-3",children:"We'll try again automatically."})]})]});if(!s||s.source==="none")return X.jsxs(bs.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-neutral-50 rounded-2xl p-6 border-2 border-dashed border-neutral-200 text-center relative",children:[c&&X.jsx("button",{onClick:c,className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-full transition-colors",children:X.jsx(Bf,{size:16})}),X.jsx("p",{className:"text-neutral-600 font-medium mb-2",children:"Product Not Found"}),X.jsx("p",{className:"text-sm text-neutral-400 mb-4",children:"This barcode is not yet in our databases."}),a&&X.jsx("div",{className:"inline-block px-3 py-1 bg-white border border-neutral-200 rounded text-xs font-mono text-neutral-500 tracking-wider shadow-sm",children:a})]});const T=s.data,P=JSON.parse(T.palm_oil_tags||"[]"),U=JSON.parse(T.palm_oil_may_be_tags||"[]"),I=P.length>0,D=U.length>0;let A="border-green-500",S="bg-emerald-50",N="text-green-900",L="text-emerald-600",q="No Palm Oil Detected";I?(A="border-red-500",S="bg-red-50",N="text-red-900",L="text-red-600",q="Contains Palm Oil"):D&&(A="border-orange-500",S="bg-orange-50",N="text-orange-900",L="text-orange-600",q="May Contain Palm Oil");const G=JSON.parse(T.nutrient_levels||"{}"),H=JSON.parse(T.additives_tags||"[]"),$=oe=>{switch(oe==null?void 0:oe.toLowerCase()){case"a":return"bg-emerald-600";case"b":return"bg-emerald-400";case"c":return"bg-yellow-400";case"d":return"bg-orange-500";case"e":return"bg-red-600";default:return"bg-neutral-300"}},te=Object.entries(G).filter(([oe,Te])=>Te==="high");return X.jsxs(bs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-2xl shadow-lg border-l-8 ${A} overflow-hidden`,children:[X.jsxs("div",{className:"p-4",children:[X.jsxs("div",{className:"flex gap-4 mb-3",children:[X.jsx("div",{className:"w-20 h-20 shrink-0 bg-neutral-100 rounded-xl overflow-hidden border border-neutral-100 shadow-sm flex items-center justify-center",children:T.image_url?X.jsx("img",{src:T.image_url,alt:T.name,className:"w-full h-full object-cover",onError:oe=>{var pe,Ve;oe.currentTarget.style.display="none",(pe=oe.currentTarget.parentElement)==null||pe.classList.add("flex","items-center","justify-center");const Te=document.createElement("div");Te.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-neutral-300"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>',(Ve=oe.currentTarget.parentElement)==null||Ve.appendChild(Te.firstChild)}}):X.jsx(rb,{className:"text-neutral-300",size:24})}),X.jsxs("div",{className:"flex-1 min-w-0",children:[X.jsx("div",{className:"flex items-start justify-between gap-2",children:X.jsxs("div",{children:[X.jsx("h3",{className:"text-lg font-bold text-neutral-800 leading-tight mb-1",children:T.name||"Unknown Product"}),X.jsx("p",{className:"text-[10px] font-mono text-neutral-400 uppercase tracking-widest",children:T.code})]})}),X.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[T.nutriscore_grade&&X.jsxs("span",{className:`px-2.5 py-1 rounded-md text-xs font-black uppercase text-white shadow-sm ${$(T.nutriscore_grade)}`,children:["Nutri-Score: ",X.jsx("span",{className:"text-sm",children:T.nutriscore_grade.toUpperCase()})]}),T.nova_group&&X.jsxs("span",{className:"px-2.5 py-1 rounded-md text-xs font-black uppercase bg-neutral-800 text-white shadow-sm",children:["NOVA: ",X.jsx("span",{className:"text-sm",children:T.nova_group})]})]})]}),c&&X.jsx("button",{onClick:c,className:"w-8 h-8 flex items-center justify-center bg-neutral-100 hover:bg-neutral-200 text-neutral-500 hover:text-neutral-700 rounded-full transition-colors shrink-0","aria-label":"Close",children:X.jsx(Bf,{size:18})})]}),X.jsxs("div",{className:`rounded-xl mb-3 overflow-hidden ${S} ${N}`,children:[X.jsxs("button",{onClick:()=>C(!E),disabled:!I&&!D,className:"w-full py-2 px-4 flex items-center justify-between text-left transition-colors",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx(um,{size:20,className:L}),X.jsx("span",{className:"font-bold text-sm leading-tight",children:q})]}),(I||D)&&(E?X.jsx($d,{size:16}):X.jsx(Zd,{size:16}))]}),X.jsx(af,{children:E&&(I||D)&&X.jsxs(bs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4",children:[I&&X.jsxs("div",{className:"text-xs opacity-80",children:[X.jsx("strong",{children:"Detected:"})," ",P.map(oe=>oe.replace("en:","").replace(/-/g," ")).join(", ")]}),!I&&D&&X.jsxs("div",{className:"text-xs opacity-80",children:[X.jsx("strong",{children:"Potential:"})," ",U.map(oe=>oe.replace("en:","").replace(/-/g," ")).join(", ")]})]})})]}),te.length>0&&X.jsxs("div",{className:"mb-3",children:[X.jsx("h4",{className:"text-xs font-bold text-neutral-400 uppercase tracking-wider mb-2",children:"High Levels"}),X.jsxs("div",{className:"flex flex-wrap gap-2",children:[te.map(([oe])=>X.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-xs font-bold rounded-full capitalize",children:["High ",oe]},oe)),T.nova_group===4&&X.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-xs font-bold rounded-full",children:"Ultra-Processed"})]})]}),H.length>0&&X.jsxs("div",{className:"border-t border-neutral-100",children:[X.jsxs("button",{onClick:()=>x(!y),className:"w-full flex items-center justify-between py-2 text-sm font-bold text-neutral-600 hover:text-blue-600 transition-colors",children:[X.jsxs("span",{children:["Additives (",H.length,")"]}),y?X.jsx($d,{size:16}):X.jsx(Zd,{size:16})]}),X.jsx(af,{children:y&&X.jsx(bs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:X.jsx("div",{className:"flex flex-wrap gap-2 pb-4",children:H.map(oe=>X.jsx("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-600 border border-neutral-200 text-[10px] font-bold rounded uppercase",children:oe.replace("en:","").toUpperCase()},oe))})})})]}),X.jsxs("button",{onClick:()=>g(!d),className:"w-full flex items-center justify-between py-3 border-t border-neutral-100 text-sm font-bold text-neutral-600 hover:text-blue-600 transition-colors",children:[X.jsx("span",{children:"Full Ingredients List"}),d?X.jsx($d,{size:16}):X.jsx(Zd,{size:16})]}),X.jsx(af,{children:d&&X.jsx(bs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:X.jsx("p",{className:"text-xs text-neutral-500 leading-relaxed pb-4 capitalize",children:T.ingredients||"No ingredient list available."})})})]}),X.jsx("div",{className:"bg-neutral-50 px-6 py-3 border-t text-xs text-neutral-400 flex justify-between",children:X.jsxs("span",{children:["Source: ",s.source==="local"?"Local DB":"Open Food Facts"]})})]})},zv=({history:e,onSelect:t,activeCode:n})=>{const s=n?e.filter(a=>a.code!==n):e;return!s||s.length===0?X.jsx("div",{className:"bg-white/50 border-2 border-dashed border-slate-200 rounded-3xl p-10 text-center text-slate-300 text-sm italic",children:"No recent scans found"}):X.jsx("div",{className:"space-y-2.5",children:s.map(a=>X.jsxs("button",{onClick:()=>t(a.code),className:"w-full bg-white px-5 py-4 rounded-3xl shadow-sm border border-slate-200/60 flex items-center justify-between hover:bg-slate-50 transition-all text-left group overflow-hidden",children:[X.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[X.jsx("div",{className:`flex-shrink-0 w-2.5 h-2.5 rounded-full ${a.status==="green"?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]":a.status==="red"?"bg-rose-500 shadow-[0_0_10px_rgba(244,63,94,0.3)]":"bg-orange-500 shadow-[0_0_10px_rgba(249,115,22,0.3)]"}`}),X.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[X.jsx("span",{className:"font-bold text-slate-800 truncate group-hover:text-blue-600 transition-colors",children:a.productName||"Unknown Product"}),X.jsx("div",{className:"flex items-center gap-2",children:X.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a.status==="red"?"text-rose-500":"text-emerald-500"}`,children:a.palmOilText})})]}),X.jsx("div",{className:"flex-shrink-0 text-[10px] text-slate-400 font-bold bg-slate-100 px-2 py-1 rounded-full uppercase tracking-tighter",children:new Date(a.scannedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),X.jsx(Hw,{size:16,className:"text-slate-200 group-hover:text-blue-400 ml-3 transition-colors"})]},a.scannedAt))})};function Hv(e){const t=Sr(n=>n.isOnline);return Mw({queryKey:["product",e,{isOnline:t}],queryFn:async()=>e?(console.log(`[useProduct] ISOLATED MODE: Detected ${e}. Skipping DB/API.`),{source:"none",data:null}):null,enabled:!!e,retry:(n,s)=>s.message.includes("Offline")?!1:n<3,networkMode:"offlineFirst",staleTime:1e3*60*60})}const Y0=(e,t)=>t.some(n=>e instanceof n);let U2,j2;function CI(){return U2||(U2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AI(){return j2||(j2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,wh=new WeakMap,vd=new WeakMap;function bI(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",c),e.removeEventListener("error",d)},c=()=>{n(zo(e.result)),a()},d=()=>{s(e.error),a()};e.addEventListener("success",c),e.addEventListener("error",d)});return vd.set(t,e),t}function SI(e){if(Q0.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",d),e.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",c),e.addEventListener("error",d),e.addEventListener("abort",d)});Q0.set(e,t)}let Z0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Q0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Wv(e){Z0=e(Z0)}function _I(e){return AI().includes(e)?function(...t){return e.apply($0(this),t),zo(this.request)}:function(...t){return zo(e.apply($0(this),t))}}function TI(e){return typeof e=="function"?_I(e):(e instanceof IDBTransaction&&SI(e),Y0(e,CI())?new Proxy(e,Z0):e)}function zo(e){if(e instanceof IDBRequest)return bI(e);if(wh.has(e))return wh.get(e);const t=TI(e);return t!==e&&(wh.set(e,t),vd.set(t,e)),t}const $0=e=>vd.get(e);function II(e,t,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(e,t),g=zo(d);return s&&d.addEventListener("upgradeneeded",y=>{s(zo(d.result),y.oldVersion,y.newVersion,zo(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",x=>a(x.oldVersion,x.newVersion,x))}).catch(()=>{}),g}const NI=["get","getKey","getAll","getAllKeys","count"],RI=["put","add","delete","clear"],vh=new Map;function z2(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(vh.get(t))return vh.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=RI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||NI.includes(n)))return;const c=async function(d,...g){const y=this.transaction(d,a?"readwrite":"readonly");let x=y.store;return s&&(x=x.index(g.shift())),(await Promise.all([x[n](...g),a&&y.done]))[0]};return vh.set(t,c),c}Wv(e=>({...e,get:(t,n,s)=>z2(t,n)||e.get(t,n,s),has:(t,n)=>!!z2(t,n)||e.has(t,n)}));const OI=["continue","continuePrimaryKey","advance"],H2={},J0=new WeakMap,Gv=new WeakMap,DI={get(e,t){if(!OI.includes(t))return e[t];let n=H2[t];return n||(n=H2[t]=function(...s){J0.set(this,Gv.get(this)[t](...s))}),n}};async function*PI(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,DI);for(Gv.set(n,t),vd.set(n,$0(t));t;)yield n,t=await(J0.get(n)||t.continue()),J0.delete(n)}function W2(e,t){return t===Symbol.asyncIterator&&Y0(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Y0(e,[IDBIndex,IDBObjectStore])}Wv(e=>({...e,get(t,n,s){return W2(t,n)?PI:e.get(t,n,s)},has(t,n){return W2(t,n)||e.has(t,n)}}));const MI="foodscan-history";async function kI(){return II(MI,3,{upgrade(e){e.objectStoreNames.contains("history")&&e.deleteObjectStore("history"),e.createObjectStore("history",{keyPath:"code"}).createIndex("by-date","scannedAt")}})}async function LI(e=50){let n=await(await kI()).transaction("history").store.index("by-date").openCursor(null,"prev");const s=[];for(;n&&s.length<e;)s.push(n.value),n=await n.continue();return s}function Xv(e=10){return Mw({queryKey:["scan-history",e],queryFn:()=>LI(e),staleTime:1e3*30,refetchInterval:1e3*5})}const BI=()=>{const e=Sr(y=>y.setView),t=Sr(y=>y.activeCode),n=Sr(y=>y.setActiveCode),{data:s,isLoading:a,fetchStatus:c,error:d}=Hv(t),{data:g}=Xv(5);return X.jsx("div",{className:"min-h-screen flex flex-col bg-slate-50",children:X.jsxs("main",{className:"flex-1 p-6 flex flex-col max-w-md mx-auto w-full pt-12 gap-10",children:[X.jsx("div",{className:"space-y-8",children:s||a||c==="paused"||d?X.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:X.jsx(jv,{data:s,isLoading:a,isPaused:c==="paused",error:d,onReset:()=>n(null),code:t})}):X.jsxs("div",{className:"flex flex-col items-center text-center space-y-12 py-8",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"FoodScan"}),X.jsx("p",{className:"text-slate-500 font-medium",children:"Ingredients Finder"})]}),X.jsxs("button",{onClick:()=>e("scanner"),className:"group relative w-48 h-48 bg-white rounded-full shadow-2xl flex flex-col items-center justify-center border-8 border-blue-50 transition-all hover:scale-105 active:scale-95 hover:border-blue-100",children:[X.jsx("div",{className:"absolute inset-0 bg-blue-500/5 rounded-full animate-pulse group-hover:bg-blue-500/10"}),X.jsx(ib,{size:64,className:"text-blue-600 mb-2 group-hover:text-blue-700 transition-colors"}),X.jsx("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:"Tap to Scan"})]}),X.jsx("div",{className:"w-full",children:X.jsx("p",{className:"text-sm text-slate-400",children:"Food Ingredients Finder for your groceries"})})]})}),X.jsxs("section",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:[X.jsx("div",{className:"flex items-center justify-between mb-4 px-2",children:X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx(zw,{size:18,className:"text-slate-400"}),X.jsx("h3",{className:"font-bold text-slate-600 text-xs uppercase tracking-wider",children:"Recent History"})]})}),X.jsx("div",{className:"space-y-2.5",children:X.jsx(zv,{history:g||[],onSelect:n})})]})]})})};var Se;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Se||(Se={}));var G2=new Map([[Se.QR_CODE,"QR_CODE"],[Se.AZTEC,"AZTEC"],[Se.CODABAR,"CODABAR"],[Se.CODE_39,"CODE_39"],[Se.CODE_93,"CODE_93"],[Se.CODE_128,"CODE_128"],[Se.DATA_MATRIX,"DATA_MATRIX"],[Se.MAXICODE,"MAXICODE"],[Se.ITF,"ITF"],[Se.EAN_13,"EAN_13"],[Se.EAN_8,"EAN_8"],[Se.PDF_417,"PDF_417"],[Se.RSS_14,"RSS_14"],[Se.RSS_EXPANDED,"RSS_EXPANDED"],[Se.UPC_A,"UPC_A"],[Se.UPC_E,"UPC_E"],[Se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),X2;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(X2||(X2={}));function FI(e){return Object.values(Se).includes(e)}var Gf;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Gf||(Gf={}));var VI=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Gf.SCAN_TYPE_CAMERA,Gf.SCAN_TYPE_FILE],e}(),qv=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!G2.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,G2.get(t))},e}(),q2=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),e1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(e1||(e1={}));var UI=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:e1.UNKWOWN_ERROR}},e}(),jI=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function zi(e){return typeof e>"u"||e===null}var Pa=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Kv=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var s=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(a),d=Object.keys(t),g=0,y=d;g<y.length;g++){var x=y[g];if(c.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),t1={exports:{}};(function(e,t){(function(n,s){s(t)})(Pl,function(n){function s(R){return R==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,r){R.__proto__=r}||function(R,r){for(var i in r)r.hasOwnProperty(i)&&(R[i]=r[i])};function c(R,r){a(R,r);function i(){this.constructor=R}R.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function d(R,r){var i=Object.setPrototypeOf;i?i(R,r):R.__proto__=r}function g(R,r){r===void 0&&(r=R.constructor);var i=Error.captureStackTrace;i&&i(R,r)}var y=function(R){c(r,R);function r(i){var o=this.constructor,l=R.call(this,i)||this;return Object.defineProperty(l,"name",{value:o.name,enumerable:!1}),d(l,o.prototype),g(l),l}return r}(Error);class x extends y{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}x.kind="Exception";class E extends x{}E.kind="ArgumentException";class C extends x{}C.kind="IllegalArgumentException";class T{constructor(r){if(this.binarizer=r,r===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,i){return this.binarizer.getBlackRow(r,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,i,o,l){const u=this.binarizer.getLuminanceSource().crop(r,i,o,l);return new T(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class P extends x{static getChecksumInstance(){return new P}}P.kind="ChecksumException";class U{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(r,i,o,l,u){for(;u--;)o[l++]=r[i++]}static currentTimeMillis(){return Date.now()}}class D extends x{}D.kind="IndexOutOfBoundsException";class A extends D{constructor(r=void 0,i=void 0){super(i),this.index=r,this.message=i}}A.kind="ArrayIndexOutOfBoundsException";class S{static fill(r,i){for(let o=0,l=r.length;o<l;o++)r[o]=i}static fillWithin(r,i,o,l){S.rangeCheck(r.length,i,o);for(let u=i;u<o;u++)r[u]=l}static rangeCheck(r,i,o){if(i>o)throw new C("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new A(i);if(o>r)throw new A(o)}static asList(...r){return r}static create(r,i,o){return Array.from({length:r}).map(u=>Array.from({length:i}).fill(o))}static createInt32Array(r,i,o){return Array.from({length:r}).map(u=>Int32Array.from({length:i}).fill(o))}static equals(r,i){if(!r||!i||!r.length||!i.length||r.length!==i.length)return!1;for(let o=0,l=r.length;o<l;o++)if(r[o]!==i[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let i=1;for(const o of r)i=31*i+o;return i}static fillUint8Array(r,i){for(let o=0;o!==r.length;o++)r[o]=i}static copyOf(r,i){return r.slice(0,i)}static copyOfUint8Array(r,i){if(r.length<=i){const o=new Uint8Array(i);return o.set(r),o}return r.slice(0,i)}static copyOfRange(r,i,o){const l=o-i,u=new Int32Array(l);return I.arraycopy(r,i,u,0,l),u}static binarySearch(r,i,o){o===void 0&&(o=S.numberComparator);let l=0,u=r.length-1;for(;l<=u;){const f=u+l>>1,h=o(i,r[f]);if(h>0)l=f+1;else if(h<0)u=f-1;else return f}return-l-1}static numberComparator(r,i){return r-i}}class N{static numberOfTrailingZeros(r){let i;if(r===0)return 32;let o=31;return i=r<<16,i!==0&&(o-=16,r=i),i=r<<8,i!==0&&(o-=8,r=i),i=r<<4,i!==0&&(o-=4,r=i),i=r<<2,i!==0&&(o-=2,r=i),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let i=1;return r>>>16||(i+=16,r<<=16),r>>>24||(i+=8,r<<=8),r>>>28||(i+=4,r<<=4),r>>>30||(i+=2,r<<=2),i-=r>>>31,i}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,i){return Math.trunc(r/i)}static parseInt(r,i=void 0){return parseInt(r,i)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(r,i){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,i==null?this.bits=L.makeArray(r):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const i=L.makeArray(r);I.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const i=this.size;if(r>=i)return i;const o=this.bits;let l=Math.floor(r/32),u=o[l];u&=~((1<<(r&31))-1);const f=o.length;for(;u===0;){if(++l===f)return i;u=o[l]}const h=l*32+N.numberOfTrailingZeros(u);return h>i?i:h}getNextUnset(r){const i=this.size;if(r>=i)return i;const o=this.bits;let l=Math.floor(r/32),u=~o[l];u&=~((1<<(r&31))-1);const f=o.length;for(;u===0;){if(++l===f)return i;u=~o[l]}const h=l*32+N.numberOfTrailingZeros(u);return h>i?i:h}setBulk(r,i){this.bits[Math.floor(r/32)]=i}setRange(r,i){if(i<r||r<0||i>this.size)throw new C;if(i===r)return;i--;const o=Math.floor(r/32),l=Math.floor(i/32),u=this.bits;for(let f=o;f<=l;f++){const h=f>o?0:r&31,w=(2<<(f<l?31:i&31))-(1<<h);u[f]|=w}}clear(){const r=this.bits.length,i=this.bits;for(let o=0;o<r;o++)i[o]=0}isRange(r,i,o){if(i<r||r<0||i>this.size)throw new C;if(i===r)return!0;i--;const l=Math.floor(r/32),u=Math.floor(i/32),f=this.bits;for(let h=l;h<=u;h++){const p=h>l?0:r&31,b=(2<<(h<u?31:i&31))-(1<<p)&4294967295;if((f[h]&b)!==(o?b:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,i){if(i<0||i>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const i=r.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new C("Sizes don't match");const i=this.bits;for(let o=0,l=i.length;o<l;o++)i[o]^=r.bits[o]}toBytes(r,i,o,l){for(let u=0;u<l;u++){let f=0;for(let h=0;h<8;h++)this.get(r)&&(f|=1<<7-h),r++;i[o+u]=f}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,l=this.bits;for(let u=0;u<o;u++){let f=l[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,r[i-u]=f}if(this.size!==o*32){const u=o*32-this.size;let f=r[0]>>>u;for(let h=1;h<o;h++){const p=r[h];f|=p<<32-u,r[h-1]=f,f=p>>>u}r[o-1]=f}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof L))return!1;const i=r;return this.size===i.size&&S.equals(this.bits,i.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let r="";for(let i=0,o=this.size;i<o;i++)i&7||(r+=" "),r+=this.get(i)?"X":".";return r}clone(){return new L(this.size,this.bits.slice())}}var q;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var G=q;class H extends x{static getFormatInstance(){return new H}}H.kind="FormatException";var $;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})($||($={}));class te{constructor(r,i,o,...l){this.valueIdentifier=r,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,te.VALUE_IDENTIFIER_TO_ECI.set(r,this),te.NAME_TO_ECI.set(o,this);const u=this.values;for(let f=0,h=u.length;f!==h;f++){const p=u[f];te.VALUES_TO_ECI.set(p,this)}for(const f of l)te.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new H("incorect value");const i=te.VALUES_TO_ECI.get(r);if(i===void 0)throw new H("incorect value");return i}static getCharacterSetECIByName(r){const i=te.NAME_TO_ECI.get(r);if(i===void 0)throw new H("incorect value");return i}equals(r){if(!(r instanceof te))return!1;const i=r;return this.getName()===i.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te($.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te($.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te($.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te($.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te($.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te($.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te($.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te($.Big5,28,"Big5"),te.GB18030=new te($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te($.EUC_KR,30,"EUC_KR","EUC-KR");class oe extends x{}oe.kind="UnsupportedOperationException";class Te{static decode(r,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!Te.isBrowser()&&r==="ISO-8859-1"}static encode(r,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof te?r:te.getCharacterSetECIByName(r)}static decodeFallback(r,i){const o=this.encodingCharacterSet(i);if(Te.isDecodeFallbackSupported(o)){let l="";for(let u=0,f=r.length;u<f;u++){let h=r[u].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(o.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new oe(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(te.UTF8)||r.equals(te.ISO8859_1)||r.equals(te.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),l=[];for(let u=0;u<o.length;u++)l.push(o[u].charCodeAt(0));return new Uint8Array(l)}}class pe{static castAsNonUtf8Char(r,i=null){const o=i?i.getName():this.ISO88591;return Te.decode(new Uint8Array([r]),o)}static guessEncoding(r,i){if(i!=null&&i.get(G.CHARACTER_SET)!==void 0)return i.get(G.CHARACTER_SET).toString();const o=r.length;let l=!0,u=!0,f=!0,h=0,p=0,w=0,b=0,O=0,M=0,V=0,z=0,W=0,K=0,ne=0;const he=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let me=0;me<o&&(l||u||f);me++){const ce=r[me]&255;f&&(h>0?ce&128?h--:f=!1:ce&128&&(ce&64?(h++,ce&32?(h++,ce&16?(h++,ce&8?f=!1:b++):w++):p++):f=!1)),l&&(ce>127&&ce<160?l=!1:ce>159&&(ce<192||ce===215||ce===247)&&ne++),u&&(O>0?ce<64||ce===127||ce>252?u=!1:O--:ce===128||ce===160||ce>239?u=!1:ce>160&&ce<224?(M++,z=0,V++,V>W&&(W=V)):ce>127?(O++,V=0,z++,z>K&&(K=z)):(V=0,z=0))}return f&&h>0&&(f=!1),u&&O>0&&(u=!1),f&&(he||p+w+b>0)?pe.UTF8:u&&(pe.ASSUME_SHIFT_JIS||W>=3||K>=3)?pe.SHIFT_JIS:l&&u?W===2&&M===2||ne*10>=o?pe.SHIFT_JIS:pe.ISO88591:l?pe.ISO88591:u?pe.SHIFT_JIS:f?pe.UTF8:pe.PLATFORM_DEFAULT_ENCODING}static format(r,...i){let o=-1;function l(f,h,p,w,b,O){if(f==="%%")return"%";if(i[++o]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let M=b?parseInt(b.substr(1)):void 0,V;switch(O){case"s":V=i[o];break;case"c":V=i[o][0];break;case"f":V=parseFloat(i[o]).toFixed(f);break;case"p":V=parseFloat(i[o]).toPrecision(f);break;case"e":V=parseFloat(i[o]).toExponential(f);break;case"x":V=parseInt(i[o]).toString(M||16);break;case"d":V=parseFloat(parseInt(i[o],M||10).toPrecision(f)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(M);let z=parseInt(p),W=p&&p[0]+""=="0"?"0":" ";for(;V.length<z;)V=h!==void 0?V+W:W+V;return V}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,l)}static getBytes(r,i){return Te.encode(r,i)}static getCharCode(r,i=0){return r.charCodeAt(i)}static getCharAt(r){return String.fromCharCode(r)}}pe.SHIFT_JIS=te.SJIS.getName(),pe.GB2312="GB2312",pe.ISO88591=te.ISO8859_1.getName(),pe.EUC_JP="EUC_JP",pe.UTF8=te.UTF8.getName(),pe.PLATFORM_DEFAULT_ENCODING=pe.UTF8,pe.ASSUME_SHIFT_JIS=!1;class Ve{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=pe.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,i,o){for(let l=i;i<i+o;l++)this.append(r[l]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+1)}substring(r,i){return this.value.substring(r,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+i.length)}}class Je{constructor(r,i,o,l){if(this.width=r,this.height=i,this.rowSize=o,this.bits=l,i==null&&(i=r),this.height=i,r<1||i<1)throw new C("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const i=r.length,o=r[0].length,l=new Je(o,i);for(let u=0;u<i;u++){const f=r[u];for(let h=0;h<o;h++)f[h]&&l.set(h,u)}return l}static parseFromString(r,i,o){if(r===null)throw new C("stringRepresentation cannot be null");const l=new Array(r.length);let u=0,f=0,h=-1,p=0,w=0;for(;w<r.length;)if(r.charAt(w)===`
`||r.charAt(w)==="\r"){if(u>f){if(h===-1)h=u-f;else if(u-f!==h)throw new C("row lengths do not match");f=u,p++}w++}else if(r.substring(w,w+i.length)===i)w+=i.length,l[u]=!0,u++;else if(r.substring(w,w+o.length)===o)w+=o.length,l[u]=!1,u++;else throw new C("illegal character encountered: "+r.substring(w));if(u>f){if(h===-1)h=u-f;else if(u-f!==h)throw new C("row lengths do not match");p++}const b=new Je(h,p);for(let O=0;O<u;O++)l[O]&&b.set(Math.floor(O%h),Math.floor(O/h));return b}get(r,i){const o=i*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new C("input matrix dimensions do not match");const i=new L(Math.floor(this.width/32)+1),o=this.rowSize,l=this.bits;for(let u=0,f=this.height;u<f;u++){const h=u*o,p=r.getRow(u,i).getBitArray();for(let w=0;w<o;w++)l[h+w]^=p[w]}}clear(){const r=this.bits,i=r.length;for(let o=0;o<i;o++)r[o]=0}setRegion(r,i,o,l){if(i<0||r<0)throw new C("Left and top must be nonnegative");if(l<1||o<1)throw new C("Height and width must be at least 1");const u=r+o,f=i+l;if(f>this.height||u>this.width)throw new C("The region must fit inside the matrix");const h=this.rowSize,p=this.bits;for(let w=i;w<f;w++){const b=w*h;for(let O=r;O<u;O++)p[b+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(r,i){i==null||i.getSize()<this.width?i=new L(this.width):i.clear();const o=this.rowSize,l=this.bits,u=r*o;for(let f=0;f<o;f++)i.setBulk(f*32,l[u+f]);return i}setRow(r,i){I.arraycopy(i.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),i=this.getHeight();let o=new L(r),l=new L(r);for(let u=0,f=Math.floor((i+1)/2);u<f;u++)o=this.getRow(u,o),l=this.getRow(i-1-u,l),o.reverse(),l.reverse(),this.setRow(u,l),this.setRow(i-1-u,o)}getEnclosingRectangle(){const r=this.width,i=this.height,o=this.rowSize,l=this.bits;let u=r,f=i,h=-1,p=-1;for(let w=0;w<i;w++)for(let b=0;b<o;b++){const O=l[w*o+b];if(O!==0){if(w<f&&(f=w),w>p&&(p=w),b*32<u){let M=0;for(;!(O<<31-M&4294967295);)M++;b*32+M<u&&(u=b*32+M)}if(b*32+31>h){let M=31;for(;!(O>>>M);)M--;b*32+M>h&&(h=b*32+M)}}}return h<u||p<f?null:Int32Array.from([u,f,h-u+1,p-f+1])}getTopLeftOnBit(){const r=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const l=o/r;let u=o%r*32;const f=i[o];let h=0;for(;!(f<<31-h&4294967295);)h++;return u+=h,Int32Array.from([u,l])}getBottomRightOnBit(){const r=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const l=Math.floor(o/r);let u=Math.floor(o%r)*32;const f=i[o];let h=31;for(;!(f>>>h);)h--;return u+=h,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof Je))return!1;const i=r;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&S.equals(this.bits,i.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+S.hashCode(this.bits),r}toString(r="X ",i="  ",o=`
`){return this.buildToString(r,i,o)}buildToString(r,i,o){let l=new Ve;for(let u=0,f=this.height;u<f;u++){for(let h=0,p=this.width;h<p;h++)l.append(this.get(h,u)?r:i);l.append(o)}return l.toString()}clone(){return new Je(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends x{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class gt extends U{constructor(r){super(r),this.luminances=gt.EMPTY,this.buckets=new Int32Array(gt.LUMINANCE_BUCKETS)}getBlackRow(r,i){const o=this.getLuminanceSource(),l=o.getWidth();i==null||i.getSize()<l?i=new L(l):i.clear(),this.initArrays(l);const u=o.getRow(r,this.luminances),f=this.buckets;for(let p=0;p<l;p++)f[(u[p]&255)>>gt.LUMINANCE_SHIFT]++;const h=gt.estimateBlackPoint(f);if(l<3)for(let p=0;p<l;p++)(u[p]&255)<h&&i.set(p);else{let p=u[0]&255,w=u[1]&255;for(let b=1;b<l-1;b++){const O=u[b+1]&255;(w*4-p-O)/2<h&&i.set(b),p=w,w=O}}return i}getBlackMatrix(){const r=this.getLuminanceSource(),i=r.getWidth(),o=r.getHeight(),l=new Je(i,o);this.initArrays(i);const u=this.buckets;for(let p=1;p<5;p++){const w=Math.floor(o*p/5),b=r.getRow(w,this.luminances),O=Math.floor(i*4/5);for(let M=Math.floor(i/5);M<O;M++){const V=b[M]&255;u[V>>gt.LUMINANCE_SHIFT]++}}const f=gt.estimateBlackPoint(u),h=r.getMatrix();for(let p=0;p<o;p++){const w=p*i;for(let b=0;b<i;b++)(h[w+b]&255)<f&&l.set(b,p)}return l}createBinarizer(r){return new gt(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const i=this.buckets;for(let o=0;o<gt.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(r){const i=r.length;let o=0,l=0,u=0;for(let b=0;b<i;b++)r[b]>u&&(l=b,u=r[b]),r[b]>o&&(o=r[b]);let f=0,h=0;for(let b=0;b<i;b++){const O=b-l,M=r[b]*O*O;M>h&&(f=b,h=M)}if(l>f){const b=l;l=f,f=b}if(f-l<=i/16)throw new re;let p=f-1,w=-1;for(let b=f-1;b>l;b--){const O=b-l,M=O*O*(f-b)*(o-r[b]);M>w&&(p=b,w=M)}return p<<gt.LUMINANCE_SHIFT}}gt.LUMINANCE_BITS=5,gt.LUMINANCE_SHIFT=8-gt.LUMINANCE_BITS,gt.LUMINANCE_BUCKETS=1<<gt.LUMINANCE_BITS,gt.EMPTY=Uint8ClampedArray.from([0]);class be extends gt{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),i=r.getWidth(),o=r.getHeight();if(i>=be.MINIMUM_DIMENSION&&o>=be.MINIMUM_DIMENSION){const l=r.getMatrix();let u=i>>be.BLOCK_SIZE_POWER;i&be.BLOCK_SIZE_MASK&&u++;let f=o>>be.BLOCK_SIZE_POWER;o&be.BLOCK_SIZE_MASK&&f++;const h=be.calculateBlackPoints(l,u,f,i,o),p=new Je(i,o);be.calculateThresholdForBlock(l,u,f,i,o,h,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new be(r)}static calculateThresholdForBlock(r,i,o,l,u,f,h){const p=u-be.BLOCK_SIZE,w=l-be.BLOCK_SIZE;for(let b=0;b<o;b++){let O=b<<be.BLOCK_SIZE_POWER;O>p&&(O=p);const M=be.cap(b,2,o-3);for(let V=0;V<i;V++){let z=V<<be.BLOCK_SIZE_POWER;z>w&&(z=w);const W=be.cap(V,2,i-3);let K=0;for(let he=-2;he<=2;he++){const me=f[M+he];K+=me[W-2]+me[W-1]+me[W]+me[W+1]+me[W+2]}const ne=K/25;be.thresholdBlock(r,z,O,ne,l,h)}}}static cap(r,i,o){return r<i?i:r>o?o:r}static thresholdBlock(r,i,o,l,u,f){for(let h=0,p=o*u+i;h<be.BLOCK_SIZE;h++,p+=u)for(let w=0;w<be.BLOCK_SIZE;w++)(r[p+w]&255)<=l&&f.set(i+w,o+h)}static calculateBlackPoints(r,i,o,l,u){const f=u-be.BLOCK_SIZE,h=l-be.BLOCK_SIZE,p=new Array(o);for(let w=0;w<o;w++){p[w]=new Int32Array(i);let b=w<<be.BLOCK_SIZE_POWER;b>f&&(b=f);for(let O=0;O<i;O++){let M=O<<be.BLOCK_SIZE_POWER;M>h&&(M=h);let V=0,z=255,W=0;for(let ne=0,he=b*l+M;ne<be.BLOCK_SIZE;ne++,he+=l){for(let me=0;me<be.BLOCK_SIZE;me++){const ce=r[he+me]&255;V+=ce,ce<z&&(z=ce),ce>W&&(W=ce)}if(W-z>be.MIN_DYNAMIC_RANGE)for(ne++,he+=l;ne<be.BLOCK_SIZE;ne++,he+=l)for(let me=0;me<be.BLOCK_SIZE;me++)V+=r[he+me]&255}let K=V>>be.BLOCK_SIZE_POWER*2;if(W-z<=be.MIN_DYNAMIC_RANGE&&(K=z/2,w>0&&O>0)){const ne=(p[w-1][O]+2*p[w][O-1]+p[w-1][O-1])/4;z<ne&&(K=ne)}p[w][O]=K}}return p}}be.BLOCK_SIZE_POWER=3,be.BLOCK_SIZE=1<<be.BLOCK_SIZE_POWER,be.BLOCK_SIZE_MASK=be.BLOCK_SIZE-1,be.MINIMUM_DIMENSION=be.BLOCK_SIZE*5,be.MIN_DYNAMIC_RANGE=24;class ge{constructor(r,i){this.width=r,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,i,o,l){throw new oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new oe("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let i=new Ve;for(let o=0;o<this.height;o++){const l=this.getRow(o,r);for(let u=0;u<this.width;u++){const f=l[u]&255;let h;f<64?h="#":f<128?h="+":f<192?h=".":h=" ",i.append(h)}i.append(`
`)}return i.toString()}}class Ce extends ge{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,i){const o=this.delegate.getRow(r,i),l=this.getWidth();for(let u=0;u<l;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let l=0;l<i;l++)o[l]=255-(r[l]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,i,o,l){return new Ce(this.delegate.crop(r,i,o,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ce(this.delegate.rotateCounterClockwise45())}}class De extends ge{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=De.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const i=r.getContext("2d").getImageData(0,0,r.width,r.height);return De.toGrayscaleBuffer(i.data,r.width,r.height)}static toGrayscaleBuffer(r,i,o){const l=new Uint8ClampedArray(i*o);for(let u=0,f=0,h=r.length;u<h;u+=4,f++){let p;if(r[u+3]===0)p=255;else{const b=r[u],O=r[u+1],M=r[u+2];p=306*b+601*O+117*M+512>>10}l[f]=p}return l}getRow(r,i){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth(),l=r*o;return i===null?i=this.buffer.slice(l,l+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(l,l+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,i,o,l){return super.crop(r,i,o,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const i=this.getTempCanvasElement(),o=i.getContext("2d"),l=r*De.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*f),p=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*f);return i.width=h,i.height=p,o.translate(h/2,p/2),o.rotate(l),o.drawImage(this.canvas,u/-2,f/-2),this.buffer=De.makeBufferFromCanvasImageData(i),this}invert(){return new Ce(this)}}De.DEGREE_TO_RADIANS=Math.PI/180;class Ge{constructor(r,i,o){this.deviceId=r,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var et=(globalThis||Pl||self||window||void 0)&&(globalThis||Pl||self||window||void 0).__awaiter||function(R,r,i,o){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function h(b){try{w(o.next(b))}catch(O){f(O)}}function p(b){try{w(o.throw(b))}catch(O){f(O)}}function w(b){b.done?u(b.value):l(b.value).then(h,p)}w((o=o.apply(R,r||[])).next())})};class Wn{constructor(r,i=500,o){this.reader=r,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return et(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of r){const l=o.kind==="video"?"videoinput":o.kind;if(l!=="videoinput")continue;const u=o.deviceId||o.id,f=o.label||`Video device ${i.length+1}`,h=o.groupId,p={deviceId:u,label:f,kind:l,groupId:h};i.push(p)}return i})}getVideoInputDevices(){return et(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Ge(i.deviceId,i.label))})}findDeviceById(r){return et(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,i){return et(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,i)})}decodeOnceFromVideoDevice(r,i){return et(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(r,i){return et(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(r,i){return et(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,i,o){return et(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,i,o)})}decodeFromVideoDevice(r,i,o){return et(this,void 0,void 0,function*(){let l;r?l={deviceId:{exact:r}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,i,o)})}decodeFromConstraints(r,i,o){return et(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(l,i,o)})}decodeFromStream(r,i,o){return et(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(r,i);return yield this.decodeContinuously(l,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,i){return et(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((i,o)=>this.playVideoOnLoad(r,()=>i()))}playVideoOnLoad(r,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",i),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return et(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,i){const o=document.getElementById(r);if(!o)throw new E(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new E(`element with id '${r}' must be an ${i} element`);return o}decodeFromImage(r,i){if(!r&&!i)throw new E("either imageElement with a src set or an url must be provided");return i&&!r?this.decodeFromImageUrl(i):this.decodeFromImageElement(r)}decodeFromVideo(r,i){if(!r&&!i)throw new E("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,i,o){if(r===void 0&&i===void 0)throw new E("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new E("An image element must be provided.");this.reset();const i=this.prepareImageElement(r);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(r){const i=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(r,i){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(r){if(!r)throw new E("A video element must be provided.");this.reset();const i=this.prepareVideoElement(r);return this.videoElement=i,i}decodeFromImageUrl(r){if(!r)throw new E("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=r,o}decodeFromVideoUrl(r){if(!r)throw new E("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=r,o}decodeFromVideoUrlContinuously(r,i){if(!r)throw new E("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(o,i);return o.src=r,l}_decodeOnLoadImage(r){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(i,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return et(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,i){return et(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,i)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let i;return typeof r>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(i=r),i}prepareVideoElement(r){let i;return!r&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(i=r),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(r,i=!0,o=!0){this._stopAsyncDecode=!1;const l=(u,f)=>{if(this._stopAsyncDecode){f(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(r);u(h)}catch(h){const p=i&&h instanceof re,b=(h instanceof P||h instanceof H)&&o;if(p||b)return setTimeout(l,this._timeBetweenDecodingAttempts,u,f);f(h)}};return new Promise((u,f)=>l(u,f))}decodeContinuously(r,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(r);i(l,null),setTimeout(o,this.timeBetweenScansMillis)}catch(l){i(null,l);const u=l instanceof P||l instanceof H,f=l instanceof re;(u||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const i=this.createBinaryBitmap(r);return this.decodeBitmap(i)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,i,o){i||(i={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(r,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const i=this.getCaptureCanvas(r),o=new De(i),l=new be(o);return new T(l)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const i=this.createCaptureCanvas(r);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,l;return typeof r<"u"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,l=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,l=r.naturalHeight||r.height)),i.style.width=o+"px",i.style.height=l+"px",i.width=o,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,i){try{r.srcObject=i}catch{r.src=URL.createObjectURL(i)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class Rt{constructor(r,i,o=i==null?0:8*i.length,l,u,f=I.currentTimeMillis()){this.text=r,this.rawBytes=i,this.numBits=o,this.resultPoints=l,this.format=u,this.timestamp=f,this.text=r,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=l,this.format=u,this.resultMetadata=null,f==null?this.timestamp=I.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,i)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const i=this.resultPoints;if(i===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(i.length+r.length);I.arraycopy(i,0,o,0,i.length),I.arraycopy(r,0,o,i.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var li;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(li||(li={}));var Re=li,Pe;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Pe||(Pe={}));var ze=Pe;class as{constructor(r,i,o,l,u=-1,f=-1){this.rawBytes=r,this.text=i,this.byteSegments=o,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ui{exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}static addOrSubtract(r,i){return r^i}}class lt{constructor(r,i){if(i.length===0)throw new C;this.field=r;const o=i.length;if(o>1&&i[0]===0){let l=1;for(;l<o&&i[l]===0;)l++;l===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-l),I.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(r===1){o=0;for(let f=0,h=i.length;f!==h;f++){const p=i[f];o=ui.addOrSubtract(o,p)}return o}o=i[0];const l=i.length,u=this.field;for(let f=1;f<l;f++)o=ui.addOrSubtract(u.multiply(r,o),i[f]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,o=r.coefficients;if(i.length>o.length){const f=i;i=o,o=f}let l=new Int32Array(o.length);const u=o.length-i.length;I.arraycopy(o,0,l,0,u);for(let f=u;f<o.length;f++)l[f]=ui.addOrSubtract(i[f-u],o[f]);return new lt(this.field,l)}multiply(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,l=r.coefficients,u=l.length,f=new Int32Array(o+u-1),h=this.field;for(let p=0;p<o;p++){const w=i[p];for(let b=0;b<u;b++)f[p+b]=ui.addOrSubtract(f[p+b],h.multiply(w,l[b]))}return new lt(h,f)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const i=this.coefficients.length,o=this.field,l=new Int32Array(i),u=this.coefficients;for(let f=0;f<i;f++)l[f]=o.multiply(u[f],r);return new lt(o,l)}multiplyByMonomial(r,i){if(r<0)throw new C;if(i===0)return this.field.getZero();const o=this.coefficients,l=o.length,u=new Int32Array(l+r),f=this.field;for(let h=0;h<l;h++)u[h]=f.multiply(o[h],i);return new lt(f,u)}divide(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new C("Divide by 0");const i=this.field;let o=i.getZero(),l=this;const u=r.getCoefficient(r.getDegree()),f=i.inverse(u);for(;l.getDegree()>=r.getDegree()&&!l.isZero();){const h=l.getDegree()-r.getDegree(),p=i.multiply(l.getCoefficient(l.getDegree()),f),w=r.multiplyByMonomial(h,p),b=i.buildMonomial(h,p);o=o.addOrSubtract(b),l=l.addOrSubtract(w)}return[o,l]}toString(){let r="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),i===0||o!==1){const l=this.field.log(o);l===0?r+="1":l===1?r+="a":(r+="a^",r+=l)}i!==0&&(i===1?r+="x":(r+="x^",r+=i))}}return r}}class Gn extends x{}Gn.kind="ArithmeticException";class at extends ui{constructor(r,i,o){super(),this.primitive=r,this.size=i,this.generatorBase=o;const l=new Int32Array(i);let u=1;for(let h=0;h<i;h++)l[h]=u,u*=2,u>=i&&(u^=r,u&=i-1);this.expTable=l;const f=new Int32Array(i);for(let h=0;h<i-1;h++)f[l[h]]=h;this.logTable=f,this.zero=new lt(this,Int32Array.from([0])),this.one=new lt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new C;if(i===0)return this.zero;const o=new Int32Array(r+1);return o[0]=i,new lt(this,o)}inverse(r){if(r===0)throw new Gn;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}at.AZTEC_DATA_12=new at(4201,4096,1),at.AZTEC_DATA_10=new at(1033,1024,1),at.AZTEC_DATA_6=new at(67,64,1),at.AZTEC_PARAM=new at(19,16,1),at.QR_CODE_FIELD_256=new at(285,256,0),at.DATA_MATRIX_FIELD_256=new at(301,256,1),at.AZTEC_DATA_8=at.DATA_MATRIX_FIELD_256,at.MAXICODE_FIELD_64=at.AZTEC_DATA_6;class $e extends x{}$e.kind="ReedSolomonException";class gr extends x{}gr.kind="IllegalStateException";class nr{constructor(r){this.field=r}decode(r,i){const o=this.field,l=new lt(o,r),u=new Int32Array(i);let f=!0;for(let V=0;V<i;V++){const z=l.evaluateAt(o.exp(V+o.getGeneratorBase()));u[u.length-1-V]=z,z!==0&&(f=!1)}if(f)return;const h=new lt(o,u),p=this.runEuclideanAlgorithm(o.buildMonomial(i,1),h,i),w=p[0],b=p[1],O=this.findErrorLocations(w),M=this.findErrorMagnitudes(b,O);for(let V=0;V<O.length;V++){const z=r.length-1-o.log(O[V]);if(z<0)throw new $e("Bad error location");r[z]=at.addOrSubtract(r[z],M[V])}}runEuclideanAlgorithm(r,i,o){if(r.getDegree()<i.getDegree()){const V=r;r=i,i=V}const l=this.field;let u=r,f=i,h=l.getZero(),p=l.getOne();for(;f.getDegree()>=(o/2|0);){let V=u,z=h;if(u=f,h=p,u.isZero())throw new $e("r_{i-1} was zero");f=V;let W=l.getZero();const K=u.getCoefficient(u.getDegree()),ne=l.inverse(K);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const he=f.getDegree()-u.getDegree(),me=l.multiply(f.getCoefficient(f.getDegree()),ne);W=W.addOrSubtract(l.buildMonomial(he,me)),f=f.addOrSubtract(u.multiplyByMonomial(he,me))}if(p=W.multiply(h).addOrSubtract(z),f.getDegree()>=u.getDegree())throw new gr("Division algorithm failed to reduce polynomial?")}const w=p.getCoefficient(0);if(w===0)throw new $e("sigmaTilde(0) was zero");const b=l.inverse(w),O=p.multiplyScalar(b),M=f.multiplyScalar(b);return[O,M]}findErrorLocations(r){const i=r.getDegree();if(i===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(i);let l=0;const u=this.field;for(let f=1;f<u.getSize()&&l<i;f++)r.evaluateAt(f)===0&&(o[l]=u.inverse(f),l++);if(l!==i)throw new $e("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,i){const o=i.length,l=new Int32Array(o),u=this.field;for(let f=0;f<o;f++){const h=u.inverse(i[f]);let p=1;for(let w=0;w<o;w++)if(f!==w){const b=u.multiply(i[w],h),O=b&1?b&-2:b|1;p=u.multiply(p,O)}l[f]=u.multiply(r.evaluateAt(h),u.inverse(p)),u.getGeneratorBase()!==0&&(l[f]=u.multiply(l[f],h))}return l}}var un;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(un||(un={}));class dt{decode(r){this.ddata=r;let i=r.getBits(),o=this.extractBits(i),l=this.correctBits(o),u=dt.convertBoolArrayToByteArray(l),f=dt.getEncodedData(l),h=new as(u,f,null,null);return h.setNumBits(l.length),h}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let i=r.length,o=un.UPPER,l=un.UPPER,u="",f=0;for(;f<i;)if(l===un.BINARY){if(i-f<5)break;let h=dt.readCode(r,f,5);if(f+=5,h===0){if(i-f<11)break;h=dt.readCode(r,f,11)+31,f+=11}for(let p=0;p<h;p++){if(i-f<8){f=i;break}const w=dt.readCode(r,f,8);u+=pe.castAsNonUtf8Char(w),f+=8}l=o}else{let h=l===un.DIGIT?4:5;if(i-f<h)break;let p=dt.readCode(r,f,h);f+=h;let w=dt.getCharacter(l,p);w.startsWith("CTRL_")?(o=l,l=dt.getTable(w.charAt(5)),w.charAt(6)==="L"&&(o=l)):(u+=w,l=o)}return u}static getTable(r){switch(r){case"L":return un.LOWER;case"P":return un.PUNCT;case"M":return un.MIXED;case"D":return un.DIGIT;case"B":return un.BINARY;case"U":default:return un.UPPER}}static getCharacter(r,i){switch(r){case un.UPPER:return dt.UPPER_TABLE[i];case un.LOWER:return dt.LOWER_TABLE[i];case un.MIXED:return dt.MIXED_TABLE[i];case un.PUNCT:return dt.PUNCT_TABLE[i];case un.DIGIT:return dt.DIGIT_TABLE[i];default:throw new gr("Bad table")}}correctBits(r){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=at.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=at.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=at.AZTEC_DATA_10):(o=12,i=at.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=r.length/o;if(u<l)throw new H;let f=r.length%o,h=new Int32Array(u);for(let M=0;M<u;M++,f+=o)h[M]=dt.readCode(r,f,o);try{new nr(i).decode(h,u-l)}catch(M){throw new H(M)}let p=(1<<o)-1,w=0;for(let M=0;M<l;M++){let V=h[M];if(V===0||V===p)throw new H;(V===1||V===p-1)&&w++}let b=new Array(l*o-w),O=0;for(let M=0;M<l;M++){let V=h[M];if(V===1||V===p-1)b.fill(V>1,O,O+o-1),O+=o-1;else for(let z=o-1;z>=0;--z)b[O++]=(V&1<<z)!==0}return b}extractBits(r){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(i?11:14)+o*4,u=new Int32Array(l),f=new Array(this.totalBitsInLayer(o,i));if(i)for(let h=0;h<u.length;h++)u[h]=h;else{let h=l+1+2*N.truncDivision(N.truncDivision(l,2)-1,15),p=l/2,w=N.truncDivision(h,2);for(let b=0;b<p;b++){let O=b+N.truncDivision(b,15);u[p-b-1]=w-O-1,u[p+b]=w+O+1}}for(let h=0,p=0;h<o;h++){let w=(o-h)*4+(i?9:12),b=h*2,O=l-1-b;for(let M=0;M<w;M++){let V=M*2;for(let z=0;z<2;z++)f[p+V+z]=r.get(u[b+z],u[b+M]),f[p+2*w+V+z]=r.get(u[b+M],u[O-z]),f[p+4*w+V+z]=r.get(u[O-z],u[O-M]),f[p+6*w+V+z]=r.get(u[O-M],u[b+z])}p+=w*8}return f}static readCode(r,i,o){let l=0;for(let u=i;u<i+o;u++)l<<=1,r[u]&&(l|=1);return l}static readByte(r,i){let o=r.length-i;return o>=8?dt.readCode(r,i,8):dt.readCode(r,i,o)<<8-o}static convertBoolArrayToByteArray(r){let i=new Uint8Array((r.length+7)/8);for(let o=0;o<i.length;o++)i[o]=dt.readByte(r,8*o);return i}totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}dt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],dt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],dt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],dt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],dt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,i,o,l){const u=r-o,f=i-l;return Math.sqrt(u*u+f*f)}static sum(r){let i=0;for(let o=0,l=r.length;o!==l;o++){const u=r[o];i+=u}return i}}class so{static floatToIntBits(r){return r}}so.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ie{constructor(r,i){this.x=r,this.y=i}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Ie){const i=r;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*so.floatToIntBits(this.x)+so.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const i=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),l=this.distance(r[0],r[2]);let u,f,h;if(o>=i&&o>=l?(f=r[0],u=r[1],h=r[2]):l>=o&&l>=i?(f=r[1],u=r[0],h=r[2]):(f=r[2],u=r[0],h=r[1]),this.crossProductZ(u,f,h)<0){const p=u;u=h,h=p}r[0]=u,r[1]=f,r[2]=h}static distance(r,i){return it.distance(r.x,r.y,i.x,i.y)}static crossProductZ(r,i,o){const l=i.x,u=i.y;return(o.x-l)*(r.y-u)-(o.y-u)*(r.x-l)}}class ls{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ci extends ls{constructor(r,i,o,l,u){super(r,i),this.compact=o,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class bn{constructor(r,i,o,l){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),i==null&&(i=bn.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),l==null&&(l=r.getHeight()/2|0);const u=i/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let r=this.leftInit,i=this.rightInit,o=this.upInit,l=this.downInit,u=!1,f=!0,h=!1,p=!1,w=!1,b=!1,O=!1;const M=this.width,V=this.height;for(;f;){f=!1;let z=!0;for(;(z||!p)&&i<M;)z=this.containsBlackPoint(o,l,i,!1),z?(i++,f=!0,p=!0):p||i++;if(i>=M){u=!0;break}let W=!0;for(;(W||!w)&&l<V;)W=this.containsBlackPoint(r,i,l,!0),W?(l++,f=!0,w=!0):w||l++;if(l>=V){u=!0;break}let K=!0;for(;(K||!b)&&r>=0;)K=this.containsBlackPoint(o,l,r,!1),K?(r--,f=!0,b=!0):b||r--;if(r<0){u=!0;break}let ne=!0;for(;(ne||!O)&&o>=0;)ne=this.containsBlackPoint(r,i,o,!0),ne?(o--,f=!0,O=!0):O||o--;if(o<0){u=!0;break}f&&(h=!0)}if(!u&&h){const z=i-r;let W=null;for(let me=1;W===null&&me<z;me++)W=this.getBlackPointOnSegment(r,l-me,r+me,l);if(W==null)throw new re;let K=null;for(let me=1;K===null&&me<z;me++)K=this.getBlackPointOnSegment(r,o+me,r+me,o);if(K==null)throw new re;let ne=null;for(let me=1;ne===null&&me<z;me++)ne=this.getBlackPointOnSegment(i,o+me,i-me,o);if(ne==null)throw new re;let he=null;for(let me=1;he===null&&me<z;me++)he=this.getBlackPointOnSegment(i,l-me,i-me,l);if(he==null)throw new re;return this.centerEdges(he,W,ne,K)}else throw new re}getBlackPointOnSegment(r,i,o,l){const u=it.round(it.distance(r,i,o,l)),f=(o-r)/u,h=(l-i)/u,p=this.image;for(let w=0;w<u;w++){const b=it.round(r+w*f),O=it.round(i+w*h);if(p.get(b,O))return new Ie(b,O)}return null}centerEdges(r,i,o,l){const u=r.getX(),f=r.getY(),h=i.getX(),p=i.getY(),w=o.getX(),b=o.getY(),O=l.getX(),M=l.getY(),V=bn.CORR;return u<this.width/2?[new Ie(O-V,M+V),new Ie(h+V,p+V),new Ie(w-V,b-V),new Ie(u+V,f-V)]:[new Ie(O+V,M+V),new Ie(h+V,p-V),new Ie(w-V,b+V),new Ie(u-V,f-V)]}containsBlackPoint(r,i,o,l){const u=this.image;if(l){for(let f=r;f<=i;f++)if(u.get(f,o))return!0}else for(let f=r;f<=i;f++)if(u.get(o,f))return!0;return!1}}bn.INIT_SIZE=10,bn.CORR=1;class $o{static checkAndNudgePoints(r,i){const o=r.getWidth(),l=r.getHeight();let u=!0;for(let f=0;f<i.length&&u;f+=2){const h=Math.floor(i[f]),p=Math.floor(i[f+1]);if(h<-1||h>o||p<-1||p>l)throw new re;u=!1,h===-1?(i[f]=0,u=!0):h===o&&(i[f]=o-1,u=!0),p===-1?(i[f+1]=0,u=!0):p===l&&(i[f+1]=l-1,u=!0)}u=!0;for(let f=i.length-2;f>=0&&u;f-=2){const h=Math.floor(i[f]),p=Math.floor(i[f+1]);if(h<-1||h>o||p<-1||p>l)throw new re;u=!1,h===-1?(i[f]=0,u=!0):h===o&&(i[f]=o-1,u=!0),p===-1?(i[f+1]=0,u=!0):p===l&&(i[f+1]=l-1,u=!0)}}}class rr{constructor(r,i,o,l,u,f,h,p,w){this.a11=r,this.a21=i,this.a31=o,this.a12=l,this.a22=u,this.a32=f,this.a13=h,this.a23=p,this.a33=w}static quadrilateralToQuadrilateral(r,i,o,l,u,f,h,p,w,b,O,M,V,z,W,K){const ne=rr.quadrilateralToSquare(r,i,o,l,u,f,h,p);return rr.squareToQuadrilateral(w,b,O,M,V,z,W,K).times(ne)}transformPoints(r){const i=r.length,o=this.a11,l=this.a12,u=this.a13,f=this.a21,h=this.a22,p=this.a23,w=this.a31,b=this.a32,O=this.a33;for(let M=0;M<i;M+=2){const V=r[M],z=r[M+1],W=u*V+p*z+O;r[M]=(o*V+f*z+w)/W,r[M+1]=(l*V+h*z+b)/W}}transformPointsWithValues(r,i){const o=this.a11,l=this.a12,u=this.a13,f=this.a21,h=this.a22,p=this.a23,w=this.a31,b=this.a32,O=this.a33,M=r.length;for(let V=0;V<M;V++){const z=r[V],W=i[V],K=u*z+p*W+O;r[V]=(o*z+f*W+w)/K,i[V]=(l*z+h*W+b)/K}}static squareToQuadrilateral(r,i,o,l,u,f,h,p){const w=r-o+u-h,b=i-l+f-p;if(w===0&&b===0)return new rr(o-r,u-o,r,l-i,f-l,i,0,0,1);{const O=o-u,M=h-u,V=l-f,z=p-f,W=O*z-M*V,K=(w*z-M*b)/W,ne=(O*b-w*V)/W;return new rr(o-r+K*o,h-r+ne*h,r,l-i+K*l,p-i+ne*p,i,K,ne,1)}}static quadrilateralToSquare(r,i,o,l,u,f,h,p){return rr.squareToQuadrilateral(r,i,o,l,u,f,h,p).buildAdjoint()}buildAdjoint(){return new rr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new rr(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class rc extends $o{sampleGrid(r,i,o,l,u,f,h,p,w,b,O,M,V,z,W,K,ne,he,me){const ce=rr.quadrilateralToQuadrilateral(l,u,f,h,p,w,b,O,M,V,z,W,K,ne,he,me);return this.sampleGridWithTransform(r,i,o,ce)}sampleGridWithTransform(r,i,o,l){if(i<=0||o<=0)throw new re;const u=new Je(i,o),f=new Float32Array(2*i);for(let h=0;h<o;h++){const p=f.length,w=h+.5;for(let b=0;b<p;b+=2)f[b]=b/2+.5,f[b+1]=w;l.transformPoints(f),$o.checkAndNudgePoints(r,f);try{for(let b=0;b<p;b+=2)r.get(Math.floor(f[b]),Math.floor(f[b+1]))&&u.set(b/2,h)}catch{throw new re}}return u}}class fi{static setGridSampler(r){fi.gridSampler=r}static getInstance(){return fi.gridSampler}}fi.gridSampler=new rc;class Sn{constructor(r,i){this.x=r,this.y=i}toResultPoint(){return new Ie(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class vl{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(r){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let l=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new ci(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new re;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],i),this.sampleLine(r[1],r[2],i),this.sampleLine(r[2],r[3],i),this.sampleLine(r[3],r[0],i)]);this.shift=this.getRotation(o,i);let l=0;for(let f=0;f<4;f++){let h=o[(this.shift+f)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(r,i){let o=0;r.forEach((l,u,f)=>{let h=(l>>i-2<<1)+(l&1);o=(o<<3)+h}),o=((o&1)<<11)+(o>>1);for(let l=0;l<4;l++)if(N.bitCount(o^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new re}getCorrectedParameterData(r,i){let o,l;i?(o=7,l=2):(o=10,l=4);let u=o-l,f=new Int32Array(o);for(let p=o-1;p>=0;--p)f[p]=r&15,r>>=4;try{new nr(at.AZTEC_PARAM).decode(f,u)}catch{throw new re}let h=0;for(let p=0;p<l;p++)h=(h<<4)+f[p];return h}getBullsEyeCorners(r){let i=r,o=r,l=r,u=r,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(i,f,1,-1),M=this.getFirstDifferent(o,f,1,1),V=this.getFirstDifferent(l,f,-1,1),z=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let W=this.distancePoint(z,O)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(W<.75||W>1.25||!this.isWhiteOrBlackRectangle(O,M,V,z))break}i=O,o=M,l=V,u=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let h=new Ie(i.getX()+.5,i.getY()-.5),p=new Ie(o.getX()+.5,o.getY()+.5),w=new Ie(l.getX()-.5,l.getY()+.5),b=new Ie(u.getX()-.5,u.getY()-.5);return this.expandSquare([h,p,w,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,i,o,l;try{let h=new bn(this.image).detect();r=h[0],i=h[1],o=h[2],l=h[3]}catch{let p=this.image.getWidth()/2,w=this.image.getHeight()/2;r=this.getFirstDifferent(new Sn(p+7,w-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Sn(p+7,w+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Sn(p-7,w+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Sn(p-7,w-7),!1,-1,-1).toResultPoint()}let u=it.round((r.getX()+l.getX()+i.getX()+o.getX())/4),f=it.round((r.getY()+l.getY()+i.getY()+o.getY())/4);try{let h=new bn(this.image,15,u,f).detect();r=h[0],i=h[1],o=h[2],l=h[3]}catch{r=this.getFirstDifferent(new Sn(u+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Sn(u+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Sn(u-7,f+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Sn(u-7,f-7),!1,-1,-1).toResultPoint()}return u=it.round((r.getX()+l.getX()+i.getX()+o.getX())/4),f=it.round((r.getY()+l.getY()+i.getY()+o.getY())/4),new Sn(u,f)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,i,o,l,u){let f=fi.getInstance(),h=this.getDimension(),p=h/2-this.nbCenterLayers,w=h/2+this.nbCenterLayers;return f.sampleGrid(r,h,h,p,p,w,p,w,w,p,w,i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(r,i,o){let l=0,u=this.distanceResultPoint(r,i),f=u/o,h=r.getX(),p=r.getY(),w=f*(i.getX()-r.getX())/u,b=f*(i.getY()-r.getY())/u;for(let O=0;O<o;O++)this.image.get(it.round(h+O*w),it.round(p+O*b))&&(l|=1<<o-O-1);return l}isWhiteOrBlackRectangle(r,i,o,l){let u=3;r=new Sn(r.getX()-u,r.getY()+u),i=new Sn(i.getX()-u,i.getY()-u),o=new Sn(o.getX()+u,o.getY()-u),l=new Sn(l.getX()+u,l.getY()+u);let f=this.getColor(l,r);if(f===0)return!1;let h=this.getColor(r,i);return h!==f||(h=this.getColor(i,o),h!==f)?!1:(h=this.getColor(o,l),h===f)}getColor(r,i){let o=this.distancePoint(r,i),l=(i.getX()-r.getX())/o,u=(i.getY()-r.getY())/o,f=0,h=r.getX(),p=r.getY(),w=this.image.get(r.getX(),r.getY()),b=Math.ceil(o);for(let M=0;M<b;M++)h+=l,p+=u,this.image.get(it.round(h),it.round(p))!==w&&f++;let O=f/o;return O>.1&&O<.9?0:O<=.1===w?1:-1}getFirstDifferent(r,i,o,l){let u=r.getX()+o,f=r.getY()+l;for(;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=o,f+=l;for(u-=o,f-=l;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=o;for(u-=o;this.isValid(u,f)&&this.image.get(u,f)===i;)f+=l;return f-=l,new Sn(u,f)}expandSquare(r,i,o){let l=o/(2*i),u=r[0].getX()-r[2].getX(),f=r[0].getY()-r[2].getY(),h=(r[0].getX()+r[2].getX())/2,p=(r[0].getY()+r[2].getY())/2,w=new Ie(h+l*u,p+l*f),b=new Ie(h-l*u,p-l*f);u=r[1].getX()-r[3].getX(),f=r[1].getY()-r[3].getY(),h=(r[1].getX()+r[3].getX())/2,p=(r[1].getY()+r[3].getY())/2;let O=new Ie(h+l*u,p+l*f),M=new Ie(h-l*u,p-l*f);return[w,O,b,M]}isValid(r,i){return r>=0&&r<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(r){let i=it.round(r.getX()),o=it.round(r.getY());return this.isValid(i,o)}distancePoint(r,i){return it.distance(r.getX(),r.getY(),i.getX(),i.getY())}distanceResultPoint(r,i){return it.distance(r.getX(),r.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class He{decode(r,i=null){let o=null,l=new vl(r.getBlackMatrix()),u=null,f=null;try{let b=l.detectMirror(!1);u=b.getPoints(),this.reportFoundResultPoints(i,u),f=new dt().decode(b)}catch(b){o=b}if(f==null)try{let b=l.detectMirror(!0);u=b.getPoints(),this.reportFoundResultPoints(i,u),f=new dt().decode(b)}catch(b){throw o??b}let h=new Rt(f.getText(),f.getRawBytes(),f.getNumBits(),u,Re.AZTEC,I.currentTimeMillis()),p=f.getByteSegments();p!=null&&h.putMetadata(ze.BYTE_SEGMENTS,p);let w=f.getECLevel();return w!=null&&h.putMetadata(ze.ERROR_CORRECTION_LEVEL,w),h}reportFoundResultPoints(r,i){if(r!=null){let o=r.get(G.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((l,u,f)=>{o.foundPossibleResultPoint(l)})}}reset(){}}class Ed extends Wn{constructor(r=500){super(new He,r)}}class Vt{decode(r,i){try{return this.doDecode(r,i)}catch{if(i&&i.get(G.TRY_HARDER)===!0&&r.isRotateSupported()){const u=r.rotateCounterClockwise(),f=this.doDecode(u,i),h=f.getResultMetadata();let p=270;h!==null&&h.get(ze.ORIENTATION)===!0&&(p=p+h.get(ze.ORIENTATION)%360),f.putMetadata(ze.ORIENTATION,p);const w=f.getResultPoints();if(w!==null){const b=u.getHeight();for(let O=0;O<w.length;O++)w[O]=new Ie(b-w[O].getY()-1,w[O].getX())}return f}else throw new re}}reset(){}doDecode(r,i){const o=r.getWidth(),l=r.getHeight();let u=new L(o);const f=i&&i.get(G.TRY_HARDER)===!0,h=Math.max(1,l>>(f?8:5));let p;f?p=l:p=15;const w=Math.trunc(l/2);for(let b=0;b<p;b++){const O=Math.trunc((b+1)/2),M=(b&1)===0,V=w+h*(M?O:-O);if(V<0||V>=l)break;try{u=r.getBlackRow(V,u)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(u.reverse(),i&&i.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const W=new Map;i.forEach((K,ne)=>W.set(ne,K)),W.delete(G.NEED_RESULT_POINT_CALLBACK),i=W}try{const W=this.decodeRow(V,u,i);if(z===1){W.putMetadata(ze.ORIENTATION,180);const K=W.getResultPoints();K!==null&&(K[0]=new Ie(o-K[0].getX()-1,K[0].getY()),K[1]=new Ie(o-K[1].getX()-1,K[1].getY()))}return W}catch{}}}throw new re}static recordPattern(r,i,o){const l=o.length;for(let w=0;w<l;w++)o[w]=0;const u=r.getSize();if(i>=u)throw new re;let f=!r.get(i),h=0,p=i;for(;p<u;){if(r.get(p)!==f)o[h]++;else{if(++h===l)break;o[h]=1,f=!f}p++}if(!(h===l||h===l-1&&p===u))throw new re}static recordPatternInReverse(r,i,o){let l=o.length,u=r.get(i);for(;i>0&&l>=0;)r.get(--i)!==u&&(l--,u=!u);if(l>=0)throw new re;Vt.recordPattern(r,i+1,o)}static patternMatchVariance(r,i,o){const l=r.length;let u=0,f=0;for(let w=0;w<l;w++)u+=r[w],f+=i[w];if(u<f)return Number.POSITIVE_INFINITY;const h=u/f;o*=h;let p=0;for(let w=0;w<l;w++){const b=r[w],O=i[w]*h,M=b>O?b-O:O-b;if(M>o)return Number.POSITIVE_INFINITY;p+=M}return p/u}}class ve extends Vt{static findStartPattern(r){const i=r.getSize(),o=r.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),f=o,h=!1;const p=6;for(let w=o;w<i;w++)if(r.get(w)!==h)u[l]++;else{if(l===p-1){let b=ve.MAX_AVG_VARIANCE,O=-1;for(let M=ve.CODE_START_A;M<=ve.CODE_START_C;M++){const V=Vt.patternMatchVariance(u,ve.CODE_PATTERNS[M],ve.MAX_INDIVIDUAL_VARIANCE);V<b&&(b=V,O=M)}if(O>=0&&r.isRange(Math.max(0,f-(w-f)/2),f,!1))return Int32Array.from([f,w,O]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,h=!h}throw new re}static decodeCode(r,i,o){Vt.recordPattern(r,o,i);let l=ve.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<ve.CODE_PATTERNS.length;f++){const h=ve.CODE_PATTERNS[f],p=this.patternMatchVariance(i,h,ve.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,u=f)}if(u>=0)return u;throw new re}decodeRow(r,i,o){const l=o&&o.get(G.ASSUME_GS1)===!0,u=ve.findStartPattern(i),f=u[2];let h=0;const p=new Uint8Array(20);p[h++]=f;let w;switch(f){case ve.CODE_START_A:w=ve.CODE_CODE_A;break;case ve.CODE_START_B:w=ve.CODE_CODE_B;break;case ve.CODE_START_C:w=ve.CODE_CODE_C;break;default:throw new H}let b=!1,O=!1,M="",V=u[0],z=u[1];const W=Int32Array.from([0,0,0,0,0,0]);let K=0,ne=0,he=f,me=0,ce=!0,rt=!1,qe=!1;for(;!b;){const ca=O;switch(O=!1,K=ne,ne=ve.decodeCode(i,W,z),p[h++]=ne,ne!==ve.CODE_STOP&&(ce=!0),ne!==ve.CODE_STOP&&(me++,he+=me*ne),V=z,z+=W.reduce((Qv,Zv)=>Qv+Zv,0),ne){case ve.CODE_START_A:case ve.CODE_START_B:case ve.CODE_START_C:throw new H}switch(w){case ve.CODE_CODE_A:if(ne<64)qe===rt?M+=String.fromCharCode(32+ne):M+=String.fromCharCode(32+ne+128),qe=!1;else if(ne<96)qe===rt?M+=String.fromCharCode(ne-64):M+=String.fromCharCode(ne+64),qe=!1;else switch(ne!==ve.CODE_STOP&&(ce=!1),ne){case ve.CODE_FNC_1:l&&(M.length===0?M+="]C1":M+="");break;case ve.CODE_FNC_2:case ve.CODE_FNC_3:break;case ve.CODE_FNC_4_A:!rt&&qe?(rt=!0,qe=!1):rt&&qe?(rt=!1,qe=!1):qe=!0;break;case ve.CODE_SHIFT:O=!0,w=ve.CODE_CODE_B;break;case ve.CODE_CODE_B:w=ve.CODE_CODE_B;break;case ve.CODE_CODE_C:w=ve.CODE_CODE_C;break;case ve.CODE_STOP:b=!0;break}break;case ve.CODE_CODE_B:if(ne<96)qe===rt?M+=String.fromCharCode(32+ne):M+=String.fromCharCode(32+ne+128),qe=!1;else switch(ne!==ve.CODE_STOP&&(ce=!1),ne){case ve.CODE_FNC_1:l&&(M.length===0?M+="]C1":M+="");break;case ve.CODE_FNC_2:case ve.CODE_FNC_3:break;case ve.CODE_FNC_4_B:!rt&&qe?(rt=!0,qe=!1):rt&&qe?(rt=!1,qe=!1):qe=!0;break;case ve.CODE_SHIFT:O=!0,w=ve.CODE_CODE_A;break;case ve.CODE_CODE_A:w=ve.CODE_CODE_A;break;case ve.CODE_CODE_C:w=ve.CODE_CODE_C;break;case ve.CODE_STOP:b=!0;break}break;case ve.CODE_CODE_C:if(ne<100)ne<10&&(M+="0"),M+=ne;else switch(ne!==ve.CODE_STOP&&(ce=!1),ne){case ve.CODE_FNC_1:l&&(M.length===0?M+="]C1":M+="");break;case ve.CODE_CODE_A:w=ve.CODE_CODE_A;break;case ve.CODE_CODE_B:w=ve.CODE_CODE_B;break;case ve.CODE_STOP:b=!0;break}break}ca&&(w=w===ve.CODE_CODE_A?ve.CODE_CODE_B:ve.CODE_CODE_A)}const sr=z-V;if(z=i.getNextUnset(z),!i.isRange(z,Math.min(i.getSize(),z+(z-V)/2),!1))throw new re;if(he-=me*K,he%103!==K)throw new P;const Zr=M.length;if(Zr===0)throw new re;Zr>0&&ce&&(w===ve.CODE_CODE_C?M=M.substring(0,Zr-2):M=M.substring(0,Zr-1));const or=(u[1]+u[0])/2,Tt=V+sr/2,In=p.length,Er=new Uint8Array(In);for(let ca=0;ca<In;ca++)Er[ca]=p[ca];const ua=[new Ie(or,r),new Ie(Tt,r)];return new Rt(M,Er,0,ua,Re.CODE_128,new Date().getTime())}}ve.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ve.MAX_AVG_VARIANCE=.25,ve.MAX_INDIVIDUAL_VARIANCE=.7,ve.CODE_SHIFT=98,ve.CODE_CODE_C=99,ve.CODE_CODE_B=100,ve.CODE_CODE_A=101,ve.CODE_FNC_1=102,ve.CODE_FNC_2=97,ve.CODE_FNC_3=96,ve.CODE_FNC_4_A=101,ve.CODE_FNC_4_B=100,ve.CODE_START_A=103,ve.CODE_START_B=104,ve.CODE_START_C=105,ve.CODE_STOP=106;class Ot extends Vt{constructor(r=!1,i=!1){super(),this.usingCheckDigit=r,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,i,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=Ot.findAsteriskPattern(i,l),f=i.getNextSet(u[1]),h=i.getSize(),p,w;do{Ot.recordPattern(i,f,l);let W=Ot.toNarrowWidePattern(l);if(W<0)throw new re;p=Ot.patternToChar(W),this.decodeRowResult+=p,w=f;for(let K of l)f+=K;f=i.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let W of l)b+=W;let O=f-w-b;if(f!==h&&O*2<b)throw new re;if(this.usingCheckDigit){let W=this.decodeRowResult.length-1,K=0;for(let ne=0;ne<W;ne++)K+=Ot.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt(W)!==Ot.ALPHABET_STRING.charAt(K%43))throw new P;this.decodeRowResult=this.decodeRowResult.substring(0,W)}if(this.decodeRowResult.length===0)throw new re;let M;this.extendedMode?M=Ot.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;let V=(u[1]+u[0])/2,z=w+b/2;return new Rt(M,null,0,[new Ie(V,r),new Ie(z,r)],Re.CODE_39,new Date().getTime())}static findAsteriskPattern(r,i){let o=r.getSize(),l=r.getNextSet(0),u=0,f=l,h=!1,p=i.length;for(let w=l;w<o;w++)if(r.get(w)!==h)i[u]++;else{if(u===p-1){if(this.toNarrowWidePattern(i)===Ot.ASTERISK_ENCODING&&r.isRange(Math.max(0,f-Math.floor((w-f)/2)),f,!1))return[f,w];f+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,h=!h}throw new re}static toNarrowWidePattern(r){let i=r.length,o=0,l;do{let u=2147483647;for(let p of r)p<u&&p>o&&(u=p);o=u,l=0;let f=0,h=0;for(let p=0;p<i;p++){let w=r[p];w>o&&(h|=1<<i-1-p,l++,f+=w)}if(l===3){for(let p=0;p<i&&l>0;p++){let w=r[p];if(w>o&&(l--,w*2>=f))return-1}return h}}while(l>3);return-1}static patternToChar(r){for(let i=0;i<Ot.CHARACTER_ENCODINGS.length;i++)if(Ot.CHARACTER_ENCODINGS[i]===r)return Ot.ALPHABET_STRING.charAt(i);if(r===Ot.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(r){let i=r.length,o="";for(let l=0;l<i;l++){let u=r.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=r.charAt(l+1),h="\0";switch(u){case"+":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)+32);else throw new H;break;case"$":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)-64);else throw new H;break;case"%":if(f>="A"&&f<="E")h=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")h=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")h=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")h="\0";else if(f==="V")h="@";else if(f==="W")h="`";else if(f==="X"||f==="Y"||f==="Z")h="";else throw new H;break;case"/":if(f>="A"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")h=":";else throw new H;break}o+=h,l++}else o+=u}return o}}Ot.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ot.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ot.ASTERISK_ENCODING=148;class yt extends Vt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,i,o){let l=this.decodeStart(i),u=this.decodeEnd(i),f=new Ve;yt.decodeMiddle(i,l[1],u[0],f);let h=f.toString(),p=null;o!=null&&(p=o.get(G.ALLOWED_LENGTHS)),p==null&&(p=yt.DEFAULT_ALLOWED_LENGTHS);let w=h.length,b=!1,O=0;for(let z of p){if(w===z){b=!0;break}z>O&&(O=z)}if(!b&&w>O&&(b=!0),!b)throw new H;const M=[new Ie(l[1],r),new Ie(u[0],r)];return new Rt(h,null,0,M,Re.ITF,new Date().getTime())}static decodeMiddle(r,i,o,l){let u=new Int32Array(10),f=new Int32Array(5),h=new Int32Array(5);for(u.fill(0),f.fill(0),h.fill(0);i<o;){Vt.recordPattern(r,i,u);for(let w=0;w<5;w++){let b=2*w;f[w]=u[b],h[w]=u[b+1]}let p=yt.decodeDigit(f);l.append(p.toString()),p=this.decodeDigit(h),l.append(p.toString()),u.forEach(function(w){i+=w})}}decodeStart(r){let i=yt.skipWhiteSpace(r),o=yt.findGuardPattern(r,i,yt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let l=i-1;o>0&&l>=0&&!r.get(l);l--)o--;if(o!==0)throw new re}static skipWhiteSpace(r){const i=r.getSize(),o=r.getNextSet(0);if(o===i)throw new re;return o}decodeEnd(r){r.reverse();try{let i=yt.skipWhiteSpace(r),o;try{o=yt.findGuardPattern(r,i,yt.END_PATTERN_REVERSED[0])}catch(u){u instanceof re&&(o=yt.findGuardPattern(r,i,yt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let l=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-l,o}finally{r.reverse()}}static findGuardPattern(r,i,o){let l=o.length,u=new Int32Array(l),f=r.getSize(),h=!1,p=0,w=i;u.fill(0);for(let b=i;b<f;b++)if(r.get(b)!==h)u[p]++;else{if(p===l-1){if(Vt.patternMatchVariance(u,o,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return[w,b];w+=u[0]+u[1],I.arraycopy(u,2,u,0,p-1),u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,h=!h}throw new re}static decodeDigit(r){let i=yt.MAX_AVG_VARIANCE,o=-1,l=yt.PATTERNS.length;for(let u=0;u<l;u++){let f=yt.PATTERNS[u],h=Vt.patternMatchVariance(r,f,yt.MAX_INDIVIDUAL_VARIANCE);h<i?(i=h,o=u):h===i&&(o=-1)}if(o>=0)return o%10;throw new re}}yt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],yt.MAX_AVG_VARIANCE=.38,yt.MAX_INDIVIDUAL_VARIANCE=.5,yt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],yt.START_PATTERN=Int32Array.from([1,1,1,1]),yt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ht extends Vt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let i=!1,o,l=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),o=ht.findGuardPattern(r,l,!1,this.START_END_PATTERN,u);let f=o[0];l=o[1];let h=f-(l-f);h>=0&&(i=r.isRange(h,f,!1))}return o}static checkChecksum(r){return ht.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let o=parseInt(r.charAt(i-1),10);return ht.getStandardUPCEANChecksum(r.substring(0,i-1))===o}static getStandardUPCEANChecksum(r){let i=r.length,o=0;for(let l=i-1;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;o+=u}o*=3;for(let l=i-2;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;o+=u}return(1e3-o)%10}static decodeEnd(r,i){return ht.findGuardPattern(r,i,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,i,o,l){return this.findGuardPattern(r,i,o,l,new Int32Array(l.length))}static findGuardPattern(r,i,o,l,u){let f=r.getSize();i=o?r.getNextUnset(i):r.getNextSet(i);let h=0,p=i,w=l.length,b=o;for(let O=i;O<f;O++)if(r.get(O)!==b)u[h]++;else{if(h===w-1){if(Vt.patternMatchVariance(u,l,ht.MAX_INDIVIDUAL_VARIANCE)<ht.MAX_AVG_VARIANCE)return Int32Array.from([p,O]);p+=u[0]+u[1];let M=u.slice(2,u.length-1);for(let V=0;V<h-1;V++)u[V]=M[V];u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,b=!b}throw new re}static decodeDigit(r,i,o,l){this.recordPattern(r,o,i);let u=this.MAX_AVG_VARIANCE,f=-1,h=l.length;for(let p=0;p<h;p++){let w=l[p],b=Vt.patternMatchVariance(i,w,ht.MAX_INDIVIDUAL_VARIANCE);b<u&&(u=b,f=p)}if(f>=0)return f;throw new re}}ht.MAX_AVG_VARIANCE=.48,ht.MAX_INDIVIDUAL_VARIANCE=.7,ht.START_END_PATTERN=Int32Array.from([1,1,1]),ht.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ht.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ht.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class us{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,l),f=l.toString(),h=us.parseExtensionString(f),p=[new Ie((o[0]+o[1])/2,r),new Ie(u,r)],w=new Rt(f,null,0,p,Re.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),f=i[1],h=0;for(let w=0;w<5&&f<u;w++){let b=ht.decodeDigit(r,l,f,ht.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let O of l)f+=O;b>=10&&(h|=1<<4-w),w!==4&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==5)throw new re;let p=this.determineCheckDigit(h);if(us.extensionChecksum(o.toString())!==p)throw new re;return f}static extensionChecksum(r){let i=r.length,o=0;for(let l=i-2;l>=0;l-=2)o+=r.charAt(l).charCodeAt(0)-48;o*=3;for(let l=i-1;l>=0;l-=2)o+=r.charAt(l).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(r){for(let i=0;i<10;i++)if(r===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new re}static parseExtensionString(r){if(r.length!==5)return null;let i=us.parseExtension5String(r);return i==null?null:new Map([[ze.SUGGESTED_PRICE,i]])}static parseExtension5String(r){let i;switch(r.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(r.substring(1)),l=(o/100).toString(),u=o%100,f=u<10?"0"+u:u.toString();return i+l+"."+f}}class ye{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,l),f=l.toString(),h=ye.parseExtensionString(f),p=[new Ie((o[0]+o[1])/2,r),new Ie(u,r)],w=new Rt(f,null,0,p,Re.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),f=i[1],h=0;for(let p=0;p<2&&f<u;p++){let w=ht.decodeDigit(r,l,f,ht.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let b of l)f+=b;w>=10&&(h|=1<<1-p),p!==1&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==2)throw new re;if(parseInt(o.toString())%4!==h)throw new re;return f}static parseExtensionString(r){return r.length!==2?null:new Map([[ze.ISSUE_NUMBER,parseInt(r)]])}}class Jo{static decodeRow(r,i,o){let l=ht.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new us().decodeRow(r,i,l)}catch{return new ye().decodeRow(r,i,l)}}}Jo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ue extends ht{constructor(){super(),this.decodeRowStringBuffer="",Ue.L_AND_G_PATTERNS=Ue.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let i=Ue.L_PATTERNS[r-10],o=new Int32Array(i.length);for(let l=0;l<i.length;l++)o[l]=i[i.length-l-1];Ue.L_AND_G_PATTERNS[r]=o}}decodeRow(r,i,o){let l=Ue.findStartGuardPattern(i),u=o==null?null:o.get(G.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ce=new Ie((l[0]+l[1])/2,r);u.foundPossibleResultPoint(ce)}let f=this.decodeMiddle(i,l,this.decodeRowStringBuffer),h=f.rowOffset,p=f.resultString;if(u!=null){const ce=new Ie(h,r);u.foundPossibleResultPoint(ce)}let w=this.decodeEnd(i,h);if(u!=null){const ce=new Ie((w[0]+w[1])/2,r);u.foundPossibleResultPoint(ce)}let b=w[1],O=b+(b-w[0]);if(O>=i.getSize()||!i.isRange(b,O,!1))throw new re;let M=p.toString();if(M.length<8)throw new H;if(!Ue.checkChecksum(M))throw new P;let V=(l[1]+l[0])/2,z=(w[1]+w[0])/2,W=this.getBarcodeFormat(),K=[new Ie(V,r),new Ie(z,r)],ne=new Rt(M,null,0,K,W,new Date().getTime()),he=0;try{let ce=Jo.decodeRow(r,i,w[1]);ne.putMetadata(ze.UPC_EAN_EXTENSION,ce.getText()),ne.putAllMetadata(ce.getResultMetadata()),ne.addResultPoints(ce.getResultPoints()),he=ce.getText().length}catch{}let me=o==null?null:o.get(G.ALLOWED_EAN_EXTENSIONS);if(me!=null){let ce=!1;for(let rt in me)if(he.toString()===rt){ce=!0;break}if(!ce)throw new re}return ne}decodeEnd(r,i){return Ue.findGuardPattern(r,i,!1,Ue.START_END_PATTERN,new Int32Array(Ue.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Ue.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let o=parseInt(r.charAt(i-1),10);return Ue.getStandardUPCEANChecksum(r.substring(0,i-1))===o}static getStandardUPCEANChecksum(r){let i=r.length,o=0;for(let l=i-1;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;o+=u}o*=3;for(let l=i-2;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;o+=u}return(1e3-o)%10}}class Dr extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),f=i[1],h=0;for(let w=0;w<6&&f<u;w++){let b=Ue.decodeDigit(r,l,f,Ue.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let O of l)f+=O;b>=10&&(h|=1<<5-w)}o=Dr.determineFirstDigit(o,h),f=Ue.findGuardPattern(r,f,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&f<u;w++){let b=Ue.decodeDigit(r,l,f,Ue.L_PATTERNS);o+=String.fromCharCode(48+b);for(let O of l)f+=O}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return Re.EAN_13}static determineFirstDigit(r,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode(48+o)+r,r;throw new re}}Dr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ea extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,o){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),f=i[1];for(let p=0;p<4&&f<u;p++){let w=Ue.decodeDigit(r,l,f,Ue.L_PATTERNS);o+=String.fromCharCode(48+w);for(let b of l)f+=b}f=Ue.findGuardPattern(r,f,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&f<u;p++){let w=Ue.decodeDigit(r,l,f,Ue.L_PATTERNS);o+=String.fromCharCode(48+w);for(let b of l)f+=b}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return Re.EAN_8}}class El extends Ue{constructor(){super(...arguments),this.ean13Reader=new Dr}getBarcodeFormat(){return Re.UPC_A}decode(r,i){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,i,o))}decodeMiddle(r,i,o){return this.ean13Reader.decodeMiddle(r,i,o)}maybeReturnResult(r){let i=r.getText();if(i.charAt(0)==="0"){let o=new Rt(i.substring(1),null,null,r.getResultPoints(),Re.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new re}reset(){this.ean13Reader.reset()}}class cn extends Ue{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,i,o){const l=this.decodeMiddleCounters.map(w=>w);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=r.getSize();let f=i[1],h=0;for(let w=0;w<6&&f<u;w++){const b=cn.decodeDigit(r,l,f,cn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let O of l)f+=O;b>=10&&(h|=1<<5-w)}let p=cn.determineNumSysAndCheckDigit(o,h);return{rowOffset:f,resultString:p}}decodeEnd(r,i){return cn.findGuardPatternWithoutCounters(r,i,!0,cn.MIDDLE_END_PATTERN)}checkChecksum(r){return Ue.checkChecksum(cn.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,i){for(let o=0;o<=1;o++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][l]){let u=String.fromCharCode(48+o),f=String.fromCharCode(48+l);return u+r+f}throw re.getNotFoundInstance()}getBarcodeFormat(){return Re.UPC_E}static convertUPCEtoUPCA(r){const i=r.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new Ve;o.append(r.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(l),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(l);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}cn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),cn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ta extends Vt{constructor(r){super();let i=r==null?null:r.get(G.POSSIBLE_FORMATS),o=[];s(i)?(o.push(new Dr),o.push(new El),o.push(new ea),o.push(new cn)):(i.indexOf(Re.EAN_13)>-1&&o.push(new Dr),i.indexOf(Re.UPC_A)>-1&&o.push(new El),i.indexOf(Re.EAN_8)>-1&&o.push(new ea),i.indexOf(Re.UPC_E)>-1&&o.push(new cn)),this.readers=o}decodeRow(r,i,o){for(let l of this.readers)try{const u=l.decodeRow(r,i,o),f=u.getBarcodeFormat()===Re.EAN_13&&u.getText().charAt(0)==="0",h=o==null?null:o.get(G.POSSIBLE_FORMATS),p=h==null||h.includes(Re.UPC_A);if(f&&p){const w=u.getRawBytes(),b=new Rt(u.getText().substring(1),w,w?w.length:null,u.getResultPoints(),Re.UPC_A);return b.putAllMetadata(u.getResultMetadata()),b}return u}catch{}throw new re}reset(){for(let r of this.readers)r.reset()}}class wt extends Vt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,i){for(let o=0;o<i.length;o++)if(Vt.patternMatchVariance(r,i[o],wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return o;throw new re}static count(r){return it.sum(new Int32Array(r))}static increment(r,i){let o=0,l=i[0];for(let u=1;u<r.length;u++)i[u]>l&&(l=i[u],o=u);r[o]++}static decrement(r,i){let o=0,l=i[0];for(let u=1;u<r.length;u++)i[u]<l&&(l=i[u],o=u);r[o]--}static isFinderPattern(r){let i=r[0]+r[1],o=i+r[2]+r[3],l=i/o;if(l>=wt.MIN_FINDER_PATTERN_RATIO&&l<=wt.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let h of r)h>f&&(f=h),h<u&&(u=h);return f<10*u}return!1}}wt.MAX_AVG_VARIANCE=.2,wt.MAX_INDIVIDUAL_VARIANCE=.45,wt.MIN_FINDER_PATTERN_RATIO=9.5/12,wt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Oi{constructor(r,i){this.value=r,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Oi))return!1;const i=r;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Gr{constructor(r,i,o,l,u){this.value=r,this.startEnd=i,this.value=r,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Ie(o,u)),this.resultPoints.push(new Ie(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Gr))return!1;const i=r;return this.value===i.value}hashCode(){return this.value}}class mr{constructor(){}static getRSSvalue(r,i,o){let l=0;for(let p of r)l+=p;let u=0,f=0,h=r.length;for(let p=0;p<h-1;p++){let w;for(w=1,f|=1<<p;w<r[p];w++,f&=~(1<<p)){let b=mr.combins(l-w-1,h-p-2);if(o&&f===0&&l-w-(h-p-1)>=h-p-1&&(b-=mr.combins(l-w-(h-p),h-p-2)),h-p-1>1){let O=0;for(let M=l-w-(h-p-2);M>i;M--)O+=mr.combins(l-w-M-1,h-p-3);b-=O*(h-1-p)}else l-w>i&&b--;u+=b}l-=w}return u}static combins(r,i){let o,l;r-i>i?(l=i,o=r-i):(l=r-i,o=i);let u=1,f=1;for(let h=r;h>o;h--)u*=h,f<=l&&(u/=f,f++);for(;f<=l;)u/=f,f++;return u}}class ic{static buildBitArray(r){let i=r.length*2-1;r[r.length-1].getRightChar()==null&&(i-=1);let o=12*i,l=new L(o),u=0,h=r[0].getRightChar().getValue();for(let p=11;p>=0;--p)h&1<<p&&l.set(u),u++;for(let p=1;p<r.length;++p){let w=r[p],b=w.getLeftChar().getValue();for(let O=11;O>=0;--O)b&1<<O&&l.set(u),u++;if(w.getRightChar()!=null){let O=w.getRightChar().getValue();for(let M=11;M>=0;--M)O&1<<M&&l.set(u),u++}}return l}}class Di{constructor(r,i){i?this.decodedInformation=null:(this.finished=r,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class fn{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class _n extends fn{constructor(r,i){super(r),this.value=i}getValue(){return this.value}isFNC1(){return this.value===_n.FNC1}}_n.FNC1="$";class Pi extends fn{constructor(r,i,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Bn extends fn{constructor(r,i,o){if(super(r),i<0||i>10||o<0||o>10)throw new H;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Bn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Bn.FNC1}isAnyFNC1(){return this.firstDigit===Bn.FNC1||this.secondDigit===Bn.FNC1}}Bn.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new re;let i=r.substring(0,2);for(let u of _e.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,u[2],r):_e.processFixedAI(2,u[1],r);if(r.length<3)throw new re;let o=r.substring(0,3);for(let u of _e.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,u[2],r):_e.processFixedAI(3,u[1],r);for(let u of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,u[2],r):_e.processFixedAI(4,u[1],r);if(r.length<4)throw new re;let l=r.substring(0,4);for(let u of _e.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,u[2],r):_e.processFixedAI(4,u[1],r);throw new re}static processFixedAI(r,i,o){if(o.length<r)throw new re;let l=o.substring(0,r);if(o.length<r+i)throw new re;let u=o.substring(r,r+i),f=o.substring(r+i),h="("+l+")"+u,p=_e.parseFieldsInGeneralPurpose(f);return p==null?h:h+p}static processVariableAI(r,i,o){let l=o.substring(0,r),u;o.length<r+i?u=o.length:u=r+i;let f=o.substring(r,u),h=o.substring(u),p="("+l+")"+f,w=_e.parseFieldsInGeneralPurpose(h);return w==null?p:p+w}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class di{constructor(r){this.buffer=new Ve,this.information=r}decodeAllCodes(r,i){let o=i,l=null;do{let u=this.decodeGeneralPurposeField(o,l),f=_e.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&r.append(f),u.isRemaining()?l=""+u.getRemainingValue():l=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let i=r;i<r+3;++i)if(this.information.get(i))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(r,4);return u===0?new Bn(this.information.getSize(),Bn.FNC1,Bn.FNC1):new Bn(this.information.getSize(),u-1,Bn.FNC1)}let i=this.extractNumericValueFromBitArray(r,7),o=(i-8)/11,l=(i-8)%11;return new Bn(r+7,o,l)}extractNumericValueFromBitArray(r,i){return di.extractNumericValueFromBitArray(this.information,r,i)}static extractNumericValueFromBitArray(r,i,o){let l=0;for(let u=0;u<o;++u)r.get(i+u)&&(l|=1<<o-u-1);return l}decodeGeneralPurposeField(r,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Pi(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Pi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),r=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),r=i.isFinished()):(i=this.parseNumericBlock(),r=i.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let i;return r.isSecondDigitFNC1()?i=new Pi(this.current.getPosition(),this.buffer.toString()):i=new Pi(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Di(!0,i)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let i=new Pi(this.current.getPosition(),this.buffer.toString());return new Di(!0,i)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Di(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new Pi(this.current.getPosition(),this.buffer.toString());return new Di(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Di(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new Pi(this.current.getPosition(),this.buffer.toString());return new Di(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Di(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,8);return l>=232&&l<253}decodeIsoIec646(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new _n(r+5,_n.FNC1);if(i>=5&&i<15)return new _n(r+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new _n(r+7,""+(o+1));if(o>=90&&o<116)return new _n(r+7,""+(o+7));let l=this.extractNumericValueFromBitArray(r,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new H}return new _n(r+8,u)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new _n(r+5,_n.FNC1);if(i>=5&&i<15)return new _n(r+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new _n(r+6,""+(o+33));let l;switch(o){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new gr("Decoding invalid alphanumeric value: "+o)}return new _n(r+6,l)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<5&&i+r<this.information.getSize();++i)if(i===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+i))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let i=r;i<r+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<4&&i+r<this.information.getSize();++i)if(this.information.get(r+i))return!1;return!0}}class ir{constructor(r){this.information=r,this.generalDecoder=new di(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class dn extends ir{constructor(r){super(r)}encodeCompressedGtin(r,i){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,i,o)}encodeCompressedGtinWithoutAI(r,i,o){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);u/100===0&&r.append("0"),u/10===0&&r.append("0"),r.append(u)}dn.appendCheckDigit(r,o)}static appendCheckDigit(r,i){let o=0;for(let l=0;l<13;l++){let u=r.charAt(l+i).charCodeAt(0)-48;o+=l&1?u:3*u}o=10-o%10,o===10&&(o=0),r.append(o)}}dn.GTIN_SIZE=40;class hi extends dn{constructor(r){super(r)}parseInformation(){let r=new Ve;r.append("(01)");let i=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(hi.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,hi.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(r,hi.HEADER_SIZE+44)}}hi.HEADER_SIZE=4;class oo extends ir{constructor(r){super(r)}parseInformation(){let r=new Ve;return this.getGeneralDecoder().decodeAllCodes(r,oo.HEADER_SIZE)}}oo.HEADER_SIZE=5;class ao extends dn{constructor(r){super(r)}encodeCompressedWeight(r,i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(r,l);let u=this.checkWeight(l),f=1e5;for(let h=0;h<5;++h)u/f===0&&r.append("0"),f/=10;r.append(u)}}class Xn extends ao{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=Xn.HEADER_SIZE+ao.GTIN_SIZE+Xn.WEIGHT_SIZE)throw new re;let r=new Ve;return this.encodeCompressedGtin(r,Xn.HEADER_SIZE),this.encodeCompressedWeight(r,Xn.HEADER_SIZE+ao.GTIN_SIZE,Xn.WEIGHT_SIZE),r.toString()}}Xn.HEADER_SIZE=5,Xn.WEIGHT_SIZE=15;class sc extends Xn{constructor(r){super(r)}addWeightCode(r,i){r.append("(3103)")}checkWeight(r){return r}}class oc extends Xn{constructor(r){super(r)}addWeightCode(r,i){i<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class xr extends dn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<xr.HEADER_SIZE+dn.GTIN_SIZE)throw new re;let r=new Ve;this.encodeCompressedGtin(r,xr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE+dn.GTIN_SIZE,xr.LAST_DIGIT_SIZE);r.append("(392"),r.append(i),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(xr.HEADER_SIZE+dn.GTIN_SIZE+xr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}xr.HEADER_SIZE=8,xr.LAST_DIGIT_SIZE=2;class on extends dn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<on.HEADER_SIZE+dn.GTIN_SIZE)throw new re;let r=new Ve;this.encodeCompressedGtin(r,on.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE+dn.GTIN_SIZE,on.LAST_DIGIT_SIZE);r.append("(393"),r.append(i),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE+dn.GTIN_SIZE+on.LAST_DIGIT_SIZE,on.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(on.HEADER_SIZE+dn.GTIN_SIZE+on.LAST_DIGIT_SIZE+on.FIRST_THREE_DIGITS_SIZE,null);return r.append(l.getNewString()),r.toString()}}on.HEADER_SIZE=8,on.LAST_DIGIT_SIZE=2,on.FIRST_THREE_DIGITS_SIZE=10;class St extends ao{constructor(r,i,o){super(r),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=St.HEADER_SIZE+St.GTIN_SIZE+St.WEIGHT_SIZE+St.DATE_SIZE)throw new re;let r=new Ve;return this.encodeCompressedGtin(r,St.HEADER_SIZE),this.encodeCompressedWeight(r,St.HEADER_SIZE+St.GTIN_SIZE,St.WEIGHT_SIZE),this.encodeCompressedDate(r,St.HEADER_SIZE+St.GTIN_SIZE+St.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,St.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let l=o%32;o/=32;let u=o%12+1;o/=12;let f=o;f/10==0&&r.append("0"),r.append(f),u/10==0&&r.append("0"),r.append(u),l/10==0&&r.append("0"),r.append(l)}addWeightCode(r,i){r.append("("),r.append(this.firstAIdigits),r.append(i/1e5),r.append(")")}checkWeight(r){return r%1e5}}St.HEADER_SIZE=8,St.WEIGHT_SIZE=20,St.DATE_SIZE=16;function Cl(R){try{if(R.get(1))return new hi(R);if(!R.get(2))return new oo(R);switch(di.extractNumericValueFromBitArray(R,1,4)){case 4:return new sc(R);case 5:return new oc(R)}switch(di.extractNumericValueFromBitArray(R,1,5)){case 12:return new xr(R);case 13:return new on(R)}switch(di.extractNumericValueFromBitArray(R,1,7)){case 56:return new St(R,"310","11");case 57:return new St(R,"320","11");case 58:return new St(R,"310","13");case 59:return new St(R,"320","13");case 60:return new St(R,"310","15");case 61:return new St(R,"320","15");case 62:return new St(R,"310","17");case 63:return new St(R,"320","17")}}catch(r){throw console.log(r),new gr("unknown decoder: "+R)}}class Xr{constructor(r,i,o,l){this.leftchar=r,this.rightchar=i,this.finderpattern=o,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,i){return r instanceof Xr?Xr.equalsOrNull(r.leftchar,i.leftchar)&&Xr.equalsOrNull(r.rightchar,i.rightchar)&&Xr.equalsOrNull(r.finderpattern,i.finderpattern):!1}static equalsOrNull(r,i){return r===null?i===null:Xr.equals(r,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Mi{constructor(r,i,o){this.pairs=r,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,i){return r instanceof Mi?this.checkEqualitity(r,i)&&r.wasReversed===i.wasReversed:!1}checkEqualitity(r,i){if(!r||!i)return;let o;return r.forEach((l,u)=>{i.forEach(f=>{l.getLeftChar().getValue()===f.getLeftChar().getValue()&&l.getRightChar().getValue()===f.getRightChar().getValue()&&l.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class ae extends wt{constructor(r){super(...arguments),this.pairs=new Array(ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,i,o){this.pairs.length=0,this.startFromEven=!1;try{return ae.constructResult(this.decodeRow2pairs(r,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,ae.constructResult(this.decodeRow2pairs(r,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,r))}catch(u){if(u instanceof re){if(!this.pairs.length)throw new re;o=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(r,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new re}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),i}checkRows(r,i){for(let o=i;o<this.rows.length;o++){let l=this.rows[o];this.pairs.length=0;for(let f of r)this.pairs.push(f.getPairs());if(this.pairs.push(l.getPairs()),!ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(r);u.push(l);try{return this.checkRows(u,o+1)}catch(f){this.verbose&&console.log(f)}}throw new re}static isValidSequence(r){for(let i of ae.FINDER_PATTERN_SEQUENCES){if(r.length>i.length)continue;let o=!0;for(let l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!=i[l]){o=!1;break}if(o)return!0}return!1}storeRow(r,i){let o=0,l=!1,u=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>r){u=f.isEquivalent(this.pairs);break}l=f.isEquivalent(this.pairs),o++}u||l||ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Mi(this.pairs,r,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,i){for(let o of i)if(o.getPairs().length!==r.length){for(let l of o.getPairs())for(let u of r)if(Xr.equals(l,u))break}}static isPartialRow(r,i){for(let o of i){let l=!0;for(let u of r){let f=!1;for(let h of o.getPairs())if(u.equals(h)){f=!0;break}if(!f){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(r){let i=ic.buildBitArray(r),l=Cl(i).parseInformation(),u=r[0].getFinderPattern().getResultPoints(),f=r[r.length-1].getFinderPattern().getResultPoints(),h=[u[0],u[1],f[0],f[1]];return new Rt(l,null,null,h,Re.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),i=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let l=o.getChecksumPortion(),u=2;for(let h=1;h<this.pairs.size();++h){let p=this.pairs.get(h);l+=p.getLeftChar().getChecksumPortion(),u++;let w=p.getRightChar();w!=null&&(l+=w.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==i.getValue()}static getNextSecondBar(r,i){let o;return r.get(i)?(o=r.getNextUnset(i),o=r.getNextSet(o)):(o=r.getNextSet(i),o=r.getNextUnset(o)),o}retrieveNextPair(r,i,o){let l=i.length%2==0;this.startFromEven&&(l=!l);let u,f=!0,h=-1;do this.findNextPair(r,i,h),u=this.parseFoundFinderPattern(r,o,l),u==null?h=ae.getNextSecondBar(r,this.startEnd[0]):f=!1;while(f);let p=this.decodeDataCharacter(r,u,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new re;let w;try{w=this.decodeDataCharacter(r,u,l,!1)}catch(b){w=null,this.verbose&&console.log(b)}return new Xr(p,w,u,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),f;o>=0?f=o:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let h=i.length%2!=0;this.startFromEven&&(h=!h);let p=!1;for(;f<u&&(p=!r.get(f),!!p);)f++;let w=0,b=f;for(let O=f;O<u;O++)if(r.get(O)!=p)l[w]++;else{if(w==3){if(h&&ae.reverseCounters(l),ae.isFinderPattern(l)){this.startEnd[0]=b,this.startEnd[1]=O;return}h&&ae.reverseCounters(l),b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,w--}else w++;l[w]=1,p=!p}throw new re}static reverseCounters(r){let i=r.length;for(let o=0;o<i/2;++o){let l=r[o];r[o]=r[i-o-1],r[i-o-1]=l}}parseFoundFinderPattern(r,i,o){let l,u,f;if(o){let w=this.startEnd[0]-1;for(;w>=0&&!r.get(w);)w--;w++,l=this.startEnd[0]-w,u=w,f=this.startEnd[1]}else u=this.startEnd[0],f=r.getNextUnset(this.startEnd[1]+1),l=f-this.startEnd[1];let h=this.getDecodeFinderCounters();I.arraycopy(h,0,h,1,h.length-1),h[0]=l;let p;try{p=this.parseFinderValue(h,ae.FINDER_PATTERNS)}catch{return null}return new Gr(p,[u,f],u,f,i)}decodeDataCharacter(r,i,o,l){let u=this.getDataCharacterCounters();for(let Tt=0;Tt<u.length;Tt++)u[Tt]=0;if(l)ae.recordPatternInReverse(r,i.getStartEnd()[0],u);else{ae.recordPattern(r,i.getStartEnd()[1],u);for(let Tt=0,In=u.length-1;Tt<In;Tt++,In--){let Er=u[Tt];u[Tt]=u[In],u[In]=Er}}let f=17,h=it.sum(new Int32Array(u))/f,p=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new re;let w=this.getOddCounts(),b=this.getEvenCounts(),O=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let Tt=0;Tt<u.length;Tt++){let In=1*u[Tt]/h,Er=In+.5;if(Er<1){if(In<.3)throw new re;Er=1}else if(Er>8){if(In>8.7)throw new re;Er=8}let ua=Tt/2;Tt&1?(b[ua]=Er,M[ua]=In-Er):(w[ua]=Er,O[ua]=In-Er)}this.adjustOddEvenCounts(f);let V=4*i.getValue()+(o?0:2)+(l?0:1)-1,z=0,W=0;for(let Tt=w.length-1;Tt>=0;Tt--){if(ae.isNotA1left(i,o,l)){let In=ae.WEIGHTS[V][2*Tt];W+=w[Tt]*In}z+=w[Tt]}let K=0;for(let Tt=b.length-1;Tt>=0;Tt--)if(ae.isNotA1left(i,o,l)){let In=ae.WEIGHTS[V][2*Tt+1];K+=b[Tt]*In}let ne=W+K;if(z&1||z>13||z<4)throw new re;let he=(13-z)/2,me=ae.SYMBOL_WIDEST[he],ce=9-me,rt=mr.getRSSvalue(w,me,!0),qe=mr.getRSSvalue(b,ce,!1),sr=ae.EVEN_TOTAL_SUBSET[he],Zr=ae.GSUM[he],or=rt*sr+qe+Zr;return new Oi(or,ne)}static isNotA1left(r,i,o){return!(r.getValue()==0&&i&&o)}adjustOddEvenCounts(r){let i=it.sum(new Int32Array(this.getOddCounts())),o=it.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);let f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let p=i+o-r,w=(i&1)==1,b=(o&1)==0;if(p==1)if(w){if(b)throw new re;u=!0}else{if(!b)throw new re;h=!0}else if(p==-1)if(w){if(b)throw new re;l=!0}else{if(!b)throw new re;f=!0}else if(p==0){if(w){if(!b)throw new re;i<o?(l=!0,h=!0):(u=!0,f=!0)}else if(b)throw new re}else throw new re;if(l){if(u)throw new re;ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new re;ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ae.SYMBOL_WIDEST=[7,5,4,3,1],ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ae.GSUM=[0,348,1388,2948,3988],ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ae.FINDER_PAT_A=0,ae.FINDER_PAT_B=1,ae.FINDER_PAT_C=2,ae.FINDER_PAT_D=3,ae.FINDER_PAT_E=4,ae.FINDER_PAT_F=5,ae.FINDER_PATTERN_SEQUENCES=[[ae.FINDER_PAT_A,ae.FINDER_PAT_A],[ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B],[ae.FINDER_PAT_A,ae.FINDER_PAT_C,ae.FINDER_PAT_B,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_C],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F]],ae.MAX_PAIRS=11;class _t extends Oi{constructor(r,i,o){super(r,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class At extends wt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,i,o){const l=this.decodePair(i,!1,r,o);At.addOrTally(this.possibleLeftPairs,l),i.reverse();let u=this.decodePair(i,!0,r,o);At.addOrTally(this.possibleRightPairs,u),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&At.checkChecksum(f,h))return At.constructResult(f,h)}throw new re}static addOrTally(r,i){if(i==null)return;let o=!1;for(let l of r)if(l.getValue()===i.getValue()){l.incrementCount(),o=!0;break}o||r.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,i){let o=4537077*r.getValue()+i.getValue(),l=new String(o).toString(),u=new Ve;for(let w=13-l.length;w>0;w--)u.append("0");u.append(l);let f=0;for(let w=0;w<13;w++){let b=u.charAt(w).charCodeAt(0)-48;f+=w&1?b:3*b}f=10-f%10,f===10&&(f=0),u.append(f.toString());let h=r.getFinderPattern().getResultPoints(),p=i.getFinderPattern().getResultPoints();return new Rt(u.toString(),null,0,[h[0],h[1],p[0],p[1]],Re.RSS_14,new Date().getTime())}static checkChecksum(r,i){let o=(r.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*r.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,o===l}decodePair(r,i,o,l){try{let u=this.findFinderPattern(r,i),f=this.parseFoundFinderPattern(r,o,i,u),h=l==null?null:l.get(G.NEED_RESULT_POINT_CALLBACK);if(h!=null){let b=(u[0]+u[1])/2;i&&(b=r.getSize()-1-b),h.foundPossibleResultPoint(new Ie(b,o))}let p=this.decodeDataCharacter(r,f,!0),w=this.decodeDataCharacter(r,f,!1);return new _t(1597*p.getValue()+w.getValue(),p.getChecksumPortion()+4*w.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(r,i,o){let l=this.getDataCharacterCounters();for(let K=0;K<l.length;K++)l[K]=0;if(o)Vt.recordPatternInReverse(r,i.getStartEnd()[0],l);else{Vt.recordPattern(r,i.getStartEnd()[1]+1,l);for(let K=0,ne=l.length-1;K<ne;K++,ne--){let he=l[K];l[K]=l[ne],l[ne]=he}}let u=o?16:15,f=it.sum(new Int32Array(l))/u,h=this.getOddCounts(),p=this.getEvenCounts(),w=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let K=0;K<l.length;K++){let ne=l[K]/f,he=Math.floor(ne+.5);he<1?he=1:he>8&&(he=8);let me=Math.floor(K/2);K&1?(p[me]=he,b[me]=ne-he):(h[me]=he,w[me]=ne-he)}this.adjustOddEvenCounts(o,u);let O=0,M=0;for(let K=h.length-1;K>=0;K--)M*=9,M+=h[K],O+=h[K];let V=0,z=0;for(let K=p.length-1;K>=0;K--)V*=9,V+=p[K],z+=p[K];let W=M+3*V;if(o){if(O&1||O>12||O<4)throw new re;let K=(12-O)/2,ne=At.OUTSIDE_ODD_WIDEST[K],he=9-ne,me=mr.getRSSvalue(h,ne,!1),ce=mr.getRSSvalue(p,he,!0),rt=At.OUTSIDE_EVEN_TOTAL_SUBSET[K],qe=At.OUTSIDE_GSUM[K];return new Oi(me*rt+ce+qe,W)}else{if(z&1||z>10||z<4)throw new re;let K=(10-z)/2,ne=At.INSIDE_ODD_WIDEST[K],he=9-ne,me=mr.getRSSvalue(h,ne,!0),ce=mr.getRSSvalue(p,he,!1),rt=At.INSIDE_ODD_TOTAL_SUBSET[K],qe=At.INSIDE_GSUM[K];return new Oi(ce*rt+me+qe,W)}}findFinderPattern(r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=r.getSize(),u=!1,f=0;for(;f<l&&(u=!r.get(f),i!==u);)f++;let h=0,p=f;for(let w=f;w<l;w++)if(r.get(w)!==u)o[h]++;else{if(h===3){if(wt.isFinderPattern(o))return[p,w];p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,u=!u}throw new re}parseFoundFinderPattern(r,i,o,l){let u=r.get(l[0]),f=l[0]-1;for(;f>=0&&u!==r.get(f);)f--;f++;const h=l[0]-f,p=this.getDecodeFinderCounters(),w=new Int32Array(p.length);I.arraycopy(p,0,w,1,p.length-1),w[0]=h;const b=this.parseFinderValue(w,At.FINDER_PATTERNS);let O=f,M=l[1];return o&&(O=r.getSize()-1-O,M=r.getSize()-1-M),new Gr(b,[f,l[1]],O,M,i)}adjustOddEvenCounts(r,i){let o=it.sum(new Int32Array(this.getOddCounts())),l=it.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,h=!1,p=!1;r?(o>12?f=!0:o<4&&(u=!0),l>12?p=!0:l<4&&(h=!0)):(o>11?f=!0:o<5&&(u=!0),l>10?p=!0:l<4&&(h=!0));let w=o+l-i,b=(o&1)===(r?1:0),O=(l&1)===1;if(w===1)if(b){if(O)throw new re;f=!0}else{if(!O)throw new re;p=!0}else if(w===-1)if(b){if(O)throw new re;u=!0}else{if(!O)throw new re;h=!0}else if(w===0){if(b){if(!O)throw new re;o<l?(u=!0,p=!0):(f=!0,h=!0)}else if(O)throw new re}else throw new re;if(u){if(f)throw new re;wt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&wt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(p)throw new re;wt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&wt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}At.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],At.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],At.OUTSIDE_GSUM=[0,161,961,2015,2715],At.INSIDE_GSUM=[0,336,1036,1516],At.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],At.INSIDE_ODD_WIDEST=[2,4,6,8],At.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class qr extends Vt{constructor(r,i){super(),this.readers=[],this.verbose=i===!0;const o=r?r.get(G.POSSIBLE_FORMATS):null,l=r&&r.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(Re.EAN_13)||o.includes(Re.UPC_A)||o.includes(Re.EAN_8)||o.includes(Re.UPC_E))&&this.readers.push(new ta(r)),o.includes(Re.CODE_39)&&this.readers.push(new Ot(l)),o.includes(Re.CODE_128)&&this.readers.push(new ve),o.includes(Re.ITF)&&this.readers.push(new yt),o.includes(Re.RSS_14)&&this.readers.push(new At),o.includes(Re.RSS_EXPANDED)&&this.readers.push(new ae(this.verbose))):(this.readers.push(new ta(r)),this.readers.push(new Ot),this.readers.push(new ta(r)),this.readers.push(new ve),this.readers.push(new yt),this.readers.push(new At),this.readers.push(new ae(this.verbose)))}decodeRow(r,i,o){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(r,i,o)}catch{}throw new re}reset(){this.readers.forEach(r=>r.reset())}}class ki extends Wn{constructor(r=500,i){super(new qr(i),r,i)}}class st{constructor(r,i,o){this.ecCodewords=r,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class nt{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qe{constructor(r,i,o,l,u,f){this.versionNumber=r,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=f;let h=0;const p=f.getECCodewords(),w=f.getECBlocks();for(let b of w)h+=b.getCount()*(b.getDataCodewords()+p);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,i){if(r&1||i&1)throw new H;for(let o of Qe.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===i)return o;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new Qe(1,10,10,8,8,new st(5,new nt(1,3))),new Qe(2,12,12,10,10,new st(7,new nt(1,5))),new Qe(3,14,14,12,12,new st(10,new nt(1,8))),new Qe(4,16,16,14,14,new st(12,new nt(1,12))),new Qe(5,18,18,16,16,new st(14,new nt(1,18))),new Qe(6,20,20,18,18,new st(18,new nt(1,22))),new Qe(7,22,22,20,20,new st(20,new nt(1,30))),new Qe(8,24,24,22,22,new st(24,new nt(1,36))),new Qe(9,26,26,24,24,new st(28,new nt(1,44))),new Qe(10,32,32,14,14,new st(36,new nt(1,62))),new Qe(11,36,36,16,16,new st(42,new nt(1,86))),new Qe(12,40,40,18,18,new st(48,new nt(1,114))),new Qe(13,44,44,20,20,new st(56,new nt(1,144))),new Qe(14,48,48,22,22,new st(68,new nt(1,174))),new Qe(15,52,52,24,24,new st(42,new nt(2,102))),new Qe(16,64,64,14,14,new st(56,new nt(2,140))),new Qe(17,72,72,16,16,new st(36,new nt(4,92))),new Qe(18,80,80,18,18,new st(48,new nt(4,114))),new Qe(19,88,88,20,20,new st(56,new nt(4,144))),new Qe(20,96,96,22,22,new st(68,new nt(4,174))),new Qe(21,104,104,24,24,new st(56,new nt(6,136))),new Qe(22,120,120,18,18,new st(68,new nt(6,175))),new Qe(23,132,132,20,20,new st(62,new nt(8,163))),new Qe(24,144,144,22,22,new st(62,new nt(8,156),new nt(2,155))),new Qe(25,8,18,6,16,new st(7,new nt(1,5))),new Qe(26,8,32,6,14,new st(11,new nt(1,10))),new Qe(27,12,26,10,24,new st(14,new nt(1,16))),new Qe(28,12,36,10,16,new st(18,new nt(1,22))),new Qe(29,16,36,14,16,new st(24,new nt(1,32))),new Qe(30,16,48,14,22,new st(28,new nt(1,49)))]}}Qe.VERSIONS=Qe.buildVersions();class Li{constructor(r){const i=r.getHeight();if(i<8||i>144||i&1)throw new H;this.version=Li.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new Je(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const i=r.getHeight(),o=r.getWidth();return Qe.getVersionForDimensions(i,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,l=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let h=!1,p=!1,w=!1,b=!1;do if(o===u&&l===0&&!h)r[i++]=this.readCorner1(u,f)&255,o-=2,l+=2,h=!0;else if(o===u-2&&l===0&&f&3&&!p)r[i++]=this.readCorner2(u,f)&255,o-=2,l+=2,p=!0;else if(o===u+4&&l===2&&!(f&7)&&!w)r[i++]=this.readCorner3(u,f)&255,o-=2,l+=2,w=!0;else if(o===u-2&&l===0&&(f&7)===4&&!b)r[i++]=this.readCorner4(u,f)&255,o-=2,l+=2,b=!0;else{do o<u&&l>=0&&!this.readMappingMatrix.get(l,o)&&(r[i++]=this.readUtah(o,l,u,f)&255),o-=2,l+=2;while(o>=0&&l<f);o+=1,l+=3;do o>=0&&l<f&&!this.readMappingMatrix.get(l,o)&&(r[i++]=this.readUtah(o,l,u,f)&255),o+=2,l-=2;while(o<u&&l>=0);o+=3,l+=1}while(o<u||l<f);if(i!==this.version.getTotalCodewords())throw new H;return r}readModule(r,i,o,l){return r<0&&(r+=o,i+=4-(o+4&7)),i<0&&(i+=l,r+=4-(l+4&7)),this.readMappingMatrix.set(i,r),this.mappingBitMatrix.get(i,r)}readUtah(r,i,o,l){let u=0;return this.readModule(r-2,i-2,o,l)&&(u|=1),u<<=1,this.readModule(r-2,i-1,o,l)&&(u|=1),u<<=1,this.readModule(r-1,i-2,o,l)&&(u|=1),u<<=1,this.readModule(r-1,i-1,o,l)&&(u|=1),u<<=1,this.readModule(r-1,i,o,l)&&(u|=1),u<<=1,this.readModule(r,i-2,o,l)&&(u|=1),u<<=1,this.readModule(r,i-1,o,l)&&(u|=1),u<<=1,this.readModule(r,i,o,l)&&(u|=1),u}readCorner1(r,i){let o=0;return this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,1,r,i)&&(o|=1),o<<=1,this.readModule(r-1,2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(2,i-1,r,i)&&(o|=1),o<<=1,this.readModule(3,i-1,r,i)&&(o|=1),o}readCorner2(r,i){let o=0;return this.readModule(r-3,0,r,i)&&(o|=1),o<<=1,this.readModule(r-2,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(0,i-4,r,i)&&(o|=1),o<<=1,this.readModule(0,i-3,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o}readCorner3(r,i){let o=0;return this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(0,i-3,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-3,r,i)&&(o|=1),o<<=1,this.readModule(1,i-2,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o}readCorner4(r,i){let o=0;return this.readModule(r-3,0,r,i)&&(o|=1),o<<=1,this.readModule(r-2,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(2,i-1,r,i)&&(o|=1),o<<=1,this.readModule(3,i-1,r,i)&&(o|=1),o}extractDataRegion(r){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==i)throw new C("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=i/l|0,h=o/u|0,p=f*l,w=h*u,b=new Je(w,p);for(let O=0;O<f;++O){const M=O*l;for(let V=0;V<h;++V){const z=V*u;for(let W=0;W<l;++W){const K=O*(l+2)+1+W,ne=M+W;for(let he=0;he<u;++he){const me=V*(u+2)+1+he;if(r.get(me,K)){const ce=z+he;b.set(ce,ne)}}}}}return b}}class Al{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i){const o=i.getECBlocks();let l=0;const u=o.getECBlocks();for(let W of u)l+=W.getCount();const f=new Array(l);let h=0;for(let W of u)for(let K=0;K<W.getCount();K++){const ne=W.getDataCodewords(),he=o.getECCodewords()+ne;f[h++]=new Al(ne,new Uint8Array(he))}const w=f[0].codewords.length-o.getECCodewords(),b=w-1;let O=0;for(let W=0;W<b;W++)for(let K=0;K<h;K++)f[K].codewords[W]=r[O++];const M=i.getVersionNumber()===24,V=M?8:h;for(let W=0;W<V;W++)f[W].codewords[w-1]=r[O++];const z=f[0].codewords.length;for(let W=w;W<z;W++)for(let K=0;K<h;K++){const ne=M?(K+8)%h:K,he=M&&ne>7?W-1:W;f[ne].codewords[he]=r[O++]}if(O!==r.length)throw new C;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class bl{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new C(""+r);let i=0,o=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(o>0){const f=8-o,h=r<f?r:f,p=f-h,w=255>>8-h<<p;i=(u[l]&w)>>p,r-=h,o+=h,o===8&&(o=0,l++)}if(r>0){for(;r>=8;)i=i<<8|u[l]&255,l++,r-=8;if(r>0){const f=8-r,h=255>>f<<f;i=i<<r|(u[l]&h)>>f,o+=r}}return this.bitOffset=o,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var qt;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(qt||(qt={}));class Pr{static decode(r){const i=new bl(r),o=new Ve,l=new Ve,u=new Array;let f=qt.ASCII_ENCODE;do if(f===qt.ASCII_ENCODE)f=this.decodeAsciiSegment(i,o,l);else{switch(f){case qt.C40_ENCODE:this.decodeC40Segment(i,o);break;case qt.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case qt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case qt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case qt.BASE256_ENCODE:this.decodeBase256Segment(i,o,u);break;default:throw new H}f=qt.ASCII_ENCODE}while(f!==qt.PAD_ENCODE&&i.available()>0);return l.length()>0&&o.append(l.toString()),new as(r,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(r,i,o){let l=!1;do{let u=r.readBits(8);if(u===0)throw new H;if(u<=128)return l&&(u+=128),i.append(String.fromCharCode(u-1)),qt.ASCII_ENCODE;if(u===129)return qt.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&i.append("0"),i.append(""+f)}else switch(u){case 230:return qt.C40_ENCODE;case 231:return qt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return qt.ANSIX12_ENCODE;case 239:return qt.TEXT_ENCODE;case 240:return qt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||r.available()!==0)throw new H;break}}while(r.available()>0);return qt.ASCII_ENCODE}static decodeC40Segment(r,i){let o=!1;const l=[];let u=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),l);for(let h=0;h<3;h++){const p=l[h];switch(u){case 0:if(p<3)u=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[p];o?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):i.append(w)}else throw new H;break;case 1:o?(i.append(String.fromCharCode(p+128)),o=!1):i.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[p];o?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):i.append(w)}else switch(p){case 27:i.append("");break;case 30:o=!0;break;default:throw new H}u=0;break;case 3:o?(i.append(String.fromCharCode(p+224)),o=!1):i.append(String.fromCharCode(p+96)),u=0;break;default:throw new H}}}while(r.available()>0)}static decodeTextSegment(r,i){let o=!1,l=[],u=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),l);for(let h=0;h<3;h++){const p=l[h];switch(u){case 0:if(p<3)u=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[p];o?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):i.append(w)}else throw new H;break;case 1:o?(i.append(String.fromCharCode(p+128)),o=!1):i.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[p];o?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):i.append(w)}else switch(p){case 27:i.append("");break;case 30:o=!0;break;default:throw new H}u=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[p];o?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):i.append(w),u=0}else throw new H;break;default:throw new H}}}while(r.available()>0)}static decodeAnsiX12Segment(r,i){const o=[];do{if(r.available()===8)return;const l=r.readBits(8);if(l===254)return;this.parseTwoBytes(l,r.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new H;break}}}while(r.available()>0)}static parseTwoBytes(r,i,o){let l=(r<<8)+i-1,u=Math.floor(l/1600);o[0]=u,l-=u*1600,u=Math.floor(l/40),o[1]=u,o[2]=l-u*40}static decodeEdifactSegment(r,i){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let l=r.readBits(6);if(l===31){const u=8-r.getBitOffset();u!==8&&r.readBits(u);return}l&32||(l|=64),i.append(String.fromCharCode(l))}}while(r.available()>0)}static decodeBase256Segment(r,i,o){let l=1+r.getByteOffset();const u=this.unrandomize255State(r.readBits(8),l++);let f;if(u===0?f=r.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(r.readBits(8),l++),f<0)throw new H;const h=new Uint8Array(f);for(let p=0;p<f;p++){if(r.available()<8)throw new H;h[p]=this.unrandomize255State(r.readBits(8),l++)}o.push(h);try{i.append(Te.decode(h,pe.ISO88591))}catch(p){throw new gr("Platform does not support required encoding: "+p.message)}}static unrandomize255State(r,i){const o=149*i%255+1,l=r-o;return l>=0?l:l+256}}Pr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Pr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Pr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Pr.TEXT_SHIFT2_SET_CHARS=Pr.C40_SHIFT2_SET_CHARS,Pr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ac{constructor(){this.rsDecoder=new nr(at.DATA_MATRIX_FIELD_256)}decode(r){const i=new Li(r),o=i.getVersion(),l=i.readCodewords(),u=Al.getDataBlocks(l,o);let f=0;for(let w of u)f+=w.getNumDataCodewords();const h=new Uint8Array(f),p=u.length;for(let w=0;w<p;w++){const b=u[w],O=b.getCodewords(),M=b.getNumDataCodewords();this.correctErrors(O,M);for(let V=0;V<M;V++)h[V*p+w]=O[V]}return Pr.decode(h)}correctErrors(r,i){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-i)}catch{throw new P}for(let l=0;l<i;l++)r[l]=o[l]}}class Dt{constructor(r){this.image=r,this.rectangleDetector=new bn(this.image)}detect(){const r=this.rectangleDetector.detect();let i=this.detectSolid1(r);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new re;i=this.shiftToModuleCenter(i);const o=i[0],l=i[1],u=i[2],f=i[3];let h=this.transitionsBetween(o,f)+1,p=this.transitionsBetween(u,f)+1;(h&1)===1&&(h+=1),(p&1)===1&&(p+=1),4*h<7*p&&4*p<7*h&&(h=p=Math.max(h,p));let w=Dt.sampleGrid(this.image,o,l,u,f,h,p);return new ls(w,[o,l,u,f])}static shiftPoint(r,i,o){let l=(i.getX()-r.getX())/(o+1),u=(i.getY()-r.getY())/(o+1);return new Ie(r.getX()+l,r.getY()+u)}static moveAway(r,i,o){let l=r.getX(),u=r.getY();return l<i?l-=1:l+=1,u<o?u-=1:u+=1,new Ie(l,u)}detectSolid1(r){let i=r[0],o=r[1],l=r[3],u=r[2],f=this.transitionsBetween(i,o),h=this.transitionsBetween(o,l),p=this.transitionsBetween(l,u),w=this.transitionsBetween(u,i),b=f,O=[u,i,o,l];return b>h&&(b=h,O[0]=i,O[1]=o,O[2]=l,O[3]=u),b>p&&(b=p,O[0]=o,O[1]=l,O[2]=u,O[3]=i),b>w&&(O[0]=l,O[1]=u,O[2]=i,O[3]=o),O}detectSolid2(r){let i=r[0],o=r[1],l=r[2],u=r[3],f=this.transitionsBetween(i,u),h=Dt.shiftPoint(o,l,(f+1)*4),p=Dt.shiftPoint(l,o,(f+1)*4),w=this.transitionsBetween(h,i),b=this.transitionsBetween(p,u);return w<b?(r[0]=i,r[1]=o,r[2]=l,r[3]=u):(r[0]=o,r[1]=l,r[2]=u,r[3]=i),r}correctTopRight(r){let i=r[0],o=r[1],l=r[2],u=r[3],f=this.transitionsBetween(i,u),h=this.transitionsBetween(o,u),p=Dt.shiftPoint(i,o,(h+1)*4),w=Dt.shiftPoint(l,o,(f+1)*4);f=this.transitionsBetween(p,u),h=this.transitionsBetween(w,u);let b=new Ie(u.getX()+(l.getX()-o.getX())/(f+1),u.getY()+(l.getY()-o.getY())/(f+1)),O=new Ie(u.getX()+(i.getX()-o.getX())/(h+1),u.getY()+(i.getY()-o.getY())/(h+1));if(!this.isValid(b))return this.isValid(O)?O:null;if(!this.isValid(O))return b;let M=this.transitionsBetween(p,b)+this.transitionsBetween(w,b),V=this.transitionsBetween(p,O)+this.transitionsBetween(w,O);return M>V?b:O}shiftToModuleCenter(r){let i=r[0],o=r[1],l=r[2],u=r[3],f=this.transitionsBetween(i,u)+1,h=this.transitionsBetween(l,u)+1,p=Dt.shiftPoint(i,o,h*4),w=Dt.shiftPoint(l,o,f*4);f=this.transitionsBetween(p,u)+1,h=this.transitionsBetween(w,u)+1,(f&1)===1&&(f+=1),(h&1)===1&&(h+=1);let b=(i.getX()+o.getX()+l.getX()+u.getX())/4,O=(i.getY()+o.getY()+l.getY()+u.getY())/4;i=Dt.moveAway(i,b,O),o=Dt.moveAway(o,b,O),l=Dt.moveAway(l,b,O),u=Dt.moveAway(u,b,O);let M,V;return p=Dt.shiftPoint(i,o,h*4),p=Dt.shiftPoint(p,u,f*4),M=Dt.shiftPoint(o,i,h*4),M=Dt.shiftPoint(M,l,f*4),w=Dt.shiftPoint(l,u,h*4),w=Dt.shiftPoint(w,o,f*4),V=Dt.shiftPoint(u,l,h*4),V=Dt.shiftPoint(V,i,f*4),[p,M,w,V]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,i,o,l,u,f,h){return fi.getInstance().sampleGrid(r,f,h,.5,.5,f-.5,.5,f-.5,h-.5,.5,h-.5,i.getX(),i.getY(),u.getX(),u.getY(),l.getX(),l.getY(),o.getX(),o.getY())}transitionsBetween(r,i){let o=Math.trunc(r.getX()),l=Math.trunc(r.getY()),u=Math.trunc(i.getX()),f=Math.trunc(i.getY()),h=Math.abs(f-l)>Math.abs(u-o);if(h){let W=o;o=l,l=W,W=u,u=f,f=W}let p=Math.abs(u-o),w=Math.abs(f-l),b=-p/2,O=l<f?1:-1,M=o<u?1:-1,V=0,z=this.image.get(h?l:o,h?o:l);for(let W=o,K=l;W!==u;W+=M){let ne=this.image.get(h?K:W,h?W:K);if(ne!==z&&(V++,z=ne),b+=w,b>0){if(K===f)break;K+=O,b-=p}}return V}}class Kr{constructor(){this.decoder=new ac}decode(r,i=null){let o,l;if(i!=null&&i.has(G.PURE_BARCODE)){const w=Kr.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(w),l=Kr.NO_POINTS}else{const w=new Dt(r.getBlackMatrix()).detect();o=this.decoder.decode(w.getBits()),l=w.getPoints()}const u=o.getRawBytes(),f=new Rt(o.getText(),u,8*u.length,l,Re.DATA_MATRIX,I.currentTimeMillis()),h=o.getByteSegments();h!=null&&f.putMetadata(ze.BYTE_SEGMENTS,h);const p=o.getECLevel();return p!=null&&f.putMetadata(ze.ERROR_CORRECTION_LEVEL,p),f}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(i==null||o==null)throw new re;const l=this.moduleSize(i,r);let u=i[1];const f=o[1];let h=i[0];const w=(o[0]-h+1)/l,b=(f-u+1)/l;if(w<=0||b<=0)throw new re;const O=l/2;u+=O,h+=O;const M=new Je(w,b);for(let V=0;V<b;V++){const z=u+V*l;for(let W=0;W<w;W++)r.get(h+W*l,z)&&M.set(W,V)}return M}static moduleSize(r,i){const o=i.getWidth();let l=r[0];const u=r[1];for(;l<o&&i.get(l,u);)l++;if(l===o)throw new re;const f=l-r[0];if(f===0)throw new re;return f}}Kr.NO_POINTS=[];class lc extends Wn{constructor(r=500){super(new Kr,r)}}var Bi;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(Bi||(Bi={}));class vt{constructor(r,i,o){this.value=r,this.stringValue=i,this.bits=o,vt.FOR_BITS.set(o,this),vt.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return vt.L;case"M":return vt.M;case"Q":return vt.Q;case"H":return vt.H;default:throw new E(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof vt))return!1;const i=r;return this.value===i.value}static forBits(r){if(r<0||r>=vt.FOR_BITS.size)throw new C;return vt.FOR_BITS.get(r)}}vt.FOR_BITS=new Map,vt.FOR_VALUE=new Map,vt.L=new vt(Bi.L,"L",1),vt.M=new vt(Bi.M,"M",0),vt.Q=new vt(Bi.Q,"Q",3),vt.H=new vt(Bi.H,"H",2);class hn{constructor(r){this.errorCorrectionLevel=vt.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,i){return N.bitCount(r^i)}static decodeFormatInformation(r,i){const o=hn.doDecodeFormatInformation(r,i);return o!==null?o:hn.doDecodeFormatInformation(r^hn.FORMAT_INFO_MASK_QR,i^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,i){let o=Number.MAX_SAFE_INTEGER,l=0;for(const u of hn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===r||f===i)return new hn(u[1]);let h=hn.numBitsDiffering(r,f);h<o&&(l=u[1],o=h),r!==i&&(h=hn.numBitsDiffering(i,f),h<o&&(l=u[1],o=h))}return o<=3?new hn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof hn))return!1;const i=r;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(r,...i){this.ecCodewordsPerBlock=r,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const i=this.ecBlocks;for(const o of i)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class F{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(r,i,...o){this.versionNumber=r,this.alignmentPatternCenters=i,this.ecBlocks=o;let l=0;const u=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const h of f)l+=h.getCount()*(h.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new H;try{return this.getVersionForNumber((r-17)/4)}catch{throw new H}}static getVersionForNumber(r){if(r<1||r>40)throw new C;return Oe.VERSIONS[r-1]}static decodeVersionInformation(r){let i=Number.MAX_SAFE_INTEGER,o=0;for(let l=0;l<Oe.VERSION_DECODE_INFO.length;l++){const u=Oe.VERSION_DECODE_INFO[l];if(u===r)return Oe.getVersionForNumber(l+7);const f=hn.numBitsDiffering(r,u);f<i&&(o=l+7,i=f)}return i<=3?Oe.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),i=new Je(r);i.setRegion(0,0,9,9),i.setRegion(r-8,0,8,9),i.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let l=0;l<o;l++){const u=this.alignmentPatternCenters[l]-2;for(let f=0;f<o;f++)l===0&&(f===0||f===o-1)||l===o-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return i.setRegion(6,9,1,r-17),i.setRegion(9,6,r-17,1),this.versionNumber>6&&(i.setRegion(r-11,0,3,6),i.setRegion(0,r-11,6,3)),i}toString(){return""+this.versionNumber}}Oe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Oe.VERSIONS=[new Oe(1,new Int32Array(0),new Y(7,new F(1,19)),new Y(10,new F(1,16)),new Y(13,new F(1,13)),new Y(17,new F(1,9))),new Oe(2,Int32Array.from([6,18]),new Y(10,new F(1,34)),new Y(16,new F(1,28)),new Y(22,new F(1,22)),new Y(28,new F(1,16))),new Oe(3,Int32Array.from([6,22]),new Y(15,new F(1,55)),new Y(26,new F(1,44)),new Y(18,new F(2,17)),new Y(22,new F(2,13))),new Oe(4,Int32Array.from([6,26]),new Y(20,new F(1,80)),new Y(18,new F(2,32)),new Y(26,new F(2,24)),new Y(16,new F(4,9))),new Oe(5,Int32Array.from([6,30]),new Y(26,new F(1,108)),new Y(24,new F(2,43)),new Y(18,new F(2,15),new F(2,16)),new Y(22,new F(2,11),new F(2,12))),new Oe(6,Int32Array.from([6,34]),new Y(18,new F(2,68)),new Y(16,new F(4,27)),new Y(24,new F(4,19)),new Y(28,new F(4,15))),new Oe(7,Int32Array.from([6,22,38]),new Y(20,new F(2,78)),new Y(18,new F(4,31)),new Y(18,new F(2,14),new F(4,15)),new Y(26,new F(4,13),new F(1,14))),new Oe(8,Int32Array.from([6,24,42]),new Y(24,new F(2,97)),new Y(22,new F(2,38),new F(2,39)),new Y(22,new F(4,18),new F(2,19)),new Y(26,new F(4,14),new F(2,15))),new Oe(9,Int32Array.from([6,26,46]),new Y(30,new F(2,116)),new Y(22,new F(3,36),new F(2,37)),new Y(20,new F(4,16),new F(4,17)),new Y(24,new F(4,12),new F(4,13))),new Oe(10,Int32Array.from([6,28,50]),new Y(18,new F(2,68),new F(2,69)),new Y(26,new F(4,43),new F(1,44)),new Y(24,new F(6,19),new F(2,20)),new Y(28,new F(6,15),new F(2,16))),new Oe(11,Int32Array.from([6,30,54]),new Y(20,new F(4,81)),new Y(30,new F(1,50),new F(4,51)),new Y(28,new F(4,22),new F(4,23)),new Y(24,new F(3,12),new F(8,13))),new Oe(12,Int32Array.from([6,32,58]),new Y(24,new F(2,92),new F(2,93)),new Y(22,new F(6,36),new F(2,37)),new Y(26,new F(4,20),new F(6,21)),new Y(28,new F(7,14),new F(4,15))),new Oe(13,Int32Array.from([6,34,62]),new Y(26,new F(4,107)),new Y(22,new F(8,37),new F(1,38)),new Y(24,new F(8,20),new F(4,21)),new Y(22,new F(12,11),new F(4,12))),new Oe(14,Int32Array.from([6,26,46,66]),new Y(30,new F(3,115),new F(1,116)),new Y(24,new F(4,40),new F(5,41)),new Y(20,new F(11,16),new F(5,17)),new Y(24,new F(11,12),new F(5,13))),new Oe(15,Int32Array.from([6,26,48,70]),new Y(22,new F(5,87),new F(1,88)),new Y(24,new F(5,41),new F(5,42)),new Y(30,new F(5,24),new F(7,25)),new Y(24,new F(11,12),new F(7,13))),new Oe(16,Int32Array.from([6,26,50,74]),new Y(24,new F(5,98),new F(1,99)),new Y(28,new F(7,45),new F(3,46)),new Y(24,new F(15,19),new F(2,20)),new Y(30,new F(3,15),new F(13,16))),new Oe(17,Int32Array.from([6,30,54,78]),new Y(28,new F(1,107),new F(5,108)),new Y(28,new F(10,46),new F(1,47)),new Y(28,new F(1,22),new F(15,23)),new Y(28,new F(2,14),new F(17,15))),new Oe(18,Int32Array.from([6,30,56,82]),new Y(30,new F(5,120),new F(1,121)),new Y(26,new F(9,43),new F(4,44)),new Y(28,new F(17,22),new F(1,23)),new Y(28,new F(2,14),new F(19,15))),new Oe(19,Int32Array.from([6,30,58,86]),new Y(28,new F(3,113),new F(4,114)),new Y(26,new F(3,44),new F(11,45)),new Y(26,new F(17,21),new F(4,22)),new Y(26,new F(9,13),new F(16,14))),new Oe(20,Int32Array.from([6,34,62,90]),new Y(28,new F(3,107),new F(5,108)),new Y(26,new F(3,41),new F(13,42)),new Y(30,new F(15,24),new F(5,25)),new Y(28,new F(15,15),new F(10,16))),new Oe(21,Int32Array.from([6,28,50,72,94]),new Y(28,new F(4,116),new F(4,117)),new Y(26,new F(17,42)),new Y(28,new F(17,22),new F(6,23)),new Y(30,new F(19,16),new F(6,17))),new Oe(22,Int32Array.from([6,26,50,74,98]),new Y(28,new F(2,111),new F(7,112)),new Y(28,new F(17,46)),new Y(30,new F(7,24),new F(16,25)),new Y(24,new F(34,13))),new Oe(23,Int32Array.from([6,30,54,78,102]),new Y(30,new F(4,121),new F(5,122)),new Y(28,new F(4,47),new F(14,48)),new Y(30,new F(11,24),new F(14,25)),new Y(30,new F(16,15),new F(14,16))),new Oe(24,Int32Array.from([6,28,54,80,106]),new Y(30,new F(6,117),new F(4,118)),new Y(28,new F(6,45),new F(14,46)),new Y(30,new F(11,24),new F(16,25)),new Y(30,new F(30,16),new F(2,17))),new Oe(25,Int32Array.from([6,32,58,84,110]),new Y(26,new F(8,106),new F(4,107)),new Y(28,new F(8,47),new F(13,48)),new Y(30,new F(7,24),new F(22,25)),new Y(30,new F(22,15),new F(13,16))),new Oe(26,Int32Array.from([6,30,58,86,114]),new Y(28,new F(10,114),new F(2,115)),new Y(28,new F(19,46),new F(4,47)),new Y(28,new F(28,22),new F(6,23)),new Y(30,new F(33,16),new F(4,17))),new Oe(27,Int32Array.from([6,34,62,90,118]),new Y(30,new F(8,122),new F(4,123)),new Y(28,new F(22,45),new F(3,46)),new Y(30,new F(8,23),new F(26,24)),new Y(30,new F(12,15),new F(28,16))),new Oe(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new F(3,117),new F(10,118)),new Y(28,new F(3,45),new F(23,46)),new Y(30,new F(4,24),new F(31,25)),new Y(30,new F(11,15),new F(31,16))),new Oe(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new F(7,116),new F(7,117)),new Y(28,new F(21,45),new F(7,46)),new Y(30,new F(1,23),new F(37,24)),new Y(30,new F(19,15),new F(26,16))),new Oe(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new F(5,115),new F(10,116)),new Y(28,new F(19,47),new F(10,48)),new Y(30,new F(15,24),new F(25,25)),new Y(30,new F(23,15),new F(25,16))),new Oe(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new F(13,115),new F(3,116)),new Y(28,new F(2,46),new F(29,47)),new Y(30,new F(42,24),new F(1,25)),new Y(30,new F(23,15),new F(28,16))),new Oe(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new F(17,115)),new Y(28,new F(10,46),new F(23,47)),new Y(30,new F(10,24),new F(35,25)),new Y(30,new F(19,15),new F(35,16))),new Oe(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new F(17,115),new F(1,116)),new Y(28,new F(14,46),new F(21,47)),new Y(30,new F(29,24),new F(19,25)),new Y(30,new F(11,15),new F(46,16))),new Oe(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new F(13,115),new F(6,116)),new Y(28,new F(14,46),new F(23,47)),new Y(30,new F(44,24),new F(7,25)),new Y(30,new F(59,16),new F(1,17))),new Oe(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new F(12,121),new F(7,122)),new Y(28,new F(12,47),new F(26,48)),new Y(30,new F(39,24),new F(14,25)),new Y(30,new F(22,15),new F(41,16))),new Oe(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new F(6,121),new F(14,122)),new Y(28,new F(6,47),new F(34,48)),new Y(30,new F(46,24),new F(10,25)),new Y(30,new F(2,15),new F(64,16))),new Oe(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new F(17,122),new F(4,123)),new Y(28,new F(29,46),new F(14,47)),new Y(30,new F(49,24),new F(10,25)),new Y(30,new F(24,15),new F(46,16))),new Oe(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new F(4,122),new F(18,123)),new Y(28,new F(13,46),new F(32,47)),new Y(30,new F(48,24),new F(14,25)),new Y(30,new F(42,15),new F(32,16))),new Oe(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new F(20,117),new F(4,118)),new Y(28,new F(40,47),new F(7,48)),new Y(30,new F(43,24),new F(22,25)),new Y(30,new F(10,15),new F(67,16))),new Oe(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new F(19,118),new F(6,119)),new Y(28,new F(18,47),new F(31,48)),new Y(30,new F(34,24),new F(34,25)),new Y(30,new F(20,15),new F(61,16)))];var Jt;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(Jt||(Jt={}));class qn{constructor(r,i){this.value=r,this.isMasked=i}unmaskBitMatrix(r,i){for(let o=0;o<i;o++)for(let l=0;l<i;l++)this.isMasked(o,l)&&r.flip(l,o)}}qn.values=new Map([[Jt.DATA_MASK_000,new qn(Jt.DATA_MASK_000,(R,r)=>(R+r&1)===0)],[Jt.DATA_MASK_001,new qn(Jt.DATA_MASK_001,(R,r)=>(R&1)===0)],[Jt.DATA_MASK_010,new qn(Jt.DATA_MASK_010,(R,r)=>r%3===0)],[Jt.DATA_MASK_011,new qn(Jt.DATA_MASK_011,(R,r)=>(R+r)%3===0)],[Jt.DATA_MASK_100,new qn(Jt.DATA_MASK_100,(R,r)=>(Math.floor(R/2)+Math.floor(r/3)&1)===0)],[Jt.DATA_MASK_101,new qn(Jt.DATA_MASK_101,(R,r)=>R*r%6===0)],[Jt.DATA_MASK_110,new qn(Jt.DATA_MASK_110,(R,r)=>R*r%6<3)],[Jt.DATA_MASK_111,new qn(Jt.DATA_MASK_111,(R,r)=>(R+r+R*r%3&1)===0)]]);class uc{constructor(r){const i=r.getHeight();if(i<21||(i&3)!==1)throw new H;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let u=0;u<6;u++)r=this.copyBit(u,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let u=5;u>=0;u--)r=this.copyBit(8,u,r);const i=this.bitMatrix.getHeight();let o=0;const l=i-7;for(let u=i-1;u>=l;u--)o=this.copyBit(8,u,o);for(let u=i-8;u<i;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=hn.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),i=Math.floor((r-17)/4);if(i<=6)return Oe.getVersionForNumber(i);let o=0;const l=r-11;for(let f=5;f>=0;f--)for(let h=r-9;h>=l;h--)o=this.copyBit(h,f,o);let u=Oe.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;o=0;for(let f=5;f>=0;f--)for(let h=r-9;h>=l;h--)o=this.copyBit(f,h,o);if(u=Oe.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new H}copyBit(r,i,o){return(this.isMirror?this.bitMatrix.get(i,r):this.bitMatrix.get(r,i))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),i=this.readVersion(),o=qn.values.get(r.getDataMask()),l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l);const u=i.buildFunctionPattern();let f=!0;const h=new Uint8Array(i.getTotalCodewords());let p=0,w=0,b=0;for(let O=l-1;O>0;O-=2){O===6&&O--;for(let M=0;M<l;M++){const V=f?l-1-M:M;for(let z=0;z<2;z++)u.get(O-z,V)||(b++,w<<=1,this.bitMatrix.get(O-z,V)&&(w|=1),b===8&&(h[p++]=w,b=0,w=0))}f=!f}if(p!==i.getTotalCodewords())throw new H;return h}remask(){if(this.parsedFormatInfo===null)return;const r=qn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let i=0,o=r.getWidth();i<o;i++)for(let l=i+1,u=r.getHeight();l<u;l++)r.get(i,l)!==r.get(l,i)&&(r.flip(l,i),r.flip(i,l))}}class na{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i,o){if(r.length!==i.getTotalCodewords())throw new C;const l=i.getECBlocksForLevel(o);let u=0;const f=l.getECBlocks();for(const z of f)u+=z.getCount();const h=new Array(u);let p=0;for(const z of f)for(let W=0;W<z.getCount();W++){const K=z.getDataCodewords(),ne=l.getECCodewordsPerBlock()+K;h[p++]=new na(K,new Uint8Array(ne))}const w=h[0].codewords.length;let b=h.length-1;for(;b>=0&&h[b].codewords.length!==w;)b--;b++;const O=w-l.getECCodewordsPerBlock();let M=0;for(let z=0;z<O;z++)for(let W=0;W<p;W++)h[W].codewords[z]=r[M++];for(let z=b;z<p;z++)h[z].codewords[O]=r[M++];const V=h[0].codewords.length;for(let z=O;z<V;z++)for(let W=0;W<p;W++){const K=W<b?z:z+1;h[W].codewords[K]=r[M++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Kn;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(Kn||(Kn={}));class Me{constructor(r,i,o,l){this.value=r,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=l,Me.FOR_BITS.set(l,this),Me.FOR_VALUE.set(r,this)}static forBits(r){const i=Me.FOR_BITS.get(r);if(i===void 0)throw new C;return i}getCharacterCountBits(r){const i=r.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Me))return!1;const i=r;return this.value===i.value}toString(){return this.stringValue}}Me.FOR_BITS=new Map,Me.FOR_VALUE=new Map,Me.TERMINATOR=new Me(Kn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Me.NUMERIC=new Me(Kn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Me.ALPHANUMERIC=new Me(Kn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Me.STRUCTURED_APPEND=new Me(Kn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Me.BYTE=new Me(Kn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Me.ECI=new Me(Kn.ECI,"ECI",Int32Array.from([0,0,0]),7),Me.KANJI=new Me(Kn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Me.FNC1_FIRST_POSITION=new Me(Kn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Me.FNC1_SECOND_POSITION=new Me(Kn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Me.HANZI=new Me(Kn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class It{static decode(r,i,o,l){const u=new bl(r);let f=new Ve;const h=new Array;let p=-1,w=-1;try{let b=null,O=!1,M;do{if(u.available()<4)M=Me.TERMINATOR;else{const V=u.readBits(4);M=Me.forBits(V)}switch(M){case Me.TERMINATOR:break;case Me.FNC1_FIRST_POSITION:case Me.FNC1_SECOND_POSITION:O=!0;break;case Me.STRUCTURED_APPEND:if(u.available()<16)throw new H;p=u.readBits(8),w=u.readBits(8);break;case Me.ECI:const V=It.parseECIValue(u);if(b=te.getCharacterSetECIByValue(V),b===null)throw new H;break;case Me.HANZI:const z=u.readBits(4),W=u.readBits(M.getCharacterCountBits(i));z===It.GB2312_SUBSET&&It.decodeHanziSegment(u,f,W);break;default:const K=u.readBits(M.getCharacterCountBits(i));switch(M){case Me.NUMERIC:It.decodeNumericSegment(u,f,K);break;case Me.ALPHANUMERIC:It.decodeAlphanumericSegment(u,f,K,O);break;case Me.BYTE:It.decodeByteSegment(u,f,K,b,h,l);break;case Me.KANJI:It.decodeKanjiSegment(u,f,K);break;default:throw new H}break}}while(M!==Me.TERMINATOR)}catch{throw new H}return new as(r,f.toString(),h.length===0?null:h,o===null?null:o.toString(),p,w)}static decodeHanziSegment(r,i,o){if(o*13>r.available())throw new H;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const f=r.readBits(13);let h=f/96<<8&4294967295|f%96;h<959?h+=41377:h+=42657,l[u]=h>>8&255,l[u+1]=h&255,u+=2,o--}try{i.append(Te.decode(l,pe.GB2312))}catch(f){throw new H(f)}}static decodeKanjiSegment(r,i,o){if(o*13>r.available())throw new H;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const f=r.readBits(13);let h=f/192<<8&4294967295|f%192;h<7936?h+=33088:h+=49472,l[u]=h>>8,l[u+1]=h,u+=2,o--}try{i.append(Te.decode(l,pe.SHIFT_JIS))}catch(f){throw new H(f)}}static decodeByteSegment(r,i,o,l,u,f){if(8*o>r.available())throw new H;const h=new Uint8Array(o);for(let w=0;w<o;w++)h[w]=r.readBits(8);let p;l===null?p=pe.guessEncoding(h,f):p=l.getName();try{i.append(Te.decode(h,p))}catch(w){throw new H(w)}u.push(h)}static toAlphaNumericChar(r){if(r>=It.ALPHANUMERIC_CHARS.length)throw new H;return It.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,i,o,l){const u=i.length();for(;o>1;){if(r.available()<11)throw new H;const f=r.readBits(11);i.append(It.toAlphaNumericChar(Math.floor(f/45))),i.append(It.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(r.available()<6)throw new H;i.append(It.toAlphaNumericChar(r.readBits(6)))}if(l)for(let f=u;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,""))}static decodeNumericSegment(r,i,o){for(;o>=3;){if(r.available()<10)throw new H;const l=r.readBits(10);if(l>=1e3)throw new H;i.append(It.toAlphaNumericChar(Math.floor(l/100))),i.append(It.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(It.toAlphaNumericChar(l%10)),o-=3}if(o===2){if(r.available()<7)throw new H;const l=r.readBits(7);if(l>=100)throw new H;i.append(It.toAlphaNumericChar(Math.floor(l/10))),i.append(It.toAlphaNumericChar(l%10))}else if(o===1){if(r.available()<4)throw new H;const l=r.readBits(4);if(l>=10)throw new H;i.append(It.toAlphaNumericChar(l))}}static parseECIValue(r){const i=r.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=r.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=r.readBits(16);return(i&31)<<16&4294967295|o}throw new H}}It.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",It.GB2312_SUBSET=1;class Sl{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const i=r[0];r[0]=r[2],r[2]=i}}class cc{constructor(){this.rsDecoder=new nr(at.QR_CODE_FIELD_256)}decodeBooleanArray(r,i){return this.decodeBitMatrix(Je.parseFromBooleanArray(r),i)}decodeBitMatrix(r,i){const o=new uc(r);let l=null;try{return this.decodeBitMatrixParser(o,i)}catch(u){l=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,i);return u.setOther(new Sl(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(r,i){const o=r.readVersion(),l=r.readFormatInformation().getErrorCorrectionLevel(),u=r.readCodewords(),f=na.getDataBlocks(u,o,l);let h=0;for(const b of f)h+=b.getNumDataCodewords();const p=new Uint8Array(h);let w=0;for(const b of f){const O=b.getCodewords(),M=b.getNumDataCodewords();this.correctErrors(O,M);for(let V=0;V<M;V++)p[w++]=O[V]}return It.decode(p,o,l,i)}correctErrors(r,i){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-i)}catch{throw new P}for(let l=0;l<i;l++)r[l]=o[l]}}class ra extends Ie{constructor(r,i,o){super(r,i),this.estimatedModuleSize=o}aboutEquals(r,i,o){if(Math.abs(i-this.getY())<=r&&Math.abs(o-this.getX())<=r){const l=Math.abs(r-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(r,i,o){const l=(this.getX()+i)/2,u=(this.getY()+r)/2,f=(this.estimatedModuleSize+o)/2;return new ra(l,u,f)}}class lo{constructor(r,i,o,l,u,f,h){this.image=r,this.startX=i,this.startY=o,this.width=l,this.height=u,this.moduleSize=f,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,i=this.height,o=this.width,l=r+o,u=this.startY+i/2,f=new Int32Array(3),h=this.image;for(let p=0;p<i;p++){const w=u+(p&1?-Math.floor((p+1)/2):Math.floor((p+1)/2));f[0]=0,f[1]=0,f[2]=0;let b=r;for(;b<l&&!h.get(b,w);)b++;let O=0;for(;b<l;){if(h.get(b,w))if(O===1)f[1]++;else if(O===2){if(this.foundPatternCross(f)){const M=this.handlePossibleCenter(f,w,b);if(M!==null)return M}f[0]=f[2],f[1]=1,f[2]=0,O=1}else f[++O]++;else O===1&&O++,f[O]++;b++}if(this.foundPatternCross(f)){const M=this.handlePossibleCenter(f,w,l);if(M!==null)return M}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(r,i){return i-r[2]-r[1]/2}foundPatternCross(r){const i=this.moduleSize,o=i/2;for(let l=0;l<3;l++)if(Math.abs(i-r[l])>=o)return!1;return!0}crossCheckVertical(r,i,o,l){const u=this.image,f=u.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let p=r;for(;p>=0&&u.get(i,p)&&h[1]<=o;)h[1]++,p--;if(p<0||h[1]>o)return NaN;for(;p>=0&&!u.get(i,p)&&h[0]<=o;)h[0]++,p--;if(h[0]>o)return NaN;for(p=r+1;p<f&&u.get(i,p)&&h[1]<=o;)h[1]++,p++;if(p===f||h[1]>o)return NaN;for(;p<f&&!u.get(i,p)&&h[2]<=o;)h[2]++,p++;if(h[2]>o)return NaN;const w=h[0]+h[1]+h[2];return 5*Math.abs(w-l)>=2*l?NaN:this.foundPatternCross(h)?lo.centerFromEnd(h,p):NaN}handlePossibleCenter(r,i,o){const l=r[0]+r[1]+r[2],u=lo.centerFromEnd(r,o),f=this.crossCheckVertical(i,u,2*r[1],l);if(!isNaN(f)){const h=(r[0]+r[1]+r[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(h,f,u))return w.combineEstimate(f,u,h);const p=new ra(u,f,h);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class ia extends Ie{constructor(r,i,o,l){super(r,i),this.estimatedModuleSize=o,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,i,o){if(Math.abs(i-this.getY())<=r&&Math.abs(o-this.getX())<=r){const l=Math.abs(r-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(r,i,o){const l=this.count+1,u=(this.count*this.getX()+i)/l,f=(this.count*this.getY()+r)/l,h=(this.count*this.estimatedModuleSize+o)/l;return new ia(u,f,h,l)}}class fc{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class en{constructor(r,i){this.image=r,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const i=r!=null&&r.get(G.TRY_HARDER)!==void 0,o=r!=null&&r.get(G.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),f=l.getWidth();let h=Math.floor(3*u/(4*en.MAX_MODULES));(h<en.MIN_SKIP||i)&&(h=en.MIN_SKIP);let p=!1;const w=new Int32Array(5);for(let O=h-1;O<u&&!p;O+=h){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let M=0;for(let V=0;V<f;V++)if(l.get(V,O))(M&1)===1&&M++,w[M]++;else if(M&1)w[M]++;else if(M===4)if(en.foundPatternCross(w)){if(this.handlePossibleCenter(w,O,V,o)===!0)if(h=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const W=this.findRowSkip();W>w[2]&&(O+=W-w[2]-h,V=f-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,M=3;continue}M=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,M=3;else w[++M]++;en.foundPatternCross(w)&&this.handlePossibleCenter(w,O,f,o)===!0&&(h=w[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return Ie.orderBestPatterns(b),new fc(b)}static centerFromEnd(r,i){return i-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let i=0;for(let u=0;u<5;u++){const f=r[u];if(f===0)return!1;i+=f}if(i<7)return!1;const o=i/7,l=o/2;return Math.abs(o-r[0])<l&&Math.abs(o-r[1])<l&&Math.abs(3*o-r[2])<3*l&&Math.abs(o-r[3])<l&&Math.abs(o-r[4])<l}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,i,o,l){const u=this.getCrossCheckStateCount();let f=0;const h=this.image;for(;r>=f&&i>=f&&h.get(i-f,r-f);)u[2]++,f++;if(r<f||i<f)return!1;for(;r>=f&&i>=f&&!h.get(i-f,r-f)&&u[1]<=o;)u[1]++,f++;if(r<f||i<f||u[1]>o)return!1;for(;r>=f&&i>=f&&h.get(i-f,r-f)&&u[0]<=o;)u[0]++,f++;if(u[0]>o)return!1;const p=h.getHeight(),w=h.getWidth();for(f=1;r+f<p&&i+f<w&&h.get(i+f,r+f);)u[2]++,f++;if(r+f>=p||i+f>=w)return!1;for(;r+f<p&&i+f<w&&!h.get(i+f,r+f)&&u[3]<o;)u[3]++,f++;if(r+f>=p||i+f>=w||u[3]>=o)return!1;for(;r+f<p&&i+f<w&&h.get(i+f,r+f)&&u[4]<o;)u[4]++,f++;if(u[4]>=o)return!1;const b=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(b-l)<2*l&&en.foundPatternCross(u)}crossCheckVertical(r,i,o,l){const u=this.image,f=u.getHeight(),h=this.getCrossCheckStateCount();let p=r;for(;p>=0&&u.get(i,p);)h[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(i,p)&&h[1]<=o;)h[1]++,p--;if(p<0||h[1]>o)return NaN;for(;p>=0&&u.get(i,p)&&h[0]<=o;)h[0]++,p--;if(h[0]>o)return NaN;for(p=r+1;p<f&&u.get(i,p);)h[2]++,p++;if(p===f)return NaN;for(;p<f&&!u.get(i,p)&&h[3]<o;)h[3]++,p++;if(p===f||h[3]>=o)return NaN;for(;p<f&&u.get(i,p)&&h[4]<o;)h[4]++,p++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-l)>=2*l?NaN:en.foundPatternCross(h)?en.centerFromEnd(h,p):NaN}crossCheckHorizontal(r,i,o,l){const u=this.image,f=u.getWidth(),h=this.getCrossCheckStateCount();let p=r;for(;p>=0&&u.get(p,i);)h[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(p,i)&&h[1]<=o;)h[1]++,p--;if(p<0||h[1]>o)return NaN;for(;p>=0&&u.get(p,i)&&h[0]<=o;)h[0]++,p--;if(h[0]>o)return NaN;for(p=r+1;p<f&&u.get(p,i);)h[2]++,p++;if(p===f)return NaN;for(;p<f&&!u.get(p,i)&&h[3]<o;)h[3]++,p++;if(p===f||h[3]>=o)return NaN;for(;p<f&&u.get(p,i)&&h[4]<o;)h[4]++,p++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-l)>=l?NaN:en.foundPatternCross(h)?en.centerFromEnd(h,p):NaN}handlePossibleCenter(r,i,o,l){const u=r[0]+r[1]+r[2]+r[3]+r[4];let f=en.centerFromEnd(r,o),h=this.crossCheckVertical(i,Math.floor(f),r[2],u);if(!isNaN(h)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(h),r[2],u),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(h),Math.floor(f),r[2],u)))){const p=u/7;let w=!1;const b=this.possibleCenters;for(let O=0,M=b.length;O<M;O++){const V=b[O];if(V.aboutEquals(p,h,f)){b[O]=V.combineEstimate(h,f,p),w=!0;break}}if(!w){const O=new ia(f,h,p);b.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=en.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,i=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=en.CENTER_QUORUM&&(r++,i+=f.getEstimatedModuleSize());if(r<3)return!1;const l=i/o;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-l);return u<=.05*i}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new re;const i=this.possibleCenters;let o;if(r>3){let l=0,u=0;for(const p of this.possibleCenters){const w=p.getEstimatedModuleSize();l+=w,u+=w*w}o=l/r;let f=Math.sqrt(u/r-o*o);i.sort((p,w)=>{const b=Math.abs(w.getEstimatedModuleSize()-o),O=Math.abs(p.getEstimatedModuleSize()-o);return b<O?-1:b>O?1:0});const h=Math.max(.2*o,f);for(let p=0;p<i.length&&i.length>3;p++){const w=i[p];Math.abs(w.getEstimatedModuleSize()-o)>h&&(i.splice(p,1),p--)}}if(i.length>3){let l=0;for(const u of i)l+=u.getEstimatedModuleSize();o=l/i.length,i.sort((u,f)=>{if(f.getCount()===u.getCount()){const h=Math.abs(f.getEstimatedModuleSize()-o),p=Math.abs(u.getEstimatedModuleSize()-o);return h<p?1:h>p?-1:0}else return f.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}en.CENTER_QUORUM=2,en.MIN_SKIP=3,en.MAX_MODULES=57;class cs{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(G.NEED_RESULT_POINT_CALLBACK);const o=new en(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const i=r.getTopLeft(),o=r.getTopRight(),l=r.getBottomLeft(),u=this.calculateModuleSize(i,o,l);if(u<1)throw new re("No pattern found in proccess finder.");const f=cs.computeDimension(i,o,l,u),h=Oe.getProvisionalVersionForDimension(f),p=h.getDimensionForVersion()-7;let w=null;if(h.getAlignmentPatternCenters().length>0){const V=o.getX()-i.getX()+l.getX(),z=o.getY()-i.getY()+l.getY(),W=1-3/p,K=Math.floor(i.getX()+W*(V-i.getX())),ne=Math.floor(i.getY()+W*(z-i.getY()));for(let he=4;he<=16;he<<=1)try{w=this.findAlignmentInRegion(u,K,ne,he);break}catch(me){if(!(me instanceof re))throw me}}const b=cs.createTransform(i,o,l,w,f),O=cs.sampleGrid(this.image,b,f);let M;return w===null?M=[l,i,o]:M=[l,i,o,w],new ls(O,M)}static createTransform(r,i,o,l,u){const f=u-3.5;let h,p,w,b;return l!==null?(h=l.getX(),p=l.getY(),w=f-3,b=w):(h=i.getX()-r.getX()+o.getX(),p=i.getY()-r.getY()+o.getY(),w=f,b=f),rr.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,w,b,3.5,f,r.getX(),r.getY(),i.getX(),i.getY(),h,p,o.getX(),o.getY())}static sampleGrid(r,i,o){return fi.getInstance().sampleGridWithTransform(r,o,o,i)}static computeDimension(r,i,o,l){const u=it.round(Ie.distance(r,i)/l),f=it.round(Ie.distance(r,o)/l);let h=Math.floor((u+f)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new re("Dimensions could be not found.")}return h}calculateModuleSize(r,i,o){return(this.calculateModuleSizeOneWay(r,i)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?l/7:isNaN(l)?o/7:(o+l)/14}sizeOfBlackWhiteBlackRunBothWays(r,i,o,l){let u=this.sizeOfBlackWhiteBlackRun(r,i,o,l),f=1,h=r-(o-r);h<0?(f=r/(r-h),h=0):h>=this.image.getWidth()&&(f=(this.image.getWidth()-1-r)/(h-r),h=this.image.getWidth()-1);let p=Math.floor(i-(l-i)*f);return f=1,p<0?(f=i/(i-p),p=0):p>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(p-i),p=this.image.getHeight()-1),h=Math.floor(r+(h-r)*f),u+=this.sizeOfBlackWhiteBlackRun(r,i,h,p),u-1}sizeOfBlackWhiteBlackRun(r,i,o,l){const u=Math.abs(l-i)>Math.abs(o-r);if(u){let V=r;r=i,i=V,V=o,o=l,l=V}const f=Math.abs(o-r),h=Math.abs(l-i);let p=-f/2;const w=r<o?1:-1,b=i<l?1:-1;let O=0;const M=o+w;for(let V=r,z=i;V!==M;V+=w){const W=u?z:V,K=u?V:z;if(O===1===this.image.get(W,K)){if(O===2)return it.distance(V,z,r,i);O++}if(p+=h,p>0){if(z===l)break;z+=b,p-=f}}return O===2?it.distance(o+w,l,r,i):NaN}findAlignmentInRegion(r,i,o,l){const u=Math.floor(l*r),f=Math.max(0,i-u),h=Math.min(this.image.getWidth()-1,i+u);if(h-f<r*3)throw new re("Alignment top exceeds estimated module size.");const p=Math.max(0,o-u),w=Math.min(this.image.getHeight()-1,o+u);if(w-p<r*3)throw new re("Alignment bottom exceeds estimated module size.");return new lo(this.image,f,p,h-f,w-p,r,this.resultPointCallback).find()}}class Yr{constructor(){this.decoder=new cc}getDecoder(){return this.decoder}decode(r,i){let o,l;if(i!=null&&i.get(G.PURE_BARCODE)!==void 0){const p=Yr.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(p,i),l=Yr.NO_POINTS}else{const p=new cs(r.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(p.getBits(),i),l=p.getPoints()}o.getOther()instanceof Sl&&o.getOther().applyMirroredCorrection(l);const u=new Rt(o.getText(),o.getRawBytes(),void 0,l,Re.QR_CODE,void 0),f=o.getByteSegments();f!==null&&u.putMetadata(ze.BYTE_SEGMENTS,f);const h=o.getECLevel();return h!==null&&u.putMetadata(ze.ERROR_CORRECTION_LEVEL,h),o.hasStructuredAppend()&&(u.putMetadata(ze.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(ze.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(i===null||o===null)throw new re;const l=this.moduleSize(i,r);let u=i[1],f=o[1],h=i[0],p=o[0];if(h>=p||u>=f)throw new re;if(f-u!==p-h&&(p=h+(f-u),p>=r.getWidth()))throw new re;const w=Math.round((p-h+1)/l),b=Math.round((f-u+1)/l);if(w<=0||b<=0)throw new re;if(b!==w)throw new re;const O=Math.floor(l/2);u+=O,h+=O;const M=h+Math.floor((w-1)*l)-p;if(M>0){if(M>O)throw new re;h-=M}const V=u+Math.floor((b-1)*l)-f;if(V>0){if(V>O)throw new re;u-=V}const z=new Je(w,b);for(let W=0;W<b;W++){const K=u+Math.floor(W*l);for(let ne=0;ne<w;ne++)r.get(h+Math.floor(ne*l),K)&&z.set(ne,W)}return z}static moduleSize(r,i){const o=i.getHeight(),l=i.getWidth();let u=r[0],f=r[1],h=!0,p=0;for(;u<l&&f<o;){if(h!==i.get(u,f)){if(++p===5)break;h=!h}u++,f++}if(u===l||f===o)throw new re;return(u-r[0])/7}}Yr.NO_POINTS=new Array;class Le{PDF417Common(){}static getBitCountSum(r){return it.sum(r)}static toIntArray(r){if(r==null||!r.length)return Le.EMPTY_INT_ARRAY;const i=new Int32Array(r.length);let o=0;for(const l of r)i[o++]=l;return i}static getCodeword(r){const i=S.binarySearch(Le.SYMBOL_TABLE,r&262143);return i<0?-1:(Le.CODEWORD_TABLE[i]-1)%Le.NUMBER_OF_CODEWORDS}}Le.NUMBER_OF_CODEWORDS=929,Le.MAX_CODEWORDS_IN_BARCODE=Le.NUMBER_OF_CODEWORDS-1,Le.MIN_ROWS_IN_BARCODE=3,Le.MAX_ROWS_IN_BARCODE=90,Le.MODULES_IN_CODEWORD=17,Le.MODULES_IN_STOP_PATTERN=18,Le.BARS_IN_MODULE=8,Le.EMPTY_INT_ARRAY=new Int32Array([]),Le.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Le.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class dc{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class We{static detectMultiple(r,i,o){let l=r.getBlackMatrix(),u=We.detect(o,l);return u.length||(l=l.clone(),l.rotate180(),u=We.detect(o,l)),new dc(l,u)}static detect(r,i){const o=new Array;let l=0,u=0,f=!1;for(;l<i.getHeight();){const h=We.findVertices(i,l,u);if(h[0]==null&&h[3]==null){if(!f)break;f=!1,u=0;for(const p of o)p[1]!=null&&(l=Math.trunc(Math.max(l,p[1].getY()))),p[3]!=null&&(l=Math.max(l,Math.trunc(p[3].getY())));l+=We.ROW_STEP;continue}if(f=!0,o.push(h),!r)break;h[2]!=null?(u=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return o}static findVertices(r,i,o){const l=r.getHeight(),u=r.getWidth(),f=new Array(8);return We.copyToResult(f,We.findRowsWithPattern(r,l,u,i,o,We.START_PATTERN),We.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),We.copyToResult(f,We.findRowsWithPattern(r,l,u,i,o,We.STOP_PATTERN),We.INDEXES_STOP_PATTERN),f}static copyToResult(r,i,o){for(let l=0;l<o.length;l++)r[o[l]]=i[l]}static findRowsWithPattern(r,i,o,l,u,f){const h=new Array(4);let p=!1;const w=new Int32Array(f.length);for(;l<i;l+=We.ROW_STEP){let O=We.findGuardPattern(r,u,l,o,!1,f,w);if(O!=null){for(;l>0;){const M=We.findGuardPattern(r,u,--l,o,!1,f,w);if(M!=null)O=M;else{l++;break}}h[0]=new Ie(O[0],l),h[1]=new Ie(O[1],l),p=!0;break}}let b=l+1;if(p){let O=0,M=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;b<i;b++){const V=We.findGuardPattern(r,M[0],b,o,!1,f,w);if(V!=null&&Math.abs(M[0]-V[0])<We.MAX_PATTERN_DRIFT&&Math.abs(M[1]-V[1])<We.MAX_PATTERN_DRIFT)M=V,O=0;else{if(O>We.SKIPPED_ROW_COUNT_MAX)break;O++}}b-=O+1,h[2]=new Ie(M[0],b),h[3]=new Ie(M[1],b)}return b-l<We.BARCODE_MIN_HEIGHT&&S.fill(h,null),h}static findGuardPattern(r,i,o,l,u,f,h){S.fillWithin(h,0,h.length,0);let p=i,w=0;for(;r.get(p,o)&&p>0&&w++<We.MAX_PIXEL_DRIFT;)p--;let b=p,O=0,M=f.length;for(let V=u;b<l;b++)if(r.get(b,o)!==V)h[O]++;else{if(O===M-1){if(We.patternMatchVariance(h,f,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return new Int32Array([p,b]);p+=h[0]+h[1],I.arraycopy(h,2,h,0,O-1),h[O-1]=0,h[O]=0,O--}else O++;h[O]=1,V=!V}return O===M-1&&We.patternMatchVariance(h,f,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE?new Int32Array([p,b-1]):null}static patternMatchVariance(r,i,o){let l=r.length,u=0,f=0;for(let w=0;w<l;w++)u+=r[w],f+=i[w];if(u<f)return 1/0;let h=u/f;o*=h;let p=0;for(let w=0;w<l;w++){let b=r[w],O=i[w]*h,M=b>O?b-O:O-b;if(M>o)return 1/0;p+=M}return p/u}}We.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),We.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),We.MAX_AVG_VARIANCE=.42,We.MAX_INDIVIDUAL_VARIANCE=.8,We.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),We.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),We.MAX_PIXEL_DRIFT=3,We.MAX_PATTERN_DRIFT=5,We.SKIPPED_ROW_COUNT_MAX=25,We.ROW_STEP=5,We.BARCODE_MIN_HEIGHT=10;class an{constructor(r,i){if(i.length===0)throw new C;this.field=r;let o=i.length;if(o>1&&i[0]===0){let l=1;for(;l<o&&i[l]===0;)l++;l===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-l),I.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let i=this.coefficients[0],o=this.coefficients.length;for(let l=1;l<o;l++)i=this.field.add(this.field.multiply(r,i),this.coefficients[l]);return i}add(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,o=r.coefficients;if(i.length>o.length){let f=i;i=o,o=f}let l=new Int32Array(o.length),u=o.length-i.length;I.arraycopy(o,0,l,0,u);for(let f=u;f<o.length;f++)l[f]=this.field.add(i[f-u],o[f]);return new an(this.field,l)}subtract(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof an?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new an(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,l=r.coefficients,u=l.length,f=new Int32Array(o+u-1);for(let h=0;h<o;h++){let p=i[h];for(let w=0;w<u;w++)f[h+w]=this.field.add(f[h+w],this.field.multiply(p,l[w]))}return new an(this.field,f)}negative(){let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new an(this.field,i)}multiplyScalar(r){if(r===0)return new an(this.field,new Int32Array([0]));if(r===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new an(this.field,o)}multiplyByMonomial(r,i){if(r<0)throw new C;if(i===0)return new an(this.field,new Int32Array([0]));let o=this.coefficients.length,l=new Int32Array(o+r);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new an(this.field,l)}toString(){let r=new Ve;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(i===0||o!==1)&&r.append(o),i!==0&&(i===1?r.append("x"):(r.append("x^"),r.append(i))))}return r.toString()}}class hc{add(r,i){return(r+i)%this.modulus}subtract(r,i){return(this.modulus+r-i)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}inverse(r){if(r===0)throw new Gn;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class sa extends hc{constructor(r,i){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let l=0;l<r;l++)this.expTable[l]=o,o=o*i%r;for(let l=0;l<r-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new an(this,new Int32Array([0])),this.one=new an(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new C;if(i===0)return this.zero;let o=new Int32Array(r+1);return o[0]=i,new an(this,o)}}sa.PDF417_GF=new sa(Le.NUMBER_OF_CODEWORDS,3);class _l{constructor(){this.field=sa.PDF417_GF}decode(r,i,o){let l=new an(this.field,r),u=new Int32Array(i),f=!1;for(let z=i;z>0;z--){let W=l.evaluateAt(this.field.exp(z));u[i-z]=W,W!==0&&(f=!0)}if(!f)return 0;let h=this.field.getOne();if(o!=null)for(const z of o){let W=this.field.exp(r.length-1-z),K=new an(this.field,new Int32Array([this.field.subtract(0,W),1]));h=h.multiply(K)}let p=new an(this.field,u),w=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),p,i),b=w[0],O=w[1],M=this.findErrorLocations(b),V=this.findErrorMagnitudes(O,b,M);for(let z=0;z<M.length;z++){let W=r.length-1-this.field.log(M[z]);if(W<0)throw P.getChecksumInstance();r[W]=this.field.subtract(r[W],V[z])}return M.length}runEuclideanAlgorithm(r,i,o){if(r.getDegree()<i.getDegree()){let M=r;r=i,i=M}let l=r,u=i,f=this.field.getZero(),h=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let M=l,V=f;if(l=u,f=h,l.isZero())throw P.getChecksumInstance();u=M;let z=this.field.getZero(),W=l.getCoefficient(l.getDegree()),K=this.field.inverse(W);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let ne=u.getDegree()-l.getDegree(),he=this.field.multiply(u.getCoefficient(u.getDegree()),K);z=z.add(this.field.buildMonomial(ne,he)),u=u.subtract(l.multiplyByMonomial(ne,he))}h=z.multiply(f).subtract(V).negative()}let p=h.getCoefficient(0);if(p===0)throw P.getChecksumInstance();let w=this.field.inverse(p),b=h.multiply(w),O=u.multiply(w);return[b,O]}findErrorLocations(r){let i=r.getDegree(),o=new Int32Array(i),l=0;for(let u=1;u<this.field.getSize()&&l<i;u++)r.evaluateAt(u)===0&&(o[l]=this.field.inverse(u),l++);if(l!==i)throw P.getChecksumInstance();return o}findErrorMagnitudes(r,i,o){let l=i.getDegree(),u=new Int32Array(l);for(let w=1;w<=l;w++)u[l-w]=this.field.multiply(w,i.getCoefficient(w));let f=new an(this.field,u),h=o.length,p=new Int32Array(h);for(let w=0;w<h;w++){let b=this.field.inverse(o[w]),O=this.field.subtract(0,r.evaluateAt(b)),M=this.field.inverse(f.evaluateAt(b));p[w]=this.field.multiply(O,M)}return p}}class pi{constructor(r,i,o,l,u){r instanceof pi?this.constructor_2(r):this.constructor_1(r,i,o,l,u)}constructor_1(r,i,o,l,u){const f=i==null||o==null,h=l==null||u==null;if(f&&h)throw new re;f?(i=new Ie(0,l.getY()),o=new Ie(0,u.getY())):h&&(l=new Ie(r.getWidth()-1,i.getY()),u=new Ie(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=i,this.bottomLeft=o,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,i){return r==null?i:i==null?r:new pi(r.image,r.topLeft,r.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(r,i,o){let l=this.topLeft,u=this.bottomLeft,f=this.topRight,h=this.bottomRight;if(r>0){let p=o?this.topLeft:this.topRight,w=Math.trunc(p.getY()-r);w<0&&(w=0);let b=new Ie(p.getX(),w);o?l=b:f=b}if(i>0){let p=o?this.bottomLeft:this.bottomRight,w=Math.trunc(p.getY()+i);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let b=new Ie(p.getX(),w);o?u=b:h=b}return new pi(this.image,l,u,f,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class pc{constructor(r,i,o,l){this.columnCount=r,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class fs{constructor(){this.buffer=""}static form(r,i){let o=-1;function l(f,h,p,w,b,O){if(f==="%%")return"%";if(i[++o]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let M=b?parseInt(b.substr(1)):void 0,V;switch(O){case"s":V=i[o];break;case"c":V=i[o][0];break;case"f":V=parseFloat(i[o]).toFixed(f);break;case"p":V=parseFloat(i[o]).toPrecision(f);break;case"e":V=parseFloat(i[o]).toExponential(f);break;case"x":V=parseInt(i[o]).toString(M||16);break;case"d":V=parseFloat(parseInt(i[o],M||10).toPrecision(f)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(M);let z=parseInt(p),W=p&&p[0]+""=="0"?"0":" ";for(;V.length<z;)V=h!==void 0?V+W:W+V;return V}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,l)}format(r,...i){this.buffer+=fs.form(r,i)}toString(){return this.buffer}}class ds{constructor(r){this.boundingBox=new pi(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let i=this.getCodeword(r);if(i!=null)return i;for(let o=1;o<ds.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(r)-o;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(r)+o,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,i){this.codewords[this.imageRowToCodewordIndex(r)]=i}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new fs;let i=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return r.toString()}}ds.MAX_NEARBY_DISTANCE=5;class hs{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let i=this.values.get(r);i==null&&(i=0),i++,this.values.set(r,i)}getValue(){let r=-1,i=new Array;for(const[o,l]of this.values.entries()){const u={getKey:()=>o,getValue:()=>l};u.getValue()>r?(r=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===r&&i.push(u.getKey())}return Le.toIntArray(i)}getConfidence(r){return this.values.get(r)}}class Tl extends ds{constructor(r,i){super(r),this._isLeft=i}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,r);let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=-1,w=1,b=0;for(let O=f;O<h;O++){if(i[O]==null)continue;let M=i[O],V=M.getRowNumber()-p;if(V===0)b++;else if(V===1)w=Math.max(w,b),b=1,p=M.getRowNumber();else if(V<0||M.getRowNumber()>=r.getRowCount()||V>O)i[O]=null;else{let z;w>2?z=(w-2)*V:z=V;let W=z>=O;for(let K=1;K<=z&&!W;K++)W=i[O-K]!=null;W?i[O]=null:(p=M.getRowNumber(),b=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let i=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(r){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),p=-1;for(let w=u;w<f;w++){if(h[w]==null)continue;let b=h[w];b.setRowNumberAsRowIndicatorColumn();let O=b.getRowNumber()-p;O===0||(O===1?p=b.getRowNumber():b.getRowNumber()>=r.getRowCount()?h[w]=null:p=b.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),i=new hs,o=new hs,l=new hs,u=new hs;for(let h of r){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let p=h.getValue()%30,w=h.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:o.setValue(p*3+1);break;case 1:u.setValue(p/3),l.setValue(p%3);break;case 2:i.setValue(p+1);break}}if(i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<Le.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>Le.MAX_ROWS_IN_BARCODE)return null;let f=new pc(i.getValue()[0],o.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(r,f),f}removeIncorrectCodewords(r,i){for(let o=0;o<r.length;o++){let l=r[o];if(r[o]==null)continue;let u=l.getValue()%30,f=l.getRowNumber();if(f>i.getRowCount()){r[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(r[o]=null);break;case 2:u+1!==i.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ps{constructor(r,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Le.MAX_CODEWORDS_IN_BARCODE,i;do i=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let l=0;l<o.length;l++)o[l]!=null&&(o[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&i[o]!=null&&r[o].getRowNumber()===i[o].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[o];u!=null&&(u.setRowNumber(r[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let l=i[o].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let h=this.detectionResultColumns[f].getCodewords()[o];h!=null&&(u=ps.adjustRowNumberIfValid(l,u,h),h.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let l=i[o].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let h=this.detectionResultColumns[f].getCodewords()[o];h!=null&&(u=ps.adjustRowNumberIfValid(l,u,h),h.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),i=0):++i),i}adjustRowNumbers(r,i,o){if(!this.detectionResultColumns[r-1])return;let l=o[i],u=this.detectionResultColumns[r-1].getCodewords(),f=u;this.detectionResultColumns[r+1]!=null&&(f=this.detectionResultColumns[r+1].getCodewords());let h=new Array(14);h[2]=u[i],h[3]=f[i],i>0&&(h[0]=o[i-1],h[4]=u[i-1],h[5]=f[i-1]),i>1&&(h[8]=o[i-2],h[10]=u[i-2],h[11]=f[i-2]),i<o.length-1&&(h[1]=o[i+1],h[6]=u[i+1],h[7]=f[i+1]),i<o.length-2&&(h[9]=o[i+2],h[12]=u[i+2],h[13]=f[i+2]);for(let p of h)if(ps.adjustRowNumber(l,p))return}static adjustRowNumber(r,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===r.getBucket()?(r.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,i){this.detectionResultColumns[r]=i}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new fs;for(let o=0;o<r.getCodewords().length;o++){i.format("CW %3d:",o);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[o];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class gs{constructor(r,i,o,l){this.rowNumber=gs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==gs.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}gs.BARCODE_ROW_UNKNOWN=-1;class Tn{static initialize(){for(let r=0;r<Le.SYMBOL_TABLE.length;r++){let i=Le.SYMBOL_TABLE[r],o=i&1;for(let l=0;l<Le.BARS_IN_MODULE;l++){let u=0;for(;(i&1)===o;)u+=1,i>>=1;o=i&1,Tn.RATIOS_TABLE[r]||(Tn.RATIOS_TABLE[r]=new Array(Le.BARS_IN_MODULE)),Tn.RATIOS_TABLE[r][Le.BARS_IN_MODULE-l-1]=Math.fround(u/Le.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let i=Tn.getDecodedCodewordValue(Tn.sampleBitCounts(r));return i!==-1?i:Tn.getClosestDecodedValue(r)}static sampleBitCounts(r){let i=it.sum(r),o=new Int32Array(Le.BARS_IN_MODULE),l=0,u=0;for(let f=0;f<Le.MODULES_IN_CODEWORD;f++){let h=i/(2*Le.MODULES_IN_CODEWORD)+f*i/Le.MODULES_IN_CODEWORD;u+r[l]<=h&&(u+=r[l],l++),o[l]++}return o}static getDecodedCodewordValue(r){let i=Tn.getBitValue(r);return Le.getCodeword(i)===-1?-1:i}static getBitValue(r){let i=0;for(let o=0;o<r.length;o++)for(let l=0;l<r[o];l++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(r){let i=it.sum(r),o=new Array(Le.BARS_IN_MODULE);if(i>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(r[f]/i);let l=so.MAX_VALUE,u=-1;this.bSymbolTableReady||Tn.initialize();for(let f=0;f<Tn.RATIOS_TABLE.length;f++){let h=0,p=Tn.RATIOS_TABLE[f];for(let w=0;w<Le.BARS_IN_MODULE;w++){let b=Math.fround(p[w]-o[w]);if(h+=Math.fround(b*b),h>=l)break}h<l&&(l=h,u=Le.SYMBOL_TABLE[f])}return u}}Tn.bSymbolTableReady=!1,Tn.RATIOS_TABLE=new Array(Le.SYMBOL_TABLE.length).map(R=>new Array(Le.BARS_IN_MODULE));class gc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class Il{static parseLong(r,i=void 0){return parseInt(r,i)}}class uo extends x{}uo.kind="NullPointerException";class Cd{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,i,o){if(r==null)throw new uo;if(i<0||i>r.length||o<0||i+o>r.length||i+o<0)throw new D;if(o===0)return;for(let l=0;l<o;l++)this.write(r[i+l])}flush(){}close(){}}class gi extends x{}class Mr extends Cd{constructor(r=32){if(super(),this.count=0,r<0)throw new C("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new gi;o=N.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,i,o){if(i<0||i>r.length||o<0||i+o-r.length>0)throw new D;this.ensureCapacity(this.count+o),I.arraycopy(r,i,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var pt;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(pt||(pt={}));function co(){if(typeof window<"u")return window.BigInt||null;if(typeof Pl<"u")return Pl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let fo;function Qr(R){if(typeof fo>"u"&&(fo=co()),fo===null)throw new Error("BigInt is not supported!");return fo(R)}function Ad(){let R=[];R[0]=Qr(1);let r=Qr(900);R[1]=r;for(let i=2;i<16;i++)R[i]=R[i-1]*r;return R}class J{static decode(r,i){let o=new Ve(""),l=te.ISO8859_1;o.enableDecoding(l);let u=1,f=r[u++],h=new gc;for(;u<r[0];){switch(f){case J.TEXT_COMPACTION_MODE_LATCH:u=J.textCompaction(r,u,o);break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:u=J.byteCompaction(f,r,l,u,o);break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[u++]);break;case J.NUMERIC_COMPACTION_MODE_LATCH:u=J.numericCompaction(r,u,o);break;case J.ECI_CHARSET:te.getCharacterSetECIByValue(r[u++]);break;case J.ECI_GENERAL_PURPOSE:u+=2;break;case J.ECI_USER_DEFINED:u++;break;case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=J.decodeMacroBlock(r,u,h);break;case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:throw new H;default:u--,u=J.textCompaction(r,u,o);break}if(u<r.length)f=r[u++];else throw H.getFormatInstance()}if(o.length()===0)throw H.getFormatInstance();let p=new as(null,o.toString(),null,i);return p.setOther(h),p}static decodeMacroBlock(r,i,o){if(i+J.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw H.getFormatInstance();let l=new Int32Array(J.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<J.NUMBER_OF_SEQUENCE_CODEWORDS;h++,i++)l[h]=r[i];o.setSegmentIndex(N.parseInt(J.decodeBase900toBase10(l,J.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Ve;i=J.textCompaction(r,i,u),o.setFileId(u.toString());let f=-1;for(r[i]===J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<r[0];)switch(r[i]){case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,r[i]){case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new Ve;i=J.textCompaction(r,i+1,h),o.setFileName(h.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new Ve;i=J.textCompaction(r,i+1,p),o.setSender(p.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new Ve;i=J.textCompaction(r,i+1,w),o.setAddressee(w.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new Ve;i=J.numericCompaction(r,i+1,b),o.setSegmentCount(N.parseInt(b.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new Ve;i=J.numericCompaction(r,i+1,O),o.setTimestamp(Il.parseLong(O.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let M=new Ve;i=J.numericCompaction(r,i+1,M),o.setChecksum(N.parseInt(M.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let V=new Ve;i=J.numericCompaction(r,i+1,V),o.setFileSize(Il.parseLong(V.toString()));break;default:throw H.getFormatInstance()}break;case J.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(f!==-1){let h=i-f;o.isLastSegment()&&h--,o.setOptionalData(S.copyOfRange(r,f,f+h))}return i}static textCompaction(r,i,o){let l=new Int32Array((r[0]-i)*2),u=new Int32Array((r[0]-i)*2),f=0,h=!1;for(;i<r[0]&&!h;){let p=r[i++];if(p<J.TEXT_COMPACTION_MODE_LATCH)l[f]=p/30,l[f+1]=p%30,f+=2;else switch(p){case J.TEXT_COMPACTION_MODE_LATCH:l[f++]=J.TEXT_COMPACTION_MODE_LATCH;break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:i--,h=!0;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[f]=J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=r[i++],u[f]=p,f++;break}}return J.decodeTextCompaction(l,u,f,o),i}static decodeTextCompaction(r,i,o,l){let u=pt.ALPHA,f=pt.ALPHA,h=0;for(;h<o;){let p=r[h],w="";switch(u){case pt.ALPHA:if(p<26)w=String.fromCharCode(65+p);else switch(p){case 26:w=" ";break;case J.LL:u=pt.LOWER;break;case J.ML:u=pt.MIXED;break;case J.PS:f=u,u=pt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:u=pt.ALPHA;break}break;case pt.LOWER:if(p<26)w=String.fromCharCode(97+p);else switch(p){case 26:w=" ";break;case J.AS:f=u,u=pt.ALPHA_SHIFT;break;case J.ML:u=pt.MIXED;break;case J.PS:f=u,u=pt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:u=pt.ALPHA;break}break;case pt.MIXED:if(p<J.PL)w=J.MIXED_CHARS[p];else switch(p){case J.PL:u=pt.PUNCT;break;case 26:w=" ";break;case J.LL:u=pt.LOWER;break;case J.AL:u=pt.ALPHA;break;case J.PS:f=u,u=pt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:u=pt.ALPHA;break}break;case pt.PUNCT:if(p<J.PAL)w=J.PUNCT_CHARS[p];else switch(p){case J.PAL:u=pt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:u=pt.ALPHA;break}break;case pt.ALPHA_SHIFT:if(u=f,p<26)w=String.fromCharCode(65+p);else switch(p){case 26:w=" ";break;case J.TEXT_COMPACTION_MODE_LATCH:u=pt.ALPHA;break}break;case pt.PUNCT_SHIFT:if(u=f,p<J.PAL)w=J.PUNCT_CHARS[p];else switch(p){case J.PAL:u=pt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:u=pt.ALPHA;break}break}w!==""&&l.append(w),h++}}static byteCompaction(r,i,o,l,u){let f=new Mr,h=0,p=0,w=!1;switch(r){case J.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),O=i[l++];for(;l<i[0]&&!w;)switch(b[h++]=O,p=900*p+O,O=i[l++],O){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:l--,w=!0;break;default:if(h%5===0&&h>0){for(let M=0;M<6;++M)f.write(Number(Qr(p)>>Qr(8*(5-M))));p=0,h=0}break}l===i[0]&&O<J.TEXT_COMPACTION_MODE_LATCH&&(b[h++]=O);for(let M=0;M<h;M++)f.write(b[M]);break;case J.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!w;){let M=i[l++];if(M<J.TEXT_COMPACTION_MODE_LATCH)h++,p=900*p+M;else switch(M){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:l--,w=!0;break}if(h%5===0&&h>0){for(let V=0;V<6;++V)f.write(Number(Qr(p)>>Qr(8*(5-V))));p=0,h=0}}break}return u.append(Te.decode(f.toByteArray(),o)),l}static numericCompaction(r,i,o){let l=0,u=!1,f=new Int32Array(J.MAX_NUMERIC_CODEWORDS);for(;i<r[0]&&!u;){let h=r[i++];if(i===r[0]&&(u=!0),h<J.TEXT_COMPACTION_MODE_LATCH)f[l]=h,l++;else switch(h){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(l%J.MAX_NUMERIC_CODEWORDS===0||h===J.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(o.append(J.decodeBase900toBase10(f,l)),l=0)}return i}static decodeBase900toBase10(r,i){let o=Qr(0);for(let u=0;u<i;u++)o+=J.EXP900[i-u-1]*Qr(r[u]);let l=o.toString();if(l.charAt(0)!=="1")throw new H;return l.substring(1)}}J.TEXT_COMPACTION_MODE_LATCH=900,J.BYTE_COMPACTION_MODE_LATCH=901,J.NUMERIC_COMPACTION_MODE_LATCH=902,J.BYTE_COMPACTION_MODE_LATCH_6=924,J.ECI_USER_DEFINED=925,J.ECI_GENERAL_PURPOSE=926,J.ECI_CHARSET=927,J.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,J.MACRO_PDF417_TERMINATOR=922,J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,J.MAX_NUMERIC_CODEWORDS=15,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,J.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,J.PL=25,J.LL=27,J.AS=27,J.ML=28,J.AL=28,J.PS=29,J.PAL=29,J.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,J.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",J.EXP900=co()?Ad():[],J.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ke{constructor(){}static decode(r,i,o,l,u,f,h){let p=new pi(r,i,o,l,u),w=null,b=null,O;for(let z=!0;;z=!1){if(i!=null&&(w=Ke.getRowIndicatorColumn(r,p,i,!0,f,h)),l!=null&&(b=Ke.getRowIndicatorColumn(r,p,l,!1,f,h)),O=Ke.merge(w,b),O==null)throw re.getNotFoundInstance();let W=O.getBoundingBox();if(z&&W!=null&&(W.getMinY()<p.getMinY()||W.getMaxY()>p.getMaxY()))p=W;else break}O.setBoundingBox(p);let M=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,w),O.setDetectionResultColumn(M,b);let V=w!=null;for(let z=1;z<=M;z++){let W=V?z:M-z;if(O.getDetectionResultColumn(W)!==void 0)continue;let K;W===0||W===M?K=new Tl(p,W===0):K=new ds(p),O.setDetectionResultColumn(W,K);let ne=-1,he=ne;for(let me=p.getMinY();me<=p.getMaxY();me++){if(ne=Ke.getStartColumn(O,W,me,V),ne<0||ne>p.getMaxX()){if(he===-1)continue;ne=he}let ce=Ke.detectCodeword(r,p.getMinX(),p.getMaxX(),V,ne,me,f,h);ce!=null&&(K.setCodeword(me,ce),he=ne,f=Math.min(f,ce.getWidth()),h=Math.max(h,ce.getWidth()))}}return Ke.createDecoderResult(O)}static merge(r,i){if(r==null&&i==null)return null;let o=Ke.getBarcodeMetadata(r,i);if(o==null)return null;let l=pi.merge(Ke.adjustBoundingBox(r),Ke.adjustBoundingBox(i));return new ps(o,l)}static adjustBoundingBox(r){if(r==null)return null;let i=r.getRowHeights();if(i==null)return null;let o=Ke.getMax(i),l=0;for(let h of i)if(l+=o-h,h>0)break;let u=r.getCodewords();for(let h=0;l>0&&u[h]==null;h++)l--;let f=0;for(let h=i.length-1;h>=0&&(f+=o-i[h],!(i[h]>0));h--);for(let h=u.length-1;f>0&&u[h]==null;h--)f--;return r.getBoundingBox().addMissingRows(l,f,r.isLeft())}static getMax(r){let i=-1;for(let o of r)i=Math.max(i,o);return i}static getBarcodeMetadata(r,i){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==l.getColumnCount()&&o.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&o.getRowCount()!==l.getRowCount()?null:o}static getRowIndicatorColumn(r,i,o,l,u,f){let h=new Tl(i,l);for(let p=0;p<2;p++){let w=p===0?1:-1,b=Math.trunc(Math.trunc(o.getX()));for(let O=Math.trunc(Math.trunc(o.getY()));O<=i.getMaxY()&&O>=i.getMinY();O+=w){let M=Ke.detectCodeword(r,0,r.getWidth(),l,b,O,u,f);M!=null&&(h.setCodeword(O,M),l?b=M.getStartX():b=M.getEndX())}}return h}static adjustCodewordCount(r,i){let o=i[0][1],l=o.getValue(),u=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-Ke.getNumberOfECCodeWords(r.getBarcodeECLevel());if(l.length===0){if(u<1||u>Le.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();o.setValue(u)}else l[0]!==u&&o.setValue(u)}static createDecoderResult(r){let i=Ke.createBarcodeMatrix(r);Ke.adjustCodewordCount(r,i);let o=new Array,l=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),u=[],f=new Array;for(let p=0;p<r.getBarcodeRowCount();p++)for(let w=0;w<r.getBarcodeColumnCount();w++){let b=i[p][w+1].getValue(),O=p*r.getBarcodeColumnCount()+w;b.length===0?o.push(O):b.length===1?l[O]=b[0]:(f.push(O),u.push(b))}let h=new Array(u.length);for(let p=0;p<h.length;p++)h[p]=u[p];return Ke.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),l,Le.toIntArray(o),Le.toIntArray(f),h)}static createDecoderResultFromAmbiguousValues(r,i,o,l,u){let f=new Int32Array(l.length),h=100;for(;h-- >0;){for(let p=0;p<f.length;p++)i[l[p]]=u[p][f[p]];try{return Ke.decodeCodewords(i,r,o)}catch(p){if(!(p instanceof P))throw p}if(f.length===0)throw P.getChecksumInstance();for(let p=0;p<f.length;p++)if(f[p]<u[p].length-1){f[p]++;break}else if(f[p]=0,p===f.length-1)throw P.getChecksumInstance()}throw P.getChecksumInstance()}static createBarcodeMatrix(r){let i=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let u=0;u<i[l].length;u++)i[l][u]=new hs;let o=0;for(let l of r.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][o].setValue(u.getValue())}}}o++}return i}static isValidBarcodeColumn(r,i){return i>=0&&i<=r.getBarcodeColumnCount()+1}static getStartColumn(r,i,o,l){let u=l?1:-1,f=null;if(Ke.isValidBarcodeColumn(r,i-u)&&(f=r.getDetectionResultColumn(i-u).getCodeword(o)),f!=null)return l?f.getEndX():f.getStartX();if(f=r.getDetectionResultColumn(i).getCodewordNearby(o),f!=null)return l?f.getStartX():f.getEndX();if(Ke.isValidBarcodeColumn(r,i-u)&&(f=r.getDetectionResultColumn(i-u).getCodewordNearby(o)),f!=null)return l?f.getEndX():f.getStartX();let h=0;for(;Ke.isValidBarcodeColumn(r,i-u);){i-=u;for(let p of r.getDetectionResultColumn(i).getCodewords())if(p!=null)return(l?p.getEndX():p.getStartX())+u*h*(p.getEndX()-p.getStartX());h++}return l?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,i,o,l,u,f,h,p){u=Ke.adjustCodewordStartColumn(r,i,o,l,u,f);let w=Ke.getModuleBitCount(r,i,o,l,u,f);if(w==null)return null;let b,O=it.sum(w);if(l)b=u+O;else{for(let z=0;z<w.length/2;z++){let W=w[z];w[z]=w[w.length-1-z],w[w.length-1-z]=W}b=u,u=b-O}if(!Ke.checkCodewordSkew(O,h,p))return null;let M=Tn.getDecodedValue(w),V=Le.getCodeword(M);return V===-1?null:new gs(u,b,Ke.getCodewordBucketNumber(M),V)}static getModuleBitCount(r,i,o,l,u,f){let h=u,p=new Int32Array(8),w=0,b=l?1:-1,O=l;for(;(l?h<o:h>=i)&&w<p.length;)r.get(h,f)===O?(p[w]++,h+=b):(w++,O=!O);return w===p.length||h===(l?o:i)&&w===p.length-1?p:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,i,o,l,u,f){let h=u,p=l?-1:1;for(let w=0;w<2;w++){for(;(l?h>=i:h<o)&&l===r.get(h,f);){if(Math.abs(u-h)>Ke.CODEWORD_SKEW_SIZE)return u;h+=p}p=-p,l=!l}return h}static checkCodewordSkew(r,i,o){return i-Ke.CODEWORD_SKEW_SIZE<=r&&r<=o+Ke.CODEWORD_SKEW_SIZE}static decodeCodewords(r,i,o){if(r.length===0)throw H.getFormatInstance();let l=1<<i+1,u=Ke.correctErrors(r,o,l);Ke.verifyCodewordCount(r,l);let f=J.decode(r,""+i);return f.setErrorsCorrected(u),f.setErasures(o.length),f}static correctErrors(r,i,o){if(i!=null&&i.length>o/2+Ke.MAX_ERRORS||o<0||o>Ke.MAX_EC_CODEWORDS)throw P.getChecksumInstance();return Ke.errorCorrection.decode(r,o,i)}static verifyCodewordCount(r,i){if(r.length<4)throw H.getFormatInstance();let o=r[0];if(o>r.length)throw H.getFormatInstance();if(o===0)if(i<r.length)r[0]=r.length-i;else throw H.getFormatInstance()}static getBitCountForCodeword(r){let i=new Int32Array(8),o=0,l=i.length-1;for(;!((r&1)!==o&&(o=r&1,l--,l<0));)i[l]++,r>>=1;return i}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return Ke.getCodewordBucketNumber(Ke.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let i=new fs;for(let o=0;o<r.length;o++){i.format("Row %2d: ",o);for(let l=0;l<r[o].length;l++){let u=r[o][l];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}Ke.CODEWORD_SKEW_SIZE=2,Ke.MAX_ERRORS=3,Ke.MAX_EC_CODEWORDS=512,Ke.errorCorrection=new _l;class pn{decode(r,i=null){let o=pn.decode(r,i,!1);if(o==null||o.length===0||o[0]==null)throw re.getNotFoundInstance();return o[0]}decodeMultiple(r,i=null){try{return pn.decode(r,i,!0)}catch(o){throw o instanceof H||o instanceof P?re.getNotFoundInstance():o}}static decode(r,i,o){const l=new Array,u=We.detectMultiple(r,i,o);for(const f of u.getPoints()){const h=Ke.decode(u.getBits(),f[4],f[5],f[6],f[7],pn.getMinCodewordWidth(f),pn.getMaxCodewordWidth(f)),p=new Rt(h.getText(),h.getRawBytes(),void 0,f,Re.PDF_417);p.putMetadata(ze.ERROR_CORRECTION_LEVEL,h.getECLevel());const w=h.getOther();w!=null&&p.putMetadata(ze.PDF417_EXTRA_METADATA,w),l.push(p)}return l.map(f=>f)}static getMaxWidth(r,i){return r==null||i==null?0:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMinWidth(r,i){return r==null||i==null?N.MAX_VALUE:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(pn.getMaxWidth(r[0],r[4]),pn.getMaxWidth(r[6],r[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.max(pn.getMaxWidth(r[1],r[5]),pn.getMaxWidth(r[7],r[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(pn.getMinWidth(r[0],r[4]),pn.getMinWidth(r[6],r[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.min(pn.getMinWidth(r[1],r[5]),pn.getMinWidth(r[7],r[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}reset(){}}class oa extends x{}oa.kind="ReaderException";class Nl{constructor(r,i){this.verbose=r===!0,i&&this.setHints(i)}decode(r,i){return i&&this.setHints(i),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const i=!s(r)&&r.get(G.TRY_HARDER)===!0,o=s(r)?null:r.get(G.POSSIBLE_FORMATS),l=new Array;if(!s(o)){const u=o.some(f=>f===Re.UPC_A||f===Re.UPC_E||f===Re.EAN_13||f===Re.EAN_8||f===Re.CODABAR||f===Re.CODE_39||f===Re.CODE_93||f===Re.CODE_128||f===Re.ITF||f===Re.RSS_14||f===Re.RSS_EXPANDED);u&&!i&&l.push(new qr(r,this.verbose)),o.includes(Re.QR_CODE)&&l.push(new Yr),o.includes(Re.DATA_MATRIX)&&l.push(new Kr),o.includes(Re.AZTEC)&&l.push(new He),o.includes(Re.PDF_417)&&l.push(new pn),u&&i&&l.push(new qr(r,this.verbose))}l.length===0&&(i||l.push(new qr(r,this.verbose)),l.push(new Yr),l.push(new Kr),l.push(new He),l.push(new pn),i&&l.push(new qr(r,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new oa("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(r,this.hints)}catch(o){if(o instanceof oa)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class mc extends Wn{constructor(r=null,i=500){const o=new Nl;o.setHints(r),super(o,i)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class xc extends Wn{constructor(r=500){super(new pn,r)}}class yr extends Wn{constructor(r=500){super(new Yr,r)}}var aa;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(aa||(aa={}));var tn=aa;class Ee{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new lt(r,Int32Array.from([1])))}buildGenerator(r){const i=this.cachedGenerators;if(r>=i.length){let o=i[i.length-1];const l=this.field;for(let u=i.length;u<=r;u++){const f=o.multiply(new lt(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));i.push(f),o=f}}return i[r]}encode(r,i){if(i===0)throw new C("No error correction bytes");const o=r.length-i;if(o<=0)throw new C("No data bytes provided");const l=this.buildGenerator(i),u=new Int32Array(o);I.arraycopy(r,0,u,0,o);let f=new lt(this.field,u);f=f.multiplyByMonomial(i,1);const p=f.divide(l)[1].getCoefficients(),w=i-p.length;for(let b=0;b<w;b++)r[o+b]=0;I.arraycopy(p,0,r,o+w,p.length)}}class Pt{constructor(){}static applyMaskPenaltyRule1(r){return Pt.applyMaskPenaltyRule1Internal(r,!0)+Pt.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let i=0;const o=r.getArray(),l=r.getWidth(),u=r.getHeight();for(let f=0;f<u-1;f++){const h=o[f];for(let p=0;p<l-1;p++){const w=h[p];w===h[p+1]&&w===o[f+1][p]&&w===o[f+1][p+1]&&i++}}return Pt.N2*i}static applyMaskPenaltyRule3(r){let i=0;const o=r.getArray(),l=r.getWidth(),u=r.getHeight();for(let f=0;f<u;f++)for(let h=0;h<l;h++){const p=o[f];h+6<l&&p[h]===1&&p[h+1]===0&&p[h+2]===1&&p[h+3]===1&&p[h+4]===1&&p[h+5]===0&&p[h+6]===1&&(Pt.isWhiteHorizontal(p,h-4,h)||Pt.isWhiteHorizontal(p,h+7,h+11))&&i++,f+6<u&&o[f][h]===1&&o[f+1][h]===0&&o[f+2][h]===1&&o[f+3][h]===1&&o[f+4][h]===1&&o[f+5][h]===0&&o[f+6][h]===1&&(Pt.isWhiteVertical(o,h,f-4,f)||Pt.isWhiteVertical(o,h,f+7,f+11))&&i++}return i*Pt.N3}static isWhiteHorizontal(r,i,o){i=Math.max(i,0),o=Math.min(o,r.length);for(let l=i;l<o;l++)if(r[l]===1)return!1;return!0}static isWhiteVertical(r,i,o,l){o=Math.max(o,0),l=Math.min(l,r.length);for(let u=o;u<l;u++)if(r[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let i=0;const o=r.getArray(),l=r.getWidth(),u=r.getHeight();for(let p=0;p<u;p++){const w=o[p];for(let b=0;b<l;b++)w[b]===1&&i++}const f=r.getHeight()*r.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*Pt.N4}static getDataMaskBit(r,i,o){let l,u;switch(r){case 0:l=o+i&1;break;case 1:l=o&1;break;case 2:l=i%3;break;case 3:l=(o+i)%3;break;case 4:l=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:u=o*i,l=(u&1)+u%3;break;case 6:u=o*i,l=(u&1)+u%3&1;break;case 7:u=o*i,l=u%3+(o+i&1)&1;break;default:throw new C("Invalid mask pattern: "+r)}return l===0}static applyMaskPenaltyRule1Internal(r,i){let o=0;const l=i?r.getHeight():r.getWidth(),u=i?r.getWidth():r.getHeight(),f=r.getArray();for(let h=0;h<l;h++){let p=0,w=-1;for(let b=0;b<u;b++){const O=i?f[h][b]:f[b][h];O===w?p++:(p>=5&&(o+=Pt.N1+(p-5)),p=1,w=O)}p>=5&&(o+=Pt.N1+(p-5))}return o}}Pt.N1=3,Pt.N2=3,Pt.N3=40,Pt.N4=10;class ms{constructor(r,i){this.width=r,this.height=i;const o=new Array(i);for(let l=0;l!==i;l++)o[l]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,i){return this.bytes[i][r]}getArray(){return this.bytes}setNumber(r,i,o){this.bytes[i][r]=o}setBoolean(r,i,o){this.bytes[i][r]=o?1:0}clear(r){for(const i of this.bytes)S.fill(i,r)}equals(r){if(!(r instanceof ms))return!1;const i=r;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o],f=i.bytes[o];for(let h=0,p=this.width;h<p;++h)if(u[h]!==f[h])return!1}return!0}toString(){const r=new Ve;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i];for(let u=0,f=this.width;u<f;++u)switch(l[u]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class mi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new Ve;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<mi.NUM_MASK_PATTERNS}}mi.NUM_MASK_PATTERNS=8;class mt extends x{}mt.kind="WriterException";class ke{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,i,o,l,u){ke.clearMatrix(u),ke.embedBasicPatterns(o,u),ke.embedTypeInfo(i,l,u),ke.maybeEmbedVersionInfo(o,u),ke.embedDataBits(r,l,u)}static embedBasicPatterns(r,i){ke.embedPositionDetectionPatternsAndSeparators(i),ke.embedDarkDotAtLeftBottomCorner(i),ke.maybeEmbedPositionAdjustmentPatterns(r,i),ke.embedTimingPatterns(i)}static embedTypeInfo(r,i,o){const l=new L;ke.makeTypeInfoBits(r,i,l);for(let u=0,f=l.getSize();u<f;++u){const h=l.get(l.getSize()-1-u),p=ke.TYPE_INFO_COORDINATES[u],w=p[0],b=p[1];if(o.setBoolean(w,b,h),u<8){const O=o.getWidth()-u-1;o.setBoolean(O,8,h)}else{const M=o.getHeight()-7+(u-8);o.setBoolean(8,M,h)}}}static maybeEmbedVersionInfo(r,i){if(r.getVersionNumber()<7)return;const o=new L;ke.makeVersionInfoBits(r,o);let l=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const h=o.get(l);l--,i.setBoolean(u,i.getHeight()-11+f,h),i.setBoolean(i.getHeight()-11+f,u,h)}}static embedDataBits(r,i,o){let l=0,u=-1,f=o.getWidth()-1,h=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);h>=0&&h<o.getHeight();){for(let p=0;p<2;++p){const w=f-p;if(!ke.isEmpty(o.get(w,h)))continue;let b;l<r.getSize()?(b=r.get(l),++l):b=!1,i!==255&&Pt.getDataMaskBit(i,w,h)&&(b=!b),o.setBoolean(w,h,b)}h+=u}u=-u,h+=u,f-=2}if(l!==r.getSize())throw new mt("Not all bits consumed: "+l+"/"+r.getSize())}static findMSBSet(r){return 32-N.numberOfLeadingZeros(r)}static calculateBCHCode(r,i){if(i===0)throw new C("0 polynomial");const o=ke.findMSBSet(i);for(r<<=o-1;ke.findMSBSet(r)>=o;)r^=i<<ke.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,i,o){if(!mi.isValidMaskPattern(i))throw new mt("Invalid mask pattern");const l=r.getBits()<<3|i;o.appendBits(l,5);const u=ke.calculateBCHCode(l,ke.TYPE_INFO_POLY);o.appendBits(u,10);const f=new L;if(f.appendBits(ke.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new mt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,i){i.appendBits(r.getVersionNumber(),6);const o=ke.calculateBCHCode(r.getVersionNumber(),ke.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new mt("should not happen but we got: "+i.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let i=8;i<r.getWidth()-8;++i){const o=(i+1)%2;ke.isEmpty(r.get(i,6))&&r.setNumber(i,6,o),ke.isEmpty(r.get(6,i))&&r.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new mt;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,i,o){for(let l=0;l<8;++l){if(!ke.isEmpty(o.get(r+l,i)))throw new mt;o.setNumber(r+l,i,0)}}static embedVerticalSeparationPattern(r,i,o){for(let l=0;l<7;++l){if(!ke.isEmpty(o.get(r,i+l)))throw new mt;o.setNumber(r,i+l,0)}}static embedPositionAdjustmentPattern(r,i,o){for(let l=0;l<5;++l){const u=ke.POSITION_ADJUSTMENT_PATTERN[l];for(let f=0;f<5;++f)o.setNumber(r+f,i+l,u[f])}}static embedPositionDetectionPattern(r,i,o){for(let l=0;l<7;++l){const u=ke.POSITION_DETECTION_PATTERN[l];for(let f=0;f<7;++f)o.setNumber(r+f,i+l,u[f])}}static embedPositionDetectionPatternsAndSeparators(r){const i=ke.POSITION_DETECTION_PATTERN[0].length;ke.embedPositionDetectionPattern(0,0,r),ke.embedPositionDetectionPattern(r.getWidth()-i,0,r),ke.embedPositionDetectionPattern(0,r.getWidth()-i,r);const o=8;ke.embedHorizontalSeparationPattern(0,o-1,r),ke.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),ke.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const l=7;ke.embedVerticalSeparationPattern(l,0,r),ke.embedVerticalSeparationPattern(r.getHeight()-l-1,0,r),ke.embedVerticalSeparationPattern(l,r.getHeight()-l,r)}static maybeEmbedPositionAdjustmentPatterns(r,i){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,l=ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,f=l.length;u!==f;u++){const h=l[u];if(h>=0)for(let p=0;p!==f;p++){const w=l[p];w>=0&&ke.isEmpty(i.get(w,h))&&ke.embedPositionAdjustmentPattern(w-2,h-2,i)}}}}ke.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ke.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ke.VERSION_INFO_POLY=7973,ke.TYPE_INFO_POLY=1335,ke.TYPE_INFO_MASK_PATTERN=21522;class yc{constructor(r,i){this.dataBytes=r,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class bt{constructor(){}static calculateMaskPenalty(r){return Pt.applyMaskPenaltyRule1(r)+Pt.applyMaskPenaltyRule2(r)+Pt.applyMaskPenaltyRule3(r)+Pt.applyMaskPenaltyRule4(r)}static encode(r,i,o=null){let l=bt.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(tn.CHARACTER_SET)!==void 0;u&&(l=o.get(tn.CHARACTER_SET).toString());const f=this.chooseMode(r,l),h=new L;if(f===Me.BYTE&&(u||bt.DEFAULT_BYTE_MODE_ENCODING!==l)){const me=te.getCharacterSetECIByName(l);me!==void 0&&this.appendECI(me,h)}this.appendModeInfo(f,h);const p=new L;this.appendBytes(r,f,p,l);let w;if(o!==null&&o.get(tn.QR_VERSION)!==void 0){const me=Number.parseInt(o.get(tn.QR_VERSION).toString(),10);w=Oe.getVersionForNumber(me);const ce=this.calculateBitsNeeded(f,h,p,w);if(!this.willFit(ce,w,i))throw new mt("Data too big for requested version")}else w=this.recommendVersion(i,f,h,p);const b=new L;b.appendBitArray(h);const O=f===Me.BYTE?p.getSizeInBytes():r.length;this.appendLengthInfo(O,w,f,b),b.appendBitArray(p);const M=w.getECBlocksForLevel(i),V=w.getTotalCodewords()-M.getTotalECCodewords();this.terminateBits(V,b);const z=this.interleaveWithECBytes(b,w.getTotalCodewords(),V,M.getNumBlocks()),W=new mi;W.setECLevel(i),W.setMode(f),W.setVersion(w);const K=w.getDimensionForVersion(),ne=new ms(K,K),he=this.chooseMaskPattern(z,i,w,ne);return W.setMaskPattern(he),ke.buildMatrix(z,i,w,he,ne),W.setMatrix(ne),W}static recommendVersion(r,i,o,l){const u=this.calculateBitsNeeded(i,o,l,Oe.getVersionForNumber(1)),f=this.chooseVersion(u,r),h=this.calculateBitsNeeded(i,o,l,f);return this.chooseVersion(h,r)}static calculateBitsNeeded(r,i,o,l){return i.getSize()+r.getCharacterCountBits(l)+o.getSize()}static getAlphanumericCode(r){return r<bt.ALPHANUMERIC_TABLE.length?bt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,i=null){if(te.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(r))return Me.KANJI;let o=!1,l=!1;for(let u=0,f=r.length;u<f;++u){const h=r.charAt(u);if(bt.isDigit(h))o=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return Me.BYTE}return l?Me.ALPHANUMERIC:o?Me.NUMERIC:Me.BYTE}static isOnlyDoubleByteKanji(r){let i;try{i=Te.encode(r,te.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let l=0;l<o;l+=2){const u=i[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(r,i,o,l){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let h=0;h<mi.NUM_MASK_PATTERNS;h++){ke.buildMatrix(r,i,o,h,l);let p=this.calculateMaskPenalty(l);p<u&&(u=p,f=h)}return f}static chooseVersion(r,i){for(let o=1;o<=40;o++){const l=Oe.getVersionForNumber(o);if(bt.willFit(r,l,i))return l}throw new mt("Data too big")}static willFit(r,i,o){const l=i.getTotalCodewords(),f=i.getECBlocksForLevel(o).getTotalECCodewords(),h=l-f,p=(r+7)/8;return h>=p}static terminateBits(r,i){const o=r*8;if(i.getSize()>o)throw new mt("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let f=0;f<4&&i.getSize()<o;++f)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let f=l;f<8;f++)i.appendBit(!1);const u=r-i.getSizeInBytes();for(let f=0;f<u;++f)i.appendBits(f&1?17:236,8);if(i.getSize()!==o)throw new mt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,i,o,l,u,f){if(l>=o)throw new mt("Block ID too large");const h=r%o,p=o-h,w=Math.floor(r/o),b=w+1,O=Math.floor(i/o),M=O+1,V=w-O,z=b-M;if(V!==z)throw new mt("EC bytes mismatch");if(o!==p+h)throw new mt("RS blocks mismatch");if(r!==(O+V)*p+(M+z)*h)throw new mt("Total bytes mismatch");l<p?(u[0]=O,f[0]=V):(u[0]=M,f[0]=z)}static interleaveWithECBytes(r,i,o,l){if(r.getSizeInBytes()!==o)throw new mt("Number of bits and data bytes does not match");let u=0,f=0,h=0;const p=new Array;for(let b=0;b<l;++b){const O=new Int32Array(1),M=new Int32Array(1);bt.getNumDataBytesAndNumECBytesForBlockID(i,o,l,b,O,M);const V=O[0],z=new Uint8Array(V);r.toBytes(8*u,z,0,V);const W=bt.generateECBytes(z,M[0]);p.push(new yc(z,W)),f=Math.max(f,V),h=Math.max(h,W.length),u+=O[0]}if(o!==u)throw new mt("Data bytes does not match offset");const w=new L;for(let b=0;b<f;++b)for(const O of p){const M=O.getDataBytes();b<M.length&&w.appendBits(M[b],8)}for(let b=0;b<h;++b)for(const O of p){const M=O.getErrorCorrectionBytes();b<M.length&&w.appendBits(M[b],8)}if(i!==w.getSizeInBytes())throw new mt("Interleaving error: "+i+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(r,i){const o=r.length,l=new Int32Array(o+i);for(let f=0;f<o;f++)l[f]=r[f]&255;new Ee(at.QR_CODE_FIELD_256).encode(l,i);const u=new Uint8Array(i);for(let f=0;f<i;f++)u[f]=l[o+f];return u}static appendModeInfo(r,i){i.appendBits(r.getBits(),4)}static appendLengthInfo(r,i,o,l){const u=o.getCharacterCountBits(i);if(r>=1<<u)throw new mt(r+" is bigger than "+((1<<u)-1));l.appendBits(r,u)}static appendBytes(r,i,o,l){switch(i){case Me.NUMERIC:bt.appendNumericBytes(r,o);break;case Me.ALPHANUMERIC:bt.appendAlphanumericBytes(r,o);break;case Me.BYTE:bt.append8BitBytes(r,o,l);break;case Me.KANJI:bt.appendKanjiBytes(r,o);break;default:throw new mt("Invalid mode: "+i)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const i=bt.getDigit(r);return i>=0&&i<=9}static appendNumericBytes(r,i){const o=r.length;let l=0;for(;l<o;){const u=bt.getDigit(r.charAt(l));if(l+2<o){const f=bt.getDigit(r.charAt(l+1)),h=bt.getDigit(r.charAt(l+2));i.appendBits(u*100+f*10+h,10),l+=3}else if(l+1<o){const f=bt.getDigit(r.charAt(l+1));i.appendBits(u*10+f,7),l+=2}else i.appendBits(u,4),l++}}static appendAlphanumericBytes(r,i){const o=r.length;let l=0;for(;l<o;){const u=bt.getAlphanumericCode(r.charCodeAt(l));if(u===-1)throw new mt;if(l+1<o){const f=bt.getAlphanumericCode(r.charCodeAt(l+1));if(f===-1)throw new mt;i.appendBits(u*45+f,11),l+=2}else i.appendBits(u,6),l++}}static append8BitBytes(r,i,o){let l;try{l=Te.encode(r,o)}catch(u){throw new mt(u)}for(let u=0,f=l.length;u!==f;u++){const h=l[u];i.appendBits(h,8)}}static appendKanjiBytes(r,i){let o;try{o=Te.encode(r,te.SJIS)}catch(u){throw new mt(u)}const l=o.length;for(let u=0;u<l;u+=2){const f=o[u]&255,h=o[u+1]&255,p=f<<8&4294967295|h;let w=-1;if(p>=33088&&p<=40956?w=p-33088:p>=57408&&p<=60351&&(w=p-49472),w===-1)throw new mt("Invalid byte sequence");const b=(w>>8)*192+(w&255);i.appendBits(b,13)}}static appendECI(r,i){i.appendBits(Me.ECI.getBits(),4),i.appendBits(r.getValue(),8)}}bt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),bt.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class xi{write(r,i,o,l=null){if(r.length===0)throw new C("Found empty contents");if(i<0||o<0)throw new C("Requested dimensions are too small: "+i+"x"+o);let u=vt.L,f=xi.QUIET_ZONE_SIZE;l!==null&&(l.get(tn.ERROR_CORRECTION)!==void 0&&(u=vt.fromString(l.get(tn.ERROR_CORRECTION).toString())),l.get(tn.MARGIN)!==void 0&&(f=Number.parseInt(l.get(tn.MARGIN).toString(),10)));const h=bt.encode(r,u,l);return this.renderResult(h,i,o,f)}writeToDom(r,i,o,l,u=null){typeof r=="string"&&(r=document.querySelector(r));const f=this.write(i,o,l,u);r&&r.appendChild(f)}renderResult(r,i,o,l){const u=r.getMatrix();if(u===null)throw new gr;const f=u.getWidth(),h=u.getHeight(),p=f+l*2,w=h+l*2,b=Math.max(i,p),O=Math.max(o,w),M=Math.min(Math.floor(b/p),Math.floor(O/w)),V=Math.floor((b-f*M)/2),z=Math.floor((O-h*M)/2),W=this.createSVGElement(b,O);for(let K=0,ne=z;K<h;K++,ne+=M)for(let he=0,me=V;he<f;he++,me+=M)if(u.get(he,K)===1){const ce=this.createSvgRectElement(me,ne,M,M);W.appendChild(ce)}return W}createSVGElement(r,i){const o=document.createElementNS(xi.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(r,i,o,l){const u=document.createElementNS(xi.SVG_NS,"rect");return u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}xi.QUIET_ZONE_SIZE=4,xi.SVG_NS="http://www.w3.org/2000/svg";class yi{encode(r,i,o,l,u){if(r.length===0)throw new C("Found empty contents");if(i!==Re.QR_CODE)throw new C("Can only encode QR_CODE, but got "+i);if(o<0||l<0)throw new C(`Requested dimensions are too small: ${o}x${l}`);let f=vt.L,h=yi.QUIET_ZONE_SIZE;u!==null&&(u.get(tn.ERROR_CORRECTION)!==void 0&&(f=vt.fromString(u.get(tn.ERROR_CORRECTION).toString())),u.get(tn.MARGIN)!==void 0&&(h=Number.parseInt(u.get(tn.MARGIN).toString(),10)));const p=bt.encode(r,f,u);return yi.renderResult(p,o,l,h)}static renderResult(r,i,o,l){const u=r.getMatrix();if(u===null)throw new gr;const f=u.getWidth(),h=u.getHeight(),p=f+l*2,w=h+l*2,b=Math.max(i,p),O=Math.max(o,w),M=Math.min(Math.floor(b/p),Math.floor(O/w)),V=Math.floor((b-f*M)/2),z=Math.floor((O-h*M)/2),W=new Je(b,O);for(let K=0,ne=z;K<h;K++,ne+=M)for(let he=0,me=V;he<f;he++,me+=M)u.get(he,K)===1&&W.setRegion(me,ne,M,M);return W}}yi.QUIET_ZONE_SIZE=4;class wc{encode(r,i,o,l,u){let f;switch(i){case Re.QR_CODE:f=new yi;break;default:throw new C("No encoder available for format "+i)}return f.encode(r,i,o,l,u)}}class wr extends ge{constructor(r,i,o,l,u,f,h,p){if(super(f,h),this.yuvData=r,this.dataWidth=i,this.dataHeight=o,this.left=l,this.top=u,l+f>i||u+h>o)throw new C("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(f,h)}getRow(r,i){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const l=(r+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,l,i,0,o),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=r*i,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return I.arraycopy(this.yuvData,u,l,0,o),l;for(let f=0;f<i;f++){const h=f*r;I.arraycopy(this.yuvData,u,l,h,r),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(r,i,o,l){return new wr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+i,o,l,!1)}renderThumbnail(){const r=this.getWidth()/wr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/wr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*i),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const h=f*r;for(let p=0;p<r;p++){const w=l[u+p*wr.THUMBNAIL_SCALE_FACTOR]&255;o[h+p]=4278190080|w*65793}u+=this.dataWidth*wr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/wr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/wr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,i){const o=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<i;l++,u+=this.dataWidth){const f=u+r/2;for(let h=u,p=u+r-1;h<f;h++,p--){const w=o[h];o[h]=o[p],o[p]=w}}}invert(){return new Ce(this)}}wr.THUMBNAIL_SCALE_FACTOR=2;class la extends ge{constructor(r,i,o,l,u,f,h){if(super(i,o),this.dataWidth=l,this.dataHeight=u,this.left=f,this.top=h,r.BYTES_PER_ELEMENT===4){const p=i*o,w=new Uint8ClampedArray(p);for(let b=0;b<p;b++){const O=r[b],M=O>>16&255,V=O>>7&510,z=O&255;w[b]=(M+V+z)/4&255}this.luminances=w}else this.luminances=r;if(l===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(r,i){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const l=(r+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,l,i,0,o),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=r*i,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return I.arraycopy(this.luminances,u,l,0,o),l;for(let f=0;f<i;f++){const h=f*r;I.arraycopy(this.luminances,u,l,h,r),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(r,i,o,l){return new la(this.luminances,o,l,this.dataWidth,this.dataHeight,this.left+r,this.top+i)}invert(){return new Ce(this)}}class Rl extends te{static forName(r){return this.getCharacterSetECIByName(r)}}class xs{}xs.ISO_8859_1=te.ISO8859_1;class Ol{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class Dl{static singletonList(r){return[r]}static min(r,i){return r.sort(i)[0]}}class m{constructor(r){this.previous=r}getPrevious(){return this.previous}}class v extends m{constructor(r,i,o){super(r),this.value=i,this.bitCount=o}appendTo(r,i){r.appendBits(this.value,this.bitCount)}add(r,i){return new v(this,r,i)}addBinaryShift(r,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new v(this,r,i)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+N.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class _ extends v{constructor(r,i,o){super(r,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(r,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(r,i){return new _(this,r,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function k(R,r,i){return new _(R,r,i)}function j(R,r,i){return new v(R,r,i)}const ee=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Q=0,le=1,Z=2,ie=3,fe=4,ue=new v(null,0,0),we=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Xe(R){for(let r of R)S.fill(r,-1);return R[Q][fe]=0,R[le][fe]=0,R[le][Q]=28,R[ie][fe]=0,R[Z][fe]=0,R[Z][Q]=15,R}const ct=Xe(S.createInt32Array(6,6));class Et{constructor(r,i,o,l){this.token=r,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,i){let o=this.bitCount,l=this.token;if(r!==this.mode){let f=we[this.mode][r];l=j(l,f&65535,f>>16),o+=f>>16}let u=r===Z?4:5;return l=j(l,i,u),new Et(l,r,0,o+u)}shiftAndAppend(r,i){let o=this.token,l=this.mode===Z?4:5;return o=j(o,ct[this.mode][r],l),o=j(o,i,5),new Et(o,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(r){let i=this.token,o=this.mode,l=this.bitCount;if(this.mode===fe||this.mode===Z){let h=we[o][Q];i=j(i,h&65535,h>>16),l+=h>>16,o=Q}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Et(i,o,this.binaryShiftByteCount+1,l+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(r+1)),f}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=k(i,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Et(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let i=this.bitCount+(we[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?i+=Et.calculateBinaryShiftCost(r)-Et.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(i+=10),i<=r.bitCount}toBitArray(r){let i=[];for(let l=this.endBinaryShift(r.length).token;l!==null;l=l.getPrevious())i.unshift(l);let o=new L;for(const l of i)l.appendTo(o,r);return o}toString(){return pe.format("%s bits=%d bytes=%d",ee[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Et.INITIAL_STATE=new Et(ue,Q,0,0);function Kt(R){const r=pe.getCharCode(" "),i=pe.getCharCode("."),o=pe.getCharCode(",");R[Q][r]=1;const l=pe.getCharCode("Z"),u=pe.getCharCode("A");for(let M=u;M<=l;M++)R[Q][M]=M-u+2;R[le][r]=1;const f=pe.getCharCode("z"),h=pe.getCharCode("a");for(let M=h;M<=f;M++)R[le][M]=M-h+2;R[Z][r]=1;const p=pe.getCharCode("9"),w=pe.getCharCode("0");for(let M=w;M<=p;M++)R[Z][M]=M-w+2;R[Z][o]=12,R[Z][i]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let M=0;M<b.length;M++)R[ie][pe.getCharCode(b[M])]=M;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let M=0;M<O.length;M++)pe.getCharCode(O[M])>0&&(R[fe][pe.getCharCode(O[M])]=M);return R}const wn=Kt(S.createInt32Array(5,256));class zt{constructor(r){this.text=r}encode(){const r=pe.getCharCode(" "),i=pe.getCharCode(`
`);let o=Dl.singletonList(Et.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,h=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case pe.getCharCode("\r"):f=h===i?2:0;break;case pe.getCharCode("."):f=h===r?3:0;break;case pe.getCharCode(","):f=h===r?4:0;break;case pe.getCharCode(":"):f=h===r?5:0;break;default:f=0}f>0?(o=zt.updateStateListForPair(o,u,f),u++):o=this.updateStateListForChar(o,u)}return Dl.min(o,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,i){const o=[];for(let l of r)this.updateStateForChar(l,i,o);return zt.simplifyStates(o)}updateStateForChar(r,i,o){let l=this.text[i]&255,u=wn[r.getMode()][l]>0,f=null;for(let h=0;h<=fe;h++){let p=wn[h][l];if(p>0){if(f==null&&(f=r.endBinaryShift(i)),!u||h===r.getMode()||h===Z){const w=f.latchAndAppend(h,p);o.push(w)}if(!u&&ct[r.getMode()][h]>=0){const w=f.shiftAndAppend(h,p);o.push(w)}}}if(r.getBinaryShiftByteCount()>0||wn[r.getMode()][l]===0){let h=r.addBinaryShiftChar(i);o.push(h)}}static updateStateListForPair(r,i,o){const l=[];for(let u of r)this.updateStateForPair(u,i,o,l);return this.simplifyStates(l)}static updateStateForPair(r,i,o,l){let u=r.endBinaryShift(i);if(l.push(u.latchAndAppend(fe,o)),r.getMode()!==fe&&l.push(u.shiftAndAppend(fe,o)),o===3||o===4){let f=u.latchAndAppend(Z,16-o).latchAndAppend(Z,1);l.push(f)}if(r.getBinaryShiftByteCount()>0){let f=r.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(f)}}static simplifyStates(r){let i=[];for(const o of r){let l=!0;for(const u of i){if(u.isBetterThanOrEqualTo(o)){l=!1;break}o.isBetterThanOrEqualTo(u)&&(i=i.filter(f=>f!==u))}l&&i.push(o)}return i}}class Ze{constructor(){}static encodeBytes(r){return Ze.encode(r,Ze.DEFAULT_EC_PERCENT,Ze.DEFAULT_AZTEC_LAYERS)}static encode(r,i,o){let l=new zt(r).encode(),u=N.truncDivision(l.getSize()*i,100)+11,f=l.getSize()+u,h,p,w,b,O;if(o!==Ze.DEFAULT_AZTEC_LAYERS){if(h=o<0,p=Math.abs(o),p>(h?Ze.MAX_NB_BITS_COMPACT:Ze.MAX_NB_BITS))throw new C(pe.format("Illegal value %s for layers",o));w=Ze.totalBitsInLayer(p,h),b=Ze.WORD_SIZE[p];let ce=w-w%b;if(O=Ze.stuffBits(l,b),O.getSize()+u>ce)throw new C("Data to large for user specified layer");if(h&&O.getSize()>b*64)throw new C("Data to large for user specified layer")}else{b=0,O=null;for(let ce=0;;ce++){if(ce>Ze.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(h=ce<=3,p=h?ce+1:ce,w=Ze.totalBitsInLayer(p,h),f>w)continue;(O==null||b!==Ze.WORD_SIZE[p])&&(b=Ze.WORD_SIZE[p],O=Ze.stuffBits(l,b));let rt=w-w%b;if(!(h&&O.getSize()>b*64)&&O.getSize()+u<=rt)break}}let M=Ze.generateCheckWords(O,w,b),V=O.getSize()/b,z=Ze.generateModeMessage(h,p,V),W=(h?11:14)+p*4,K=new Int32Array(W),ne;if(h){ne=W;for(let ce=0;ce<K.length;ce++)K[ce]=ce}else{ne=W+1+2*N.truncDivision(N.truncDivision(W,2)-1,15);let ce=N.truncDivision(W,2),rt=N.truncDivision(ne,2);for(let qe=0;qe<ce;qe++){let sr=qe+N.truncDivision(qe,15);K[ce-qe-1]=rt-sr-1,K[ce+qe]=rt+sr+1}}let he=new Je(ne);for(let ce=0,rt=0;ce<p;ce++){let qe=(p-ce)*4+(h?9:12);for(let sr=0;sr<qe;sr++){let Zr=sr*2;for(let or=0;or<2;or++)M.get(rt+Zr+or)&&he.set(K[ce*2+or],K[ce*2+sr]),M.get(rt+qe*2+Zr+or)&&he.set(K[ce*2+sr],K[W-1-ce*2-or]),M.get(rt+qe*4+Zr+or)&&he.set(K[W-1-ce*2-or],K[W-1-ce*2-sr]),M.get(rt+qe*6+Zr+or)&&he.set(K[W-1-ce*2-sr],K[ce*2+or])}rt+=qe*8}if(Ze.drawModeMessage(he,h,ne,z),h)Ze.drawBullsEye(he,N.truncDivision(ne,2),5);else{Ze.drawBullsEye(he,N.truncDivision(ne,2),7);for(let ce=0,rt=0;ce<N.truncDivision(W,2)-1;ce+=15,rt+=16)for(let qe=N.truncDivision(ne,2)&1;qe<ne;qe+=2)he.set(N.truncDivision(ne,2)-rt,qe),he.set(N.truncDivision(ne,2)+rt,qe),he.set(qe,N.truncDivision(ne,2)-rt),he.set(qe,N.truncDivision(ne,2)+rt)}let me=new Ol;return me.setCompact(h),me.setSize(ne),me.setLayers(p),me.setCodeWords(V),me.setMatrix(he),me}static drawBullsEye(r,i,o){for(let l=0;l<o;l+=2)for(let u=i-l;u<=i+l;u++)r.set(u,i-l),r.set(u,i+l),r.set(i-l,u),r.set(i+l,u);r.set(i-o,i-o),r.set(i-o+1,i-o),r.set(i-o,i-o+1),r.set(i+o,i-o),r.set(i+o,i-o+1),r.set(i+o,i+o-1)}static generateModeMessage(r,i,o){let l=new L;return r?(l.appendBits(i-1,2),l.appendBits(o-1,6),l=Ze.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(o-1,11),l=Ze.generateCheckWords(l,40,4)),l}static drawModeMessage(r,i,o,l){let u=N.truncDivision(o,2);if(i)for(let f=0;f<7;f++){let h=u-3+f;l.get(f)&&r.set(h,u-5),l.get(f+7)&&r.set(u+5,h),l.get(20-f)&&r.set(h,u+5),l.get(27-f)&&r.set(u-5,h)}else for(let f=0;f<10;f++){let h=u-5+f+N.truncDivision(f,5);l.get(f)&&r.set(h,u-7),l.get(f+10)&&r.set(u+7,h),l.get(29-f)&&r.set(h,u+7),l.get(39-f)&&r.set(u-7,h)}}static generateCheckWords(r,i,o){let l=r.getSize()/o,u=new Ee(Ze.getGF(o)),f=N.truncDivision(i,o),h=Ze.bitsToWords(r,o,f);u.encode(h,f-l);let p=i%o,w=new L;w.appendBits(0,p);for(const b of Array.from(h))w.appendBits(b,o);return w}static bitsToWords(r,i,o){let l=new Int32Array(o),u,f;for(u=0,f=r.getSize()/i;u<f;u++){let h=0;for(let p=0;p<i;p++)h|=r.get(u*i+p)?1<<i-p-1:0;l[u]=h}return l}static getGF(r){switch(r){case 4:return at.AZTEC_PARAM;case 6:return at.AZTEC_DATA_6;case 8:return at.AZTEC_DATA_8;case 10:return at.AZTEC_DATA_10;case 12:return at.AZTEC_DATA_12;default:throw new C("Unsupported word size "+r)}}static stuffBits(r,i){let o=new L,l=r.getSize(),u=(1<<i)-2;for(let f=0;f<l;f+=i){let h=0;for(let p=0;p<i;p++)(f+p>=l||r.get(f+p))&&(h|=1<<i-1-p);(h&u)===u?(o.appendBits(h&u,i),f--):h&u?o.appendBits(h,i):(o.appendBits(h|1,i),f--)}return o}static totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}Ze.DEFAULT_EC_PERCENT=33,Ze.DEFAULT_AZTEC_LAYERS=0,Ze.MAX_NB_BITS=32,Ze.MAX_NB_BITS_COMPACT=4,Ze.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class vr{encode(r,i,o,l){return this.encodeWithHints(r,i,o,l,null)}encodeWithHints(r,i,o,l,u){let f=xs.ISO_8859_1,h=Ze.DEFAULT_EC_PERCENT,p=Ze.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(tn.CHARACTER_SET)&&(f=Rl.forName(u.get(tn.CHARACTER_SET).toString())),u.has(tn.ERROR_CORRECTION)&&(h=N.parseInt(u.get(tn.ERROR_CORRECTION).toString())),u.has(tn.AZTEC_LAYERS)&&(p=N.parseInt(u.get(tn.AZTEC_LAYERS).toString()))),vr.encodeLayers(r,i,o,l,f,h,p)}static encodeLayers(r,i,o,l,u,f,h){if(i!==Re.AZTEC)throw new C("Can only encode AZTEC, but got "+i);let p=Ze.encode(pe.getBytes(r,u),f,h);return vr.renderResult(p,o,l)}static renderResult(r,i,o){let l=r.getMatrix();if(l==null)throw new gr;let u=l.getWidth(),f=l.getHeight(),h=Math.max(i,u),p=Math.max(o,f),w=Math.min(h/u,p/f),b=(h-u*w)/2,O=(p-f*w)/2,M=new Je(h,p);for(let V=0,z=O;V<f;V++,z+=w)for(let W=0,K=b;W<u;W++,K+=w)l.get(W,V)&&M.setRegion(K,z,w,w);return M}}n.AbstractExpandedDecoder=ir,n.ArgumentException=E,n.ArithmeticException=Gn,n.AztecCode=Ol,n.AztecCodeReader=He,n.AztecCodeWriter=vr,n.AztecDecoder=dt,n.AztecDetector=vl,n.AztecDetectorResult=ci,n.AztecEncoder=Ze,n.AztecHighLevelEncoder=zt,n.AztecPoint=Sn,n.BarcodeFormat=Re,n.Binarizer=U,n.BinaryBitmap=T,n.BitArray=L,n.BitMatrix=Je,n.BitSource=bl,n.BrowserAztecCodeReader=Ed,n.BrowserBarcodeReader=ki,n.BrowserCodeReader=Wn,n.BrowserDatamatrixCodeReader=lc,n.BrowserMultiFormatReader=mc,n.BrowserPDF417Reader=xc,n.BrowserQRCodeReader=yr,n.BrowserQRCodeSvgWriter=xi,n.CharacterSetECI=te,n.ChecksumException=P,n.Code128Reader=ve,n.Code39Reader=Ot,n.DataMatrixDecodedBitStreamParser=Pr,n.DataMatrixReader=Kr,n.DecodeHintType=G,n.DecoderResult=as,n.DefaultGridSampler=rc,n.DetectorResult=ls,n.EAN13Reader=Dr,n.EncodeHintType=tn,n.Exception=x,n.FormatException=H,n.GenericGF=at,n.GenericGFPoly=lt,n.GlobalHistogramBinarizer=gt,n.GridSampler=$o,n.GridSamplerInstance=fi,n.HTMLCanvasElementLuminanceSource=De,n.HybridBinarizer=be,n.ITFReader=yt,n.IllegalArgumentException=C,n.IllegalStateException=gr,n.InvertedLuminanceSource=Ce,n.LuminanceSource=ge,n.MathUtils=it,n.MultiFormatOneDReader=qr,n.MultiFormatReader=Nl,n.MultiFormatWriter=wc,n.NotFoundException=re,n.OneDReader=Vt,n.PDF417DecodedBitStreamParser=J,n.PDF417DecoderErrorCorrection=_l,n.PDF417Reader=pn,n.PDF417ResultMetadata=gc,n.PerspectiveTransform=rr,n.PlanarYUVLuminanceSource=wr,n.QRCodeByteMatrix=ms,n.QRCodeDataMask=qn,n.QRCodeDecodedBitStreamParser=It,n.QRCodeDecoderErrorCorrectionLevel=vt,n.QRCodeDecoderFormatInformation=hn,n.QRCodeEncoder=bt,n.QRCodeEncoderQRCode=mi,n.QRCodeMaskUtil=Pt,n.QRCodeMatrixUtil=ke,n.QRCodeMode=Me,n.QRCodeReader=Yr,n.QRCodeVersion=Oe,n.QRCodeWriter=yi,n.RGBLuminanceSource=la,n.RSS14Reader=At,n.RSSExpandedReader=ae,n.ReaderException=oa,n.ReedSolomonDecoder=nr,n.ReedSolomonEncoder=Ee,n.ReedSolomonException=$e,n.Result=Rt,n.ResultMetadataType=ze,n.ResultPoint=Ie,n.StringUtils=pe,n.UnsupportedOperationException=oe,n.VideoInputDevice=Ge,n.WhiteRectangleDetector=bn,n.WriterException=mt,n.ZXingArrays=S,n.ZXingCharset=Rl,n.ZXingInteger=N,n.ZXingStandardCharsets=xs,n.ZXingStringBuilder=Ve,n.ZXingStringEncoding=Te,n.ZXingSystem=I,n.createAbstractExpandedDecoder=Cl,Object.defineProperty(n,"__esModule",{value:!0})})})(t1,t1.exports);var Lt=t1.exports;const zI=r1(Lt),HI=eE({__proto__:null,default:zI},[Lt]);var K2=function(){function e(t,n,s){if(this.formatMap=new Map([[Se.QR_CODE,Lt.BarcodeFormat.QR_CODE],[Se.AZTEC,Lt.BarcodeFormat.AZTEC],[Se.CODABAR,Lt.BarcodeFormat.CODABAR],[Se.CODE_39,Lt.BarcodeFormat.CODE_39],[Se.CODE_93,Lt.BarcodeFormat.CODE_93],[Se.CODE_128,Lt.BarcodeFormat.CODE_128],[Se.DATA_MATRIX,Lt.BarcodeFormat.DATA_MATRIX],[Se.MAXICODE,Lt.BarcodeFormat.MAXICODE],[Se.ITF,Lt.BarcodeFormat.ITF],[Se.EAN_13,Lt.BarcodeFormat.EAN_13],[Se.EAN_8,Lt.BarcodeFormat.EAN_8],[Se.PDF_417,Lt.BarcodeFormat.PDF_417],[Se.RSS_14,Lt.BarcodeFormat.RSS_14],[Se.RSS_EXPANDED,Lt.BarcodeFormat.RSS_EXPANDED],[Se.UPC_A,Lt.BarcodeFormat.UPC_A],[Se.UPC_E,Lt.BarcodeFormat.UPC_E],[Se.UPC_EAN_EXTENSION,Lt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!HI)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=s;var a=this.createZXingFormats(t),c=new Map;c.set(Lt.DecodeHintType.POSSIBLE_FORMATS,a),c.set(Lt.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(s,a){try{s(n.decode(t))}catch(c){a(c)}})},e.prototype.decode=function(t){var n=new Lt.MultiFormatReader(this.verbose,this.hints),s=new Lt.HTMLCanvasElementLuminanceSource(t),a=new Lt.BinaryBitmap(new Lt.HybridBinarizer(s)),c=n.decode(a);return{text:c.text,format:qv.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,a){t.set(n,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],s=0,a=t;s<a.length;s++){var c=a[s];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),WI=function(e,t,n,s){function a(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function g(E){try{x(s.next(E))}catch(C){d(C)}}function y(E){try{x(s.throw(E))}catch(C){d(C)}}function x(E){E.done?c(E.value):a(E.value).then(g,y)}x((s=s.apply(e,t||[])).next())})},GI=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(E){return y([x,E])}}function y(x){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(s=1,a&&(c=x[0]&2?a.return:x[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,x[1])).done)return c;switch(a=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,a=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(x[0]===6&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],a=0}finally{s=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Y2=function(){function e(t,n,s){if(this.formatMap=new Map([[Se.QR_CODE,"qr_code"],[Se.AZTEC,"aztec"],[Se.CODABAR,"codabar"],[Se.CODE_39,"code_39"],[Se.CODE_93,"code_93"],[Se.CODE_128,"code_128"],[Se.DATA_MATRIX,"data_matrix"],[Se.ITF,"itf"],[Se.EAN_13,"ean_13"],[Se.EAN_8,"ean_8"],[Se.PDF_417,"pdf417"],[Se.UPC_A,"upc_a"],[Se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=s;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return WI(this,void 0,void 0,function(){var n,s;return GI(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(n),[2,{text:s.rawValue,format:qv.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,s=0,a=0,c=t;a<c.length;a++){var d=c[a],g=d.boundingBox.width*d.boundingBox.height;g>s&&(s=g,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],s=0,a=t;s<a.length;s++){var c=a[s];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,a){t.set(n,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Q2=function(e,t,n,s){function a(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function g(E){try{x(s.next(E))}catch(C){d(C)}}function y(E){try{x(s.throw(E))}catch(C){d(C)}}function x(E){E.done?c(E.value):a(E.value).then(g,y)}x((s=s.apply(e,t||[])).next())})},Z2=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(E){return y([x,E])}}function y(x){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(s=1,a&&(c=x[0]&2?a.return:x[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,x[1])).done)return c;switch(a=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,a=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(x[0]===6&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],a=0}finally{s=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},XI=function(){function e(t,n,s,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,n&&Y2.isSupported()?(this.primaryDecoder=new Y2(t,s,a),this.secondaryDecoder=new K2(t,s,a)):this.primaryDecoder=new K2(t,s,a)}return e.prototype.decodeAsync=function(t){return Q2(this,void 0,void 0,function(){var n;return Z2(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Q2(this,void 0,void 0,function(){var n,s;return Z2(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(s=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,s=this.executionResults;n<s.length;n++){var a=s[n];t+=a}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Vp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Xf=function(e,t,n,s){function a(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function g(E){try{x(s.next(E))}catch(C){d(C)}}function y(E){try{x(s.throw(E))}catch(C){d(C)}}function x(E){E.done?c(E.value):a(E.value).then(g,y)}x((s=s.apply(e,t||[])).next())})},qf=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(E){return y([x,E])}}function y(x){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(s=1,a&&(c=x[0]&2?a.return:x[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,x[1])).done)return c;switch(a=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,a=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(x[0]===6&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],a=0}finally{s=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Yv=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var s={advanced:[n]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),qI=function(e){Vp(t,e);function t(n,s){return e.call(this,n,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Yv),KI=function(e){Vp(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(qI),YI=function(e){Vp(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Yv),QI=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new KI(this.track)},e.prototype.torchFeature=function(){return new YI(this.track)},e}(),ZI=function(){function e(t,n,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var s=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,s,a){return Xf(this,void 0,void 0,function(){var c,d;return qf(this,function(g){switch(g.label){case 0:return c=new e(t,n,a),s.aspectRatio?(d={aspectRatio:s.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:g.sent(),g.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,s=function(){setTimeout(t,200),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Xf(this,void 0,void 0,function(){return qf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,s){var a=t.mediaStream.getVideoTracks(),c=a.length,d=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++d,d>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new QI(this.getFirstTrackOrFail())},e}(),$I=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,s){return Xf(this,void 0,void 0,function(){return qf(this,function(a){return[2,ZI.create(t,this.mediaStream,n,s)]})})},e.create=function(t){return Xf(this,void 0,void 0,function(){var n,s;return qf(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return s=a.sent(),[2,new e(s)]}})})},e}(),$2=function(e,t,n,s){function a(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function g(E){try{x(s.next(E))}catch(C){d(C)}}function y(E){try{x(s.throw(E))}catch(C){d(C)}}function x(E){E.done?c(E.value):a(E.value).then(g,y)}x((s=s.apply(e,t||[])).next())})},J2=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(E){return y([x,E])}}function y(x){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(s=1,a&&(c=x[0]&2?a.return:x[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,x[1])).done)return c;switch(a=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,a=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(x[0]===6&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],a=0}finally{s=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},JI=function(){function e(){}return e.failIfNotSupported=function(){return $2(this,void 0,void 0,function(){return J2(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return $2(this,void 0,void 0,function(){return J2(this,function(n){return[2,$I.create(t)]})})},e}(),e5=function(e,t,n,s){function a(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function g(E){try{x(s.next(E))}catch(C){d(C)}}function y(E){try{x(s.throw(E))}catch(C){d(C)}}function x(E){E.done?c(E.value):a(E.value).then(g,y)}x((s=s.apply(e,t||[])).next())})},t5=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(E){return y([x,E])}}function y(x){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(s=1,a&&(c=x[0]&2?a.return:x[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,x[1])).done)return c;switch(a=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,a=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(x[0]===6&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],a=0}finally{s=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},n5=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Pa.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Pa.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return e5(this,void 0,void 0,function(){var t,n,s,a,c,d,g;return t5(this,function(y){switch(y.label){case 0:return t=function(x){for(var E=x.getVideoTracks(),C=0,T=E;C<T.length;C++){var P=T[C];P.enabled=!1,P.stop(),x.removeTrack(P)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=y.sent(),a=[],c=0,d=s;c<d.length;c++)g=d[c],g.kind==="videoinput"&&a.push({id:g.deviceId,label:g.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var s=function(c){for(var d=[],g=0,y=c;g<y.length;g++){var x=y[g];x.kind==="video"&&d.push({id:x.id,label:x.label})}t(d)},a=MediaStreamTrack;a.getSources(s)})},e}(),Qt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Qt||(Qt={}));var r5=function(){function e(){this.state=Qt.NOT_STARTED,this.onGoingTransactionNewState=Qt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Qt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Qt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Qt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Qt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Qt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Qt.UNKNOWN:throw"Transition from unknown is not allowed";case Qt.NOT_STARTED:this.failIfNewStateIs(t,[Qt.PAUSED]);break;case Qt.SCANNING:break;case Qt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var s=0,a=n;s<a.length;s++){var c=a[s];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),i5=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Qt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Qt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Qt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Qt.PAUSED},e}(),s5=function(){function e(){}return e.create=function(){return new i5(new r5)},e}(),o5=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Cr=function(e){o5(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(VI),a5=function(){function e(t,n){this.logger=n,this.fps=Cr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Cr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Kv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!zi(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),l5=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s;typeof n=="boolean"?this.verbose=n===!0:n&&(s=n,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new jI(this.verbose),this.qrcode=new XI(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=s5.create()}return e.prototype.start=function(t,n,s,a){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;a?d=a:d=this.verbose?this.logger.log:function(){};var g=a5.create(n,this.logger);this.clearElement();var y=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=y,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:Cr.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var C=this,T=this.stateManagerProxy.startTransition(Qt.SCANNING);return new Promise(function(P,U){var I=x?g.videoConstraints:C.createVideoConstraints(t);if(!I){T.cancel(),U("videoConstraints should be defined");return}var D={};(!x||g.aspectRatio)&&(D.aspectRatio=g.aspectRatio);var A={onRenderSurfaceReady:function(S,N){C.setupUi(S,N,g),C.isScanning=!0,C.foreverScan(g,s,d)}};JI.failIfNotSupported().then(function(S){S.create(I).then(function(N){return N.render(c.element,D,A).then(function(L){C.renderedCamera=L,T.execute(),P(null)}).catch(function(L){T.cancel(),U(L)})}).catch(function(N){T.cancel(),U(Pa.errorGettingUserMedia(N))})}).catch(function(S){T.cancel(),U(Pa.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Qt.PAUSED),this.showPausedState(),(zi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Qt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Qt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var c=document.getElementById(Cr.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),s(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,n){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(zi(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,c){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var g=d.width,y=d.height,x=document.getElementById(s.elementId),E=x.clientWidth?x.clientWidth:Cr.DEFAULT_WIDTH,C=Math.max(x.clientHeight?x.clientHeight:y,Cr.FILE_SCAN_MIN_HEIGHT),T=s.computeCanvasDrawConfig(g,y,E,C);if(n){var P=s.createCanvasElement(E,C,"qr-canvas-visible");P.style.display="inline-block",x.appendChild(P);var U=P.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=E,U.canvas.height=C,U.drawImage(d,0,0,g,y,T.x,T.y,T.width,T.height)}var I=Cr.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(d.width,T.width),A=Math.max(d.height,T.height),S=D+2*I,N=A+2*I,L=s.createCanvasElement(S,N);x.appendChild(L);var q=L.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=S,q.canvas.height=N,q.drawImage(d,0,0,g,y,I,I,D,A);try{s.qrcode.decodeRobustlyAsync(L).then(function(G){a(q2.createFromQrcodeResult(G))}).catch(c)}catch(G){c("QR code parse error, error = ".concat(G))}},d.onerror=c,d.onabort=c,d.onstalled=c,d.onsuspend=c,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return n5.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Kv.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Se.QR_CODE,Se.AZTEC,Se.CODABAR,Se.CODE_39,Se.CODE_93,Se.CODE_128,Se.DATA_MATRIX,Se.MAXICODE,Se.ITF,Se.EAN_13,Se.EAN_8,Se.PDF_417,Se.RSS_14,Se.RSS_EXPANDED,Se.UPC_A,Se.UPC_E,Se.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],a=0,c=t.formatsToSupport;a<c.length;a++){var d=c[a];FI(d)?s.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(zi(t))return!0;if(!zi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(zi(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return zi(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,s){var a=this,c=s.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(t,n,c),g=function(x){if(x<Cr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Cr.MIN_QR_BOX_SIZE,"px.")},y=function(x){return x>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};g(d.width),g(d.height),d.width=y(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return s},e.prototype.setupUi=function(t,n,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,s);var a=zi(s.qrbox)?{width:t,height:n}:s.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,n,a);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=s.isShadedBoxEnabled()&&c.height<=n,g={x:0,y:0,width:t,height:n},y=d?this.getShadedRegionBounds(t,n,c):g,x=this.createCanvasElement(y.width,y.height),E={willReadFrequently:!0},C=x.getContext("2d",E);C.canvas.width=y.width,C.canvas.height=y.height,this.element.append(x),d&&this.possiblyInsertShadingElement(this.element,t,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=C,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Pa.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,q2.createFromQrcodeResult(a)),s.possiblyUpdateShaders(!0),!0}).catch(function(a){s.possiblyUpdateShaders(!1);var c=Pa.codeParseError(a);return n(c,UI.createFrom(c)),!1})},e.prototype.foreverScan=function(t,n,s){var a=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),d=c.videoWidth/c.clientWidth,g=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*d,x=this.qrRegion.height*g,E=this.qrRegion.x*d,C=this.qrRegion.y*g;this.context.drawImage(c,E,C,y,x,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,s)},a.getTimeoutFps(t.fps))};this.scanContext(n,s).then(function(P){!P&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,s).finally(function(){T()})):T()}).catch(function(P){a.logger.logError("Error happend while scanning context",P),T()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",s="deviceId",a={user:!0,environment:!0},c="exact",d=function(U){if(U in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(U,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var y=Object.keys(t)[0];if(y!==n&&y!==s)throw"Only '".concat(n,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(y===n){var x=t.facingMode;if(typeof x=="string"){if(d(x))return{facingMode:x}}else if(typeof x=="object")if(c in x){if(d(x["".concat(c)]))return{facingMode:{exact:x["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var E=typeof x;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(c in C)return{deviceId:{exact:C["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var T=typeof C;throw"Invalid type of 'deviceId' = ".concat(T)}}}var P=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(P)},e.prototype.computeCanvasDrawConfig=function(t,n,s,a){if(t<=s&&n<=a){var c=(s-t)/2,d=(a-n)/2;return{x:c,y:d,width:t,height:n}}else{var g=t,y=n;return t>s&&(n=s/t*n,t=s),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(y)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,s,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Cr.BORDER_SHADER_MATCH_COLOR:Cr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,s){var a=t,c=n,d=document.createElement("canvas");return d.style.width="".concat(a,"px"),d.style.height="".concat(c,"px"),d.style.display="none",d.id=zi(s)?"qr-canvas":s,d},e.prototype.getShadedRegionBounds=function(t,n,s){if(s.width>t||s.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(n-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,n,s,a){if(!(n-a.width<1||s-a.height<1)){var c=document.createElement("div");c.style.position="absolute";var d=(n-a.width)/2,g=(s-a.height)/2;if(c.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(Cr.SHADED_REGION_ELEMENT_ID),n-a.width<11||s-a.height<11)this.hasBorderShaders=!1;else{var y=5,x=40;this.insertShaderBorders(c,x,y,-y,null,0,!0),this.insertShaderBorders(c,x,y,-y,null,0,!1),this.insertShaderBorders(c,x,y,null,-y,0,!0),this.insertShaderBorders(c,x,y,null,-y,0,!1),this.insertShaderBorders(c,y,x+y,-y,null,-y,!0),this.insertShaderBorders(c,y,x+y,null,-y,-y,!0),this.insertShaderBorders(c,y,x+y,-y,null,-y,!1),this.insertShaderBorders(c,y,x+y,null,-y,-y,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,n,s,a,c,d,g){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=Cr.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(n,"px"),y.style.height="".concat(s,"px"),a!==null&&(y.style.top="".concat(a,"px")),c!==null&&(y.style.bottom="".concat(c,"px")),g?y.style.left="".concat(d,"px"):y.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),t.appendChild(y)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),ex;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ex||(ex={}));const u5=()=>{const e=Sr(P=>P.setView),t=Sr(P=>P.activeCode),n=Sr(P=>P.setActiveCode),[s,a]=Ma.useState(!0),[c,d]=Ma.useState(!1),[g,y]=Ma.useState(""),x=se.useRef(null),{data:E,isLoading:C}=Hv(t),{data:T}=Xv(5);return se.useEffect(()=>{let P=!0;const I=setTimeout(async()=>{try{const D=new l5("reader");x.current=D;const A={fps:20,qrbox:(S,N)=>({width:S*.8,height:N*.7}),aspectRatio:1,formatsToSupport:[Se.EAN_13,Se.EAN_8,Se.UPC_A,Se.UPC_E]};await D.start({facingMode:"environment"},{fps:5,qrbox:(S,N)=>({width:S*.8,height:N*.7}),aspectRatio:A.aspectRatio,disableFlip:!1},S=>{if(!P)return;const N=S.trim();if(N.length<8||!/^\d+$/.test(N))return;const L=Sr.getState().activeCode,q=Date.now();if(N===L){(!x.current.lastLog||q-x.current.lastLog>2e3)&&(console.log("[Scanner] Still tracking:",N),x.current.lastLog=q);return}console.log("[Scanner] New Code Detected:",N),x.current.lastLog=q,n(N)},S=>{}),P&&a(!1)}catch(D){console.error("Scanner error",D),P&&(a(!1),e("home"))}},200);return()=>{P=!1,clearTimeout(I),x.current&&x.current.isScanning&&x.current.stop().catch(console.error)}},[e,n]),se.useEffect(()=>{if(!x.current)return;const P=x.current;try{C?(console.log("[Scanner] Pausing for fetch..."),P.pause(!0)):P.resume()}catch{}},[C]),X.jsxs("div",{className:"fixed inset-0 bg-slate-950 z-40 flex flex-col font-sans overflow-hidden text-slate-900",children:[X.jsxs("div",{className:"h-1/2 relative bg-black flex items-center justify-center overflow-hidden",children:[s&&X.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center gap-3 bg-slate-900/80 backdrop-blur-sm",children:[X.jsx("div",{className:"w-8 h-8 border-3 border-blue-500 border-t-transparent rounded-full animate-spin"}),X.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Initializing..."})]}),X.jsx("div",{id:"reader",className:"w-full h-full"}),!s&&X.jsx("div",{className:"absolute inset-0 pointer-events-none flex flex-col items-center justify-center pb-8",children:X.jsxs("div",{className:"relative w-[80%] h-[70%] border border-white/40 overflow-hidden shadow-[0_0_0_100vmax_rgba(0,0,0,0.5)]",children:[X.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-blue-400/80 shadow-[0_0_15px_rgba(56,189,248,0.8)] animate-[scan_3s_ease-in-out_infinite]"}),X.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-white"}),X.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-white"}),X.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-white"}),X.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-white"})]})})]}),X.jsxs("div",{className:"flex-1 bg-slate-50 flex flex-col relative overflow-hidden rounded-t-[32px] -mt-8 z-10 shadow-[0_-10px_40px_rgba(0,0,0,0.3)]",children:[X.jsxs("div",{className:"flex items-center justify-between px-4 py-2 shrink-0 bg-slate-50",children:[X.jsx("button",{onClick:()=>{n(null),e("home")},className:"w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 hover:bg-slate-300 active:scale-95 transition-all",children:X.jsx(Bf,{size:16})}),X.jsx("div",{className:"w-8 h-1 bg-slate-200 rounded-full"})," ",X.jsx("button",{onClick:()=>d(!c),className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${c?"bg-blue-100 text-blue-600":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:X.jsx(Hw,{size:16})})]}),X.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[c&&X.jsx("div",{className:"mb-6 mt-2.5 animate-in slide-in-from-top-2 fade-in duration-200",children:X.jsxs("form",{onSubmit:P=>{P.preventDefault(),g.trim()&&(n(g.trim()),y(""),d(!1))},className:"flex gap-2",children:[X.jsx("input",{type:"text",value:g,onChange:P=>y(P.target.value),placeholder:"Enter barcode manually...",className:"flex-1 bg-white border border-slate-200 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none shadow-sm",autoFocus:!0}),X.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 rounded-xl font-bold text-sm tracking-wide",children:"GO"})]})}),t?X.jsx(jv,{data:E,isLoading:C,code:t}):X.jsx("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm text-center mb-8",children:X.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Scan a barcode above or search manually."})}),X.jsxs("div",{className:"mt-8",children:[X.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[X.jsx(zw,{size:16,className:"text-slate-400"}),X.jsx("h3",{className:"font-bold text-slate-500 text-xs uppercase tracking-wider",children:"Recent History"})]}),X.jsx(zv,{history:T||[],onSelect:n,activeCode:t})]})]})]}),X.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes scan {
          0%, 100% { top: 10%; opacity: 0.3; }
          50% { top: 90%; opacity: 1; }
        }
        #reader video, #reader canvas {
          width: 100% !important;
          height: 100% !important;
          object-fit: cover !important;
          object-position: center !important;
        }
        #reader {
          border: none !important;
        }
        /* Hide the library's default scan region border to only show our custom one */
        #reader__scan_region, #qr-shaded-region {
          border: none !important;
          display: none !important;
        }
        #reader__dashboard {
          display: none !important;
        }
      `}})]})};class c5 extends se.Component{constructor(){super(...arguments);vc(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("Uncaught error:",n,s)}render(){var n;return this.state.hasError?this.props.fallback||X.jsxs("div",{className:"p-6 bg-red-50 text-red-900 rounded-lg m-4 border border-red-200",children:[X.jsx("h2",{className:"font-bold text-lg mb-2",children:"Something went wrong."}),X.jsx("p",{className:"text-sm font-mono bg-red-100 p-2 rounded overflow-x-auto",children:(n=this.state.error)==null?void 0:n.toString()}),X.jsx("button",{className:"mt-4 px-4 py-2 bg-red-600 text-white rounded shadow-sm font-bold text-sm",onClick:()=>window.location.reload(),children:"Reload App"})]}):this.props.children}}function f5(){const e=Sr(t=>t.currentView);return X.jsx(EI,{children:X.jsxs(c5,{children:[e==="home"&&X.jsx(BI,{}),e==="scanner"&&X.jsx(u5,{})]})})}Eh.createRoot(document.getElementById("root")).render(X.jsx(Ma.StrictMode,{children:X.jsx(f5,{})}));
