var kE=Object.defineProperty;var hg=t=>{throw TypeError(t)};var PE=(t,e,n)=>e in t?kE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xd=(t,e,n)=>PE(t,typeof e!="symbol"?e+"":e,n),Zd=(t,e,n)=>e.has(t)||hg("Cannot "+n);var B=(t,e,n)=>(Zd(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?hg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,i)=>(Zd(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),je=(t,e,n)=>(Zd(t,e,"access private method"),n);var Wc=(t,e,n,i)=>({set _(a){ge(t,e,a,n)},get _(){return B(t,e,i)}});function ME(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function N1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qx={exports:{}},wd={},$x={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=Symbol.for("react.element"),LE=Symbol.for("react.portal"),BE=Symbol.for("react.fragment"),FE=Symbol.for("react.strict_mode"),VE=Symbol.for("react.profiler"),UE=Symbol.for("react.provider"),jE=Symbol.for("react.context"),zE=Symbol.for("react.forward_ref"),WE=Symbol.for("react.suspense"),HE=Symbol.for("react.memo"),GE=Symbol.for("react.lazy"),pg=Symbol.iterator;function XE(t){return t===null||typeof t!="object"?null:(t=pg&&t[pg]||t["@@iterator"],typeof t=="function"?t:null)}var Jx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ey=Object.assign,ty={};function Ll(t,e,n){this.props=t,this.context=e,this.refs=ty,this.updater=n||Jx}Ll.prototype.isReactComponent={};Ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ny(){}ny.prototype=Ll.prototype;function O1(t,e,n){this.props=t,this.context=e,this.refs=ty,this.updater=n||Jx}var D1=O1.prototype=new ny;D1.constructor=O1;ey(D1,Ll.prototype);D1.isPureReactComponent=!0;var gg=Array.isArray,ry=Object.prototype.hasOwnProperty,k1={current:null},iy={key:!0,ref:!0,__self:!0,__source:!0};function sy(t,e,n){var i,a={},l=null,d=null;if(e!=null)for(i in e.ref!==void 0&&(d=e.ref),e.key!==void 0&&(l=""+e.key),e)ry.call(e,i)&&!iy.hasOwnProperty(i)&&(a[i]=e[i]);var p=arguments.length-2;if(p===1)a.children=n;else if(1<p){for(var y=Array(p),m=0;m<p;m++)y[m]=arguments[m+2];a.children=y}if(t&&t.defaultProps)for(i in p=t.defaultProps,p)a[i]===void 0&&(a[i]=p[i]);return{$$typeof:mc,type:t,key:l,ref:d,props:a,_owner:k1.current}}function ZE(t,e){return{$$typeof:mc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P1(t){return typeof t=="object"&&t!==null&&t.$$typeof===mc}function qE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mg=/\/+/g;function qd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qE(""+t.key):e.toString(36)}function hf(t,e,n,i,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var d=!1;if(t===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(t.$$typeof){case mc:case LE:d=!0}}if(d)return d=t,a=a(d),t=i===""?"."+qd(d,0):i,gg(a)?(n="",t!=null&&(n=t.replace(mg,"$&/")+"/"),hf(a,e,n,"",function(m){return m})):a!=null&&(P1(a)&&(a=ZE(a,n+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(mg,"$&/")+"/")+t)),e.push(a)),1;if(d=0,i=i===""?".":i+":",gg(t))for(var p=0;p<t.length;p++){l=t[p];var y=i+qd(l,p);d+=hf(l,e,n,y,a)}else if(y=XE(t),typeof y=="function")for(t=y.call(t),p=0;!(l=t.next()).done;)l=l.value,y=i+qd(l,p++),d+=hf(l,e,n,y,a);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return d}function Hc(t,e,n){if(t==null)return t;var i=[],a=0;return hf(t,i,"","",function(l){return e.call(n,l,a++)}),i}function KE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},pf={transition:null},YE={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:pf,ReactCurrentOwner:k1};function oy(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:Hc,forEach:function(t,e,n){Hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hc(t,function(){e++}),e},toArray:function(t){return Hc(t,function(e){return e})||[]},only:function(t){if(!P1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=Ll;lt.Fragment=BE;lt.Profiler=VE;lt.PureComponent=O1;lt.StrictMode=FE;lt.Suspense=WE;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YE;lt.act=oy;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=ey({},t.props),a=t.key,l=t.ref,d=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,d=k1.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var p=t.type.defaultProps;for(y in e)ry.call(e,y)&&!iy.hasOwnProperty(y)&&(i[y]=e[y]===void 0&&p!==void 0?p[y]:e[y])}var y=arguments.length-2;if(y===1)i.children=n;else if(1<y){p=Array(y);for(var m=0;m<y;m++)p[m]=arguments[m+2];i.children=p}return{$$typeof:mc,type:t.type,key:a,ref:l,props:i,_owner:d}};lt.createContext=function(t){return t={$$typeof:jE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UE,_context:t},t.Consumer=t};lt.createElement=sy;lt.createFactory=function(t){var e=sy.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:zE,render:t}};lt.isValidElement=P1;lt.lazy=function(t){return{$$typeof:GE,_payload:{_status:-1,_result:t},_init:KE}};lt.memo=function(t,e){return{$$typeof:HE,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=pf.transition;pf.transition={};try{t()}finally{pf.transition=e}};lt.unstable_act=oy;lt.useCallback=function(t,e){return ur.current.useCallback(t,e)};lt.useContext=function(t){return ur.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};lt.useEffect=function(t,e){return ur.current.useEffect(t,e)};lt.useId=function(){return ur.current.useId()};lt.useImperativeHandle=function(t,e,n){return ur.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return ur.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return ur.current.useReducer(t,e,n)};lt.useRef=function(t){return ur.current.useRef(t)};lt.useState=function(t){return ur.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return ur.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return ur.current.useTransition()};lt.version="18.3.1";$x.exports=lt;var we=$x.exports;const Au=N1(we);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE=we,$E=Symbol.for("react.element"),JE=Symbol.for("react.fragment"),eC=Object.prototype.hasOwnProperty,tC=QE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nC={key:!0,ref:!0,__self:!0,__source:!0};function ay(t,e,n){var i,a={},l=null,d=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(d=e.ref);for(i in e)eC.call(e,i)&&!nC.hasOwnProperty(i)&&(a[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)a[i]===void 0&&(a[i]=e[i]);return{$$typeof:$E,type:t,key:l,ref:d,props:a,_owner:tC.current}}wd.Fragment=JE;wd.jsx=ay;wd.jsxs=ay;Qx.exports=wd;var Y=Qx.exports,Gh={},ly={exports:{}},Fr={},uy={exports:{}},cy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(he,Ae){var Le=he.length;he.push(Ae);e:for(;0<Le;){var Qe=Le-1>>>1,at=he[Qe];if(0<a(at,Ae))he[Qe]=Ae,he[Le]=at,Le=Qe;else break e}}function n(he){return he.length===0?null:he[0]}function i(he){if(he.length===0)return null;var Ae=he[0],Le=he.pop();if(Le!==Ae){he[0]=Le;e:for(var Qe=0,at=he.length,Jn=at>>>1;Qe<Jn;){var Vt=2*(Qe+1)-1,yi=he[Vt],ke=Vt+1,Be=he[ke];if(0>a(yi,Le))ke<at&&0>a(Be,yi)?(he[Qe]=Be,he[ke]=Le,Qe=ke):(he[Qe]=yi,he[Vt]=Le,Qe=Vt);else if(ke<at&&0>a(Be,Le))he[Qe]=Be,he[ke]=Le,Qe=ke;else break e}}return Ae}function a(he,Ae){var Le=he.sortIndex-Ae.sortIndex;return Le!==0?Le:he.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var y=[],m=[],E=1,A=null,O=3,L=!1,j=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(he){for(var Ae=n(m);Ae!==null;){if(Ae.callback===null)i(m);else if(Ae.startTime<=he)i(m),Ae.sortIndex=Ae.expirationTime,e(y,Ae);else break;Ae=n(m)}}function M(he){if(R=!1,N(he),!j)if(n(y)!==null)j=!0,_t(X);else{var Ae=n(m);Ae!==null&&be(M,Ae.startTime-he)}}function X(he,Ae){j=!1,R&&(R=!1,_($),$=-1),L=!0;var Le=O;try{for(N(Ae),A=n(y);A!==null&&(!(A.expirationTime>Ae)||he&&!De());){var Qe=A.callback;if(typeof Qe=="function"){A.callback=null,O=A.priorityLevel;var at=Qe(A.expirationTime<=Ae);Ae=t.unstable_now(),typeof at=="function"?A.callback=at:A===n(y)&&i(y),N(Ae)}else i(y);A=n(y)}if(A!==null)var Jn=!0;else{var Vt=n(m);Vt!==null&&be(M,Vt.startTime-Ae),Jn=!1}return Jn}finally{A=null,O=Le,L=!1}}var G=!1,z=null,$=-1,ne=5,ue=-1;function De(){return!(t.unstable_now()-ue<ne)}function xe(){if(z!==null){var he=t.unstable_now();ue=he;var Ae=!0;try{Ae=z(!0,he)}finally{Ae?Xe():(G=!1,z=null)}}else G=!1}var Xe;if(typeof b=="function")Xe=function(){b(xe)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,re=ot.port2;ot.port1.onmessage=xe,Xe=function(){re.postMessage(null)}}else Xe=function(){k(xe,0)};function _t(he){z=he,G||(G=!0,Xe())}function be(he,Ae){$=k(function(){he(t.unstable_now())},Ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(he){he.callback=null},t.unstable_continueExecution=function(){j||L||(j=!0,_t(X))},t.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<he?Math.floor(1e3/he):5},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return n(y)},t.unstable_next=function(he){switch(O){case 1:case 2:case 3:var Ae=3;break;default:Ae=O}var Le=O;O=Ae;try{return he()}finally{O=Le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(he,Ae){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var Le=O;O=he;try{return Ae()}finally{O=Le}},t.unstable_scheduleCallback=function(he,Ae,Le){var Qe=t.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?Qe+Le:Qe):Le=Qe,he){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=Le+at,he={id:E++,callback:Ae,priorityLevel:he,startTime:Le,expirationTime:at,sortIndex:-1},Le>Qe?(he.sortIndex=Le,e(m,he),n(y)===null&&he===n(m)&&(R?(_($),$=-1):R=!0,be(M,Le-Qe))):(he.sortIndex=at,e(y,he),j||L||(j=!0,_t(X))),he},t.unstable_shouldYield=De,t.unstable_wrapCallback=function(he){var Ae=O;return function(){var Le=O;O=Ae;try{return he.apply(this,arguments)}finally{O=Le}}}})(cy);uy.exports=cy;var rC=uy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC=we,Lr=rC;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fy=new Set,Bu={};function da(t,e){vl(t,e),vl(t+"Capture",e)}function vl(t,e){for(Bu[t]=e,t=0;t<e.length;t++)fy.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=Object.prototype.hasOwnProperty,sC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xg={},yg={};function oC(t){return Xh.call(yg,t)?!0:Xh.call(xg,t)?!1:sC.test(t)?yg[t]=!0:(xg[t]=!0,!1)}function aC(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lC(t,e,n,i){if(e===null||typeof e>"u"||aC(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cr(t,e,n,i,a,l,d){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=d}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gn[t]=new cr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gn[e]=new cr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gn[t]=new cr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gn[t]=new cr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gn[t]=new cr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gn[t]=new cr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gn[t]=new cr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gn[t]=new cr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gn[t]=new cr(t,5,!1,t.toLowerCase(),null,!1,!1)});var M1=/[\-:]([a-z])/g;function L1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(M1,L1);Gn[e]=new cr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(M1,L1);Gn[e]=new cr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(M1,L1);Gn[e]=new cr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gn[t]=new cr(t,1,!1,t.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gn[t]=new cr(t,1,!1,t.toLowerCase(),null,!0,!0)});function B1(t,e,n,i){var a=Gn.hasOwnProperty(e)?Gn[e]:null;(a!==null?a.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lC(e,n,a,i)&&(n=null),i||a===null?oC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,i=a.attributeNamespace,n===null?t.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ys=iC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),F1=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),dy=Symbol.for("react.provider"),hy=Symbol.for("react.context"),V1=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),Kh=Symbol.for("react.suspense_list"),U1=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),py=Symbol.for("react.offscreen"),wg=Symbol.iterator;function nu(t){return t===null||typeof t!="object"?null:(t=wg&&t[wg]||t["@@iterator"],typeof t=="function"?t:null)}var tn=Object.assign,Kd;function pu(t){if(Kd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kd=e&&e[1]||""}return`
`+Kd+t}var Yd=!1;function Qd(t,e){if(!t||Yd)return"";Yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var i=m}Reflect.construct(t,[],e)}else{try{e.call()}catch(m){i=m}t.call(e.prototype)}else{try{throw Error()}catch(m){i=m}t()}}catch(m){if(m&&i&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),l=i.stack.split(`
`),d=a.length-1,p=l.length-1;1<=d&&0<=p&&a[d]!==l[p];)p--;for(;1<=d&&0<=p;d--,p--)if(a[d]!==l[p]){if(d!==1||p!==1)do if(d--,p--,0>p||a[d]!==l[p]){var y=`
`+a[d].replace(" at new "," at ");return t.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",t.displayName)),y}while(1<=d&&0<=p);break}}}finally{Yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pu(t):""}function uC(t){switch(t.tag){case 5:return pu(t.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return t=Qd(t.type,!1),t;case 11:return t=Qd(t.type.render,!1),t;case 1:return t=Qd(t.type,!0),t;default:return""}}function Yh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ma:return"Fragment";case Pa:return"Portal";case Zh:return"Profiler";case F1:return"StrictMode";case qh:return"Suspense";case Kh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hy:return(t.displayName||"Context")+".Consumer";case dy:return(t._context.displayName||"Context")+".Provider";case V1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U1:return e=t.displayName||null,e!==null?e:Yh(t.type)||"Memo";case Ls:e=t._payload,t=t._init;try{return Yh(t(e))}catch{}}return null}function cC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yh(e);case 8:return e===F1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fC(t){var e=gy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(d){i=""+d,l.call(this,d)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xc(t){t._valueTracker||(t._valueTracker=fC(t))}function my(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=gy(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Of(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qh(t,e){var n=e.checked;return tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vg(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xy(t,e){e=e.checked,e!=null&&B1(t,"checked",e,!1)}function $h(t,e){xy(t,e);var n=lo(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jh(t,e.type,lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Eg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jh(t,e,n){(e!=="number"||Of(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gu=Array.isArray;function $a(t,e,n,i){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&i&&(t[n].defaultSelected=!0)}else{for(n=""+lo(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,i&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function e0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return tn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(gu(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lo(n)}}function yy(t,e){var n=lo(e.value),i=lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Ag(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zc,vy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,a){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dC=["Webkit","ms","Moz","O"];Object.keys(_u).forEach(function(t){dC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_u[e]=_u[t]})});function Ey(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_u.hasOwnProperty(t)&&_u[t]?(""+e).trim():e+"px"}function Cy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=Ey(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,a):t[n]=a}}var hC=tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n0(t,e){if(e){if(hC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function r0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i0=null;function j1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var s0=null,Ja=null,el=null;function _g(t){if(t=wc(t)){if(typeof s0!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=_d(e),s0(t.stateNode,t.type,e))}}function Ay(t){Ja?el?el.push(t):el=[t]:Ja=t}function _y(){if(Ja){var t=Ja,e=el;if(el=Ja=null,_g(t),e)for(t=0;t<e.length;t++)_g(e[t])}}function by(t,e){return t(e)}function Sy(){}var $d=!1;function Ty(t,e,n){if($d)return t(e,n);$d=!0;try{return by(t,e,n)}finally{$d=!1,(Ja!==null||el!==null)&&(Sy(),_y())}}function Vu(t,e){var n=t.stateNode;if(n===null)return null;var i=_d(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var o0=!1;if(fs)try{var ru={};Object.defineProperty(ru,"passive",{get:function(){o0=!0}}),window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{o0=!1}function pC(t,e,n,i,a,l,d,p,y){var m=Array.prototype.slice.call(arguments,3);try{e.apply(n,m)}catch(E){this.onError(E)}}var bu=!1,Df=null,kf=!1,a0=null,gC={onError:function(t){bu=!0,Df=t}};function mC(t,e,n,i,a,l,d,p,y){bu=!1,Df=null,pC.apply(gC,arguments)}function xC(t,e,n,i,a,l,d,p,y){if(mC.apply(this,arguments),bu){if(bu){var m=Df;bu=!1,Df=null}else throw Error(fe(198));kf||(kf=!0,a0=m)}}function ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Iy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bg(t){if(ha(t)!==t)throw Error(fe(188))}function yC(t){var e=t.alternate;if(!e){if(e=ha(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,i=e;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return bg(a),t;if(l===i)return bg(a),e;l=l.sibling}throw Error(fe(188))}if(n.return!==i.return)n=a,i=l;else{for(var d=!1,p=a.child;p;){if(p===n){d=!0,n=a,i=l;break}if(p===i){d=!0,i=a,n=l;break}p=p.sibling}if(!d){for(p=l.child;p;){if(p===n){d=!0,n=l,i=a;break}if(p===i){d=!0,i=l,n=a;break}p=p.sibling}if(!d)throw Error(fe(189))}}if(n.alternate!==i)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function Ry(t){return t=yC(t),t!==null?Ny(t):null}function Ny(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ny(t);if(e!==null)return e;t=t.sibling}return null}var Oy=Lr.unstable_scheduleCallback,Sg=Lr.unstable_cancelCallback,wC=Lr.unstable_shouldYield,vC=Lr.unstable_requestPaint,pn=Lr.unstable_now,EC=Lr.unstable_getCurrentPriorityLevel,z1=Lr.unstable_ImmediatePriority,Dy=Lr.unstable_UserBlockingPriority,Pf=Lr.unstable_NormalPriority,CC=Lr.unstable_LowPriority,ky=Lr.unstable_IdlePriority,vd=null,Bi=null;function AC(t){if(Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(vd,t,void 0,(t.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:SC,_C=Math.log,bC=Math.LN2;function SC(t){return t>>>=0,t===0?32:31-(_C(t)/bC|0)|0}var qc=64,Kc=4194304;function mu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mf(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,a=t.suspendedLanes,l=t.pingedLanes,d=n&268435455;if(d!==0){var p=d&~a;p!==0?i=mu(p):(l&=d,l!==0&&(i=mu(l)))}else d=n&~a,d!==0?i=mu(d):l!==0&&(i=mu(l));if(i===0)return 0;if(e!==0&&e!==i&&!(e&a)&&(a=i&-i,l=e&-e,a>=l||a===16&&(l&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-gi(e),a=1<<n,i|=t[n],e&=~a;return i}function TC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IC(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var d=31-gi(l),p=1<<d,y=a[d];y===-1?(!(p&n)||p&i)&&(a[d]=TC(p,e)):y<=e&&(t.expiredLanes|=p),l&=~p}}function l0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Py(){var t=qc;return qc<<=1,!(qc&4194240)&&(qc=64),t}function Jd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gi(e),t[e]=n}function RC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-gi(n),l=1<<a;e[a]=0,i[a]=-1,t[a]=-1,n&=~l}}function W1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-gi(n),a=1<<i;a&e|t[i]&e&&(t[i]|=e),n&=~a}}var Ot=0;function My(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ly,H1,By,Fy,Vy,u0=!1,Yc=[],$s=null,Js=null,eo=null,Uu=new Map,ju=new Map,Vs=[],NC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tg(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Uu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(e.pointerId)}}function iu(t,e,n,i,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[a]},e!==null&&(e=wc(e),e!==null&&H1(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function OC(t,e,n,i,a){switch(e){case"focusin":return $s=iu($s,t,e,n,i,a),!0;case"dragenter":return Js=iu(Js,t,e,n,i,a),!0;case"mouseover":return eo=iu(eo,t,e,n,i,a),!0;case"pointerover":var l=a.pointerId;return Uu.set(l,iu(Uu.get(l)||null,t,e,n,i,a)),!0;case"gotpointercapture":return l=a.pointerId,ju.set(l,iu(ju.get(l)||null,t,e,n,i,a)),!0}return!1}function Uy(t){var e=Po(t.target);if(e!==null){var n=ha(e);if(n!==null){if(e=n.tag,e===13){if(e=Iy(n),e!==null){t.blockedOn=e,Vy(t.priority,function(){By(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=c0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);i0=i,n.target.dispatchEvent(i),i0=null}else return e=wc(n),e!==null&&H1(e),t.blockedOn=n,!1;e.shift()}return!0}function Ig(t,e,n){gf(t)&&n.delete(e)}function DC(){u0=!1,$s!==null&&gf($s)&&($s=null),Js!==null&&gf(Js)&&(Js=null),eo!==null&&gf(eo)&&(eo=null),Uu.forEach(Ig),ju.forEach(Ig)}function su(t,e){t.blockedOn===e&&(t.blockedOn=null,u0||(u0=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,DC)))}function zu(t){function e(a){return su(a,t)}if(0<Yc.length){su(Yc[0],t);for(var n=1;n<Yc.length;n++){var i=Yc[n];i.blockedOn===t&&(i.blockedOn=null)}}for($s!==null&&su($s,t),Js!==null&&su(Js,t),eo!==null&&su(eo,t),Uu.forEach(e),ju.forEach(e),n=0;n<Vs.length;n++)i=Vs[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Vs.length&&(n=Vs[0],n.blockedOn===null);)Uy(n),n.blockedOn===null&&Vs.shift()}var tl=ys.ReactCurrentBatchConfig,Lf=!0;function kC(t,e,n,i){var a=Ot,l=tl.transition;tl.transition=null;try{Ot=1,G1(t,e,n,i)}finally{Ot=a,tl.transition=l}}function PC(t,e,n,i){var a=Ot,l=tl.transition;tl.transition=null;try{Ot=4,G1(t,e,n,i)}finally{Ot=a,tl.transition=l}}function G1(t,e,n,i){if(Lf){var a=c0(t,e,n,i);if(a===null)uh(t,e,i,Bf,n),Tg(t,i);else if(OC(a,t,e,n,i))i.stopPropagation();else if(Tg(t,i),e&4&&-1<NC.indexOf(t)){for(;a!==null;){var l=wc(a);if(l!==null&&Ly(l),l=c0(t,e,n,i),l===null&&uh(t,e,i,Bf,n),l===a)break;a=l}a!==null&&i.stopPropagation()}else uh(t,e,i,null,n)}}var Bf=null;function c0(t,e,n,i){if(Bf=null,t=j1(i),t=Po(t),t!==null)if(e=ha(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Iy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bf=t,null}function jy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EC()){case z1:return 1;case Dy:return 4;case Pf:case CC:return 16;case ky:return 536870912;default:return 16}default:return 16}}var Ys=null,X1=null,mf=null;function zy(){if(mf)return mf;var t,e=X1,n=e.length,i,a="value"in Ys?Ys.value:Ys.textContent,l=a.length;for(t=0;t<n&&e[t]===a[t];t++);var d=n-t;for(i=1;i<=d&&e[n-i]===a[l-i];i++);return mf=a.slice(t,1<i?1-i:void 0)}function xf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qc(){return!0}function Rg(){return!1}function Vr(t){function e(n,i,a,l,d){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(n=t[p],this[p]=n?n(l):l[p]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Qc:Rg,this.isPropagationStopped=Rg,this}return tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),e}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z1=Vr(Bl),yc=tn({},Bl,{view:0,detail:0}),MC=Vr(yc),eh,th,ou,Ed=tn({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ou&&(ou&&t.type==="mousemove"?(eh=t.screenX-ou.screenX,th=t.screenY-ou.screenY):th=eh=0,ou=t),eh)},movementY:function(t){return"movementY"in t?t.movementY:th}}),Ng=Vr(Ed),LC=tn({},Ed,{dataTransfer:0}),BC=Vr(LC),FC=tn({},yc,{relatedTarget:0}),nh=Vr(FC),VC=tn({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),UC=Vr(VC),jC=tn({},Bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zC=Vr(jC),WC=tn({},Bl,{data:0}),Og=Vr(WC),HC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XC[t])?!!e[t]:!1}function q1(){return ZC}var qC=tn({},yc,{key:function(t){if(t.key){var e=HC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q1,charCode:function(t){return t.type==="keypress"?xf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KC=Vr(qC),YC=tn({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=Vr(YC),QC=tn({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q1}),$C=Vr(QC),JC=tn({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),eA=Vr(JC),tA=tn({},Ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nA=Vr(tA),rA=[9,13,27,32],K1=fs&&"CompositionEvent"in window,Su=null;fs&&"documentMode"in document&&(Su=document.documentMode);var iA=fs&&"TextEvent"in window&&!Su,Wy=fs&&(!K1||Su&&8<Su&&11>=Su),kg=" ",Pg=!1;function Hy(t,e){switch(t){case"keyup":return rA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function sA(t,e){switch(t){case"compositionend":return Gy(e);case"keypress":return e.which!==32?null:(Pg=!0,kg);case"textInput":return t=e.data,t===kg&&Pg?null:t;default:return null}}function oA(t,e){if(La)return t==="compositionend"||!K1&&Hy(t,e)?(t=zy(),mf=X1=Ys=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wy&&e.locale!=="ko"?null:e.data;default:return null}}var aA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aA[t.type]:e==="textarea"}function Xy(t,e,n,i){Ay(i),e=Ff(e,"onChange"),0<e.length&&(n=new Z1("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Tu=null,Wu=null;function lA(t){rw(t,0)}function Cd(t){var e=Va(t);if(my(e))return t}function uA(t,e){if(t==="change")return e}var Zy=!1;if(fs){var rh;if(fs){var ih="oninput"in document;if(!ih){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),ih=typeof Lg.oninput=="function"}rh=ih}else rh=!1;Zy=rh&&(!document.documentMode||9<document.documentMode)}function Bg(){Tu&&(Tu.detachEvent("onpropertychange",qy),Wu=Tu=null)}function qy(t){if(t.propertyName==="value"&&Cd(Wu)){var e=[];Xy(e,Wu,t,j1(t)),Ty(lA,e)}}function cA(t,e,n){t==="focusin"?(Bg(),Tu=e,Wu=n,Tu.attachEvent("onpropertychange",qy)):t==="focusout"&&Bg()}function fA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cd(Wu)}function dA(t,e){if(t==="click")return Cd(e)}function hA(t,e){if(t==="input"||t==="change")return Cd(e)}function pA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xi=typeof Object.is=="function"?Object.is:pA;function Hu(t,e){if(xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Xh.call(e,a)||!xi(t[a],e[a]))return!1}return!0}function Fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,e){var n=Fg(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fg(n)}}function Ky(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ky(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yy(){for(var t=window,e=Of();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Of(t.document)}return e}function Y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gA(t){var e=Yy(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ky(n.ownerDocument.documentElement,n)){if(i!==null&&Y1(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,l=Math.min(i.start,a);i=i.end===void 0?l:Math.min(i.end,a),!t.extend&&l>i&&(a=i,i=l,l=a),a=Vg(n,l);var d=Vg(n,i);a&&d&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==d.node||t.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),l>i?(t.addRange(e),t.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mA=fs&&"documentMode"in document&&11>=document.documentMode,Ba=null,f0=null,Iu=null,d0=!1;function Ug(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d0||Ba==null||Ba!==Of(i)||(i=Ba,"selectionStart"in i&&Y1(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Iu&&Hu(Iu,i)||(Iu=i,i=Ff(f0,"onSelect"),0<i.length&&(e=new Z1("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ba)))}function $c(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fa={animationend:$c("Animation","AnimationEnd"),animationiteration:$c("Animation","AnimationIteration"),animationstart:$c("Animation","AnimationStart"),transitionend:$c("Transition","TransitionEnd")},sh={},Qy={};fs&&(Qy=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Ad(t){if(sh[t])return sh[t];if(!Fa[t])return t;var e=Fa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Qy)return sh[t]=e[n];return t}var $y=Ad("animationend"),Jy=Ad("animationiteration"),ew=Ad("animationstart"),tw=Ad("transitionend"),nw=new Map,jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(t,e){nw.set(t,e),da(e,[t])}for(var oh=0;oh<jg.length;oh++){var ah=jg[oh],xA=ah.toLowerCase(),yA=ah[0].toUpperCase()+ah.slice(1);po(xA,"on"+yA)}po($y,"onAnimationEnd");po(Jy,"onAnimationIteration");po(ew,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(tw,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wA=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function zg(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,xC(i,e,void 0,t),t.currentTarget=null}function rw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],a=i.event;i=i.listeners;e:{var l=void 0;if(e)for(var d=i.length-1;0<=d;d--){var p=i[d],y=p.instance,m=p.currentTarget;if(p=p.listener,y!==l&&a.isPropagationStopped())break e;zg(a,p,m),l=y}else for(d=0;d<i.length;d++){if(p=i[d],y=p.instance,m=p.currentTarget,p=p.listener,y!==l&&a.isPropagationStopped())break e;zg(a,p,m),l=y}}}if(kf)throw t=a0,kf=!1,a0=null,t}function Ht(t,e){var n=e[x0];n===void 0&&(n=e[x0]=new Set);var i=t+"__bubble";n.has(i)||(iw(e,t,2,!1),n.add(i))}function lh(t,e,n){var i=0;e&&(i|=4),iw(n,t,i,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Gu(t){if(!t[Jc]){t[Jc]=!0,fy.forEach(function(n){n!=="selectionchange"&&(wA.has(n)||lh(n,!1,t),lh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,lh("selectionchange",!1,e))}}function iw(t,e,n,i){switch(jy(e)){case 1:var a=kC;break;case 4:a=PC;break;default:a=G1}n=a.bind(null,e,n,t),a=void 0,!o0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),i?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function uh(t,e,n,i,a){var l=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var p=i.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(d===4)for(d=i.return;d!==null;){var y=d.tag;if((y===3||y===4)&&(y=d.stateNode.containerInfo,y===a||y.nodeType===8&&y.parentNode===a))return;d=d.return}for(;p!==null;){if(d=Po(p),d===null)return;if(y=d.tag,y===5||y===6){i=l=d;continue e}p=p.parentNode}}i=i.return}Ty(function(){var m=l,E=j1(n),A=[];e:{var O=nw.get(t);if(O!==void 0){var L=Z1,j=t;switch(t){case"keypress":if(xf(n)===0)break e;case"keydown":case"keyup":L=KC;break;case"focusin":j="focus",L=nh;break;case"focusout":j="blur",L=nh;break;case"beforeblur":case"afterblur":L=nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=BC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=$C;break;case $y:case Jy:case ew:L=UC;break;case tw:L=eA;break;case"scroll":L=MC;break;case"wheel":L=nA;break;case"copy":case"cut":case"paste":L=zC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Dg}var R=(e&4)!==0,k=!R&&t==="scroll",_=R?O!==null?O+"Capture":null:O;R=[];for(var b=m,N;b!==null;){N=b;var M=N.stateNode;if(N.tag===5&&M!==null&&(N=M,_!==null&&(M=Vu(b,_),M!=null&&R.push(Xu(b,M,N)))),k)break;b=b.return}0<R.length&&(O=new L(O,j,null,n,E),A.push({event:O,listeners:R}))}}if(!(e&7)){e:{if(O=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",O&&n!==i0&&(j=n.relatedTarget||n.fromElement)&&(Po(j)||j[ds]))break e;if((L||O)&&(O=E.window===E?E:(O=E.ownerDocument)?O.defaultView||O.parentWindow:window,L?(j=n.relatedTarget||n.toElement,L=m,j=j?Po(j):null,j!==null&&(k=ha(j),j!==k||j.tag!==5&&j.tag!==6)&&(j=null)):(L=null,j=m),L!==j)){if(R=Ng,M="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(R=Dg,M="onPointerLeave",_="onPointerEnter",b="pointer"),k=L==null?O:Va(L),N=j==null?O:Va(j),O=new R(M,b+"leave",L,n,E),O.target=k,O.relatedTarget=N,M=null,Po(E)===m&&(R=new R(_,b+"enter",j,n,E),R.target=N,R.relatedTarget=k,M=R),k=M,L&&j)t:{for(R=L,_=j,b=0,N=R;N;N=Ia(N))b++;for(N=0,M=_;M;M=Ia(M))N++;for(;0<b-N;)R=Ia(R),b--;for(;0<N-b;)_=Ia(_),N--;for(;b--;){if(R===_||_!==null&&R===_.alternate)break t;R=Ia(R),_=Ia(_)}R=null}else R=null;L!==null&&Wg(A,O,L,R,!1),j!==null&&k!==null&&Wg(A,k,j,R,!0)}}e:{if(O=m?Va(m):window,L=O.nodeName&&O.nodeName.toLowerCase(),L==="select"||L==="input"&&O.type==="file")var X=uA;else if(Mg(O))if(Zy)X=hA;else{X=fA;var G=cA}else(L=O.nodeName)&&L.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(X=dA);if(X&&(X=X(t,m))){Xy(A,X,n,E);break e}G&&G(t,O,m),t==="focusout"&&(G=O._wrapperState)&&G.controlled&&O.type==="number"&&Jh(O,"number",O.value)}switch(G=m?Va(m):window,t){case"focusin":(Mg(G)||G.contentEditable==="true")&&(Ba=G,f0=m,Iu=null);break;case"focusout":Iu=f0=Ba=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,Ug(A,n,E);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":Ug(A,n,E)}var z;if(K1)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else La?Hy(t,n)&&($="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Wy&&n.locale!=="ko"&&(La||$!=="onCompositionStart"?$==="onCompositionEnd"&&La&&(z=zy()):(Ys=E,X1="value"in Ys?Ys.value:Ys.textContent,La=!0)),G=Ff(m,$),0<G.length&&($=new Og($,t,null,n,E),A.push({event:$,listeners:G}),z?$.data=z:(z=Gy(n),z!==null&&($.data=z)))),(z=iA?sA(t,n):oA(t,n))&&(m=Ff(m,"onBeforeInput"),0<m.length&&(E=new Og("onBeforeInput","beforeinput",null,n,E),A.push({event:E,listeners:m}),E.data=z))}rw(A,e)})}function Xu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ff(t,e){for(var n=e+"Capture",i=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Vu(t,n),l!=null&&i.unshift(Xu(t,l,a)),l=Vu(t,e),l!=null&&i.push(Xu(t,l,a))),t=t.return}return i}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wg(t,e,n,i,a){for(var l=e._reactName,d=[];n!==null&&n!==i;){var p=n,y=p.alternate,m=p.stateNode;if(y!==null&&y===i)break;p.tag===5&&m!==null&&(p=m,a?(y=Vu(n,l),y!=null&&d.unshift(Xu(n,y,p))):a||(y=Vu(n,l),y!=null&&d.push(Xu(n,y,p)))),n=n.return}d.length!==0&&t.push({event:e,listeners:d})}var vA=/\r\n?/g,EA=/\u0000|\uFFFD/g;function Hg(t){return(typeof t=="string"?t:""+t).replace(vA,`
`).replace(EA,"")}function ef(t,e,n){if(e=Hg(e),Hg(t)!==e&&n)throw Error(fe(425))}function Vf(){}var h0=null,p0=null;function g0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,CA=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(t){return Gg.resolve(null).then(t).catch(_A)}:m0;function _A(t){setTimeout(function(){throw t})}function ch(t,e){var n=e,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){t.removeChild(a),zu(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);zu(e)}function to(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),Mi="__reactFiber$"+Fl,Zu="__reactProps$"+Fl,ds="__reactContainer$"+Fl,x0="__reactEvents$"+Fl,bA="__reactListeners$"+Fl,SA="__reactHandles$"+Fl;function Po(t){var e=t[Mi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ds]||n[Mi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xg(t);t!==null;){if(n=t[Mi])return n;t=Xg(t)}return e}t=n,n=t.parentNode}return null}function wc(t){return t=t[Mi]||t[ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function _d(t){return t[Zu]||null}var y0=[],Ua=-1;function go(t){return{current:t}}function Xt(t){0>Ua||(t.current=y0[Ua],y0[Ua]=null,Ua--)}function Ft(t,e){Ua++,y0[Ua]=t.current,t.current=e}var uo={},$n=go(uo),Er=go(!1),ra=uo;function El(t,e){var n=t.type.contextTypes;if(!n)return uo;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=e[l];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Cr(t){return t=t.childContextTypes,t!=null}function Uf(){Xt(Er),Xt($n)}function Zg(t,e,n){if($n.current!==uo)throw Error(fe(168));Ft($n,e),Ft(Er,n)}function sw(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in e))throw Error(fe(108,cC(t)||"Unknown",a));return tn({},n,i)}function jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||uo,ra=$n.current,Ft($n,t),Ft(Er,Er.current),!0}function qg(t,e,n){var i=t.stateNode;if(!i)throw Error(fe(169));n?(t=sw(t,e,ra),i.__reactInternalMemoizedMergedChildContext=t,Xt(Er),Xt($n),Ft($n,t)):Xt(Er),Ft(Er,n)}var ns=null,bd=!1,fh=!1;function ow(t){ns===null?ns=[t]:ns.push(t)}function TA(t){bd=!0,ow(t)}function mo(){if(!fh&&ns!==null){fh=!0;var t=0,e=Ot;try{var n=ns;for(Ot=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}ns=null,bd=!1}catch(a){throw ns!==null&&(ns=ns.slice(t+1)),Oy(z1,mo),a}finally{Ot=e,fh=!1}}return null}var ja=[],za=0,zf=null,Wf=0,Zr=[],qr=0,ia=null,os=1,as="";function Io(t,e){ja[za++]=Wf,ja[za++]=zf,zf=t,Wf=e}function aw(t,e,n){Zr[qr++]=os,Zr[qr++]=as,Zr[qr++]=ia,ia=t;var i=os;t=as;var a=32-gi(i)-1;i&=~(1<<a),n+=1;var l=32-gi(e)+a;if(30<l){var d=a-a%5;l=(i&(1<<d)-1).toString(32),i>>=d,a-=d,os=1<<32-gi(e)+a|n<<a|i,as=l+t}else os=1<<l|n<<a|i,as=t}function Q1(t){t.return!==null&&(Io(t,1),aw(t,1,0))}function $1(t){for(;t===zf;)zf=ja[--za],ja[za]=null,Wf=ja[--za],ja[za]=null;for(;t===ia;)ia=Zr[--qr],Zr[qr]=null,as=Zr[--qr],Zr[qr]=null,os=Zr[--qr],Zr[qr]=null}var Pr=null,kr=null,Yt=!1,hi=null;function lw(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,kr=to(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,kr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ia!==null?{id:os,overflow:as}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pr=t,kr=null,!0):!1;default:return!1}}function w0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function v0(t){if(Yt){var e=kr;if(e){var n=e;if(!Kg(t,e)){if(w0(t))throw Error(fe(418));e=to(n.nextSibling);var i=Pr;e&&Kg(t,e)?lw(i,n):(t.flags=t.flags&-4097|2,Yt=!1,Pr=t)}}else{if(w0(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Yt=!1,Pr=t}}}function Yg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function tf(t){if(t!==Pr)return!1;if(!Yt)return Yg(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!g0(t.type,t.memoizedProps)),e&&(e=kr)){if(w0(t))throw uw(),Error(fe(418));for(;e;)lw(t,e),e=to(e.nextSibling)}if(Yg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kr=to(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kr=null}}else kr=Pr?to(t.stateNode.nextSibling):null;return!0}function uw(){for(var t=kr;t;)t=to(t.nextSibling)}function Cl(){kr=Pr=null,Yt=!1}function J1(t){hi===null?hi=[t]:hi.push(t)}var IA=ys.ReactCurrentBatchConfig;function au(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var i=n.stateNode}if(!i)throw Error(fe(147,t));var a=i,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(d){var p=a.refs;d===null?delete p[l]:p[l]=d},e._stringRef=l,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function nf(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qg(t){var e=t._init;return e(t._payload)}function cw(t){function e(_,b){if(t){var N=_.deletions;N===null?(_.deletions=[b],_.flags|=16):N.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function i(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function a(_,b){return _=so(_,b),_.index=0,_.sibling=null,_}function l(_,b,N){return _.index=N,t?(N=_.alternate,N!==null?(N=N.index,N<b?(_.flags|=2,b):N):(_.flags|=2,b)):(_.flags|=1048576,b)}function d(_){return t&&_.alternate===null&&(_.flags|=2),_}function p(_,b,N,M){return b===null||b.tag!==6?(b=yh(N,_.mode,M),b.return=_,b):(b=a(b,N),b.return=_,b)}function y(_,b,N,M){var X=N.type;return X===Ma?E(_,b,N.props.children,M,N.key):b!==null&&(b.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ls&&Qg(X)===b.type)?(M=a(b,N.props),M.ref=au(_,b,N),M.return=_,M):(M=_f(N.type,N.key,N.props,null,_.mode,M),M.ref=au(_,b,N),M.return=_,M)}function m(_,b,N,M){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=wh(N,_.mode,M),b.return=_,b):(b=a(b,N.children||[]),b.return=_,b)}function E(_,b,N,M,X){return b===null||b.tag!==7?(b=ea(N,_.mode,M,X),b.return=_,b):(b=a(b,N),b.return=_,b)}function A(_,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=yh(""+b,_.mode,N),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gc:return N=_f(b.type,b.key,b.props,null,_.mode,N),N.ref=au(_,null,b),N.return=_,N;case Pa:return b=wh(b,_.mode,N),b.return=_,b;case Ls:var M=b._init;return A(_,M(b._payload),N)}if(gu(b)||nu(b))return b=ea(b,_.mode,N,null),b.return=_,b;nf(_,b)}return null}function O(_,b,N,M){var X=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return X!==null?null:p(_,b,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Gc:return N.key===X?y(_,b,N,M):null;case Pa:return N.key===X?m(_,b,N,M):null;case Ls:return X=N._init,O(_,b,X(N._payload),M)}if(gu(N)||nu(N))return X!==null?null:E(_,b,N,M,null);nf(_,N)}return null}function L(_,b,N,M,X){if(typeof M=="string"&&M!==""||typeof M=="number")return _=_.get(N)||null,p(b,_,""+M,X);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Gc:return _=_.get(M.key===null?N:M.key)||null,y(b,_,M,X);case Pa:return _=_.get(M.key===null?N:M.key)||null,m(b,_,M,X);case Ls:var G=M._init;return L(_,b,N,G(M._payload),X)}if(gu(M)||nu(M))return _=_.get(N)||null,E(b,_,M,X,null);nf(b,M)}return null}function j(_,b,N,M){for(var X=null,G=null,z=b,$=b=0,ne=null;z!==null&&$<N.length;$++){z.index>$?(ne=z,z=null):ne=z.sibling;var ue=O(_,z,N[$],M);if(ue===null){z===null&&(z=ne);break}t&&z&&ue.alternate===null&&e(_,z),b=l(ue,b,$),G===null?X=ue:G.sibling=ue,G=ue,z=ne}if($===N.length)return n(_,z),Yt&&Io(_,$),X;if(z===null){for(;$<N.length;$++)z=A(_,N[$],M),z!==null&&(b=l(z,b,$),G===null?X=z:G.sibling=z,G=z);return Yt&&Io(_,$),X}for(z=i(_,z);$<N.length;$++)ne=L(z,_,$,N[$],M),ne!==null&&(t&&ne.alternate!==null&&z.delete(ne.key===null?$:ne.key),b=l(ne,b,$),G===null?X=ne:G.sibling=ne,G=ne);return t&&z.forEach(function(De){return e(_,De)}),Yt&&Io(_,$),X}function R(_,b,N,M){var X=nu(N);if(typeof X!="function")throw Error(fe(150));if(N=X.call(N),N==null)throw Error(fe(151));for(var G=X=null,z=b,$=b=0,ne=null,ue=N.next();z!==null&&!ue.done;$++,ue=N.next()){z.index>$?(ne=z,z=null):ne=z.sibling;var De=O(_,z,ue.value,M);if(De===null){z===null&&(z=ne);break}t&&z&&De.alternate===null&&e(_,z),b=l(De,b,$),G===null?X=De:G.sibling=De,G=De,z=ne}if(ue.done)return n(_,z),Yt&&Io(_,$),X;if(z===null){for(;!ue.done;$++,ue=N.next())ue=A(_,ue.value,M),ue!==null&&(b=l(ue,b,$),G===null?X=ue:G.sibling=ue,G=ue);return Yt&&Io(_,$),X}for(z=i(_,z);!ue.done;$++,ue=N.next())ue=L(z,_,$,ue.value,M),ue!==null&&(t&&ue.alternate!==null&&z.delete(ue.key===null?$:ue.key),b=l(ue,b,$),G===null?X=ue:G.sibling=ue,G=ue);return t&&z.forEach(function(xe){return e(_,xe)}),Yt&&Io(_,$),X}function k(_,b,N,M){if(typeof N=="object"&&N!==null&&N.type===Ma&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Gc:e:{for(var X=N.key,G=b;G!==null;){if(G.key===X){if(X=N.type,X===Ma){if(G.tag===7){n(_,G.sibling),b=a(G,N.props.children),b.return=_,_=b;break e}}else if(G.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ls&&Qg(X)===G.type){n(_,G.sibling),b=a(G,N.props),b.ref=au(_,G,N),b.return=_,_=b;break e}n(_,G);break}else e(_,G);G=G.sibling}N.type===Ma?(b=ea(N.props.children,_.mode,M,N.key),b.return=_,_=b):(M=_f(N.type,N.key,N.props,null,_.mode,M),M.ref=au(_,b,N),M.return=_,_=M)}return d(_);case Pa:e:{for(G=N.key;b!==null;){if(b.key===G)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){n(_,b.sibling),b=a(b,N.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=wh(N,_.mode,M),b.return=_,_=b}return d(_);case Ls:return G=N._init,k(_,b,G(N._payload),M)}if(gu(N))return j(_,b,N,M);if(nu(N))return R(_,b,N,M);nf(_,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(n(_,b.sibling),b=a(b,N),b.return=_,_=b):(n(_,b),b=yh(N,_.mode,M),b.return=_,_=b),d(_)):n(_,b)}return k}var Al=cw(!0),fw=cw(!1),Hf=go(null),Gf=null,Wa=null,ep=null;function tp(){ep=Wa=Gf=null}function np(t){var e=Hf.current;Xt(Hf),t._currentValue=e}function E0(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function nl(t,e){Gf=t,ep=Wa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(ep!==t)if(t={context:t,memoizedValue:e,next:null},Wa===null){if(Gf===null)throw Error(fe(308));Wa=t,Gf.dependencies={lanes:0,firstContext:t}}else Wa=Wa.next=t;return e}var Mo=null;function rp(t){Mo===null?Mo=[t]:Mo.push(t)}function dw(t,e,n,i){var a=e.interleaved;return a===null?(n.next=n,rp(e)):(n.next=a.next,a.next=n),e.interleaved=n,hs(t,i)}function hs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bs=!1;function ip(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function no(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,xt&2){var a=i.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),i.pending=e,hs(t,n)}return a=i.interleaved,a===null?(e.next=e,rp(i)):(e.next=a.next,a.next=e),i.interleaved=e,hs(t,n)}function yf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,W1(t,n)}}function $g(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=d:l=l.next=d,n=n.next}while(n!==null);l===null?a=l=e:l=l.next=e}else a=l=e;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xf(t,e,n,i){var a=t.updateQueue;Bs=!1;var l=a.firstBaseUpdate,d=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var y=p,m=y.next;y.next=null,d===null?l=m:d.next=m,d=y;var E=t.alternate;E!==null&&(E=E.updateQueue,p=E.lastBaseUpdate,p!==d&&(p===null?E.firstBaseUpdate=m:p.next=m,E.lastBaseUpdate=y))}if(l!==null){var A=a.baseState;d=0,E=m=y=null,p=l;do{var O=p.lane,L=p.eventTime;if((i&O)===O){E!==null&&(E=E.next={eventTime:L,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var j=t,R=p;switch(O=e,L=n,R.tag){case 1:if(j=R.payload,typeof j=="function"){A=j.call(L,A,O);break e}A=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=R.payload,O=typeof j=="function"?j.call(L,A,O):j,O==null)break e;A=tn({},A,O);break e;case 2:Bs=!0}}p.callback!==null&&p.lane!==0&&(t.flags|=64,O=a.effects,O===null?a.effects=[p]:O.push(p))}else L={eventTime:L,lane:O,tag:p.tag,payload:p.payload,callback:p.callback,next:null},E===null?(m=E=L,y=A):E=E.next=L,d|=O;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;O=p,p=O.next,O.next=null,a.lastBaseUpdate=O,a.shared.pending=null}}while(!0);if(E===null&&(y=A),a.baseState=y,a.firstBaseUpdate=m,a.lastBaseUpdate=E,e=a.shared.interleaved,e!==null){a=e;do d|=a.lane,a=a.next;while(a!==e)}else l===null&&(a.shared.lanes=0);oa|=d,t.lanes=d,t.memoizedState=A}}function Jg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(fe(191,a));a.call(i)}}}var vc={},Fi=go(vc),qu=go(vc),Ku=go(vc);function Lo(t){if(t===vc)throw Error(fe(174));return t}function sp(t,e){switch(Ft(Ku,e),Ft(qu,t),Ft(Fi,vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:t0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=t0(e,t)}Xt(Fi),Ft(Fi,e)}function _l(){Xt(Fi),Xt(qu),Xt(Ku)}function pw(t){Lo(Ku.current);var e=Lo(Fi.current),n=t0(e,t.type);e!==n&&(Ft(qu,t),Ft(Fi,n))}function op(t){qu.current===t&&(Xt(Fi),Xt(qu))}var $t=go(0);function Zf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dh=[];function ap(){for(var t=0;t<dh.length;t++)dh[t]._workInProgressVersionPrimary=null;dh.length=0}var wf=ys.ReactCurrentDispatcher,hh=ys.ReactCurrentBatchConfig,sa=0,en=null,Sn=null,On=null,qf=!1,Ru=!1,Yu=0,RA=0;function Zn(){throw Error(fe(321))}function lp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xi(t[n],e[n]))return!1;return!0}function up(t,e,n,i,a,l){if(sa=l,en=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wf.current=t===null||t.memoizedState===null?kA:PA,t=n(i,a),Ru){l=0;do{if(Ru=!1,Yu=0,25<=l)throw Error(fe(301));l+=1,On=Sn=null,e.updateQueue=null,wf.current=MA,t=n(i,a)}while(Ru)}if(wf.current=Kf,e=Sn!==null&&Sn.next!==null,sa=0,On=Sn=en=null,qf=!1,e)throw Error(fe(300));return t}function cp(){var t=Yu!==0;return Yu=0,t}function Ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?en.memoizedState=On=t:On=On.next=t,On}function $r(){if(Sn===null){var t=en.alternate;t=t!==null?t.memoizedState:null}else t=Sn.next;var e=On===null?en.memoizedState:On.next;if(e!==null)On=e,Sn=t;else{if(t===null)throw Error(fe(310));Sn=t,t={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},On===null?en.memoizedState=On=t:On=On.next=t}return On}function Qu(t,e){return typeof e=="function"?e(t):e}function ph(t){var e=$r(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var i=Sn,a=i.baseQueue,l=n.pending;if(l!==null){if(a!==null){var d=a.next;a.next=l.next,l.next=d}i.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,i=i.baseState;var p=d=null,y=null,m=l;do{var E=m.lane;if((sa&E)===E)y!==null&&(y=y.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),i=m.hasEagerState?m.eagerState:t(i,m.action);else{var A={lane:E,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};y===null?(p=y=A,d=i):y=y.next=A,en.lanes|=E,oa|=E}m=m.next}while(m!==null&&m!==l);y===null?d=i:y.next=p,xi(i,e.memoizedState)||(vr=!0),e.memoizedState=i,e.baseState=d,e.baseQueue=y,n.lastRenderedState=i}if(t=n.interleaved,t!==null){a=t;do l=a.lane,en.lanes|=l,oa|=l,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gh(t){var e=$r(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var i=n.dispatch,a=n.pending,l=e.memoizedState;if(a!==null){n.pending=null;var d=a=a.next;do l=t(l,d.action),d=d.next;while(d!==a);xi(l,e.memoizedState)||(vr=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,i]}function gw(){}function mw(t,e){var n=en,i=$r(),a=e(),l=!xi(i.memoizedState,a);if(l&&(i.memoizedState=a,vr=!0),i=i.queue,fp(ww.bind(null,n,i,t),[t]),i.getSnapshot!==e||l||On!==null&&On.memoizedState.tag&1){if(n.flags|=2048,$u(9,yw.bind(null,n,i,a,e),void 0,null),Dn===null)throw Error(fe(349));sa&30||xw(n,e,a)}return a}function xw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yw(t,e,n,i){e.value=n,e.getSnapshot=i,vw(e)&&Ew(t)}function ww(t,e,n){return n(function(){vw(e)&&Ew(t)})}function vw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xi(t,n)}catch{return!0}}function Ew(t){var e=hs(t,1);e!==null&&mi(e,t,1,-1)}function em(t){var e=Ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:t},e.queue=t,t=t.dispatch=DA.bind(null,en,t),[e.memoizedState,t]}function $u(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Cw(){return $r().memoizedState}function vf(t,e,n,i){var a=Ni();en.flags|=t,a.memoizedState=$u(1|e,n,void 0,i===void 0?null:i)}function Sd(t,e,n,i){var a=$r();i=i===void 0?null:i;var l=void 0;if(Sn!==null){var d=Sn.memoizedState;if(l=d.destroy,i!==null&&lp(i,d.deps)){a.memoizedState=$u(e,n,l,i);return}}en.flags|=t,a.memoizedState=$u(1|e,n,l,i)}function tm(t,e){return vf(8390656,8,t,e)}function fp(t,e){return Sd(2048,8,t,e)}function Aw(t,e){return Sd(4,2,t,e)}function _w(t,e){return Sd(4,4,t,e)}function bw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sw(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4,4,bw.bind(null,e,t),n)}function dp(){}function Tw(t,e){var n=$r();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&lp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Iw(t,e){var n=$r();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&lp(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Rw(t,e,n){return sa&21?(xi(n,e)||(n=Py(),en.lanes|=n,oa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vr=!0),t.memoizedState=n)}function NA(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var i=hh.transition;hh.transition={};try{t(!1),e()}finally{Ot=n,hh.transition=i}}function Nw(){return $r().memoizedState}function OA(t,e,n){var i=io(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ow(t))Dw(e,n);else if(n=dw(t,e,n,i),n!==null){var a=ar();mi(n,t,i,a),kw(n,e,i)}}function DA(t,e,n){var i=io(t),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ow(t))Dw(e,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var d=e.lastRenderedState,p=l(d,n);if(a.hasEagerState=!0,a.eagerState=p,xi(p,d)){var y=e.interleaved;y===null?(a.next=a,rp(e)):(a.next=y.next,y.next=a),e.interleaved=a;return}}catch{}finally{}n=dw(t,e,a,i),n!==null&&(a=ar(),mi(n,t,i,a),kw(n,e,i))}}function Ow(t){var e=t.alternate;return t===en||e!==null&&e===en}function Dw(t,e){Ru=qf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kw(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,W1(t,n)}}var Kf={readContext:Qr,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},kA={readContext:Qr,useCallback:function(t,e){return Ni().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:tm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vf(4194308,4,bw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vf(4194308,4,t,e)},useInsertionEffect:function(t,e){return vf(4,2,t,e)},useMemo:function(t,e){var n=Ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ni();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=OA.bind(null,en,t),[i.memoizedState,t]},useRef:function(t){var e=Ni();return t={current:t},e.memoizedState=t},useState:em,useDebugValue:dp,useDeferredValue:function(t){return Ni().memoizedState=t},useTransition:function(){var t=em(!1),e=t[0];return t=NA.bind(null,t[1]),Ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=en,a=Ni();if(Yt){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),Dn===null)throw Error(fe(349));sa&30||xw(i,e,n)}a.memoizedState=n;var l={value:n,getSnapshot:e};return a.queue=l,tm(ww.bind(null,i,l,t),[t]),i.flags|=2048,$u(9,yw.bind(null,i,l,n,e),void 0,null),n},useId:function(){var t=Ni(),e=Dn.identifierPrefix;if(Yt){var n=as,i=os;n=(i&~(1<<32-gi(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PA={readContext:Qr,useCallback:Tw,useContext:Qr,useEffect:fp,useImperativeHandle:Sw,useInsertionEffect:Aw,useLayoutEffect:_w,useMemo:Iw,useReducer:ph,useRef:Cw,useState:function(){return ph(Qu)},useDebugValue:dp,useDeferredValue:function(t){var e=$r();return Rw(e,Sn.memoizedState,t)},useTransition:function(){var t=ph(Qu)[0],e=$r().memoizedState;return[t,e]},useMutableSource:gw,useSyncExternalStore:mw,useId:Nw,unstable_isNewReconciler:!1},MA={readContext:Qr,useCallback:Tw,useContext:Qr,useEffect:fp,useImperativeHandle:Sw,useInsertionEffect:Aw,useLayoutEffect:_w,useMemo:Iw,useReducer:gh,useRef:Cw,useState:function(){return gh(Qu)},useDebugValue:dp,useDeferredValue:function(t){var e=$r();return Sn===null?e.memoizedState=t:Rw(e,Sn.memoizedState,t)},useTransition:function(){var t=gh(Qu)[0],e=$r().memoizedState;return[t,e]},useMutableSource:gw,useSyncExternalStore:mw,useId:Nw,unstable_isNewReconciler:!1};function ui(t,e){if(t&&t.defaultProps){e=tn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function C0(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:tn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Td={isMounted:function(t){return(t=t._reactInternals)?ha(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ar(),a=io(t),l=ls(i,a);l.payload=e,n!=null&&(l.callback=n),e=no(t,l,a),e!==null&&(mi(e,t,a,i),yf(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ar(),a=io(t),l=ls(i,a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=no(t,l,a),e!==null&&(mi(e,t,a,i),yf(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ar(),i=io(t),a=ls(n,i);a.tag=2,e!=null&&(a.callback=e),e=no(t,a,i),e!==null&&(mi(e,t,i,n),yf(e,t,i))}};function nm(t,e,n,i,a,l,d){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,l,d):e.prototype&&e.prototype.isPureReactComponent?!Hu(n,i)||!Hu(a,l):!0}function Pw(t,e,n){var i=!1,a=uo,l=e.contextType;return typeof l=="object"&&l!==null?l=Qr(l):(a=Cr(e)?ra:$n.current,i=e.contextTypes,l=(i=i!=null)?El(t,a):uo),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Td,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),e}function rm(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Td.enqueueReplaceState(e,e.state,null)}function A0(t,e,n,i){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},ip(t);var l=e.contextType;typeof l=="object"&&l!==null?a.context=Qr(l):(l=Cr(e)?ra:$n.current,a.context=El(t,l)),a.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(C0(t,e,l,n),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Td.enqueueReplaceState(a,a.state,null),Xf(t,n,a,i),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function bl(t,e){try{var n="",i=e;do n+=uC(i),i=i.return;while(i);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:a,digest:null}}function mh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LA=typeof WeakMap=="function"?WeakMap:Map;function Mw(t,e,n){n=ls(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Qf||(Qf=!0,P0=i),_0(t,e)},n}function Lw(t,e,n){n=ls(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var a=e.value;n.payload=function(){return i(a)},n.callback=function(){_0(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){_0(t,e),typeof i!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var d=e.stack;this.componentDidCatch(e.value,{componentStack:d!==null?d:""})}),n}function im(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new LA;var a=new Set;i.set(e,a)}else a=i.get(e),a===void 0&&(a=new Set,i.set(e,a));a.has(n)||(a.add(n),t=YA.bind(null,t,e,n),e.then(t,t))}function sm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function om(t,e,n,i,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ls(-1,1),e.tag=2,no(n,e,1))),n.lanes|=1),t)}var BA=ys.ReactCurrentOwner,vr=!1;function or(t,e,n,i){e.child=t===null?fw(e,null,n,i):Al(e,t.child,n,i)}function am(t,e,n,i,a){n=n.render;var l=e.ref;return nl(e,a),i=up(t,e,n,i,l,a),n=cp(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ps(t,e,a)):(Yt&&n&&Q1(e),e.flags|=1,or(t,e,i,a),e.child)}function lm(t,e,n,i,a){if(t===null){var l=n.type;return typeof l=="function"&&!vp(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,Bw(t,e,l,i,a)):(t=_f(n.type,null,i,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&a)){var d=l.memoizedProps;if(n=n.compare,n=n!==null?n:Hu,n(d,i)&&t.ref===e.ref)return ps(t,e,a)}return e.flags|=1,t=so(l,i),t.ref=e.ref,t.return=e,e.child=t}function Bw(t,e,n,i,a){if(t!==null){var l=t.memoizedProps;if(Hu(l,i)&&t.ref===e.ref)if(vr=!1,e.pendingProps=i=l,(t.lanes&a)!==0)t.flags&131072&&(vr=!0);else return e.lanes=t.lanes,ps(t,e,a)}return b0(t,e,n,i,a)}function Fw(t,e,n){var i=e.pendingProps,a=i.children,l=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Ga,Dr),Dr|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ft(Ga,Dr),Dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,Ft(Ga,Dr),Dr|=i}else l!==null?(i=l.baseLanes|n,e.memoizedState=null):i=n,Ft(Ga,Dr),Dr|=i;return or(t,e,a,n),e.child}function Vw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function b0(t,e,n,i,a){var l=Cr(n)?ra:$n.current;return l=El(e,l),nl(e,a),n=up(t,e,n,i,l,a),i=cp(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ps(t,e,a)):(Yt&&i&&Q1(e),e.flags|=1,or(t,e,n,a),e.child)}function um(t,e,n,i,a){if(Cr(n)){var l=!0;jf(e)}else l=!1;if(nl(e,a),e.stateNode===null)Ef(t,e),Pw(e,n,i),A0(e,n,i,a),i=!0;else if(t===null){var d=e.stateNode,p=e.memoizedProps;d.props=p;var y=d.context,m=n.contextType;typeof m=="object"&&m!==null?m=Qr(m):(m=Cr(n)?ra:$n.current,m=El(e,m));var E=n.getDerivedStateFromProps,A=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function";A||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==i||y!==m)&&rm(e,d,i,m),Bs=!1;var O=e.memoizedState;d.state=O,Xf(e,i,d,a),y=e.memoizedState,p!==i||O!==y||Er.current||Bs?(typeof E=="function"&&(C0(e,n,E,i),y=e.memoizedState),(p=Bs||nm(e,n,p,i,O,y,m))?(A||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=y),d.props=i,d.state=y,d.context=m,i=p):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{d=e.stateNode,hw(t,e),p=e.memoizedProps,m=e.type===e.elementType?p:ui(e.type,p),d.props=m,A=e.pendingProps,O=d.context,y=n.contextType,typeof y=="object"&&y!==null?y=Qr(y):(y=Cr(n)?ra:$n.current,y=El(e,y));var L=n.getDerivedStateFromProps;(E=typeof L=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==A||O!==y)&&rm(e,d,i,y),Bs=!1,O=e.memoizedState,d.state=O,Xf(e,i,d,a);var j=e.memoizedState;p!==A||O!==j||Er.current||Bs?(typeof L=="function"&&(C0(e,n,L,i),j=e.memoizedState),(m=Bs||nm(e,n,m,i,O,j,y)||!1)?(E||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,j,y),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,j,y)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===t.memoizedProps&&O===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&O===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=j),d.props=i,d.state=j,d.context=y,i=m):(typeof d.componentDidUpdate!="function"||p===t.memoizedProps&&O===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&O===t.memoizedState||(e.flags|=1024),i=!1)}return S0(t,e,n,i,l,a)}function S0(t,e,n,i,a,l){Vw(t,e);var d=(e.flags&128)!==0;if(!i&&!d)return a&&qg(e,n,!1),ps(t,e,l);i=e.stateNode,BA.current=e;var p=d&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&d?(e.child=Al(e,t.child,null,l),e.child=Al(e,null,p,l)):or(t,e,p,l),e.memoizedState=i.state,a&&qg(e,n,!0),e.child}function Uw(t){var e=t.stateNode;e.pendingContext?Zg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zg(t,e.context,!1),sp(t,e.containerInfo)}function cm(t,e,n,i,a){return Cl(),J1(a),e.flags|=256,or(t,e,n,i),e.child}var T0={dehydrated:null,treeContext:null,retryLane:0};function I0(t){return{baseLanes:t,cachePool:null,transitions:null}}function jw(t,e,n){var i=e.pendingProps,a=$t.current,l=!1,d=(e.flags&128)!==0,p;if((p=d)||(p=t!==null&&t.memoizedState===null?!1:(a&2)!==0),p?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Ft($t,a&1),t===null)return v0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(d=i.children,t=i.fallback,l?(i=e.mode,l=e.child,d={mode:"hidden",children:d},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=Nd(d,i,0,null),t=ea(t,i,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=I0(n),e.memoizedState=T0,t):hp(e,d));if(a=t.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return FA(t,e,d,i,p,a,n);if(l){l=i.fallback,d=e.mode,a=t.child,p=a.sibling;var y={mode:"hidden",children:i.children};return!(d&1)&&e.child!==a?(i=e.child,i.childLanes=0,i.pendingProps=y,e.deletions=null):(i=so(a,y),i.subtreeFlags=a.subtreeFlags&14680064),p!==null?l=so(p,l):(l=ea(l,d,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,d=t.child.memoizedState,d=d===null?I0(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=t.childLanes&~n,e.memoizedState=T0,i}return l=t.child,t=l.sibling,i=so(l,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function hp(t,e){return e=Nd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rf(t,e,n,i){return i!==null&&J1(i),Al(e,t.child,null,n),t=hp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FA(t,e,n,i,a,l,d){if(n)return e.flags&256?(e.flags&=-257,i=mh(Error(fe(422))),rf(t,e,d,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=i.fallback,a=e.mode,i=Nd({mode:"visible",children:i.children},a,0,null),l=ea(l,a,d,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,e.mode&1&&Al(e,t.child,null,d),e.child.memoizedState=I0(d),e.memoizedState=T0,l);if(!(e.mode&1))return rf(t,e,d,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var p=i.dgst;return i=p,l=Error(fe(419)),i=mh(l,i,void 0),rf(t,e,d,i)}if(p=(d&t.childLanes)!==0,vr||p){if(i=Dn,i!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|d)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,hs(t,a),mi(i,t,a,-1))}return wp(),i=mh(Error(fe(421))),rf(t,e,d,i)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=QA.bind(null,t),a._reactRetry=e,null):(t=l.treeContext,kr=to(a.nextSibling),Pr=e,Yt=!0,hi=null,t!==null&&(Zr[qr++]=os,Zr[qr++]=as,Zr[qr++]=ia,os=t.id,as=t.overflow,ia=e),e=hp(e,i.children),e.flags|=4096,e)}function fm(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),E0(t.return,e,n)}function xh(t,e,n,i,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=a)}function zw(t,e,n){var i=e.pendingProps,a=i.revealOrder,l=i.tail;if(or(t,e,i.children,n),i=$t.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fm(t,n,e);else if(t.tag===19)fm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ft($t,i),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&Zf(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),xh(e,!1,a,n,l);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Zf(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}xh(e,!0,n,null,l);break;case"together":xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ef(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ps(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=so(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=so(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VA(t,e,n){switch(e.tag){case 3:Uw(e),Cl();break;case 5:pw(e);break;case 1:Cr(e.type)&&jf(e);break;case 4:sp(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,a=e.memoizedProps.value;Ft(Hf,i._currentValue),i._currentValue=a;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ft($t,$t.current&1),e.flags|=128,null):n&e.child.childLanes?jw(t,e,n):(Ft($t,$t.current&1),t=ps(t,e,n),t!==null?t.sibling:null);Ft($t,$t.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return zw(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ft($t,$t.current),i)break;return null;case 22:case 23:return e.lanes=0,Fw(t,e,n)}return ps(t,e,n)}var Ww,R0,Hw,Gw;Ww=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};R0=function(){};Hw=function(t,e,n,i){var a=t.memoizedProps;if(a!==i){t=e.stateNode,Lo(Fi.current);var l=null;switch(n){case"input":a=Qh(t,a),i=Qh(t,i),l=[];break;case"select":a=tn({},a,{value:void 0}),i=tn({},i,{value:void 0}),l=[];break;case"textarea":a=e0(t,a),i=e0(t,i),l=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Vf)}n0(n,i);var d;n=null;for(m in a)if(!i.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var p=a[m];for(d in p)p.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Bu.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in i){var y=i[m];if(p=a!=null?a[m]:void 0,i.hasOwnProperty(m)&&y!==p&&(y!=null||p!=null))if(m==="style")if(p){for(d in p)!p.hasOwnProperty(d)||y&&y.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in y)y.hasOwnProperty(d)&&p[d]!==y[d]&&(n||(n={}),n[d]=y[d])}else n||(l||(l=[]),l.push(m,n)),n=y;else m==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,p=p?p.__html:void 0,y!=null&&p!==y&&(l=l||[]).push(m,y)):m==="children"?typeof y!="string"&&typeof y!="number"||(l=l||[]).push(m,""+y):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(m)?(y!=null&&m==="onScroll"&&Ht("scroll",t),l||p===y||(l=[])):(l=l||[]).push(m,y))}n&&(l=l||[]).push("style",n);var m=l;(e.updateQueue=m)&&(e.flags|=4)}};Gw=function(t,e,n,i){n!==i&&(e.flags|=4)};function lu(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function UA(t,e,n){var i=e.pendingProps;switch($1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(e),null;case 1:return Cr(e.type)&&Uf(),qn(e),null;case 3:return i=e.stateNode,_l(),Xt(Er),Xt($n),ap(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(tf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hi!==null&&(B0(hi),hi=null))),R0(t,e),qn(e),null;case 5:op(e);var a=Lo(Ku.current);if(n=e.type,t!==null&&e.stateNode!=null)Hw(t,e,n,i,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(fe(166));return qn(e),null}if(t=Lo(Fi.current),tf(e)){i=e.stateNode,n=e.type;var l=e.memoizedProps;switch(i[Mi]=e,i[Zu]=l,t=(e.mode&1)!==0,n){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(a=0;a<xu.length;a++)Ht(xu[a],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":vg(i,l),Ht("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},Ht("invalid",i);break;case"textarea":Cg(i,l),Ht("invalid",i)}n0(n,l),a=null;for(var d in l)if(l.hasOwnProperty(d)){var p=l[d];d==="children"?typeof p=="string"?i.textContent!==p&&(l.suppressHydrationWarning!==!0&&ef(i.textContent,p,t),a=["children",p]):typeof p=="number"&&i.textContent!==""+p&&(l.suppressHydrationWarning!==!0&&ef(i.textContent,p,t),a=["children",""+p]):Bu.hasOwnProperty(d)&&p!=null&&d==="onScroll"&&Ht("scroll",i)}switch(n){case"input":Xc(i),Eg(i,l,!0);break;case"textarea":Xc(i),Ag(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=Vf)}i=a,e.updateQueue=i,i!==null&&(e.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=d.createElement(n,{is:i.is}):(t=d.createElement(n),n==="select"&&(d=t,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):t=d.createElementNS(t,n),t[Mi]=e,t[Zu]=i,Ww(t,e,!1,!1),e.stateNode=t;e:{switch(d=r0(n,i),n){case"dialog":Ht("cancel",t),Ht("close",t),a=i;break;case"iframe":case"object":case"embed":Ht("load",t),a=i;break;case"video":case"audio":for(a=0;a<xu.length;a++)Ht(xu[a],t);a=i;break;case"source":Ht("error",t),a=i;break;case"img":case"image":case"link":Ht("error",t),Ht("load",t),a=i;break;case"details":Ht("toggle",t),a=i;break;case"input":vg(t,i),a=Qh(t,i),Ht("invalid",t);break;case"option":a=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},a=tn({},i,{value:void 0}),Ht("invalid",t);break;case"textarea":Cg(t,i),a=e0(t,i),Ht("invalid",t);break;default:a=i}n0(n,a),p=a;for(l in p)if(p.hasOwnProperty(l)){var y=p[l];l==="style"?Cy(t,y):l==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&vy(t,y)):l==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&Fu(t,y):typeof y=="number"&&Fu(t,""+y):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Bu.hasOwnProperty(l)?y!=null&&l==="onScroll"&&Ht("scroll",t):y!=null&&B1(t,l,y,d))}switch(n){case"input":Xc(t),Eg(t,i,!1);break;case"textarea":Xc(t),Ag(t);break;case"option":i.value!=null&&t.setAttribute("value",""+lo(i.value));break;case"select":t.multiple=!!i.multiple,l=i.value,l!=null?$a(t,!!i.multiple,l,!1):i.defaultValue!=null&&$a(t,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Vf)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qn(e),null;case 6:if(t&&e.stateNode!=null)Gw(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(fe(166));if(n=Lo(Ku.current),Lo(Fi.current),tf(e)){if(i=e.stateNode,n=e.memoizedProps,i[Mi]=e,(l=i.nodeValue!==n)&&(t=Pr,t!==null))switch(t.tag){case 3:ef(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ef(i.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Mi]=e,e.stateNode=i}return qn(e),null;case 13:if(Xt($t),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&kr!==null&&e.mode&1&&!(e.flags&128))uw(),Cl(),e.flags|=98560,l=!1;else if(l=tf(e),i!==null&&i.dehydrated!==null){if(t===null){if(!l)throw Error(fe(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(fe(317));l[Mi]=e}else Cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qn(e),l=!1}else hi!==null&&(B0(hi),hi=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||$t.current&1?Tn===0&&(Tn=3):wp())),e.updateQueue!==null&&(e.flags|=4),qn(e),null);case 4:return _l(),R0(t,e),t===null&&Gu(e.stateNode.containerInfo),qn(e),null;case 10:return np(e.type._context),qn(e),null;case 17:return Cr(e.type)&&Uf(),qn(e),null;case 19:if(Xt($t),l=e.memoizedState,l===null)return qn(e),null;if(i=(e.flags&128)!==0,d=l.rendering,d===null)if(i)lu(l,!1);else{if(Tn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(d=Zf(t),d!==null){for(e.flags|=128,lu(l,!1),i=d.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)l=n,t=i,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,t=d.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ft($t,$t.current&1|2),e.child}t=t.sibling}l.tail!==null&&pn()>Sl&&(e.flags|=128,i=!0,lu(l,!1),e.lanes=4194304)}else{if(!i)if(t=Zf(d),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lu(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Yt)return qn(e),null}else 2*pn()-l.renderingStartTime>Sl&&n!==1073741824&&(e.flags|=128,i=!0,lu(l,!1),e.lanes=4194304);l.isBackwards?(d.sibling=e.child,e.child=d):(n=l.last,n!==null?n.sibling=d:e.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=pn(),e.sibling=null,n=$t.current,Ft($t,i?n&1|2:n&1),e):(qn(e),null);case 22:case 23:return yp(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Dr&1073741824&&(qn(e),e.subtreeFlags&6&&(e.flags|=8192)):qn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function jA(t,e){switch($1(e),e.tag){case 1:return Cr(e.type)&&Uf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _l(),Xt(Er),Xt($n),ap(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return op(e),null;case 13:if(Xt($t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xt($t),null;case 4:return _l(),null;case 10:return np(e.type._context),null;case 22:case 23:return yp(),null;case 24:return null;default:return null}}var sf=!1,Yn=!1,zA=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Ha(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ln(t,e,i)}else n.current=null}function N0(t,e,n){try{n()}catch(i){ln(t,e,i)}}var dm=!1;function WA(t,e){if(h0=Lf,t=Yy(),Y1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var d=0,p=-1,y=-1,m=0,E=0,A=t,O=null;t:for(;;){for(var L;A!==n||a!==0&&A.nodeType!==3||(p=d+a),A!==l||i!==0&&A.nodeType!==3||(y=d+i),A.nodeType===3&&(d+=A.nodeValue.length),(L=A.firstChild)!==null;)O=A,A=L;for(;;){if(A===t)break t;if(O===n&&++m===a&&(p=d),O===l&&++E===i&&(y=d),(L=A.nextSibling)!==null)break;A=O,O=A.parentNode}A=L}n=p===-1||y===-1?null:{start:p,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(p0={focusedElem:t,selectionRange:n},Lf=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var R=j.memoizedProps,k=j.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?R:ui(e.type,R),k);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(M){ln(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return j=dm,dm=!1,j}function Nu(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&N0(e,n,l)}a=a.next}while(a!==i)}}function Id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function O0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xw(t){var e=t.alternate;e!==null&&(t.alternate=null,Xw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mi],delete e[Zu],delete e[x0],delete e[bA],delete e[SA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zw(t){return t.tag===5||t.tag===3||t.tag===4}function hm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function D0(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vf));else if(i!==4&&(t=t.child,t!==null))for(D0(t,e,n),t=t.sibling;t!==null;)D0(t,e,n),t=t.sibling}function k0(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(k0(t,e,n),t=t.sibling;t!==null;)k0(t,e,n),t=t.sibling}var Un=null,di=!1;function Ns(t,e,n){for(n=n.child;n!==null;)qw(t,e,n),n=n.sibling}function qw(t,e,n){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(vd,n)}catch{}switch(n.tag){case 5:Yn||Ha(n,e);case 6:var i=Un,a=di;Un=null,Ns(t,e,n),Un=i,di=a,Un!==null&&(di?(t=Un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(di?(t=Un,n=n.stateNode,t.nodeType===8?ch(t.parentNode,n):t.nodeType===1&&ch(t,n),zu(t)):ch(Un,n.stateNode));break;case 4:i=Un,a=di,Un=n.stateNode.containerInfo,di=!0,Ns(t,e,n),Un=i,di=a;break;case 0:case 11:case 14:case 15:if(!Yn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var l=a,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&N0(n,e,d),a=a.next}while(a!==i)}Ns(t,e,n);break;case 1:if(!Yn&&(Ha(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(p){ln(n,e,p)}Ns(t,e,n);break;case 21:Ns(t,e,n);break;case 22:n.mode&1?(Yn=(i=Yn)||n.memoizedState!==null,Ns(t,e,n),Yn=i):Ns(t,e,n);break;default:Ns(t,e,n)}}function pm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zA),e.forEach(function(i){var a=$A.bind(null,t,i);n.has(i)||(n.add(i),i.then(a,a))})}}function ai(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var l=t,d=e,p=d;e:for(;p!==null;){switch(p.tag){case 5:Un=p.stateNode,di=!1;break e;case 3:Un=p.stateNode.containerInfo,di=!0;break e;case 4:Un=p.stateNode.containerInfo,di=!0;break e}p=p.return}if(Un===null)throw Error(fe(160));qw(l,d,a),Un=null,di=!1;var y=a.alternate;y!==null&&(y.return=null),a.return=null}catch(m){ln(a,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kw(e,t),e=e.sibling}function Kw(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ai(e,t),Ri(t),i&4){try{Nu(3,t,t.return),Id(3,t)}catch(R){ln(t,t.return,R)}try{Nu(5,t,t.return)}catch(R){ln(t,t.return,R)}}break;case 1:ai(e,t),Ri(t),i&512&&n!==null&&Ha(n,n.return);break;case 5:if(ai(e,t),Ri(t),i&512&&n!==null&&Ha(n,n.return),t.flags&32){var a=t.stateNode;try{Fu(a,"")}catch(R){ln(t,t.return,R)}}if(i&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,d=n!==null?n.memoizedProps:l,p=t.type,y=t.updateQueue;if(t.updateQueue=null,y!==null)try{p==="input"&&l.type==="radio"&&l.name!=null&&xy(a,l),r0(p,d);var m=r0(p,l);for(d=0;d<y.length;d+=2){var E=y[d],A=y[d+1];E==="style"?Cy(a,A):E==="dangerouslySetInnerHTML"?vy(a,A):E==="children"?Fu(a,A):B1(a,E,A,m)}switch(p){case"input":$h(a,l);break;case"textarea":yy(a,l);break;case"select":var O=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var L=l.value;L!=null?$a(a,!!l.multiple,L,!1):O!==!!l.multiple&&(l.defaultValue!=null?$a(a,!!l.multiple,l.defaultValue,!0):$a(a,!!l.multiple,l.multiple?[]:"",!1))}a[Zu]=l}catch(R){ln(t,t.return,R)}}break;case 6:if(ai(e,t),Ri(t),i&4){if(t.stateNode===null)throw Error(fe(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(R){ln(t,t.return,R)}}break;case 3:if(ai(e,t),Ri(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{zu(e.containerInfo)}catch(R){ln(t,t.return,R)}break;case 4:ai(e,t),Ri(t);break;case 13:ai(e,t),Ri(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(mp=pn())),i&4&&pm(t);break;case 22:if(E=n!==null&&n.memoizedState!==null,t.mode&1?(Yn=(m=Yn)||E,ai(e,t),Yn=m):ai(e,t),Ri(t),i&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!E&&t.mode&1)for(Ne=t,E=t.child;E!==null;){for(A=Ne=E;Ne!==null;){switch(O=Ne,L=O.child,O.tag){case 0:case 11:case 14:case 15:Nu(4,O,O.return);break;case 1:Ha(O,O.return);var j=O.stateNode;if(typeof j.componentWillUnmount=="function"){i=O,n=O.return;try{e=i,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(R){ln(i,n,R)}}break;case 5:Ha(O,O.return);break;case 22:if(O.memoizedState!==null){mm(A);continue}}L!==null?(L.return=O,Ne=L):mm(A)}E=E.sibling}e:for(E=null,A=t;;){if(A.tag===5){if(E===null){E=A;try{a=A.stateNode,m?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(p=A.stateNode,y=A.memoizedProps.style,d=y!=null&&y.hasOwnProperty("display")?y.display:null,p.style.display=Ey("display",d))}catch(R){ln(t,t.return,R)}}}else if(A.tag===6){if(E===null)try{A.stateNode.nodeValue=m?"":A.memoizedProps}catch(R){ln(t,t.return,R)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;E===A&&(E=null),A=A.return}E===A&&(E=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:ai(e,t),Ri(t),i&4&&pm(t);break;case 21:break;default:ai(e,t),Ri(t)}}function Ri(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zw(n)){var i=n;break e}n=n.return}throw Error(fe(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(Fu(a,""),i.flags&=-33);var l=hm(t);k0(t,l,a);break;case 3:case 4:var d=i.stateNode.containerInfo,p=hm(t);D0(t,p,d);break;default:throw Error(fe(161))}}catch(y){ln(t,t.return,y)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HA(t,e,n){Ne=t,Yw(t)}function Yw(t,e,n){for(var i=(t.mode&1)!==0;Ne!==null;){var a=Ne,l=a.child;if(a.tag===22&&i){var d=a.memoizedState!==null||sf;if(!d){var p=a.alternate,y=p!==null&&p.memoizedState!==null||Yn;p=sf;var m=Yn;if(sf=d,(Yn=y)&&!m)for(Ne=a;Ne!==null;)d=Ne,y=d.child,d.tag===22&&d.memoizedState!==null?xm(a):y!==null?(y.return=d,Ne=y):xm(a);for(;l!==null;)Ne=l,Yw(l),l=l.sibling;Ne=a,sf=p,Yn=m}gm(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,Ne=l):gm(t)}}function gm(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yn||Id(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Yn)if(n===null)i.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:ui(e.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&Jg(e,l,i);break;case 3:var d=e.updateQueue;if(d!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jg(e,d,n)}break;case 5:var p=e.stateNode;if(n===null&&e.flags&4){n=p;var y=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var E=m.memoizedState;if(E!==null){var A=E.dehydrated;A!==null&&zu(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Yn||e.flags&512&&O0(e)}catch(O){ln(e,e.return,O)}}if(e===t){Ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function mm(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function xm(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Id(4,e)}catch(y){ln(e,n,y)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var a=e.return;try{i.componentDidMount()}catch(y){ln(e,a,y)}}var l=e.return;try{O0(e)}catch(y){ln(e,l,y)}break;case 5:var d=e.return;try{O0(e)}catch(y){ln(e,d,y)}}}catch(y){ln(e,e.return,y)}if(e===t){Ne=null;break}var p=e.sibling;if(p!==null){p.return=e.return,Ne=p;break}Ne=e.return}}var GA=Math.ceil,Yf=ys.ReactCurrentDispatcher,pp=ys.ReactCurrentOwner,Yr=ys.ReactCurrentBatchConfig,xt=0,Dn=null,yn=null,Hn=0,Dr=0,Ga=go(0),Tn=0,Ju=null,oa=0,Rd=0,gp=0,Ou=null,wr=null,mp=0,Sl=1/0,ts=null,Qf=!1,P0=null,ro=null,of=!1,Qs=null,$f=0,Du=0,M0=null,Cf=-1,Af=0;function ar(){return xt&6?pn():Cf!==-1?Cf:Cf=pn()}function io(t){return t.mode&1?xt&2&&Hn!==0?Hn&-Hn:IA.transition!==null?(Af===0&&(Af=Py()),Af):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:jy(t.type)),t):1}function mi(t,e,n,i){if(50<Du)throw Du=0,M0=null,Error(fe(185));xc(t,n,i),(!(xt&2)||t!==Dn)&&(t===Dn&&(!(xt&2)&&(Rd|=n),Tn===4&&Us(t,Hn)),Ar(t,i),n===1&&xt===0&&!(e.mode&1)&&(Sl=pn()+500,bd&&mo()))}function Ar(t,e){var n=t.callbackNode;IC(t,e);var i=Mf(t,t===Dn?Hn:0);if(i===0)n!==null&&Sg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Sg(n),e===1)t.tag===0?TA(ym.bind(null,t)):ow(ym.bind(null,t)),AA(function(){!(xt&6)&&mo()}),n=null;else{switch(My(i)){case 1:n=z1;break;case 4:n=Dy;break;case 16:n=Pf;break;case 536870912:n=ky;break;default:n=Pf}n=iv(n,Qw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Qw(t,e){if(Cf=-1,Af=0,xt&6)throw Error(fe(327));var n=t.callbackNode;if(rl()&&t.callbackNode!==n)return null;var i=Mf(t,t===Dn?Hn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Jf(t,i);else{e=i;var a=xt;xt|=2;var l=Jw();(Dn!==t||Hn!==e)&&(ts=null,Sl=pn()+500,Jo(t,e));do try{qA();break}catch(p){$w(t,p)}while(!0);tp(),Yf.current=l,xt=a,yn!==null?e=0:(Dn=null,Hn=0,e=Tn)}if(e!==0){if(e===2&&(a=l0(t),a!==0&&(i=a,e=L0(t,a))),e===1)throw n=Ju,Jo(t,0),Us(t,i),Ar(t,pn()),n;if(e===6)Us(t,i);else{if(a=t.current.alternate,!(i&30)&&!XA(a)&&(e=Jf(t,i),e===2&&(l=l0(t),l!==0&&(i=l,e=L0(t,l))),e===1))throw n=Ju,Jo(t,0),Us(t,i),Ar(t,pn()),n;switch(t.finishedWork=a,t.finishedLanes=i,e){case 0:case 1:throw Error(fe(345));case 2:Ro(t,wr,ts);break;case 3:if(Us(t,i),(i&130023424)===i&&(e=mp+500-pn(),10<e)){if(Mf(t,0)!==0)break;if(a=t.suspendedLanes,(a&i)!==i){ar(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=m0(Ro.bind(null,t,wr,ts),e);break}Ro(t,wr,ts);break;case 4:if(Us(t,i),(i&4194240)===i)break;for(e=t.eventTimes,a=-1;0<i;){var d=31-gi(i);l=1<<d,d=e[d],d>a&&(a=d),i&=~l}if(i=a,i=pn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*GA(i/1960))-i,10<i){t.timeoutHandle=m0(Ro.bind(null,t,wr,ts),i);break}Ro(t,wr,ts);break;case 5:Ro(t,wr,ts);break;default:throw Error(fe(329))}}}return Ar(t,pn()),t.callbackNode===n?Qw.bind(null,t):null}function L0(t,e){var n=Ou;return t.current.memoizedState.isDehydrated&&(Jo(t,e).flags|=256),t=Jf(t,e),t!==2&&(e=wr,wr=n,e!==null&&B0(e)),t}function B0(t){wr===null?wr=t:wr.push.apply(wr,t)}function XA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],l=a.getSnapshot;a=a.value;try{if(!xi(l(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Us(t,e){for(e&=~gp,e&=~Rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gi(e),i=1<<n;t[n]=-1,e&=~i}}function ym(t){if(xt&6)throw Error(fe(327));rl();var e=Mf(t,0);if(!(e&1))return Ar(t,pn()),null;var n=Jf(t,e);if(t.tag!==0&&n===2){var i=l0(t);i!==0&&(e=i,n=L0(t,i))}if(n===1)throw n=Ju,Jo(t,0),Us(t,e),Ar(t,pn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ro(t,wr,ts),Ar(t,pn()),null}function xp(t,e){var n=xt;xt|=1;try{return t(e)}finally{xt=n,xt===0&&(Sl=pn()+500,bd&&mo())}}function aa(t){Qs!==null&&Qs.tag===0&&!(xt&6)&&rl();var e=xt;xt|=1;var n=Yr.transition,i=Ot;try{if(Yr.transition=null,Ot=1,t)return t()}finally{Ot=i,Yr.transition=n,xt=e,!(xt&6)&&mo()}}function yp(){Dr=Ga.current,Xt(Ga)}function Jo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CA(n)),yn!==null)for(n=yn.return;n!==null;){var i=n;switch($1(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Uf();break;case 3:_l(),Xt(Er),Xt($n),ap();break;case 5:op(i);break;case 4:_l();break;case 13:Xt($t);break;case 19:Xt($t);break;case 10:np(i.type._context);break;case 22:case 23:yp()}n=n.return}if(Dn=t,yn=t=so(t.current,null),Hn=Dr=e,Tn=0,Ju=null,gp=Rd=oa=0,wr=Ou=null,Mo!==null){for(e=0;e<Mo.length;e++)if(n=Mo[e],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,l=n.pending;if(l!==null){var d=l.next;l.next=a,i.next=d}n.pending=i}Mo=null}return t}function $w(t,e){do{var n=yn;try{if(tp(),wf.current=Kf,qf){for(var i=en.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}qf=!1}if(sa=0,On=Sn=en=null,Ru=!1,Yu=0,pp.current=null,n===null||n.return===null){Tn=1,Ju=e,yn=null;break}e:{var l=t,d=n.return,p=n,y=e;if(e=Hn,p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var m=y,E=p,A=E.tag;if(!(E.mode&1)&&(A===0||A===11||A===15)){var O=E.alternate;O?(E.updateQueue=O.updateQueue,E.memoizedState=O.memoizedState,E.lanes=O.lanes):(E.updateQueue=null,E.memoizedState=null)}var L=sm(d);if(L!==null){L.flags&=-257,om(L,d,p,l,e),L.mode&1&&im(l,m,e),e=L,y=m;var j=e.updateQueue;if(j===null){var R=new Set;R.add(y),e.updateQueue=R}else j.add(y);break e}else{if(!(e&1)){im(l,m,e),wp();break e}y=Error(fe(426))}}else if(Yt&&p.mode&1){var k=sm(d);if(k!==null){!(k.flags&65536)&&(k.flags|=256),om(k,d,p,l,e),J1(bl(y,p));break e}}l=y=bl(y,p),Tn!==4&&(Tn=2),Ou===null?Ou=[l]:Ou.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var _=Mw(l,y,e);$g(l,_);break e;case 1:p=y;var b=l.type,N=l.stateNode;if(!(l.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ro===null||!ro.has(N)))){l.flags|=65536,e&=-e,l.lanes|=e;var M=Lw(l,p,e);$g(l,M);break e}}l=l.return}while(l!==null)}tv(n)}catch(X){e=X,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function Jw(){var t=Yf.current;return Yf.current=Kf,t===null?Kf:t}function wp(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),Dn===null||!(oa&268435455)&&!(Rd&268435455)||Us(Dn,Hn)}function Jf(t,e){var n=xt;xt|=2;var i=Jw();(Dn!==t||Hn!==e)&&(ts=null,Jo(t,e));do try{ZA();break}catch(a){$w(t,a)}while(!0);if(tp(),xt=n,Yf.current=i,yn!==null)throw Error(fe(261));return Dn=null,Hn=0,Tn}function ZA(){for(;yn!==null;)ev(yn)}function qA(){for(;yn!==null&&!wC();)ev(yn)}function ev(t){var e=rv(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,e===null?tv(t):yn=e,pp.current=null}function tv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jA(n,e),n!==null){n.flags&=32767,yn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tn=6,yn=null;return}}else if(n=UA(n,e,Dr),n!==null){yn=n;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);Tn===0&&(Tn=5)}function Ro(t,e,n){var i=Ot,a=Yr.transition;try{Yr.transition=null,Ot=1,KA(t,e,n,i)}finally{Yr.transition=a,Ot=i}return null}function KA(t,e,n,i){do rl();while(Qs!==null);if(xt&6)throw Error(fe(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(RC(t,l),t===Dn&&(yn=Dn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||of||(of=!0,iv(Pf,function(){return rl(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Yr.transition,Yr.transition=null;var d=Ot;Ot=1;var p=xt;xt|=4,pp.current=null,WA(t,n),Kw(n,t),gA(p0),Lf=!!h0,p0=h0=null,t.current=n,HA(n),vC(),xt=p,Ot=d,Yr.transition=l}else t.current=n;if(of&&(of=!1,Qs=t,$f=a),l=t.pendingLanes,l===0&&(ro=null),AC(n.stateNode),Ar(t,pn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Qf)throw Qf=!1,t=P0,P0=null,t;return $f&1&&t.tag!==0&&rl(),l=t.pendingLanes,l&1?t===M0?Du++:(Du=0,M0=t):Du=0,mo(),null}function rl(){if(Qs!==null){var t=My($f),e=Yr.transition,n=Ot;try{if(Yr.transition=null,Ot=16>t?16:t,Qs===null)var i=!1;else{if(t=Qs,Qs=null,$f=0,xt&6)throw Error(fe(331));var a=xt;for(xt|=4,Ne=t.current;Ne!==null;){var l=Ne,d=l.child;if(Ne.flags&16){var p=l.deletions;if(p!==null){for(var y=0;y<p.length;y++){var m=p[y];for(Ne=m;Ne!==null;){var E=Ne;switch(E.tag){case 0:case 11:case 15:Nu(8,E,l)}var A=E.child;if(A!==null)A.return=E,Ne=A;else for(;Ne!==null;){E=Ne;var O=E.sibling,L=E.return;if(Xw(E),E===m){Ne=null;break}if(O!==null){O.return=L,Ne=O;break}Ne=L}}}var j=l.alternate;if(j!==null){var R=j.child;if(R!==null){j.child=null;do{var k=R.sibling;R.sibling=null,R=k}while(R!==null)}}Ne=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,Ne=d;else e:for(;Ne!==null;){if(l=Ne,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Nu(9,l,l.return)}var _=l.sibling;if(_!==null){_.return=l.return,Ne=_;break e}Ne=l.return}}var b=t.current;for(Ne=b;Ne!==null;){d=Ne;var N=d.child;if(d.subtreeFlags&2064&&N!==null)N.return=d,Ne=N;else e:for(d=b;Ne!==null;){if(p=Ne,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Id(9,p)}}catch(X){ln(p,p.return,X)}if(p===d){Ne=null;break e}var M=p.sibling;if(M!==null){M.return=p.return,Ne=M;break e}Ne=p.return}}if(xt=a,mo(),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(vd,t)}catch{}i=!0}return i}finally{Ot=n,Yr.transition=e}}return!1}function wm(t,e,n){e=bl(n,e),e=Mw(t,e,1),t=no(t,e,1),e=ar(),t!==null&&(xc(t,1,e),Ar(t,e))}function ln(t,e,n){if(t.tag===3)wm(t,t,n);else for(;e!==null;){if(e.tag===3){wm(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ro===null||!ro.has(i))){t=bl(n,t),t=Lw(e,t,1),e=no(e,t,1),t=ar(),e!==null&&(xc(e,1,t),Ar(e,t));break}}e=e.return}}function YA(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=ar(),t.pingedLanes|=t.suspendedLanes&n,Dn===t&&(Hn&n)===n&&(Tn===4||Tn===3&&(Hn&130023424)===Hn&&500>pn()-mp?Jo(t,0):gp|=n),Ar(t,e)}function nv(t,e){e===0&&(t.mode&1?(e=Kc,Kc<<=1,!(Kc&130023424)&&(Kc=4194304)):e=1);var n=ar();t=hs(t,e),t!==null&&(xc(t,e,n),Ar(t,n))}function QA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nv(t,n)}function $A(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(fe(314))}i!==null&&i.delete(e),nv(t,n)}var rv;rv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Er.current)vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vr=!1,VA(t,e,n);vr=!!(t.flags&131072)}else vr=!1,Yt&&e.flags&1048576&&aw(e,Wf,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ef(t,e),t=e.pendingProps;var a=El(e,$n.current);nl(e,n),a=up(null,e,i,t,a,n);var l=cp();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cr(i)?(l=!0,jf(e)):l=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ip(e),a.updater=Td,e.stateNode=a,a._reactInternals=e,A0(e,i,t,n),e=S0(null,e,i,!0,l,n)):(e.tag=0,Yt&&l&&Q1(e),or(null,e,a,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Ef(t,e),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=e_(i),t=ui(i,t),a){case 0:e=b0(null,e,i,t,n);break e;case 1:e=um(null,e,i,t,n);break e;case 11:e=am(null,e,i,t,n);break e;case 14:e=lm(null,e,i,ui(i.type,t),n);break e}throw Error(fe(306,i,""))}return e;case 0:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:ui(i,a),b0(t,e,i,a,n);case 1:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:ui(i,a),um(t,e,i,a,n);case 3:e:{if(Uw(e),t===null)throw Error(fe(387));i=e.pendingProps,l=e.memoizedState,a=l.element,hw(t,e),Xf(e,i,null,n);var d=e.memoizedState;if(i=d.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){a=bl(Error(fe(423)),e),e=cm(t,e,i,n,a);break e}else if(i!==a){a=bl(Error(fe(424)),e),e=cm(t,e,i,n,a);break e}else for(kr=to(e.stateNode.containerInfo.firstChild),Pr=e,Yt=!0,hi=null,n=fw(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cl(),i===a){e=ps(t,e,n);break e}or(t,e,i,n)}e=e.child}return e;case 5:return pw(e),t===null&&v0(e),i=e.type,a=e.pendingProps,l=t!==null?t.memoizedProps:null,d=a.children,g0(i,a)?d=null:l!==null&&g0(i,l)&&(e.flags|=32),Vw(t,e),or(t,e,d,n),e.child;case 6:return t===null&&v0(e),null;case 13:return jw(t,e,n);case 4:return sp(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Al(e,null,i,n):or(t,e,i,n),e.child;case 11:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:ui(i,a),am(t,e,i,a,n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:return or(t,e,e.pendingProps.children,n),e.child;case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,a=e.pendingProps,l=e.memoizedProps,d=a.value,Ft(Hf,i._currentValue),i._currentValue=d,l!==null)if(xi(l.value,d)){if(l.children===a.children&&!Er.current){e=ps(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var p=l.dependencies;if(p!==null){d=l.child;for(var y=p.firstContext;y!==null;){if(y.context===i){if(l.tag===1){y=ls(-1,n&-n),y.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var E=m.pending;E===null?y.next=y:(y.next=E.next,E.next=y),m.pending=y}}l.lanes|=n,y=l.alternate,y!==null&&(y.lanes|=n),E0(l.return,n,e),p.lanes|=n;break}y=y.next}}else if(l.tag===10)d=l.type===e.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(fe(341));d.lanes|=n,p=d.alternate,p!==null&&(p.lanes|=n),E0(d,n,e),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===e){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}or(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,i=e.pendingProps.children,nl(e,n),a=Qr(a),i=i(a),e.flags|=1,or(t,e,i,n),e.child;case 14:return i=e.type,a=ui(i,e.pendingProps),a=ui(i.type,a),lm(t,e,i,a,n);case 15:return Bw(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:ui(i,a),Ef(t,e),e.tag=1,Cr(i)?(t=!0,jf(e)):t=!1,nl(e,n),Pw(e,i,a),A0(e,i,a,n),S0(null,e,i,!0,t,n);case 19:return zw(t,e,n);case 22:return Fw(t,e,n)}throw Error(fe(156,e.tag))};function iv(t,e){return Oy(t,e)}function JA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,n,i){return new JA(t,e,n,i)}function vp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function e_(t){if(typeof t=="function")return vp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===V1)return 11;if(t===U1)return 14}return 2}function so(t,e){var n=t.alternate;return n===null?(n=Kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _f(t,e,n,i,a,l){var d=2;if(i=t,typeof t=="function")vp(t)&&(d=1);else if(typeof t=="string")d=5;else e:switch(t){case Ma:return ea(n.children,a,l,e);case F1:d=8,a|=8;break;case Zh:return t=Kr(12,n,e,a|2),t.elementType=Zh,t.lanes=l,t;case qh:return t=Kr(13,n,e,a),t.elementType=qh,t.lanes=l,t;case Kh:return t=Kr(19,n,e,a),t.elementType=Kh,t.lanes=l,t;case py:return Nd(n,a,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dy:d=10;break e;case hy:d=9;break e;case V1:d=11;break e;case U1:d=14;break e;case Ls:d=16,i=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Kr(d,n,e,a),e.elementType=t,e.type=i,e.lanes=l,e}function ea(t,e,n,i){return t=Kr(7,t,i,e),t.lanes=n,t}function Nd(t,e,n,i){return t=Kr(22,t,i,e),t.elementType=py,t.lanes=n,t.stateNode={isHidden:!1},t}function yh(t,e,n){return t=Kr(6,t,null,e),t.lanes=n,t}function wh(t,e,n){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function t_(t,e,n,i,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jd(0),this.expirationTimes=Jd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jd(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ep(t,e,n,i,a,l,d,p,y){return t=new t_(t,e,n,p,y),e===1?(e=1,l===!0&&(e|=8)):e=0,l=Kr(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ip(l),t}function n_(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function sv(t){if(!t)return uo;t=t._reactInternals;e:{if(ha(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(Cr(n))return sw(t,n,e)}return e}function ov(t,e,n,i,a,l,d,p,y){return t=Ep(n,i,!0,t,a,l,d,p,y),t.context=sv(null),n=t.current,i=ar(),a=io(n),l=ls(i,a),l.callback=e??null,no(n,l,a),t.current.lanes=a,xc(t,a,i),Ar(t,i),t}function Od(t,e,n,i){var a=e.current,l=ar(),d=io(a);return n=sv(n),e.context===null?e.context=n:e.pendingContext=n,e=ls(l,d),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=no(a,e,d),t!==null&&(mi(t,a,d,l),yf(t,a,d)),d}function ed(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cp(t,e){vm(t,e),(t=t.alternate)&&vm(t,e)}function r_(){return null}var av=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ap(t){this._internalRoot=t}Dd.prototype.render=Ap.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Od(t,e,null,null)};Dd.prototype.unmount=Ap.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;aa(function(){Od(null,t,null,null)}),e[ds]=null}};function Dd(t){this._internalRoot=t}Dd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vs.length&&e!==0&&e<Vs[n].priority;n++);Vs.splice(n,0,t),n===0&&Uy(t)}};function _p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Em(){}function i_(t,e,n,i,a){if(a){if(typeof i=="function"){var l=i;i=function(){var m=ed(d);l.call(m)}}var d=ov(e,i,t,0,null,!1,!1,"",Em);return t._reactRootContainer=d,t[ds]=d.current,Gu(t.nodeType===8?t.parentNode:t),aa(),d}for(;a=t.lastChild;)t.removeChild(a);if(typeof i=="function"){var p=i;i=function(){var m=ed(y);p.call(m)}}var y=Ep(t,0,!1,null,null,!1,!1,"",Em);return t._reactRootContainer=y,t[ds]=y.current,Gu(t.nodeType===8?t.parentNode:t),aa(function(){Od(e,y,n,i)}),y}function Pd(t,e,n,i,a){var l=n._reactRootContainer;if(l){var d=l;if(typeof a=="function"){var p=a;a=function(){var y=ed(d);p.call(y)}}Od(e,d,t,a)}else d=i_(n,e,t,a,i);return ed(d)}Ly=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mu(e.pendingLanes);n!==0&&(W1(e,n|1),Ar(e,pn()),!(xt&6)&&(Sl=pn()+500,mo()))}break;case 13:aa(function(){var i=hs(t,1);if(i!==null){var a=ar();mi(i,t,1,a)}}),Cp(t,1)}};H1=function(t){if(t.tag===13){var e=hs(t,134217728);if(e!==null){var n=ar();mi(e,t,134217728,n)}Cp(t,134217728)}};By=function(t){if(t.tag===13){var e=io(t),n=hs(t,e);if(n!==null){var i=ar();mi(n,t,e,i)}Cp(t,e)}};Fy=function(){return Ot};Vy=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};s0=function(t,e,n){switch(e){case"input":if($h(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var a=_d(i);if(!a)throw Error(fe(90));my(i),$h(i,a)}}}break;case"textarea":yy(t,n);break;case"select":e=n.value,e!=null&&$a(t,!!n.multiple,e,!1)}};by=xp;Sy=aa;var s_={usingClientEntryPoint:!1,Events:[wc,Va,_d,Ay,_y,xp]},uu={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o_={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ry(t),t===null?null:t.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||r_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{vd=af.inject(o_),Bi=af}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s_;Fr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_p(e))throw Error(fe(200));return n_(t,e,null,n)};Fr.createRoot=function(t,e){if(!_p(t))throw Error(fe(299));var n=!1,i="",a=av;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Ep(t,1,!1,null,null,n,!1,i,a),t[ds]=e.current,Gu(t.nodeType===8?t.parentNode:t),new Ap(e)};Fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=Ry(e),t=t===null?null:t.stateNode,t};Fr.flushSync=function(t){return aa(t)};Fr.hydrate=function(t,e,n){if(!kd(e))throw Error(fe(200));return Pd(null,t,e,!0,n)};Fr.hydrateRoot=function(t,e,n){if(!_p(t))throw Error(fe(405));var i=n!=null&&n.hydratedSources||null,a=!1,l="",d=av;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),e=ov(e,null,t,1,n??null,a,!1,l,d),t[ds]=e.current,Gu(t),i)for(t=0;t<i.length;t++)n=i[t],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new Dd(e)};Fr.render=function(t,e,n){if(!kd(e))throw Error(fe(200));return Pd(null,t,e,!1,n)};Fr.unmountComponentAtNode=function(t){if(!kd(t))throw Error(fe(40));return t._reactRootContainer?(aa(function(){Pd(null,null,t,!1,function(){t._reactRootContainer=null,t[ds]=null})}),!0):!1};Fr.unstable_batchedUpdates=xp;Fr.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!kd(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return Pd(t,e,n,!1,i)};Fr.version="18.3.1-next-f1338f8080-20240426";function lv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lv)}catch(t){console.error(t)}}lv(),ly.exports=Fr;var a_=ly.exports,Cm=a_;Gh.createRoot=Cm.createRoot,Gh.hydrateRoot=Cm.hydrateRoot;var Ec=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},l_={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},js,R1,jx,u_=(jx=class{constructor(){_e(this,js,l_);_e(this,R1,!1)}setTimeoutProvider(t){ge(this,js,t)}setTimeout(t,e){return B(this,js).setTimeout(t,e)}clearTimeout(t){B(this,js).clearTimeout(t)}setInterval(t,e){return B(this,js).setInterval(t,e)}clearInterval(t){B(this,js).clearInterval(t)}},js=new WeakMap,R1=new WeakMap,jx),Bo=new u_;function c_(t){setTimeout(t,0)}var la=typeof window>"u"||"Deno"in globalThis;function yr(){}function f_(t,e){return typeof t=="function"?t(e):t}function F0(t){return typeof t=="number"&&t>=0&&t!==1/0}function uv(t,e){return Math.max(t+(e||0)-Date.now(),0)}function oo(t,e){return typeof t=="function"?t(e):t}function Xr(t,e){return typeof t=="function"?t(e):t}function Am(t,e){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:d,stale:p}=t;if(d){if(i){if(e.queryHash!==bp(d,e.options))return!1}else if(!tc(e.queryKey,d))return!1}if(n!=="all"){const y=e.isActive();if(n==="active"&&!y||n==="inactive"&&y)return!1}return!(typeof p=="boolean"&&e.isStale()!==p||a&&a!==e.state.fetchStatus||l&&!l(e))}function _m(t,e){const{exact:n,status:i,predicate:a,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(ec(e.options.mutationKey)!==ec(l))return!1}else if(!tc(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function bp(t,e){return((e==null?void 0:e.queryKeyHashFn)||ec)(t)}function ec(t){return JSON.stringify(t,(e,n)=>U0(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function tc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>tc(t[n],e[n])):!1}var d_=Object.prototype.hasOwnProperty;function cv(t,e,n=0){if(t===e)return t;if(n>500)return e;const i=bm(t)&&bm(e);if(!i&&!(U0(t)&&U0(e)))return e;const l=(i?t:Object.keys(t)).length,d=i?e:Object.keys(e),p=d.length,y=i?new Array(p):{};let m=0;for(let E=0;E<p;E++){const A=i?E:d[E],O=t[A],L=e[A];if(O===L){y[A]=O,(i?E<l:d_.call(t,A))&&m++;continue}if(O===null||L===null||typeof O!="object"||typeof L!="object"){y[A]=L;continue}const j=cv(O,L,n+1);y[A]=j,j===O&&m++}return l===p&&m===l?t:y}function V0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function bm(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function U0(t){if(!Sm(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Sm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Sm(t){return Object.prototype.toString.call(t)==="[object Object]"}function h_(t){return new Promise(e=>{Bo.setTimeout(e,t)})}function j0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?cv(t,e):e}function p_(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function g_(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Sp=Symbol();function fv(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Sp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function dv(t,e){return typeof t=="function"?t(...e):!!t}function m_(t,e,n){let i=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??(a=e()),i||(i=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var Vo,zs,sl,zx,x_=(zx=class extends Ec{constructor(){super();_e(this,Vo);_e(this,zs);_e(this,sl);ge(this,sl,e=>{if(!la&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,zs)||this.setEventListener(B(this,sl))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,zs))==null||e.call(this),ge(this,zs,void 0))}setEventListener(e){var n;ge(this,sl,e),(n=B(this,zs))==null||n.call(this),ge(this,zs,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){B(this,Vo)!==e&&(ge(this,Vo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Vo)=="boolean"?B(this,Vo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Vo=new WeakMap,zs=new WeakMap,sl=new WeakMap,zx),Tp=new x_;function z0(){let t,e;const n=new Promise((a,l)=>{t=a,e=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),t(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}var y_=c_;function w_(){let t=[],e=0,n=p=>{p()},i=p=>{p()},a=y_;const l=p=>{e?t.push(p):a(()=>{n(p)})},d=()=>{const p=t;t=[],p.length&&a(()=>{i(()=>{p.forEach(y=>{n(y)})})})};return{batch:p=>{let y;e++;try{y=p()}finally{e--,e||d()}return y},batchCalls:p=>(...y)=>{l(()=>{p(...y)})},schedule:l,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{i=p},setScheduler:p=>{a=p}}}var zn=w_(),ol,Ws,al,Wx,v_=(Wx=class extends Ec{constructor(){super();_e(this,ol,!0);_e(this,Ws);_e(this,al);ge(this,al,e=>{if(!la&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){B(this,Ws)||this.setEventListener(B(this,al))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Ws))==null||e.call(this),ge(this,Ws,void 0))}setEventListener(e){var n;ge(this,al,e),(n=B(this,Ws))==null||n.call(this),ge(this,Ws,e(this.setOnline.bind(this)))}setOnline(e){B(this,ol)!==e&&(ge(this,ol,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return B(this,ol)}},ol=new WeakMap,Ws=new WeakMap,al=new WeakMap,Wx),td=new v_;function E_(t){return Math.min(1e3*2**t,3e4)}function hv(t){return(t??"online")==="online"?td.isOnline():!0}var W0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function pv(t){let e=!1,n=0,i;const a=z0(),l=()=>a.status!=="pending",d=R=>{var k;if(!l()){const _=new W0(R);O(_),(k=t.onCancel)==null||k.call(t,_)}},p=()=>{e=!0},y=()=>{e=!1},m=()=>Tp.isFocused()&&(t.networkMode==="always"||td.isOnline())&&t.canRun(),E=()=>hv(t.networkMode)&&t.canRun(),A=R=>{l()||(i==null||i(),a.resolve(R))},O=R=>{l()||(i==null||i(),a.reject(R))},L=()=>new Promise(R=>{var k;i=_=>{(l()||m())&&R(_)},(k=t.onPause)==null||k.call(t)}).then(()=>{var R;i=void 0,l()||(R=t.onContinue)==null||R.call(t)}),j=()=>{if(l())return;let R;const k=n===0?t.initialPromise:void 0;try{R=k??t.fn()}catch(_){R=Promise.reject(_)}Promise.resolve(R).then(A).catch(_=>{var G;if(l())return;const b=t.retry??(la?0:3),N=t.retryDelay??E_,M=typeof N=="function"?N(n,_):N,X=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,_);if(e||!X){O(_);return}n++,(G=t.onFail)==null||G.call(t,n,_),h_(M).then(()=>m()?void 0:L()).then(()=>{e?O(_):j()})})};return{promise:a,status:()=>a.status,cancel:d,continue:()=>(i==null||i(),a),cancelRetry:p,continueRetry:y,canStart:E,start:()=>(E()?j():L().then(j),a)}}var Uo,Hx,gv=(Hx=class{constructor(){_e(this,Uo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),F0(this.gcTime)&&ge(this,Uo,Bo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(la?1/0:5*60*1e3))}clearGcTimeout(){B(this,Uo)&&(Bo.clearTimeout(B(this,Uo)),ge(this,Uo,void 0))}},Uo=new WeakMap,Hx),jo,ll,Gr,zo,Rn,lc,Wo,ci,Ji,Gx,C_=(Gx=class extends gv{constructor(e){super();_e(this,ci);_e(this,jo);_e(this,ll);_e(this,Gr);_e(this,zo);_e(this,Rn);_e(this,lc);_e(this,Wo);ge(this,Wo,!1),ge(this,lc,e.defaultOptions),this.setOptions(e.options),this.observers=[],ge(this,zo,e.client),ge(this,Gr,B(this,zo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ge(this,jo,Im(this.options)),this.state=e.state??B(this,jo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=B(this,Rn))==null?void 0:e.promise}setOptions(e){if(this.options={...B(this,lc),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Im(this.options);n.data!==void 0&&(this.setState(Tm(n.data,n.dataUpdatedAt)),ge(this,jo,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Gr).remove(this)}setData(e,n){const i=j0(this.state.data,e,this.options);return je(this,ci,Ji).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){je(this,ci,Ji).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,a;const n=(i=B(this,Rn))==null?void 0:i.promise;return(a=B(this,Rn))==null||a.cancel(e),n?n.then(yr).catch(yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,jo))}isActive(){return this.observers.some(e=>Xr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>oo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!uv(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,Rn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,Rn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),B(this,Gr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(B(this,Rn)&&(B(this,Wo)?B(this,Rn).cancel({revert:!0}):B(this,Rn).cancelRetry()),this.scheduleGc()),B(this,Gr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,ci,Ji).call(this,{type:"invalidate"})}async fetch(e,n){var y,m,E,A,O,L,j,R,k,_,b,N;if(this.state.fetchStatus!=="idle"&&((y=B(this,Rn))==null?void 0:y.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Rn))return B(this,Rn).continueRetry(),B(this,Rn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const M=this.observers.find(X=>X.options.queryFn);M&&this.setOptions(M.options)}const i=new AbortController,a=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(ge(this,Wo,!0),i.signal)})},l=()=>{const M=fv(this.options,n),G=(()=>{const z={client:B(this,zo),queryKey:this.queryKey,meta:this.meta};return a(z),z})();return ge(this,Wo,!1),this.options.persister?this.options.persister(M,G,this):M(G)},p=(()=>{const M={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,zo),state:this.state,fetchFn:l};return a(M),M})();(m=this.options.behavior)==null||m.onFetch(p,this),ge(this,ll,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((E=p.fetchOptions)==null?void 0:E.meta))&&je(this,ci,Ji).call(this,{type:"fetch",meta:(A=p.fetchOptions)==null?void 0:A.meta}),ge(this,Rn,pv({initialPromise:n==null?void 0:n.initialPromise,fn:p.fetchFn,onCancel:M=>{M instanceof W0&&M.revert&&this.setState({...B(this,ll),fetchStatus:"idle"}),i.abort()},onFail:(M,X)=>{je(this,ci,Ji).call(this,{type:"failed",failureCount:M,error:X})},onPause:()=>{je(this,ci,Ji).call(this,{type:"pause"})},onContinue:()=>{je(this,ci,Ji).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const M=await B(this,Rn).start();if(M===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(M),(L=(O=B(this,Gr).config).onSuccess)==null||L.call(O,M,this),(R=(j=B(this,Gr).config).onSettled)==null||R.call(j,M,this.state.error,this),M}catch(M){if(M instanceof W0){if(M.silent)return B(this,Rn).promise;if(M.revert){if(this.state.data===void 0)throw M;return this.state.data}}throw je(this,ci,Ji).call(this,{type:"error",error:M}),(_=(k=B(this,Gr).config).onError)==null||_.call(k,M,this),(N=(b=B(this,Gr).config).onSettled)==null||N.call(b,this.state.data,M,this),M}finally{this.scheduleGc()}}},jo=new WeakMap,ll=new WeakMap,Gr=new WeakMap,zo=new WeakMap,Rn=new WeakMap,lc=new WeakMap,Wo=new WeakMap,ci=new WeakSet,Ji=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...mv(i.data,this.options),fetchMeta:e.meta??null};case"success":const a={...i,...Tm(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,ll,e.manual?a:void 0),a;case"error":const l=e.error;return{...i,error:l,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),zn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),B(this,Gr).notify({query:this,type:"updated",action:e})})},Gx);function mv(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hv(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Tm(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Im(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xr,ht,uc,ir,Ho,ul,rs,Hs,cc,cl,fl,Go,Xo,Gs,dl,St,yu,H0,G0,X0,Z0,q0,K0,Y0,xv,Xx,A_=(Xx=class extends Ec{constructor(e,n){super();_e(this,St);_e(this,xr);_e(this,ht);_e(this,uc);_e(this,ir);_e(this,Ho);_e(this,ul);_e(this,rs);_e(this,Hs);_e(this,cc);_e(this,cl);_e(this,fl);_e(this,Go);_e(this,Xo);_e(this,Gs);_e(this,dl,new Set);this.options=n,ge(this,xr,e),ge(this,Hs,null),ge(this,rs,z0()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,ht).addObserver(this),Rm(B(this,ht),this.options)?je(this,St,yu).call(this):this.updateResult(),je(this,St,Z0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Q0(B(this,ht),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Q0(B(this,ht),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,St,q0).call(this),je(this,St,K0).call(this),B(this,ht).removeObserver(this)}setOptions(e){const n=this.options,i=B(this,ht);if(this.options=B(this,xr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xr(this.options.enabled,B(this,ht))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,St,Y0).call(this),B(this,ht).setOptions(this.options),n._defaulted&&!V0(this.options,n)&&B(this,xr).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,ht),observer:this});const a=this.hasListeners();a&&Nm(B(this,ht),i,this.options,n)&&je(this,St,yu).call(this),this.updateResult(),a&&(B(this,ht)!==i||Xr(this.options.enabled,B(this,ht))!==Xr(n.enabled,B(this,ht))||oo(this.options.staleTime,B(this,ht))!==oo(n.staleTime,B(this,ht)))&&je(this,St,H0).call(this);const l=je(this,St,G0).call(this);a&&(B(this,ht)!==i||Xr(this.options.enabled,B(this,ht))!==Xr(n.enabled,B(this,ht))||l!==B(this,Gs))&&je(this,St,X0).call(this,l)}getOptimisticResult(e){const n=B(this,xr).getQueryCache().build(B(this,xr),e),i=this.createResult(n,e);return b_(this,i)&&(ge(this,ir,i),ge(this,ul,this.options),ge(this,Ho,B(this,ht).state)),i}getCurrentResult(){return B(this,ir)}trackResult(e,n){return new Proxy(e,{get:(i,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,rs).status==="pending"&&B(this,rs).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,a))})}trackProp(e){B(this,dl).add(e)}getCurrentQuery(){return B(this,ht)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=B(this,xr).defaultQueryOptions(e),i=B(this,xr).getQueryCache().build(B(this,xr),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(e){return je(this,St,yu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,ir)))}createResult(e,n){var ne;const i=B(this,ht),a=this.options,l=B(this,ir),d=B(this,Ho),p=B(this,ul),m=e!==i?e.state:B(this,uc),{state:E}=e;let A={...E},O=!1,L;if(n._optimisticResults){const ue=this.hasListeners(),De=!ue&&Rm(e,n),xe=ue&&Nm(e,i,n,a);(De||xe)&&(A={...A,...mv(E.data,e.options)}),n._optimisticResults==="isRestoring"&&(A.fetchStatus="idle")}let{error:j,errorUpdatedAt:R,status:k}=A;L=A.data;let _=!1;if(n.placeholderData!==void 0&&L===void 0&&k==="pending"){let ue;l!=null&&l.isPlaceholderData&&n.placeholderData===(p==null?void 0:p.placeholderData)?(ue=l.data,_=!0):ue=typeof n.placeholderData=="function"?n.placeholderData((ne=B(this,fl))==null?void 0:ne.state.data,B(this,fl)):n.placeholderData,ue!==void 0&&(k="success",L=j0(l==null?void 0:l.data,ue,n),O=!0)}if(n.select&&L!==void 0&&!_)if(l&&L===(d==null?void 0:d.data)&&n.select===B(this,cc))L=B(this,cl);else try{ge(this,cc,n.select),L=n.select(L),L=j0(l==null?void 0:l.data,L,n),ge(this,cl,L),ge(this,Hs,null)}catch(ue){ge(this,Hs,ue)}B(this,Hs)&&(j=B(this,Hs),L=B(this,cl),R=Date.now(),k="error");const b=A.fetchStatus==="fetching",N=k==="pending",M=k==="error",X=N&&b,G=L!==void 0,$={status:k,fetchStatus:A.fetchStatus,isPending:N,isSuccess:k==="success",isError:M,isInitialLoading:X,isLoading:X,data:L,dataUpdatedAt:A.dataUpdatedAt,error:j,errorUpdatedAt:R,failureCount:A.fetchFailureCount,failureReason:A.fetchFailureReason,errorUpdateCount:A.errorUpdateCount,isFetched:A.dataUpdateCount>0||A.errorUpdateCount>0,isFetchedAfterMount:A.dataUpdateCount>m.dataUpdateCount||A.errorUpdateCount>m.errorUpdateCount,isFetching:b,isRefetching:b&&!N,isLoadingError:M&&!G,isPaused:A.fetchStatus==="paused",isPlaceholderData:O,isRefetchError:M&&G,isStale:Ip(e,n),refetch:this.refetch,promise:B(this,rs),isEnabled:Xr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const ue=$.data!==void 0,De=$.status==="error"&&!ue,xe=re=>{De?re.reject($.error):ue&&re.resolve($.data)},Xe=()=>{const re=ge(this,rs,$.promise=z0());xe(re)},ot=B(this,rs);switch(ot.status){case"pending":e.queryHash===i.queryHash&&xe(ot);break;case"fulfilled":(De||$.data!==ot.value)&&Xe();break;case"rejected":(!De||$.error!==ot.reason)&&Xe();break}}return $}updateResult(){const e=B(this,ir),n=this.createResult(B(this,ht),this.options);if(ge(this,Ho,B(this,ht).state),ge(this,ul,this.options),B(this,Ho).data!==void 0&&ge(this,fl,B(this,ht)),V0(n,e))return;ge(this,ir,n);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!B(this,dl).size)return!0;const d=new Set(l??B(this,dl));return this.options.throwOnError&&d.add("error"),Object.keys(B(this,ir)).some(p=>{const y=p;return B(this,ir)[y]!==e[y]&&d.has(y)})};je(this,St,xv).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,St,Z0).call(this)}},xr=new WeakMap,ht=new WeakMap,uc=new WeakMap,ir=new WeakMap,Ho=new WeakMap,ul=new WeakMap,rs=new WeakMap,Hs=new WeakMap,cc=new WeakMap,cl=new WeakMap,fl=new WeakMap,Go=new WeakMap,Xo=new WeakMap,Gs=new WeakMap,dl=new WeakMap,St=new WeakSet,yu=function(e){je(this,St,Y0).call(this);let n=B(this,ht).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(yr)),n},H0=function(){je(this,St,q0).call(this);const e=oo(this.options.staleTime,B(this,ht));if(la||B(this,ir).isStale||!F0(e))return;const i=uv(B(this,ir).dataUpdatedAt,e)+1;ge(this,Go,Bo.setTimeout(()=>{B(this,ir).isStale||this.updateResult()},i))},G0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,ht)):this.options.refetchInterval)??!1},X0=function(e){je(this,St,K0).call(this),ge(this,Gs,e),!(la||Xr(this.options.enabled,B(this,ht))===!1||!F0(B(this,Gs))||B(this,Gs)===0)&&ge(this,Xo,Bo.setInterval(()=>{(this.options.refetchIntervalInBackground||Tp.isFocused())&&je(this,St,yu).call(this)},B(this,Gs)))},Z0=function(){je(this,St,H0).call(this),je(this,St,X0).call(this,je(this,St,G0).call(this))},q0=function(){B(this,Go)&&(Bo.clearTimeout(B(this,Go)),ge(this,Go,void 0))},K0=function(){B(this,Xo)&&(Bo.clearInterval(B(this,Xo)),ge(this,Xo,void 0))},Y0=function(){const e=B(this,xr).getQueryCache().build(B(this,xr),this.options);if(e===B(this,ht))return;const n=B(this,ht);ge(this,ht,e),ge(this,uc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},xv=function(e){zn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(B(this,ir))}),B(this,xr).getQueryCache().notify({query:B(this,ht),type:"observerResultsUpdated"})})},Xx);function __(t,e){return Xr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Rm(t,e){return __(t,e)||t.state.data!==void 0&&Q0(t,e,e.refetchOnMount)}function Q0(t,e,n){if(Xr(e.enabled,t)!==!1&&oo(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&Ip(t,e)}return!1}function Nm(t,e,n,i){return(t!==e||Xr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ip(t,n)}function Ip(t,e){return Xr(e.enabled,t)!==!1&&t.isStaleByTime(oo(e.staleTime,t))}function b_(t,e){return!V0(t.getCurrentResult(),e)}function Om(t){return{onFetch:(e,n)=>{var E,A,O,L,j;const i=e.options,a=(O=(A=(E=e.fetchOptions)==null?void 0:E.meta)==null?void 0:A.fetchMore)==null?void 0:O.direction,l=((L=e.state.data)==null?void 0:L.pages)||[],d=((j=e.state.data)==null?void 0:j.pageParams)||[];let p={pages:[],pageParams:[]},y=0;const m=async()=>{let R=!1;const k=N=>{m_(N,()=>e.signal,()=>R=!0)},_=fv(e.options,e.fetchOptions),b=async(N,M,X)=>{if(R)return Promise.reject();if(M==null&&N.pages.length)return Promise.resolve(N);const z=(()=>{const De={client:e.client,queryKey:e.queryKey,pageParam:M,direction:X?"backward":"forward",meta:e.options.meta};return k(De),De})(),$=await _(z),{maxPages:ne}=e.options,ue=X?g_:p_;return{pages:ue(N.pages,$,ne),pageParams:ue(N.pageParams,M,ne)}};if(a&&l.length){const N=a==="backward",M=N?S_:Dm,X={pages:l,pageParams:d},G=M(i,X);p=await b(X,G,N)}else{const N=t??l.length;do{const M=y===0?d[0]??i.initialPageParam:Dm(i,p);if(y>0&&M==null)break;p=await b(p,M),y++}while(y<N)}return p};e.options.persister?e.fetchFn=()=>{var R,k;return(k=(R=e.options).persister)==null?void 0:k.call(R,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=m}}}function Dm(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function S_(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}var fc,Di,sr,Zo,ki,ks,Zx,T_=(Zx=class extends gv{constructor(e){super();_e(this,ki);_e(this,fc);_e(this,Di);_e(this,sr);_e(this,Zo);ge(this,fc,e.client),this.mutationId=e.mutationId,ge(this,sr,e.mutationCache),ge(this,Di,[]),this.state=e.state||I_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){B(this,Di).includes(e)||(B(this,Di).push(e),this.clearGcTimeout(),B(this,sr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ge(this,Di,B(this,Di).filter(n=>n!==e)),this.scheduleGc(),B(this,sr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){B(this,Di).length||(this.state.status==="pending"?this.scheduleGc():B(this,sr).remove(this))}continue(){var e;return((e=B(this,Zo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var d,p,y,m,E,A,O,L,j,R,k,_,b,N,M,X,G,z,$,ne;const n=()=>{je(this,ki,ks).call(this,{type:"continue"})},i={client:B(this,fc),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,Zo,pv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(ue,De)=>{je(this,ki,ks).call(this,{type:"failed",failureCount:ue,error:De})},onPause:()=>{je(this,ki,ks).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,sr).canRun(this)}));const a=this.state.status==="pending",l=!B(this,Zo).canStart();try{if(a)n();else{je(this,ki,ks).call(this,{type:"pending",variables:e,isPaused:l}),await((p=(d=B(this,sr).config).onMutate)==null?void 0:p.call(d,e,this,i));const De=await((m=(y=this.options).onMutate)==null?void 0:m.call(y,e,i));De!==this.state.context&&je(this,ki,ks).call(this,{type:"pending",context:De,variables:e,isPaused:l})}const ue=await B(this,Zo).start();return await((A=(E=B(this,sr).config).onSuccess)==null?void 0:A.call(E,ue,e,this.state.context,this,i)),await((L=(O=this.options).onSuccess)==null?void 0:L.call(O,ue,e,this.state.context,i)),await((R=(j=B(this,sr).config).onSettled)==null?void 0:R.call(j,ue,null,this.state.variables,this.state.context,this,i)),await((_=(k=this.options).onSettled)==null?void 0:_.call(k,ue,null,e,this.state.context,i)),je(this,ki,ks).call(this,{type:"success",data:ue}),ue}catch(ue){try{await((N=(b=B(this,sr).config).onError)==null?void 0:N.call(b,ue,e,this.state.context,this,i))}catch(De){Promise.reject(De)}try{await((X=(M=this.options).onError)==null?void 0:X.call(M,ue,e,this.state.context,i))}catch(De){Promise.reject(De)}try{await((z=(G=B(this,sr).config).onSettled)==null?void 0:z.call(G,void 0,ue,this.state.variables,this.state.context,this,i))}catch(De){Promise.reject(De)}try{await((ne=($=this.options).onSettled)==null?void 0:ne.call($,void 0,ue,e,this.state.context,i))}catch(De){Promise.reject(De)}throw je(this,ki,ks).call(this,{type:"error",error:ue}),ue}finally{B(this,sr).runNext(this)}}},fc=new WeakMap,Di=new WeakMap,sr=new WeakMap,Zo=new WeakMap,ki=new WeakSet,ks=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),zn.batch(()=>{B(this,Di).forEach(i=>{i.onMutationUpdate(e)}),B(this,sr).notify({mutation:this,type:"updated",action:e})})},Zx);function I_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var is,fi,dc,qx,R_=(qx=class extends Ec{constructor(e={}){super();_e(this,is);_e(this,fi);_e(this,dc);this.config=e,ge(this,is,new Set),ge(this,fi,new Map),ge(this,dc,0)}build(e,n,i){const a=new T_({client:e,mutationCache:this,mutationId:++Wc(this,dc)._,options:e.defaultMutationOptions(n),state:i});return this.add(a),a}add(e){B(this,is).add(e);const n=lf(e);if(typeof n=="string"){const i=B(this,fi).get(n);i?i.push(e):B(this,fi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,is).delete(e)){const n=lf(e);if(typeof n=="string"){const i=B(this,fi).get(n);if(i)if(i.length>1){const a=i.indexOf(e);a!==-1&&i.splice(a,1)}else i[0]===e&&B(this,fi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=lf(e);if(typeof n=="string"){const i=B(this,fi).get(n),a=i==null?void 0:i.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){var i;const n=lf(e);if(typeof n=="string"){const a=(i=B(this,fi).get(n))==null?void 0:i.find(l=>l!==e&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zn.batch(()=>{B(this,is).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,is).clear(),B(this,fi).clear()})}getAll(){return Array.from(B(this,is))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>_m(n,i))}findAll(e={}){return this.getAll().filter(n=>_m(e,n))}notify(e){zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zn.batch(()=>Promise.all(e.map(n=>n.continue().catch(yr))))}},is=new WeakMap,fi=new WeakMap,dc=new WeakMap,qx);function lf(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Pi,Kx,N_=(Kx=class extends Ec{constructor(e={}){super();_e(this,Pi);this.config=e,ge(this,Pi,new Map)}build(e,n,i){const a=n.queryKey,l=n.queryHash??bp(a,n);let d=this.get(l);return d||(d=new C_({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(d)),d}add(e){B(this,Pi).has(e.queryHash)||(B(this,Pi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,Pi).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,Pi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,Pi).get(e)}getAll(){return[...B(this,Pi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>Am(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>Am(e,i)):n}notify(e){zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pi=new WeakMap,Kx),sn,Xs,Zs,hl,pl,qs,gl,ml,Yx,O_=(Yx=class{constructor(t={}){_e(this,sn);_e(this,Xs);_e(this,Zs);_e(this,hl);_e(this,pl);_e(this,qs);_e(this,gl);_e(this,ml);ge(this,sn,t.queryCache||new N_),ge(this,Xs,t.mutationCache||new R_),ge(this,Zs,t.defaultOptions||{}),ge(this,hl,new Map),ge(this,pl,new Map),ge(this,qs,0)}mount(){Wc(this,qs)._++,B(this,qs)===1&&(ge(this,gl,Tp.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,sn).onFocus())})),ge(this,ml,td.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,sn).onOnline())})))}unmount(){var t,e;Wc(this,qs)._--,B(this,qs)===0&&((t=B(this,gl))==null||t.call(this),ge(this,gl,void 0),(e=B(this,ml))==null||e.call(this),ge(this,ml,void 0))}isFetching(t){return B(this,sn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,Xs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,sn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,sn).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(oo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return B(this,sn).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),a=B(this,sn).get(i.queryHash),l=a==null?void 0:a.state.data,d=f_(e,l);if(d!==void 0)return B(this,sn).build(this,i).setData(d,{...n,manual:!0})}setQueriesData(t,e,n){return zn.batch(()=>B(this,sn).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,sn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,sn);zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,sn);return zn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=zn.batch(()=>B(this,sn).findAll(t).map(a=>a.cancel(n)));return Promise.all(i).then(yr).catch(yr)}invalidateQueries(t,e={}){return zn.batch(()=>(B(this,sn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=zn.batch(()=>B(this,sn).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(yr)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(yr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,sn).build(this,e);return n.isStaleByTime(oo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yr).catch(yr)}fetchInfiniteQuery(t){return t.behavior=Om(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yr).catch(yr)}ensureInfiniteQueryData(t){return t.behavior=Om(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return td.isOnline()?B(this,Xs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,sn)}getMutationCache(){return B(this,Xs)}getDefaultOptions(){return B(this,Zs)}setDefaultOptions(t){ge(this,Zs,t)}setQueryDefaults(t,e){B(this,hl).set(ec(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,hl).values()],n={};return e.forEach(i=>{tc(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){B(this,pl).set(ec(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,pl).values()],n={};return e.forEach(i=>{tc(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Zs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Sp&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Zs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,sn).clear(),B(this,Xs).clear()}},sn=new WeakMap,Xs=new WeakMap,Zs=new WeakMap,hl=new WeakMap,pl=new WeakMap,qs=new WeakMap,gl=new WeakMap,ml=new WeakMap,Yx),yv=we.createContext(void 0),D_=t=>{const e=we.useContext(yv);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},k_=({client:t,children:e})=>(we.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),Y.jsx(yv.Provider,{value:t,children:e})),wv=we.createContext(!1),P_=()=>we.useContext(wv);wv.Provider;function M_(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var L_=we.createContext(M_()),B_=()=>we.useContext(L_),F_=(t,e,n)=>{const i=n!=null&&n.state.error&&typeof t.throwOnError=="function"?dv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||i)&&(e.isReset()||(t.retryOnMount=!1))},V_=t=>{we.useEffect(()=>{t.clearReset()},[t])},U_=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(a&&t.data===void 0||dv(n,[t.error,i])),j_=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...a)=>n(i(...a)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},z_=(t,e)=>t.isLoading&&t.isFetching&&!e,W_=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,km=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function H_(t,e,n){var O,L,j,R;const i=P_(),a=B_(),l=D_(),d=l.defaultQueryOptions(t);(L=(O=l.getDefaultOptions().queries)==null?void 0:O._experimental_beforeQuery)==null||L.call(O,d);const p=l.getQueryCache().get(d.queryHash);d._optimisticResults=i?"isRestoring":"optimistic",j_(d),F_(d,a,p),V_(a);const y=!l.getQueryCache().get(d.queryHash),[m]=we.useState(()=>new e(l,d)),E=m.getOptimisticResult(d),A=!i&&t.subscribed!==!1;if(we.useSyncExternalStore(we.useCallback(k=>{const _=A?m.subscribe(zn.batchCalls(k)):yr;return m.updateResult(),_},[m,A]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),we.useEffect(()=>{m.setOptions(d)},[d,m]),W_(d,E))throw km(d,m,a);if(U_({result:E,errorResetBoundary:a,throwOnError:d.throwOnError,query:p,suspense:d.suspense}))throw E.error;if((R=(j=l.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||R.call(j,d,E),d.experimental_prefetchInRender&&!la&&z_(E,i)){const k=y?km(d,m,a):p==null?void 0:p.promise;k==null||k.catch(yr).finally(()=>{m.updateResult()})}return d.notifyOnChangeProps?E:m.trackResult(E)}function vv(t,e){return H_(t,A_)}const G_=new O_({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*60*24,retry:1,networkMode:"offlineFirst"}}}),X_={},Pm=t=>{let e;const n=new Set,i=(E,A)=>{const O=typeof E=="function"?E(e):E;if(!Object.is(O,e)){const L=e;e=A??(typeof O!="object"||O===null)?O:Object.assign({},e,O),n.forEach(j=>j(e,L))}},a=()=>e,y={setState:i,getState:a,getInitialState:()=>m,subscribe:E=>(n.add(E),()=>n.delete(E)),destroy:()=>{(X_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},m=e=t(i,a,y);return y},Z_=t=>t?Pm(t):Pm;var Ev={exports:{}},Cv={},Av={exports:{}},_v={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=we;function q_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var K_=typeof Object.is=="function"?Object.is:q_,Y_=Tl.useState,Q_=Tl.useEffect,$_=Tl.useLayoutEffect,J_=Tl.useDebugValue;function eb(t,e){var n=e(),i=Y_({inst:{value:n,getSnapshot:e}}),a=i[0].inst,l=i[1];return $_(function(){a.value=n,a.getSnapshot=e,vh(a)&&l({inst:a})},[t,n,e]),Q_(function(){return vh(a)&&l({inst:a}),t(function(){vh(a)&&l({inst:a})})},[t]),J_(n),n}function vh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!K_(t,n)}catch{return!0}}function tb(t,e){return e()}var nb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tb:eb;_v.useSyncExternalStore=Tl.useSyncExternalStore!==void 0?Tl.useSyncExternalStore:nb;Av.exports=_v;var rb=Av.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=we,ib=rb;function sb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ob=typeof Object.is=="function"?Object.is:sb,ab=ib.useSyncExternalStore,lb=Md.useRef,ub=Md.useEffect,cb=Md.useMemo,fb=Md.useDebugValue;Cv.useSyncExternalStoreWithSelector=function(t,e,n,i,a){var l=lb(null);if(l.current===null){var d={hasValue:!1,value:null};l.current=d}else d=l.current;l=cb(function(){function y(L){if(!m){if(m=!0,E=L,L=i(L),a!==void 0&&d.hasValue){var j=d.value;if(a(j,L))return A=j}return A=L}if(j=A,ob(E,L))return j;var R=i(L);return a!==void 0&&a(j,R)?(E=L,j):(E=L,A=R)}var m=!1,E,A,O=n===void 0?null:n;return[function(){return y(e())},O===null?void 0:function(){return y(O())}]},[e,n,i,a]);var p=ab(t,l[0],l[1]);return ub(function(){d.hasValue=!0,d.value=p},[p]),fb(p),p};Ev.exports=Cv;var db=Ev.exports;const hb=N1(db),bv={},{useDebugValue:pb}=Au,{useSyncExternalStoreWithSelector:gb}=hb;let Mm=!1;const mb=t=>t;function xb(t,e=mb,n){(bv?"production":void 0)!=="production"&&n&&!Mm&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Mm=!0);const i=gb(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return pb(i),i}const Lm=t=>{(bv?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Z_(t):t,n=(i,a)=>xb(e,i,a);return Object.assign(n,e),n},yb=t=>t?Lm(t):Lm,pi=yb(t=>({currentView:"home",setView:e=>t({currentView:e}),toasts:[],addToast:e=>{const n=Math.random().toString(36).substring(7);t({toasts:[{...e,id:n}]}),e.type!=="percentage"&&setTimeout(()=>{t(i=>({toasts:i.toasts.filter(a=>a.id!==n)}))},3e3)},removeToast:e=>t(n=>({toasts:n.toasts.filter(i=>i.id!==e)})),dbStatus:"Checked: Jan 20, 2026",setDbStatus:e=>t({dbStatus:e}),activeCode:null,setActiveCode:e=>t({activeCode:e})})),Rp=we.createContext({});function Np(t){const e=we.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ld=we.createContext(null),Op=we.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class wb extends we.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vb({children:t,isPresent:e}){const n=we.useId(),i=we.useRef(null),a=we.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=we.useContext(Op);return we.useInsertionEffect(()=>{const{width:d,height:p,top:y,left:m}=a.current;if(e||!i.current||!d||!p)return;i.current.dataset.motionPopId=n;const E=document.createElement("style");return l&&(E.nonce=l),document.head.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            top: ${y}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(E)}},[e]),Y.jsx(wb,{isPresent:e,childRef:i,sizeRef:a,children:we.cloneElement(t,{ref:i})})}const Eb=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:d})=>{const p=Np(Cb),y=we.useId(),m=we.useCallback(A=>{p.set(A,!0);for(const O of p.values())if(!O)return;i&&i()},[p,i]),E=we.useMemo(()=>({id:y,initial:e,isPresent:n,custom:a,onExitComplete:m,register:A=>(p.set(A,!1),()=>p.delete(A))}),l?[Math.random(),m]:[n,m]);return we.useMemo(()=>{p.forEach((A,O)=>p.set(O,!1))},[n]),we.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),d==="popLayout"&&(t=Y.jsx(vb,{isPresent:n,children:t})),Y.jsx(Ld.Provider,{value:E,children:t})};function Cb(){return new Map}function Sv(t=!0){const e=we.useContext(Ld);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=we.useId();we.useEffect(()=>{t&&a(l)},[t]);const d=we.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,d]:[!0]}const uf=t=>t.key||"";function Bm(t){const e=[];return we.Children.forEach(t,n=>{we.isValidElement(n)&&e.push(n)}),e}const Dp=typeof window<"u",Tv=Dp?we.useLayoutEffect:we.useEffect,bf=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:d=!1})=>{const[p,y]=Sv(d),m=we.useMemo(()=>Bm(t),[t]),E=d&&!p?[]:m.map(uf),A=we.useRef(!0),O=we.useRef(m),L=Np(()=>new Map),[j,R]=we.useState(m),[k,_]=we.useState(m);Tv(()=>{A.current=!1,O.current=m;for(let M=0;M<k.length;M++){const X=uf(k[M]);E.includes(X)?L.delete(X):L.get(X)!==!0&&L.set(X,!1)}},[k,E.length,E.join("-")]);const b=[];if(m!==j){let M=[...m];for(let X=0;X<k.length;X++){const G=k[X],z=uf(G);E.includes(z)||(M.splice(X,0,G),b.push(G))}l==="wait"&&b.length&&(M=b),_(Bm(M)),R(m);return}const{forceRender:N}=we.useContext(Rp);return Y.jsx(Y.Fragment,{children:k.map(M=>{const X=uf(M),G=d&&!p?!1:m===k||E.includes(X),z=()=>{if(L.has(X))L.set(X,!0);else return;let $=!0;L.forEach(ne=>{ne||($=!1)}),$&&(N==null||N(),_(O.current),d&&(y==null||y()),i&&i())};return Y.jsx(Eb,{isPresent:G,initial:!A.current||n?void 0:!1,custom:G?void 0:e,presenceAffectsLayout:a,mode:l,onExitComplete:G?void 0:z,children:M},X)})})},Mr=t=>t;let Iv=Mr;function kp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Il=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},us=t=>t*1e3,cs=t=>t/1e3,Ab={useManualTiming:!1};function _b(t){let e=new Set,n=new Set,i=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(m){l.has(m)&&(y.schedule(m),t()),m(d)}const y={schedule:(m,E=!1,A=!1)=>{const L=A&&i?e:n;return E&&l.add(m),L.has(m)||L.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(d=m,i){a=!0;return}i=!0,[e,n]=[n,e],e.forEach(p),e.clear(),i=!1,a&&(a=!1,y.process(m))}};return y}const cf=["read","resolveKeyframes","update","preRender","render","postRender"],bb=40;function Rv(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,d=cf.reduce((_,b)=>(_[b]=_b(l),_),{}),{read:p,resolveKeyframes:y,update:m,preRender:E,render:A,postRender:O}=d,L=()=>{const _=performance.now();n=!1,a.delta=i?1e3/60:Math.max(Math.min(_-a.timestamp,bb),1),a.timestamp=_,a.isProcessing=!0,p.process(a),y.process(a),m.process(a),E.process(a),A.process(a),O.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(L))},j=()=>{n=!0,i=!0,a.isProcessing||t(L)};return{schedule:cf.reduce((_,b)=>{const N=d[b];return _[b]=(M,X=!1,G=!1)=>(n||j(),N.schedule(M,X,G)),_},{}),cancel:_=>{for(let b=0;b<cf.length;b++)d[cf[b]].cancel(_)},state:a,steps:d}}const{schedule:Zt,cancel:co,state:jn,steps:Eh}=Rv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mr,!0),Nv=we.createContext({strict:!1}),Fm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rl={};for(const t in Fm)Rl[t]={isEnabled:e=>Fm[t].some(n=>!!e[n])};function Sb(t){for(const e in t)Rl[e]={...Rl[e],...t[e]}}const Tb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Tb.has(t)}let Ov=t=>!nd(t);function Ib(t){t&&(Ov=e=>e.startsWith("on")?!nd(e):t(e))}try{Ib(require("@emotion/is-prop-valid").default)}catch{}function Rb(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(Ov(a)||n===!0&&nd(a)||!e&&!nd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function Nb(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Bd=we.createContext({});function nc(t){return typeof t=="string"||Array.isArray(t)}function Fd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Pp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mp=["initial",...Pp];function Vd(t){return Fd(t.animate)||Mp.some(e=>nc(t[e]))}function Dv(t){return!!(Vd(t)||t.variants)}function Ob(t,e){if(Vd(t)){const{initial:n,animate:i}=t;return{initial:n===!1||nc(n)?n:void 0,animate:nc(i)?i:void 0}}return t.inherit!==!1?e:{}}function Db(t){const{initial:e,animate:n}=Ob(t,we.useContext(Bd));return we.useMemo(()=>({initial:e,animate:n}),[Vm(e),Vm(n)])}function Vm(t){return Array.isArray(t)?t.join(" "):t}const kb=Symbol.for("motionComponentSymbol");function Xa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Pb(t,e,n){return we.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Xa(n)&&(n.current=i))},[e])}const Lp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mb="framerAppearId",kv="data-"+Lp(Mb),{schedule:Bp}=Rv(queueMicrotask,!1),Pv=we.createContext({});function Lb(t,e,n,i,a){var l,d;const{visualElement:p}=we.useContext(Bd),y=we.useContext(Nv),m=we.useContext(Ld),E=we.useContext(Op).reducedMotion,A=we.useRef(null);i=i||y.renderer,!A.current&&i&&(A.current=i(t,{visualState:e,parent:p,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:E}));const O=A.current,L=we.useContext(Pv);O&&!O.projection&&a&&(O.type==="html"||O.type==="svg")&&Bb(A.current,n,a,L);const j=we.useRef(!1);we.useInsertionEffect(()=>{O&&j.current&&O.update(n,m)});const R=n[kv],k=we.useRef(!!R&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,R))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,R)));return Tv(()=>{O&&(j.current=!0,window.MotionIsMounted=!0,O.updateFeatures(),Bp.render(O.render),k.current&&O.animationState&&O.animationState.animateChanges())}),we.useEffect(()=>{O&&(!k.current&&O.animationState&&O.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,R)}),k.current=!1))}),O}function Bb(t,e,n,i){const{layoutId:a,layout:l,drag:d,dragConstraints:p,layoutScroll:y,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Mv(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!d||p&&Xa(p),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:y,layoutRoot:m})}function Mv(t){if(t)return t.options.allowProjection!==!1?t.projection:Mv(t.parent)}function Fb({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:a}){var l,d;t&&Sb(t);function p(m,E){let A;const O={...we.useContext(Op),...m,layoutId:Vb(m)},{isStatic:L}=O,j=Db(m),R=i(m,L);if(!L&&Dp){Ub();const k=jb(O);A=k.MeasureLayout,j.visualElement=Lb(a,R,O,e,k.ProjectionNode)}return Y.jsxs(Bd.Provider,{value:j,children:[A&&j.visualElement?Y.jsx(A,{visualElement:j.visualElement,...O}):null,n(a,m,Pb(R,j.visualElement,E),R,L,j.visualElement)]})}p.displayName=`motion.${typeof a=="string"?a:`create(${(d=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&d!==void 0?d:""})`}`;const y=we.forwardRef(p);return y[kb]=a,y}function Vb({layoutId:t}){const e=we.useContext(Rp).id;return e&&t!==void 0?e+"-"+t:t}function Ub(t,e){we.useContext(Nv).strict}function jb(t){const{drag:e,layout:n}=Rl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const zb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fp(t){return typeof t!="string"||t.includes("-")?!1:!!(zb.indexOf(t)>-1||/[A-Z]/u.test(t))}function Um(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Vp(t,e,n,i){if(typeof e=="function"){const[a,l]=Um(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Um(i);e=e(n!==void 0?n:t.custom,a,l)}return e}const $0=t=>Array.isArray(t),Wb=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Hb=t=>$0(t)?t[t.length-1]||0:t,Qn=t=>!!(t&&t.getVelocity);function Sf(t){const e=Qn(t)?t.get():t;return Wb(e)?e.toValue():e}function Gb({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,a,l){const d={latestValues:Xb(i,a,l,t),renderState:e()};return n&&(d.onMount=p=>n({props:i,current:p,...d}),d.onUpdate=p=>n(p)),d}const Lv=t=>(e,n)=>{const i=we.useContext(Bd),a=we.useContext(Ld),l=()=>Gb(t,e,i,a);return n?l():Np(l)};function Xb(t,e,n,i){const a={},l=i(t,{});for(const O in l)a[O]=Sf(l[O]);let{initial:d,animate:p}=t;const y=Vd(t),m=Dv(t);e&&m&&!y&&t.inherit!==!1&&(d===void 0&&(d=e.initial),p===void 0&&(p=e.animate));let E=n?n.initial===!1:!1;E=E||d===!1;const A=E?p:d;if(A&&typeof A!="boolean"&&!Fd(A)){const O=Array.isArray(A)?A:[A];for(let L=0;L<O.length;L++){const j=Vp(t,O[L]);if(j){const{transitionEnd:R,transition:k,..._}=j;for(const b in _){let N=_[b];if(Array.isArray(N)){const M=E?N.length-1:0;N=N[M]}N!==null&&(a[b]=N)}for(const b in R)a[b]=R[b]}}}return a}const Vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pa=new Set(Vl),Bv=t=>e=>typeof e=="string"&&e.startsWith(t),Fv=Bv("--"),Zb=Bv("var(--"),Up=t=>Zb(t)?qb.test(t.split("/*")[0].trim()):!1,qb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vv=(t,e)=>e&&typeof t=="number"?e.transform(t):t,gs=(t,e,n)=>n>e?e:n<t?t:n,Ul={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rc={...Ul,transform:t=>gs(0,1,t)},ff={...Ul,default:1},Cc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ps=Cc("deg"),Vi=Cc("%"),ze=Cc("px"),Kb=Cc("vh"),Yb=Cc("vw"),jm={...Vi,parse:t=>Vi.parse(t)/100,transform:t=>Vi.transform(t*100)},Qb={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze},$b={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:ff,scaleX:ff,scaleY:ff,scaleZ:ff,skew:Ps,skewX:Ps,skewY:Ps,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:rc,originX:jm,originY:jm,originZ:ze},zm={...Ul,transform:Math.round},jp={...Qb,...$b,zIndex:zm,size:ze,fillOpacity:rc,strokeOpacity:rc,numOctaves:zm},Jb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e4=Vl.length;function t4(t,e,n){let i="",a=!0;for(let l=0;l<e4;l++){const d=Vl[l],p=t[d];if(p===void 0)continue;let y=!0;if(typeof p=="number"?y=p===(d.startsWith("scale")?1:0):y=parseFloat(p)===0,!y||n){const m=Vv(p,jp[d]);if(!y){a=!1;const E=Jb[d]||d;i+=`${E}(${m}) `}n&&(e[d]=m)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function zp(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let d=!1,p=!1;for(const y in e){const m=e[y];if(pa.has(y)){d=!0;continue}else if(Fv(y)){a[y]=m;continue}else{const E=Vv(m,jp[y]);y.startsWith("origin")?(p=!0,l[y]=E):i[y]=E}}if(e.transform||(d||n?i.transform=t4(e,t.transform,n):i.transform&&(i.transform="none")),p){const{originX:y="50%",originY:m="50%",originZ:E=0}=l;i.transformOrigin=`${y} ${m} ${E}`}}const n4={offset:"stroke-dashoffset",array:"stroke-dasharray"},r4={offset:"strokeDashoffset",array:"strokeDasharray"};function i4(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?n4:r4;t[l.offset]=ze.transform(-i);const d=ze.transform(e),p=ze.transform(n);t[l.array]=`${d} ${p}`}function Wm(t,e,n){return typeof t=="string"?t:ze.transform(e+n*t)}function s4(t,e,n){const i=Wm(e,t.x,t.width),a=Wm(n,t.y,t.height);return`${i} ${a}`}function Wp(t,{attrX:e,attrY:n,attrScale:i,originX:a,originY:l,pathLength:d,pathSpacing:p=1,pathOffset:y=0,...m},E,A){if(zp(t,m,A),E){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:O,style:L,dimensions:j}=t;O.transform&&(j&&(L.transform=O.transform),delete O.transform),j&&(a!==void 0||l!==void 0||L.transform)&&(L.transformOrigin=s4(j,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(O.x=e),n!==void 0&&(O.y=n),i!==void 0&&(O.scale=i),d!==void 0&&i4(O,d,p,y,!1)}const Hp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Uv=()=>({...Hp(),attrs:{}}),Gp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jv(t,{style:e,vars:n},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const l in n)t.style.setProperty(l,n[l])}const zv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wv(t,e,n,i){jv(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(zv.has(a)?a:Lp(a),e.attrs[a])}const rd={};function o4(t){Object.assign(rd,t)}function Hv(t,{layout:e,layoutId:n}){return pa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rd[t]||t==="opacity")}function Xp(t,e,n){var i;const{style:a}=t,l={};for(const d in a)(Qn(a[d])||e.style&&Qn(e.style[d])||Hv(d,t)||((i=n==null?void 0:n.getValue(d))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[d]=a[d]);return l}function Gv(t,e,n){const i=Xp(t,e,n);for(const a in t)if(Qn(t[a])||Qn(e[a])){const l=Vl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}function a4(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Hm=["x","y","width","height","cx","cy","r"],l4={useVisualState:Lv({scrapeMotionValuesFromProps:Gv,createRenderState:Uv,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const p in a)if(pa.has(p)){l=!0;break}}if(!l)return;let d=!e;if(e)for(let p=0;p<Hm.length;p++){const y=Hm[p];t[y]!==e[y]&&(d=!0)}d&&Zt.read(()=>{a4(n,i),Zt.render(()=>{Wp(i,a,Gp(n.tagName),t.transformTemplate),Wv(n,i)})})}})},u4={useVisualState:Lv({scrapeMotionValuesFromProps:Xp,createRenderState:Hp})};function Xv(t,e,n){for(const i in e)!Qn(e[i])&&!Hv(i,n)&&(t[i]=e[i])}function c4({transformTemplate:t},e){return we.useMemo(()=>{const n=Hp();return zp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function f4(t,e){const n=t.style||{},i={};return Xv(i,n,t),Object.assign(i,c4(t,e)),i}function d4(t,e){const n={},i=f4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function h4(t,e,n,i){const a=we.useMemo(()=>{const l=Uv();return Wp(l,e,Gp(i),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Xv(l,t.style,t),a.style={...l,...a.style}}return a}function p4(t=!1){return(n,i,a,{latestValues:l},d)=>{const y=(Fp(n)?h4:d4)(i,l,d,n),m=Rb(i,typeof n=="string",t),E=n!==we.Fragment?{...m,...y,ref:a}:{},{children:A}=i,O=we.useMemo(()=>Qn(A)?A.get():A,[A]);return we.createElement(n,{...E,children:O})}}function g4(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const d={...Fp(i)?l4:u4,preloadedFeatures:t,useRender:p4(a),createVisualElement:e,Component:i};return Fb(d)}}function Zv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Ud(t,e,n){const i=t.getProps();return Vp(i,e,n!==void 0?n:i.custom,t)}const m4=kp(()=>window.ScrollTimeline!==void 0);class x4{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(a=>{if(m4()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{i.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class y4 extends x4{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Zp(t,e){return t?t[e]||t.default||t:void 0}const J0=2e4;function qv(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<J0;)e+=n,i=t.next(e);return e>=J0?1/0:e}function qp(t){return typeof t=="function"}function Gm(t,e){t.timeline=e,t.onfinish=null}const Kp=t=>Array.isArray(t)&&typeof t[0]=="number",w4={linearEasing:void 0};function v4(t,e){const n=kp(t);return()=>{var i;return(i=w4[e])!==null&&i!==void 0?i:n()}}const id=v4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kv=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=t(Il(0,a-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function Yv(t){return!!(typeof t=="function"&&id()||!t||typeof t=="string"&&(t in e1||id())||Kp(t)||Array.isArray(t)&&t.every(Yv))}const wu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,e1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wu([0,.65,.55,1]),circOut:wu([.55,0,1,.45]),backIn:wu([.31,.01,.66,-.59]),backOut:wu([.33,1.53,.69,.99])};function Qv(t,e){if(t)return typeof t=="function"&&id()?Kv(t,e):Kp(t)?wu(t):Array.isArray(t)?t.map(n=>Qv(n,e)||e1.easeOut):e1[t]}const li={x:!1,y:!1};function $v(){return li.x||li.y}function E4(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const l=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function Jv(t,e){const n=E4(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function Xm(t){return e=>{e.pointerType==="touch"||$v()||t(e)}}function C4(t,e,n={}){const[i,a,l]=Jv(t,n),d=Xm(p=>{const{target:y}=p,m=e(p);if(typeof m!="function"||!y)return;const E=Xm(A=>{m(A),y.removeEventListener("pointerleave",E)});y.addEventListener("pointerleave",E,a)});return i.forEach(p=>{p.addEventListener("pointerenter",d,a)}),l}const e3=(t,e)=>e?t===e?!0:e3(t,e.parentElement):!1,Yp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,A4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _4(t){return A4.has(t.tagName)||t.tabIndex!==-1}const vu=new WeakSet;function Zm(t){return e=>{e.key==="Enter"&&t(e)}}function Ch(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const b4=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Zm(()=>{if(vu.has(n))return;Ch(n,"down");const a=Zm(()=>{Ch(n,"up")}),l=()=>Ch(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function qm(t){return Yp(t)&&!$v()}function S4(t,e,n={}){const[i,a,l]=Jv(t,n),d=p=>{const y=p.currentTarget;if(!qm(p)||vu.has(y))return;vu.add(y);const m=e(p),E=(L,j)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",O),!(!qm(L)||!vu.has(y))&&(vu.delete(y),typeof m=="function"&&m(L,{success:j}))},A=L=>{E(L,n.useGlobalTarget||e3(y,L.target))},O=L=>{E(L,!1)};window.addEventListener("pointerup",A,a),window.addEventListener("pointercancel",O,a)};return i.forEach(p=>{!_4(p)&&p.getAttribute("tabindex")===null&&(p.tabIndex=0),(n.useGlobalTarget?window:p).addEventListener("pointerdown",d,a),p.addEventListener("focus",m=>b4(m,a),a)}),l}function T4(t){return t==="x"||t==="y"?li[t]?null:(li[t]=!0,()=>{li[t]=!1}):li.x||li.y?null:(li.x=li.y=!0,()=>{li.x=li.y=!1})}const t3=new Set(["width","height","top","left","right","bottom",...Vl]);let Tf;function I4(){Tf=void 0}const Ui={now:()=>(Tf===void 0&&Ui.set(jn.isProcessing||Ab.useManualTiming?jn.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(I4)}};function Qp(t,e){t.indexOf(e)===-1&&t.push(e)}function $p(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Jp{constructor(){this.subscriptions=[]}add(e){return Qp(this.subscriptions,e),()=>$p(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const d=this.subscriptions[l];d&&d(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function n3(t,e){return e?t*(1e3/e):0}const Km=30,R4=t=>!isNaN(parseFloat(t));class N4{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const l=Ui.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ui.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=R4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Jp);const i=this.events[e].add(n);return e==="change"?()=>{i(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ui.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Km)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Km);return n3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ic(t,e){return new N4(t,e)}function O4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ic(n))}function D4(t,e){const n=Ud(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const d in l){const p=Hb(l[d]);O4(t,d,p)}}function k4(t){return!!(Qn(t)&&t.add)}function t1(t,e){const n=t.getValue("willChange");if(k4(n))return n.add(e)}function r3(t){return t.props[kv]}const i3=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,P4=1e-7,M4=12;function L4(t,e,n,i,a){let l,d,p=0;do d=e+(n-e)/2,l=i3(d,i,a)-t,l>0?n=d:e=d;while(Math.abs(l)>P4&&++p<M4);return d}function Ac(t,e,n,i){if(t===e&&n===i)return Mr;const a=l=>L4(l,0,1,t,n);return l=>l===0||l===1?l:i3(a(l),e,i)}const s3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,o3=t=>e=>1-t(1-e),a3=Ac(.33,1.53,.69,.99),eg=o3(a3),l3=s3(eg),u3=t=>(t*=2)<1?.5*eg(t):.5*(2-Math.pow(2,-10*(t-1))),tg=t=>1-Math.sin(Math.acos(t)),c3=o3(tg),f3=s3(tg),d3=t=>/^0[^.\s]+$/u.test(t);function B4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||d3(t):!0}const ku=t=>Math.round(t*1e5)/1e5,ng=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F4(t){return t==null}const V4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rg=(t,e)=>n=>!!(typeof n=="string"&&V4.test(n)&&n.startsWith(t)||e&&!F4(n)&&Object.prototype.hasOwnProperty.call(n,e)),h3=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,d,p]=i.match(ng);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(d),alpha:p!==void 0?parseFloat(p):1}},U4=t=>gs(0,255,t),Ah={...Ul,transform:t=>Math.round(U4(t))},Fo={test:rg("rgb","red"),parse:h3("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Ah.transform(t)+", "+Ah.transform(e)+", "+Ah.transform(n)+", "+ku(rc.transform(i))+")"};function j4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const n1={test:rg("#"),parse:j4,transform:Fo.transform},Za={test:rg("hsl","hue"),parse:h3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Vi.transform(ku(e))+", "+Vi.transform(ku(n))+", "+ku(rc.transform(i))+")"},Kn={test:t=>Fo.test(t)||n1.test(t)||Za.test(t),parse:t=>Fo.test(t)?Fo.parse(t):Za.test(t)?Za.parse(t):n1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fo.transform(t):Za.transform(t)},z4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ng))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(z4))===null||n===void 0?void 0:n.length)||0)>0}const p3="number",g3="color",H4="var",G4="var(",Ym="${}",X4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const p=e.replace(X4,y=>(Kn.test(y)?(i.color.push(l),a.push(g3),n.push(Kn.parse(y))):y.startsWith(G4)?(i.var.push(l),a.push(H4),n.push(y)):(i.number.push(l),a.push(p3),n.push(parseFloat(y))),++l,Ym)).split(Ym);return{values:n,split:p,indexes:i,types:a}}function m3(t){return sc(t).values}function x3(t){const{split:e,types:n}=sc(t),i=e.length;return a=>{let l="";for(let d=0;d<i;d++)if(l+=e[d],a[d]!==void 0){const p=n[d];p===p3?l+=ku(a[d]):p===g3?l+=Kn.transform(a[d]):l+=a[d]}return l}}const Z4=t=>typeof t=="number"?0:t;function q4(t){const e=m3(t);return x3(t)(e.map(Z4))}const fo={test:W4,parse:m3,createTransformer:x3,getAnimatableNone:q4},K4=new Set(["brightness","contrast","saturate","opacity"]);function Y4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(ng)||[];if(!i)return t;const a=n.replace(i,"");let l=K4.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const Q4=/\b([a-z-]*)\(.*?\)/gu,r1={...fo,getAnimatableNone:t=>{const e=t.match(Q4);return e?e.map(Y4).join(" "):t}},$4={...jp,color:Kn,backgroundColor:Kn,outlineColor:Kn,fill:Kn,stroke:Kn,borderColor:Kn,borderTopColor:Kn,borderRightColor:Kn,borderBottomColor:Kn,borderLeftColor:Kn,filter:r1,WebkitFilter:r1},ig=t=>$4[t];function y3(t,e){let n=ig(t);return n!==r1&&(n=fo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const J4=new Set(["auto","none","0"]);function eS(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!J4.has(l)&&sc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=y3(n,a)}const Qm=t=>t===Ul||t===ze,$m=(t,e)=>parseFloat(t.split(", ")[e]),Jm=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return $m(a[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?$m(l[1],t):0}},tS=new Set(["x","y","z"]),nS=Vl.filter(t=>!tS.has(t));function rS(t){const e=[];return nS.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Nl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Jm(4,13),y:Jm(5,14)};Nl.translateX=Nl.x;Nl.translateY=Nl.y;const ta=new Set;let i1=!1,s1=!1;function w3(){if(s1){const t=Array.from(ta).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=rS(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,d])=>{var p;(p=i.getValue(l))===null||p===void 0||p.set(d)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}s1=!1,i1=!1,ta.forEach(t=>t.complete()),ta.clear()}function v3(){ta.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(s1=!0)})}function iS(){v3(),w3()}class sg{constructor(e,n,i,a,l,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ta.add(this),i1||(i1=!0,Zt.read(v3),Zt.resolveKeyframes(w3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const d=a==null?void 0:a.get(),p=e[e.length-1];if(d!==void 0)e[0]=d;else if(i&&n){const y=i.readValue(n,p);y!=null&&(e[0]=y)}e[0]===void 0&&(e[0]=p),a&&d===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ta.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ta.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const E3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),sS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oS(t){const e=sS.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function C3(t,e,n=1){const[i,a]=oS(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const d=l.trim();return E3(d)?parseFloat(d):d}return Up(a)?C3(a,e,n+1):a}const A3=t=>e=>e.test(t),aS={test:t=>t==="auto",parse:t=>t},_3=[Ul,ze,Vi,Ps,Yb,Kb,aS],e2=t=>_3.find(A3(t));class b3 extends sg{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let m=e[y];if(typeof m=="string"&&(m=m.trim(),Up(m))){const E=C3(m,n.current);E!==void 0&&(e[y]=E),y===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!t3.has(i)||e.length!==2)return;const[a,l]=e,d=e2(a),p=e2(l);if(d!==p)if(Qm(d)&&Qm(p))for(let y=0;y<e.length;y++){const m=e[y];typeof m=="string"&&(e[y]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)B4(e[a])&&i.push(a);i.length&&eS(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(i);l&&l.jump(this.measuredOrigin,!1);const d=a.length-1,p=a[d];a[d]=Nl[i](n.measureViewportBox(),window.getComputedStyle(n.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([y,m])=>{n.getValue(y).set(m)}),this.resolveNoneKeyframes()}}const t2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fo.test(t)||t==="0")&&!t.startsWith("url("));function lS(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function uS(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],d=t2(a,e),p=t2(l,e);return!d||!p?!1:lS(t)||(n==="spring"||qp(n))&&i}const cS=t=>t!==null;function jd(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(cS),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const fS=40;class S3{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:d="loop",...p}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ui.now(),this.options={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:d,...p},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fS?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&iS(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ui.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:l,delay:d,onComplete:p,onUpdate:y,isGenerator:m}=this.options;if(!m&&!uS(e,i,a,l))if(d)this.options.duration=0;else{y&&y(jd(e,this.options,n)),p&&p(),this.resolveFinishedPromise();return}const E=this.initPlayback(e,n);E!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...E},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Jt=(t,e,n)=>t+(e-t)*n;function _h(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dS({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,d=0;if(!e)a=l=d=n;else{const p=n<.5?n*(1+e):n+e-n*e,y=2*n-p;a=_h(y,p,t+1/3),l=_h(y,p,t),d=_h(y,p,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(d*255),alpha:i}}function sd(t,e){return n=>n>0?e:t}const bh=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},hS=[n1,Fo,Za],pS=t=>hS.find(e=>e.test(t));function n2(t){const e=pS(t);if(!e)return!1;let n=e.parse(t);return e===Za&&(n=dS(n)),n}const r2=(t,e)=>{const n=n2(t),i=n2(e);if(!n||!i)return sd(t,e);const a={...n};return l=>(a.red=bh(n.red,i.red,l),a.green=bh(n.green,i.green,l),a.blue=bh(n.blue,i.blue,l),a.alpha=Jt(n.alpha,i.alpha,l),Fo.transform(a))},gS=(t,e)=>n=>e(t(n)),_c=(...t)=>t.reduce(gS),o1=new Set(["none","hidden"]);function mS(t,e){return o1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function xS(t,e){return n=>Jt(t,e,n)}function og(t){return typeof t=="number"?xS:typeof t=="string"?Up(t)?sd:Kn.test(t)?r2:vS:Array.isArray(t)?T3:typeof t=="object"?Kn.test(t)?r2:yS:sd}function T3(t,e){const n=[...t],i=n.length,a=t.map((l,d)=>og(l)(l,e[d]));return l=>{for(let d=0;d<i;d++)n[d]=a[d](l);return n}}function yS(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=og(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function wS(t,e){var n;const i=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const d=e.types[l],p=t.indexes[d][a[d]],y=(n=t.values[p])!==null&&n!==void 0?n:0;i[l]=y,a[d]++}return i}const vS=(t,e)=>{const n=fo.createTransformer(e),i=sc(t),a=sc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?o1.has(t)&&!a.values.length||o1.has(e)&&!i.values.length?mS(t,e):_c(T3(wS(i,a),a.values),n):sd(t,e)};function I3(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Jt(t,e,n):og(t)(t,e)}const ES=5;function R3(t,e,n){const i=Math.max(e-ES,0);return n3(n-t(i),e-i)}const an={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sh=.001;function CS({duration:t=an.duration,bounce:e=an.bounce,velocity:n=an.velocity,mass:i=an.mass}){let a,l,d=1-e;d=gs(an.minDamping,an.maxDamping,d),t=gs(an.minDuration,an.maxDuration,cs(t)),d<1?(a=m=>{const E=m*d,A=E*t,O=E-n,L=a1(m,d),j=Math.exp(-A);return Sh-O/L*j},l=m=>{const A=m*d*t,O=A*n+n,L=Math.pow(d,2)*Math.pow(m,2)*t,j=Math.exp(-A),R=a1(Math.pow(m,2),d);return(-a(m)+Sh>0?-1:1)*((O-L)*j)/R}):(a=m=>{const E=Math.exp(-m*t),A=(m-n)*t+1;return-Sh+E*A},l=m=>{const E=Math.exp(-m*t),A=(n-m)*(t*t);return E*A});const p=5/t,y=_S(a,l,p);if(t=us(t),isNaN(y))return{stiffness:an.stiffness,damping:an.damping,duration:t};{const m=Math.pow(y,2)*i;return{stiffness:m,damping:d*2*Math.sqrt(i*m),duration:t}}}const AS=12;function _S(t,e,n){let i=n;for(let a=1;a<AS;a++)i=i-t(i)/e(i);return i}function a1(t,e){return t*Math.sqrt(1-e*e)}const bS=["duration","bounce"],SS=["stiffness","damping","mass"];function i2(t,e){return e.some(n=>t[n]!==void 0)}function TS(t){let e={velocity:an.velocity,stiffness:an.stiffness,damping:an.damping,mass:an.mass,isResolvedFromDuration:!1,...t};if(!i2(t,SS)&&i2(t,bS))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*gs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:an.mass,stiffness:a,damping:l}}else{const n=CS(t);e={...e,...n,mass:an.mass},e.isResolvedFromDuration=!0}return e}function N3(t=an.visualDuration,e=an.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],p={done:!1,value:l},{stiffness:y,damping:m,mass:E,duration:A,velocity:O,isResolvedFromDuration:L}=TS({...n,velocity:-cs(n.velocity||0)}),j=O||0,R=m/(2*Math.sqrt(y*E)),k=d-l,_=cs(Math.sqrt(y/E)),b=Math.abs(k)<5;i||(i=b?an.restSpeed.granular:an.restSpeed.default),a||(a=b?an.restDelta.granular:an.restDelta.default);let N;if(R<1){const X=a1(_,R);N=G=>{const z=Math.exp(-R*_*G);return d-z*((j+R*_*k)/X*Math.sin(X*G)+k*Math.cos(X*G))}}else if(R===1)N=X=>d-Math.exp(-_*X)*(k+(j+_*k)*X);else{const X=_*Math.sqrt(R*R-1);N=G=>{const z=Math.exp(-R*_*G),$=Math.min(X*G,300);return d-z*((j+R*_*k)*Math.sinh($)+X*k*Math.cosh($))/X}}const M={calculatedDuration:L&&A||null,next:X=>{const G=N(X);if(L)p.done=X>=A;else{let z=0;R<1&&(z=X===0?us(j):R3(N,X,G));const $=Math.abs(z)<=i,ne=Math.abs(d-G)<=a;p.done=$&&ne}return p.value=p.done?d:G,p},toString:()=>{const X=Math.min(qv(M),J0),G=Kv(z=>M.next(X*z).value,X,30);return X+"ms "+G}};return M}function s2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:d,min:p,max:y,restDelta:m=.5,restSpeed:E}){const A=t[0],O={done:!1,value:A},L=$=>p!==void 0&&$<p||y!==void 0&&$>y,j=$=>p===void 0?y:y===void 0||Math.abs(p-$)<Math.abs(y-$)?p:y;let R=n*e;const k=A+R,_=d===void 0?k:d(k);_!==k&&(R=_-A);const b=$=>-R*Math.exp(-$/i),N=$=>_+b($),M=$=>{const ne=b($),ue=N($);O.done=Math.abs(ne)<=m,O.value=O.done?_:ue};let X,G;const z=$=>{L(O.value)&&(X=$,G=N3({keyframes:[O.value,j(O.value)],velocity:R3(N,$,O.value),damping:a,stiffness:l,restDelta:m,restSpeed:E}))};return z(0),{calculatedDuration:null,next:$=>{let ne=!1;return!G&&X===void 0&&(ne=!0,M($),z($)),X!==void 0&&$>=X?G.next($-X):(!ne&&M($),O)}}}const IS=Ac(.42,0,1,1),RS=Ac(0,0,.58,1),O3=Ac(.42,0,.58,1),NS=t=>Array.isArray(t)&&typeof t[0]!="number",OS={linear:Mr,easeIn:IS,easeInOut:O3,easeOut:RS,circIn:tg,circInOut:f3,circOut:c3,backIn:eg,backInOut:l3,backOut:a3,anticipate:u3},o2=t=>{if(Kp(t)){Iv(t.length===4);const[e,n,i,a]=t;return Ac(e,n,i,a)}else if(typeof t=="string")return OS[t];return t};function DS(t,e,n){const i=[],a=n||I3,l=t.length-1;for(let d=0;d<l;d++){let p=a(t[d],t[d+1]);if(e){const y=Array.isArray(e)?e[d]||Mr:e;p=_c(y,p)}i.push(p)}return i}function kS(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Iv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const d=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const p=DS(e,i,a),y=p.length,m=E=>{if(d&&E<t[0])return e[0];let A=0;if(y>1)for(;A<t.length-2&&!(E<t[A+1]);A++);const O=Il(t[A],t[A+1],E);return p[A](O)};return n?E=>m(gs(t[0],t[l-1],E)):m}function PS(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Il(0,e,i);t.push(Jt(n,1,a))}}function MS(t){const e=[0];return PS(e,t.length-1),e}function LS(t,e){return t.map(n=>n*e)}function BS(t,e){return t.map(()=>e||O3).splice(0,t.length-1)}function od({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=NS(i)?i.map(o2):o2(i),l={done:!1,value:e[0]},d=LS(n&&n.length===e.length?n:MS(e),t),p=kS(d,e,{ease:Array.isArray(a)?a:BS(e,a)});return{calculatedDuration:t,next:y=>(l.value=p(y),l.done=y>=t,l)}}const FS=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Zt.update(e,!0),stop:()=>co(e),now:()=>jn.isProcessing?jn.timestamp:Ui.now()}},VS={decay:s2,inertia:s2,tween:od,keyframes:od,spring:N3},US=t=>t/100;class ag extends S3{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:y}=this.options;y&&y()};const{name:n,motionValue:i,element:a,keyframes:l}=this.options,d=(a==null?void 0:a.KeyframeResolver)||sg,p=(y,m)=>this.onKeyframesResolved(y,m);this.resolver=new d(l,p,n,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:d=0}=this.options,p=qp(n)?n:VS[n]||od;let y,m;p!==od&&typeof e[0]!="number"&&(y=_c(US,I3(e[0],e[1])),e=[0,100]);const E=p({...this.options,keyframes:e});l==="mirror"&&(m=p({...this.options,keyframes:[...e].reverse(),velocity:-d})),E.calculatedDuration===null&&(E.calculatedDuration=qv(E));const{calculatedDuration:A}=E,O=A+a,L=O*(i+1)-a;return{generator:E,mirroredGenerator:m,mapPercentToKeyframes:y,calculatedDuration:A,resolvedDuration:O,totalDuration:L}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:$}=this.options;return{done:!0,value:$[$.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:d,mapPercentToKeyframes:p,keyframes:y,calculatedDuration:m,totalDuration:E,resolvedDuration:A}=i;if(this.startTime===null)return l.next(0);const{delay:O,repeat:L,repeatType:j,repeatDelay:R,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-E/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-O*(this.speed>=0?1:-1),b=this.speed>=0?_<0:_>E;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=E);let N=this.currentTime,M=l;if(L){const $=Math.min(this.currentTime,E)/A;let ne=Math.floor($),ue=$%1;!ue&&$>=1&&(ue=1),ue===1&&ne--,ne=Math.min(ne,L+1),!!(ne%2)&&(j==="reverse"?(ue=1-ue,R&&(ue-=R/A)):j==="mirror"&&(M=d)),N=gs(0,1,ue)*A}const X=b?{done:!1,value:y[0]}:M.next(N);p&&(X.value=p(X.value));let{done:G}=X;!b&&m!==null&&(G=this.speed>=0?this.currentTime>=E:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return z&&a!==void 0&&(X.value=jd(y,this.options,a)),k&&k(X.value),z&&this.finish(),X}get duration(){const{resolved:e}=this;return e?cs(e.calculatedDuration):0}get time(){return cs(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=cs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=FS,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const jS=new Set(["opacity","clipPath","filter","transform"]);function zS(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:d="loop",ease:p="easeInOut",times:y}={}){const m={[e]:n};y&&(m.offset=y);const E=Qv(p,a);return Array.isArray(E)&&(m.easing=E),t.animate(m,{delay:i,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:d==="reverse"?"alternate":"normal"})}const WS=kp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ad=10,HS=2e4;function GS(t){return qp(t.type)||t.type==="spring"||!Yv(t.ease)}function XS(t,e){const n=new ag({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let l=0;for(;!i.done&&l<HS;)i=n.sample(l),a.push(i.value),l+=ad;return{times:void 0,keyframes:a,duration:l-ad,ease:"linear"}}const D3={anticipate:u3,backInOut:l3,circInOut:f3};function ZS(t){return t in D3}class a2 extends S3{constructor(e){super(e);const{name:n,motionValue:i,element:a,keyframes:l}=this.options;this.resolver=new b3(l,(d,p)=>this.onKeyframesResolved(d,p),n,i,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:a,ease:l,type:d,motionValue:p,name:y,startTime:m}=this.options;if(!p.owner||!p.owner.current)return!1;if(typeof l=="string"&&id()&&ZS(l)&&(l=D3[l]),GS(this.options)){const{onComplete:A,onUpdate:O,motionValue:L,element:j,...R}=this.options,k=XS(e,R);e=k.keyframes,e.length===1&&(e[1]=e[0]),i=k.duration,a=k.times,l=k.ease,d="keyframes"}const E=zS(p.owner.current,y,e,{...this.options,duration:i,times:a,ease:l});return E.startTime=m??this.calcStartTime(),this.pendingTimeline?(Gm(E,this.pendingTimeline),this.pendingTimeline=void 0):E.onfinish=()=>{const{onComplete:A}=this.options;p.set(jd(e,this.options,n)),A&&A(),this.cancel(),this.resolveFinishedPromise()},{animation:E,duration:i,times:a,type:d,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return cs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return cs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=us(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Mr;const{animation:i}=n;Gm(i,e)}return Mr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:a,type:l,ease:d,times:p}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:E,onComplete:A,element:O,...L}=this.options,j=new ag({...L,keyframes:i,duration:a,type:l,ease:d,times:p,isGenerator:!0}),R=us(this.time);m.setWithVelocity(j.sample(R-ad).value,j.sample(R).value,ad)}const{onStop:y}=this.options;y&&y(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:a,repeatType:l,damping:d,type:p}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:m}=n.owner.getProps();return WS()&&i&&jS.has(i)&&!y&&!m&&!a&&l!=="mirror"&&d!==0&&p!=="inertia"}}const qS={type:"spring",stiffness:500,damping:25,restSpeed:10},KS=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YS={type:"keyframes",duration:.8},QS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$S=(t,{keyframes:e})=>e.length>2?YS:pa.has(t)?t.startsWith("scale")?KS(e[1]):qS:QS;function JS({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:d,repeatDelay:p,from:y,elapsed:m,...E}){return!!Object.keys(E).length}const lg=(t,e,n,i={},a,l)=>d=>{const p=Zp(i,t)||{},y=p.delay||i.delay||0;let{elapsed:m=0}=i;m=m-us(y);let E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...p,delay:-m,onUpdate:O=>{e.set(O),p.onUpdate&&p.onUpdate(O)},onComplete:()=>{d(),p.onComplete&&p.onComplete()},name:t,motionValue:e,element:l?void 0:a};JS(p)||(E={...E,...$S(t,E)}),E.duration&&(E.duration=us(E.duration)),E.repeatDelay&&(E.repeatDelay=us(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let A=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(A=!0)),A&&!l&&e.get()!==void 0){const O=jd(E.keyframes,p);if(O!==void 0)return Zt.update(()=>{E.onUpdate(O),E.onComplete()}),new y4([])}return!l&&a2.supports(E)?new a2(E):new ag(E)};function e8({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function k3(t,e,{delay:n=0,transitionOverride:i,type:a}={}){var l;let{transition:d=t.getDefaultTransition(),transitionEnd:p,...y}=e;i&&(d=i);const m=[],E=a&&t.animationState&&t.animationState.getState()[a];for(const A in y){const O=t.getValue(A,(l=t.latestValues[A])!==null&&l!==void 0?l:null),L=y[A];if(L===void 0||E&&e8(E,A))continue;const j={delay:n,...Zp(d||{},A)};let R=!1;if(window.MotionHandoffAnimation){const _=r3(t);if(_){const b=window.MotionHandoffAnimation(_,A,Zt);b!==null&&(j.startTime=b,R=!0)}}t1(t,A),O.start(lg(A,O,L,t.shouldReduceMotion&&t3.has(A)?{type:!1}:j,t,R));const k=O.animation;k&&m.push(k)}return p&&Promise.all(m).then(()=>{Zt.update(()=>{p&&D4(t,p)})}),m}function l1(t,e,n={}){var i;const a=Ud(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const d=a?()=>Promise.all(k3(t,a,n)):()=>Promise.resolve(),p=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:E=0,staggerChildren:A,staggerDirection:O}=l;return t8(t,e,E+m,A,O,n)}:()=>Promise.resolve(),{when:y}=l;if(y){const[m,E]=y==="beforeChildren"?[d,p]:[p,d];return m().then(()=>E())}else return Promise.all([d(),p(n.delay)])}function t8(t,e,n=0,i=0,a=1,l){const d=[],p=(t.variantChildren.size-1)*i,y=a===1?(m=0)=>m*i:(m=0)=>p-m*i;return Array.from(t.variantChildren).sort(n8).forEach((m,E)=>{m.notify("AnimationStart",e),d.push(l1(m,e,{...l,delay:n+y(E)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(d)}function n8(t,e){return t.sortNodePosition(e)}function r8(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>l1(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=l1(t,e,n);else{const a=typeof e=="function"?Ud(t,e,n.custom):e;i=Promise.all(k3(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const i8=Mp.length;function P3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?P3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<i8;n++){const i=Mp[n],a=t.props[i];(nc(a)||a===!1)&&(e[i]=a)}return e}const s8=[...Pp].reverse(),o8=Pp.length;function a8(t){return e=>Promise.all(e.map(({animation:n,options:i})=>r8(t,n,i)))}function l8(t){let e=a8(t),n=l2(),i=!0;const a=y=>(m,E)=>{var A;const O=Ud(t,E,y==="exit"?(A=t.presenceContext)===null||A===void 0?void 0:A.custom:void 0);if(O){const{transition:L,transitionEnd:j,...R}=O;m={...m,...R,...j}}return m};function l(y){e=y(t)}function d(y){const{props:m}=t,E=P3(t.parent)||{},A=[],O=new Set;let L={},j=1/0;for(let k=0;k<o8;k++){const _=s8[k],b=n[_],N=m[_]!==void 0?m[_]:E[_],M=nc(N),X=_===y?b.isActive:null;X===!1&&(j=k);let G=N===E[_]&&N!==m[_]&&M;if(G&&i&&t.manuallyAnimateOnMount&&(G=!1),b.protectedKeys={...L},!b.isActive&&X===null||!N&&!b.prevProp||Fd(N)||typeof N=="boolean")continue;const z=u8(b.prevProp,N);let $=z||_===y&&b.isActive&&!G&&M||k>j&&M,ne=!1;const ue=Array.isArray(N)?N:[N];let De=ue.reduce(a(_),{});X===!1&&(De={});const{prevResolvedValues:xe={}}=b,Xe={...xe,...De},ot=be=>{$=!0,O.has(be)&&(ne=!0,O.delete(be)),b.needsAnimating[be]=!0;const he=t.getValue(be);he&&(he.liveStyle=!1)};for(const be in Xe){const he=De[be],Ae=xe[be];if(L.hasOwnProperty(be))continue;let Le=!1;$0(he)&&$0(Ae)?Le=!Zv(he,Ae):Le=he!==Ae,Le?he!=null?ot(be):O.add(be):he!==void 0&&O.has(be)?ot(be):b.protectedKeys[be]=!0}b.prevProp=N,b.prevResolvedValues=De,b.isActive&&(L={...L,...De}),i&&t.blockInitialAnimation&&($=!1),$&&(!(G&&z)||ne)&&A.push(...ue.map(be=>({animation:be,options:{type:_}})))}if(O.size){const k={};O.forEach(_=>{const b=t.getBaseTarget(_),N=t.getValue(_);N&&(N.liveStyle=!0),k[_]=b??null}),A.push({animation:k})}let R=!!A.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(R=!1),i=!1,R?e(A):Promise.resolve()}function p(y,m){var E;if(n[y].isActive===m)return Promise.resolve();(E=t.variantChildren)===null||E===void 0||E.forEach(O=>{var L;return(L=O.animationState)===null||L===void 0?void 0:L.setActive(y,m)}),n[y].isActive=m;const A=d(y);for(const O in n)n[O].protectedKeys={};return A}return{animateChanges:d,setActive:p,setAnimateFunction:l,getState:()=>n,reset:()=>{n=l2(),i=!0}}}function u8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Zv(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function l2(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class xo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class c8 extends xo{constructor(e){super(e),e.animationState||(e.animationState=l8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let f8=0;class d8 extends xo{constructor(){super(...arguments),this.id=f8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const h8={animation:{Feature:c8},exit:{Feature:d8}};function oc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function bc(t){return{point:{x:t.pageX,y:t.pageY}}}const p8=t=>e=>Yp(e)&&t(e,bc(e));function Pu(t,e,n,i){return oc(t,e,p8(n),i)}const u2=(t,e)=>Math.abs(t-e);function g8(t,e){const n=u2(t.x,e.x),i=u2(t.y,e.y);return Math.sqrt(n**2+i**2)}class M3{constructor(e,n,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Ih(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,L=g8(A.offset,{x:0,y:0})>=3;if(!O&&!L)return;const{point:j}=A,{timestamp:R}=jn;this.history.push({...j,timestamp:R});const{onStart:k,onMove:_}=this.handlers;O||(k&&k(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,A)},this.handlePointerMove=(A,O)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Th(O,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(A,O)=>{this.end();const{onEnd:L,onSessionEnd:j,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Ih(A.type==="pointercancel"?this.lastMoveEventInfo:Th(O,this.transformPagePoint),this.history);this.startEvent&&L&&L(A,k),j&&j(A,k)},!Yp(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=a||window;const d=bc(e),p=Th(d,this.transformPagePoint),{point:y}=p,{timestamp:m}=jn;this.history=[{...y,timestamp:m}];const{onSessionStart:E}=n;E&&E(e,Ih(p,this.history)),this.removeListeners=_c(Pu(this.contextWindow,"pointermove",this.handlePointerMove),Pu(this.contextWindow,"pointerup",this.handlePointerUp),Pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),co(this.updatePoint)}}function Th(t,e){return e?{point:e(t.point)}:t}function c2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ih({point:t},e){return{point:t,delta:c2(t,L3(e)),offset:c2(t,m8(e)),velocity:x8(e,.1)}}function m8(t){return t[0]}function L3(t){return t[t.length-1]}function x8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=L3(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>us(e)));)n--;if(!i)return{x:0,y:0};const l=cs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const d={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const B3=1e-4,y8=1-B3,w8=1+B3,F3=.01,v8=0-F3,E8=0+F3;function Br(t){return t.max-t.min}function C8(t,e,n){return Math.abs(t-e)<=n}function f2(t,e,n,i=.5){t.origin=i,t.originPoint=Jt(e.min,e.max,t.origin),t.scale=Br(n)/Br(e),t.translate=Jt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=y8&&t.scale<=w8||isNaN(t.scale))&&(t.scale=1),(t.translate>=v8&&t.translate<=E8||isNaN(t.translate))&&(t.translate=0)}function Mu(t,e,n,i){f2(t.x,e.x,n.x,i?i.originX:void 0),f2(t.y,e.y,n.y,i?i.originY:void 0)}function d2(t,e,n){t.min=n.min+e.min,t.max=t.min+Br(e)}function A8(t,e,n){d2(t.x,e.x,n.x),d2(t.y,e.y,n.y)}function h2(t,e,n){t.min=e.min-n.min,t.max=t.min+Br(e)}function Lu(t,e,n){h2(t.x,e.x,n.x),h2(t.y,e.y,n.y)}function _8(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Jt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Jt(n,t,i.max):Math.min(t,n)),t}function p2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function b8(t,{top:e,left:n,bottom:i,right:a}){return{x:p2(t.x,n,a),y:p2(t.y,e,i)}}function g2(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function S8(t,e){return{x:g2(t.x,e.x),y:g2(t.y,e.y)}}function T8(t,e){let n=.5;const i=Br(t),a=Br(e);return a>i?n=Il(e.min,e.max-i,t.min):i>a&&(n=Il(t.min,t.max-a,e.min)),gs(0,1,n)}function I8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const u1=.35;function R8(t=u1){return t===!1?t=0:t===!0&&(t=u1),{x:m2(t,"left","right"),y:m2(t,"top","bottom")}}function m2(t,e,n){return{min:x2(t,e),max:x2(t,n)}}function x2(t,e){return typeof t=="number"?t:t[e]||0}const y2=()=>({translate:0,scale:1,origin:0,originPoint:0}),qa=()=>({x:y2(),y:y2()}),w2=()=>({min:0,max:0}),dn=()=>({x:w2(),y:w2()});function Hr(t){return[t("x"),t("y")]}function V3({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function N8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function O8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Rh(t){return t===void 0||t===1}function c1({scale:t,scaleX:e,scaleY:n}){return!Rh(t)||!Rh(e)||!Rh(n)}function No(t){return c1(t)||U3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function U3(t){return v2(t.x)||v2(t.y)}function v2(t){return t&&t!=="0%"}function ld(t,e,n){const i=t-n,a=e*i;return n+a}function E2(t,e,n,i,a){return a!==void 0&&(t=ld(t,a,i)),ld(t,n,i)+e}function f1(t,e=0,n=1,i,a){t.min=E2(t.min,e,n,i,a),t.max=E2(t.max,e,n,i,a)}function j3(t,{x:e,y:n}){f1(t.x,e.translate,e.scale,e.originPoint),f1(t.y,n.translate,n.scale,n.originPoint)}const C2=.999999999999,A2=1.0000000000001;function D8(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,d;for(let p=0;p<a;p++){l=n[p],d=l.projectionDelta;const{visualElement:y}=l.options;y&&y.props.style&&y.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ya(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,j3(t,d)),i&&No(l.latestValues)&&Ya(t,l.latestValues))}e.x<A2&&e.x>C2&&(e.x=1),e.y<A2&&e.y>C2&&(e.y=1)}function Ka(t,e){t.min=t.min+e,t.max=t.max+e}function _2(t,e,n,i,a=.5){const l=Jt(t.min,t.max,a);f1(t,e,n,l,i)}function Ya(t,e){_2(t.x,e.x,e.scaleX,e.scale,e.originX),_2(t.y,e.y,e.scaleY,e.scale,e.originY)}function z3(t,e){return V3(O8(t.getBoundingClientRect(),e))}function k8(t,e,n){const i=z3(t,n),{scroll:a}=e;return a&&(Ka(i.x,a.offset.x),Ka(i.y,a.offset.y)),i}const W3=({current:t})=>t?t.ownerDocument.defaultView:null,P8=new WeakMap;class M8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bc(E).point)},l=(E,A)=>{const{drag:O,dragPropagation:L,onDragStart:j}=this.getProps();if(O&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=T4(O),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hr(k=>{let _=this.getAxisMotionValue(k).get()||0;if(Vi.test(_)){const{projection:b}=this.visualElement;if(b&&b.layout){const N=b.layout.layoutBox[k];N&&(_=Br(N)*(parseFloat(_)/100))}}this.originPoint[k]=_}),j&&Zt.postRender(()=>j(E,A)),t1(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},d=(E,A)=>{const{dragPropagation:O,dragDirectionLock:L,onDirectionLock:j,onDrag:R}=this.getProps();if(!O&&!this.openDragLock)return;const{offset:k}=A;if(L&&this.currentDirection===null){this.currentDirection=L8(k),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",A.point,k),this.updateAxis("y",A.point,k),this.visualElement.render(),R&&R(E,A)},p=(E,A)=>this.stop(E,A),y=()=>Hr(E=>{var A;return this.getAnimationState(E)==="paused"&&((A=this.getAxisMotionValue(E).animation)===null||A===void 0?void 0:A.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new M3(e,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:p,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:W3(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Zt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!df(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let d=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(d=_8(d,this.constraints[e],this.elastic[e])),l.set(d)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Xa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=b8(a.layoutBox,n):this.constraints=!1,this.elastic=R8(i),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Hr(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=I8(a.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xa(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=k8(i,a.root,this.visualElement.getTransformPagePoint());let d=S8(a.layout.layoutBox,l);if(n){const p=n(N8(d));this.hasMutatedConstraints=!!p,p&&(d=V3(p))}return d}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:d,onDragTransitionEnd:p}=this.getProps(),y=this.constraints||{},m=Hr(E=>{if(!df(E,n,this.currentDirection))return;let A=y&&y[E]||{};d&&(A={min:0,max:0});const O=a?200:1e6,L=a?40:1e7,j={type:"inertia",velocity:i?e[E]:0,bounceStiffness:O,bounceDamping:L,timeConstant:750,restDelta:1,restSpeed:10,...l,...A};return this.startAxisValueAnimation(E,j)});return Promise.all(m).then(p)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return t1(this.visualElement,e),i.start(lg(e,i,0,n,this.visualElement,!1))}stopAnimation(){Hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Hr(n=>{const{drag:i}=this.getProps();if(!df(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:d,max:p}=a.layout.layoutBox[n];l.set(e[n]-Jt(d,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Xa(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hr(d=>{const p=this.getAxisMotionValue(d);if(p&&this.constraints!==!1){const y=p.get();a[d]=T8({min:y,max:y},this.constraints[d])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Hr(d=>{if(!df(d,e,null))return;const p=this.getAxisMotionValue(d),{min:y,max:m}=this.constraints[d];p.set(Jt(y,m,a[d]))})}addListeners(){if(!this.visualElement.current)return;P8.set(this.visualElement,this);const e=this.visualElement.current,n=Pu(e,"pointerdown",y=>{const{drag:m,dragListener:E=!0}=this.getProps();m&&E&&this.start(y)}),i=()=>{const{dragConstraints:y}=this.getProps();Xa(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Zt.read(i);const d=oc(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",({delta:y,hasLayoutChanged:m})=>{this.isDragging&&m&&(Hr(E=>{const A=this.getAxisMotionValue(E);A&&(this.originPoint[E]+=y[E].translate,A.set(A.get()+y[E].translate))}),this.visualElement.render())});return()=>{d(),n(),l(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:d=u1,dragMomentum:p=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:d,dragMomentum:p}}}function df(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function L8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class B8 extends xo{constructor(e){super(e),this.removeGroupControls=Mr,this.removeListeners=Mr,this.controls=new M8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const b2=t=>(e,n)=>{t&&Zt.postRender(()=>t(e,n))};class F8 extends xo{constructor(){super(...arguments),this.removePointerDownListener=Mr}onPointerDown(e){this.session=new M3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:b2(e),onStart:b2(n),onMove:i,onEnd:(l,d)=>{delete this.session,a&&Zt.postRender(()=>a(l,d))}}}mount(){this.removePointerDownListener=Pu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const If={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=S2(t,e.target.x),i=S2(t,e.target.y);return`${n}% ${i}%`}},V8={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=fo.parse(t);if(a.length>5)return i;const l=fo.createTransformer(t),d=typeof a[0]!="number"?1:0,p=n.x.scale*e.x,y=n.y.scale*e.y;a[0+d]/=p,a[1+d]/=y;const m=Jt(p,y,.5);return typeof a[2+d]=="number"&&(a[2+d]/=m),typeof a[3+d]=="number"&&(a[3+d]/=m),l(a)}};class U8 extends we.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;o4(j8),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),If.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,d=i.projection;return d&&(d.isPresent=l,a||e.layoutDependency!==n||n===void 0?d.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?d.promote():d.relegate()||Zt.postRender(()=>{const p=d.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function H3(t){const[e,n]=Sv(),i=we.useContext(Rp);return Y.jsx(U8,{...t,layoutGroup:i,switchLayoutGroup:we.useContext(Pv),isPresent:e,safeToRemove:n})}const j8={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:V8};function z8(t,e,n){const i=Qn(t)?t:ic(t);return i.start(lg("",i,e,n)),i.animation}function W8(t){return t instanceof SVGElement&&t.tagName!=="svg"}const H8=(t,e)=>t.depth-e.depth;class G8{constructor(){this.children=[],this.isDirty=!1}add(e){Qp(this.children,e),this.isDirty=!0}remove(e){$p(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H8),this.isDirty=!1,this.children.forEach(e)}}function X8(t,e){const n=Ui.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(co(i),t(l-e))};return Zt.read(i,!0),()=>co(i)}const G3=["TopLeft","TopRight","BottomLeft","BottomRight"],Z8=G3.length,T2=t=>typeof t=="string"?parseFloat(t):t,I2=t=>typeof t=="number"||ze.test(t);function q8(t,e,n,i,a,l){a?(t.opacity=Jt(0,n.opacity!==void 0?n.opacity:1,K8(i)),t.opacityExit=Jt(e.opacity!==void 0?e.opacity:1,0,Y8(i))):l&&(t.opacity=Jt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let d=0;d<Z8;d++){const p=`border${G3[d]}Radius`;let y=R2(e,p),m=R2(n,p);if(y===void 0&&m===void 0)continue;y||(y=0),m||(m=0),y===0||m===0||I2(y)===I2(m)?(t[p]=Math.max(Jt(T2(y),T2(m),i),0),(Vi.test(m)||Vi.test(y))&&(t[p]+="%")):t[p]=m}(e.rotate||n.rotate)&&(t.rotate=Jt(e.rotate||0,n.rotate||0,i))}function R2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const K8=X3(0,.5,c3),Y8=X3(.5,.95,Mr);function X3(t,e,n){return i=>i<t?0:i>e?1:n(Il(t,e,i))}function N2(t,e){t.min=e.min,t.max=e.max}function Wr(t,e){N2(t.x,e.x),N2(t.y,e.y)}function O2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function D2(t,e,n,i,a){return t-=e,t=ld(t,1/n,i),a!==void 0&&(t=ld(t,1/a,i)),t}function Q8(t,e=0,n=1,i=.5,a,l=t,d=t){if(Vi.test(e)&&(e=parseFloat(e),e=Jt(d.min,d.max,e/100)-d.min),typeof e!="number")return;let p=Jt(l.min,l.max,i);t===l&&(p-=e),t.min=D2(t.min,e,n,p,a),t.max=D2(t.max,e,n,p,a)}function k2(t,e,[n,i,a],l,d){Q8(t,e[n],e[i],e[a],e.scale,l,d)}const $8=["x","scaleX","originX"],J8=["y","scaleY","originY"];function P2(t,e,n,i){k2(t.x,e,$8,n?n.x:void 0,i?i.x:void 0),k2(t.y,e,J8,n?n.y:void 0,i?i.y:void 0)}function M2(t){return t.translate===0&&t.scale===1}function Z3(t){return M2(t.x)&&M2(t.y)}function L2(t,e){return t.min===e.min&&t.max===e.max}function e6(t,e){return L2(t.x,e.x)&&L2(t.y,e.y)}function B2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function q3(t,e){return B2(t.x,e.x)&&B2(t.y,e.y)}function F2(t){return Br(t.x)/Br(t.y)}function V2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class t6{constructor(){this.members=[]}add(e){Qp(this.members,e),e.scheduleRender()}remove(e){if($p(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n6(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,d=(n==null?void 0:n.z)||0;if((a||l||d)&&(i=`translate3d(${a}px, ${l}px, ${d}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:E,rotateX:A,rotateY:O,skewX:L,skewY:j}=n;m&&(i=`perspective(${m}px) ${i}`),E&&(i+=`rotate(${E}deg) `),A&&(i+=`rotateX(${A}deg) `),O&&(i+=`rotateY(${O}deg) `),L&&(i+=`skewX(${L}deg) `),j&&(i+=`skewY(${j}deg) `)}const p=t.x.scale*e.x,y=t.y.scale*e.y;return(p!==1||y!==1)&&(i+=`scale(${p}, ${y})`),i||"none"}const Oo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Eu=typeof window<"u"&&window.MotionDebug!==void 0,Nh=["","X","Y","Z"],r6={visibility:"hidden"},U2=1e3;let i6=0;function Oh(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function K3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=r3(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Zt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&K3(i)}function Y3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(d={},p=e==null?void 0:e()){this.id=i6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Eu&&(Oo.totalNodes=Oo.resolvedTargetDeltas=Oo.recalculatedProjection=0),this.nodes.forEach(a6),this.nodes.forEach(d6),this.nodes.forEach(h6),this.nodes.forEach(l6),Eu&&window.MotionDebug.record(Oo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new G8)}addEventListener(d,p){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Jp),this.eventHandlers.get(d).add(p)}notifyListeners(d,...p){const y=this.eventHandlers.get(d);y&&y.notify(...p)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,p=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=W8(d),this.instance=d;const{layoutId:y,layout:m,visualElement:E}=this.options;if(E&&!E.current&&E.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),p&&(m||y)&&(this.isLayoutDirty=!0),t){let A;const O=()=>this.root.updateBlockedByResize=!1;t(d,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=X8(O,250),If.hasAnimatedSinceResize&&(If.hasAnimatedSinceResize=!1,this.nodes.forEach(z2))})}y&&this.root.registerSharedNode(y,this),this.options.animate!==!1&&E&&(y||m)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:O,hasRelativeTargetChanged:L,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||E.getDefaultTransition()||y6,{onLayoutAnimationStart:k,onLayoutAnimationComplete:_}=E.getProps(),b=!this.targetLayout||!q3(this.targetLayout,j)||L,N=!O&&L;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||O&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,N);const M={...Zp(R,"layout"),onPlay:k,onComplete:_};(E.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else O||z2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,co(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p6),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const A=this.path[E];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:p,layout:y}=this.options;if(p===void 0&&!y)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(j2);return}this.isUpdating||this.nodes.forEach(c6),this.isUpdating=!1,this.nodes.forEach(f6),this.nodes.forEach(s6),this.nodes.forEach(o6),this.clearAllSnapshots();const p=Ui.now();jn.delta=gs(0,1e3/60,p-jn.timestamp),jn.timestamp=p,jn.isProcessing=!0,Eh.update.process(jn),Eh.preRender.process(jn),Eh.render.process(jn),jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u6),this.sharedNodes.forEach(g6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(p=!1),p){const y=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!a)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!Z3(this.projectionDelta),y=this.getTransformTemplate(),m=y?y(this.latestValues,""):void 0,E=m!==this.prevTransformTemplateValue;d&&(p||No(this.latestValues)||E)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const p=this.measurePageBox();let y=this.removeElementScroll(p);return d&&(y=this.removeTransform(y)),w6(y),{animationId:this.root.animationId,measuredBox:p,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:p}=this.options;if(!p)return dn();const y=p.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(v6))){const{scroll:E}=this.root;E&&(Ka(y.x,E.offset.x),Ka(y.y,E.offset.y))}return y}removeElementScroll(d){var p;const y=dn();if(Wr(y,d),!((p=this.scroll)===null||p===void 0)&&p.wasRoot)return y;for(let m=0;m<this.path.length;m++){const E=this.path[m],{scroll:A,options:O}=E;E!==this.root&&A&&O.layoutScroll&&(A.wasRoot&&Wr(y,d),Ka(y.x,A.offset.x),Ka(y.y,A.offset.y))}return y}applyTransform(d,p=!1){const y=dn();Wr(y,d);for(let m=0;m<this.path.length;m++){const E=this.path[m];!p&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Ya(y,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),No(E.latestValues)&&Ya(y,E.latestValues)}return No(this.latestValues)&&Ya(y,this.latestValues),y}removeTransform(d){const p=dn();Wr(p,d);for(let y=0;y<this.path.length;y++){const m=this.path[y];if(!m.instance||!No(m.latestValues))continue;c1(m.latestValues)&&m.updateSnapshot();const E=dn(),A=m.measurePageBox();Wr(E,A),P2(p,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,E)}return No(this.latestValues)&&P2(p,this.latestValues),p}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var p;const y=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=y.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=y.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=y.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==y;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:O}=this.options;if(!(!this.layout||!(A||O))){if(this.resolvedRelativeTargetAt=jn.timestamp,!this.targetDelta&&!this.relativeTarget){const L=this.getClosestProjectingParent();L&&L.layout&&this.animationProgress!==1?(this.relativeParent=L,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Lu(this.relativeTargetOrigin,this.layout.layoutBox,L.layout.layoutBox),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),A8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wr(this.target,this.layout.layoutBox),j3(this.target,this.targetDelta)):Wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const L=this.getClosestProjectingParent();L&&!!L.resumingFrom==!!this.resumingFrom&&!L.options.layoutScroll&&L.target&&this.animationProgress!==1?(this.relativeParent=L,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Lu(this.relativeTargetOrigin,this.target,L.target),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Eu&&Oo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||c1(this.parent.latestValues)||U3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const p=this.getLead(),y=!!this.resumingFrom||this!==p;let m=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(m=!1),y&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===jn.timestamp&&(m=!1),m)return;const{layout:E,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||A))return;Wr(this.layoutCorrected,this.layout.layoutBox);const O=this.treeScale.x,L=this.treeScale.y;D8(this.layoutCorrected,this.treeScale,this.path,y),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=dn());const{target:j}=p;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(O2(this.prevProjectionDelta.x,this.projectionDelta.x),O2(this.prevProjectionDelta.y,this.projectionDelta.y)),Mu(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==O||this.treeScale.y!==L||!V2(this.projectionDelta.x,this.prevProjectionDelta.x)||!V2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Eu&&Oo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var p;if((p=this.options.visualElement)===null||p===void 0||p.scheduleRender(),d){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qa(),this.projectionDelta=qa(),this.projectionDeltaWithTransform=qa()}setAnimationOrigin(d,p=!1){const y=this.snapshot,m=y?y.latestValues:{},E={...this.latestValues},A=qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const O=dn(),L=y?y.source:void 0,j=this.layout?this.layout.source:void 0,R=L!==j,k=this.getStack(),_=!k||k.members.length<=1,b=!!(R&&!_&&this.options.crossfade===!0&&!this.path.some(x6));this.animationProgress=0;let N;this.mixTargetDelta=M=>{const X=M/1e3;W2(A.x,d.x,X),W2(A.y,d.y,X),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lu(O,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m6(this.relativeTarget,this.relativeTargetOrigin,O,X),N&&e6(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=dn()),Wr(N,this.relativeTarget)),R&&(this.animationValues=E,q8(E,m,this.latestValues,X,b,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(co(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{If.hasAnimatedSinceResize=!0,this.currentAnimation=z8(0,U2,{...d,onUpdate:p=>{this.mixTargetDelta(p),d.onUpdate&&d.onUpdate(p)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:p,target:y,layout:m,latestValues:E}=d;if(!(!p||!y||!m)){if(this!==d&&this.layout&&m&&Q3(this.options.animationType,this.layout.layoutBox,m.layoutBox)){y=this.target||dn();const A=Br(this.layout.layoutBox.x);y.x.min=d.target.x.min,y.x.max=y.x.min+A;const O=Br(this.layout.layoutBox.y);y.y.min=d.target.y.min,y.y.max=y.y.min+O}Wr(p,y),Ya(p,E),Mu(this.projectionDeltaWithTransform,this.layoutCorrected,p,E)}}registerSharedNode(d,p){this.sharedNodes.has(d)||this.sharedNodes.set(d,new t6),this.sharedNodes.get(d).add(p);const m=p.options.initialPromotionConfig;p.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(p):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:p}=this.options;return p?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:p}=this.options;return p?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:p,preserveFollowOpacity:y}={}){const m=this.getStack();m&&m.promote(this,y),d&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let p=!1;const{latestValues:y}=d;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(p=!0),!p)return;const m={};y.z&&Oh("z",d,m,this.animationValues);for(let E=0;E<Nh.length;E++)Oh(`rotate${Nh[E]}`,d,m,this.animationValues),Oh(`skew${Nh[E]}`,d,m,this.animationValues);d.render();for(const E in m)d.setStaticValue(E,m[E]),this.animationValues&&(this.animationValues[E]=m[E]);d.scheduleRender()}getProjectionStyles(d){var p,y;if(!this.instance||this.isSVG)return;if(!this.isVisible)return r6;const m={visibility:""},E=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Sf(d==null?void 0:d.pointerEvents)||"",m.transform=E?E(this.latestValues,""):"none",m;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=Sf(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!No(this.latestValues)&&(R.transform=E?E({},""):"none",this.hasProjected=!1),R}const O=A.animationValues||A.latestValues;this.applyTransformsToTarget(),m.transform=n6(this.projectionDeltaWithTransform,this.treeScale,O),E&&(m.transform=E(O,m.transform));const{x:L,y:j}=this.projectionDelta;m.transformOrigin=`${L.origin*100}% ${j.origin*100}% 0`,A.animationValues?m.opacity=A===this?(y=(p=O.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&y!==void 0?y:1:this.preserveOpacity?this.latestValues.opacity:O.opacityExit:m.opacity=A===this?O.opacity!==void 0?O.opacity:"":O.opacityExit!==void 0?O.opacityExit:0;for(const R in rd){if(O[R]===void 0)continue;const{correct:k,applyTo:_}=rd[R],b=m.transform==="none"?O[R]:k(O[R],A);if(_){const N=_.length;for(let M=0;M<N;M++)m[_[M]]=b}else m[R]=b}return this.options.layoutId&&(m.pointerEvents=A===this?Sf(d==null?void 0:d.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var p;return(p=d.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(j2),this.root.sharedNodes.clear()}}}function s6(t){t.updateLayout()}function o6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,d=n.source!==t.layout.source;l==="size"?Hr(A=>{const O=d?n.measuredBox[A]:n.layoutBox[A],L=Br(O);O.min=i[A].min,O.max=O.min+L}):Q3(l,n.layoutBox,i)&&Hr(A=>{const O=d?n.measuredBox[A]:n.layoutBox[A],L=Br(i[A]);O.max=O.min+L,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[A].max=t.relativeTarget[A].min+L)});const p=qa();Mu(p,i,n.layoutBox);const y=qa();d?Mu(y,t.applyTransform(a,!0),n.measuredBox):Mu(y,i,n.layoutBox);const m=!Z3(p);let E=!1;if(!t.resumeFrom){const A=t.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:O,layout:L}=A;if(O&&L){const j=dn();Lu(j,n.layoutBox,O.layoutBox);const R=dn();Lu(R,i,L.layoutBox),q3(j,R)||(E=!0),A.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=j,t.relativeParent=A)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:y,layoutDelta:p,hasLayoutChanged:m,hasRelativeTargetChanged:E})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function a6(t){Eu&&Oo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function l6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u6(t){t.clearSnapshot()}function j2(t){t.clearMeasurements()}function c6(t){t.isLayoutDirty=!1}function f6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function z2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function d6(t){t.resolveTargetDelta()}function h6(t){t.calcProjection()}function p6(t){t.resetSkewAndRotation()}function g6(t){t.removeLeadSnapshot()}function W2(t,e,n){t.translate=Jt(e.translate,0,n),t.scale=Jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function H2(t,e,n,i){t.min=Jt(e.min,n.min,i),t.max=Jt(e.max,n.max,i)}function m6(t,e,n,i){H2(t.x,e.x,n.x,i),H2(t.y,e.y,n.y,i)}function x6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const y6={duration:.45,ease:[.4,0,.1,1]},G2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),X2=G2("applewebkit/")&&!G2("chrome/")?Math.round:Mr;function Z2(t){t.min=X2(t.min),t.max=X2(t.max)}function w6(t){Z2(t.x),Z2(t.y)}function Q3(t,e,n){return t==="position"||t==="preserve-aspect"&&!C8(F2(e),F2(n),.2)}function v6(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const E6=Y3({attachResizeListener:(t,e)=>oc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dh={current:void 0},$3=Y3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dh.current){const t=new E6({});t.mount(window),t.setOptions({layoutScroll:!0}),Dh.current=t}return Dh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),C6={pan:{Feature:F8},drag:{Feature:B8,ProjectionNode:$3,MeasureLayout:H3}};function q2(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Zt.postRender(()=>l(e,bc(e)))}class A6 extends xo{mount(){const{current:e}=this.node;e&&(this.unmount=C4(e,n=>(q2(this.node,n,"Start"),i=>q2(this.node,i,"End"))))}unmount(){}}class _6 extends xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_c(oc(this.node.current,"focus",()=>this.onFocus()),oc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function K2(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Zt.postRender(()=>l(e,bc(e)))}class b6 extends xo{mount(){const{current:e}=this.node;e&&(this.unmount=S4(e,n=>(K2(this.node,n,"Start"),(i,{success:a})=>K2(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const d1=new WeakMap,kh=new WeakMap,S6=t=>{const e=d1.get(t.target);e&&e(t)},T6=t=>{t.forEach(S6)};function I6({root:t,...e}){const n=t||document;kh.has(n)||kh.set(n,{});const i=kh.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(T6,{root:t,...e})),i[a]}function R6(t,e,n){const i=I6(e);return d1.set(t,n),i.observe(t),()=>{d1.delete(t),i.unobserve(t)}}const N6={some:0,all:1};class O6 extends xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,d={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:N6[a]},p=y=>{const{isIntersecting:m}=y;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:E,onViewportLeave:A}=this.node.getProps(),O=m?E:A;O&&O(y)};return R6(this.node.current,d,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(D6(e,n))&&this.startObserver()}unmount(){}}function D6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const k6={inView:{Feature:O6},tap:{Feature:b6},focus:{Feature:_6},hover:{Feature:A6}},P6={layout:{ProjectionNode:$3,MeasureLayout:H3}},h1={current:null},J3={current:!1};function M6(){if(J3.current=!0,!!Dp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>h1.current=t.matches;t.addListener(e),e()}else h1.current=!1}const L6=[..._3,Kn,fo],B6=t=>L6.find(A3(t)),Y2=new WeakMap;function F6(t,e,n){for(const i in e){const a=e[i],l=n[i];if(Qn(a))t.addValue(i,a);else if(Qn(l))t.addValue(i,ic(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const d=t.getValue(i);d.liveStyle===!0?d.jump(a):d.hasAnimated||d.set(a)}else{const d=t.getStaticValue(i);t.addValue(i,ic(d!==void 0?d:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Q2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class V6{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:d},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const L=Ui.now();this.renderScheduledAt<L&&(this.renderScheduledAt=L,Zt.render(this.render,!1,!0))};const{latestValues:y,renderState:m,onUpdate:E}=d;this.onUpdate=E,this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=p,this.blockInitialAnimation=!!l,this.isControllingVariants=Vd(n),this.isVariantNode=Dv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:A,...O}=this.scrapeMotionValuesFromProps(n,{},this);for(const L in O){const j=O[L];y[L]!==void 0&&Qn(j)&&j.set(y[L],!1)}}mount(e){this.current=e,Y2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),J3.current||M6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:h1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Y2.delete(this.current),this.projection&&this.projection.unmount(),co(this.notifyUpdate),co(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=pa.has(e),a=n.on("change",p=>{this.latestValues[e]=p,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),d&&d(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rl){const n=Rl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Q2.length;i++){const a=Q2[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,d=e[l];d&&(this.propEventSubscriptions[a]=this.on(a,d))}this.prevMotionValues=F6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ic(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(E3(a)||d3(a))?a=parseFloat(a):!B6(a)&&fo.test(n)&&(a=y3(e,n)),this.setBaseTarget(e,Qn(a)?a.get():a)),Qn(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const d=Vp(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);d&&(a=d[e])}if(i&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Qn(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Jp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class eE extends V6{constructor(){super(...arguments),this.KeyframeResolver=b3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function U6(t){return window.getComputedStyle(t)}class j6 extends eE{constructor(){super(...arguments),this.type="html",this.renderInstance=jv}readValueFromInstance(e,n){if(pa.has(n)){const i=ig(n);return i&&i.default||0}else{const i=U6(e),a=(Fv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return z3(e,n)}build(e,n,i){zp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Xp(e,n,i)}}class z6 extends eE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pa.has(n)){const i=ig(n);return i&&i.default||0}return n=zv.has(n)?n:Lp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Gv(e,n,i)}build(e,n,i){Wp(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,a){Wv(e,n,i,a)}mount(e){this.isSVGTag=Gp(e.tagName),super.mount(e)}}const W6=(t,e)=>Fp(t)?new z6(e):new j6(e,{allowProjection:t!==we.Fragment}),H6=g4({...h8,...k6,...C6,...P6},W6),Do=Nb(H6);function tE(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=tE(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function G6(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=tE(t))&&(i&&(i+=" "),i+=e);return i}const ug="-",X6=t=>{const e=q6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:d=>{const p=d.split(ug);return p[0]===""&&p.length!==1&&p.shift(),nE(p,e)||Z6(d)},getConflictingClassGroupIds:(d,p)=>{const y=n[d]||[];return p&&i[d]?[...y,...i[d]]:y}}},nE=(t,e)=>{var d;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),a=i?nE(t.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(ug);return(d=e.validators.find(({validator:p})=>p(l)))==null?void 0:d.classGroupId},$2=/^\[(.+)\]$/,Z6=t=>{if($2.test(t)){const e=$2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},q6=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return Y6(Object.entries(t.classGroups),n).forEach(([l,d])=>{p1(d,i,l,e)}),i},p1=(t,e,n,i)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:J2(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(K6(a)){p1(a(i),e,n,i);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,d])=>{p1(d,J2(e,l),n,i)})})},J2=(t,e)=>{let n=t;return e.split(ug).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},K6=t=>t.isThemeGetter,Y6=(t,e)=>e?t.map(([n,i])=>{const a=i.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,p])=>[e+d,p])):l);return[n,a]}):t,Q6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const a=(l,d)=>{n.set(l,d),e++,e>t&&(e=0,i=n,n=new Map)};return{get(l){let d=n.get(l);if(d!==void 0)return d;if((d=i.get(l))!==void 0)return a(l,d),d},set(l,d){n.has(l)?n.set(l,d):a(l,d)}}},rE="!",$6=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,a=e[0],l=e.length,d=p=>{const y=[];let m=0,E=0,A;for(let k=0;k<p.length;k++){let _=p[k];if(m===0){if(_===a&&(i||p.slice(k,k+l)===e)){y.push(p.slice(E,k)),E=k+l;continue}if(_==="/"){A=k;continue}}_==="["?m++:_==="]"&&m--}const O=y.length===0?p:p.substring(E),L=O.startsWith(rE),j=L?O.substring(1):O,R=A&&A>E?A-E:void 0;return{modifiers:y,hasImportantModifier:L,baseClassName:j,maybePostfixModifierPosition:R}};return n?p=>n({className:p,parseClassName:d}):d},J6=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},eT=t=>({cache:Q6(t.cacheSize),parseClassName:$6(t),...X6(t)}),tT=/\s+/,nT=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a}=e,l=[],d=t.trim().split(tT);let p="";for(let y=d.length-1;y>=0;y-=1){const m=d[y],{modifiers:E,hasImportantModifier:A,baseClassName:O,maybePostfixModifierPosition:L}=n(m);let j=!!L,R=i(j?O.substring(0,L):O);if(!R){if(!j){p=m+(p.length>0?" "+p:p);continue}if(R=i(O),!R){p=m+(p.length>0?" "+p:p);continue}j=!1}const k=J6(E).join(":"),_=A?k+rE:k,b=_+R;if(l.includes(b))continue;l.push(b);const N=a(R,j);for(let M=0;M<N.length;++M){const X=N[M];l.push(_+X)}p=m+(p.length>0?" "+p:p)}return p};function rT(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iE(e))&&(i&&(i+=" "),i+=n);return i}const iE=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=iE(t[i]))&&(n&&(n+=" "),n+=e);return n};function iT(t,...e){let n,i,a,l=d;function d(y){const m=e.reduce((E,A)=>A(E),t());return n=eT(m),i=n.cache.get,a=n.cache.set,l=p,p(y)}function p(y){const m=i(y);if(m)return m;const E=nT(y,n);return a(y,E),E}return function(){return l(rT.apply(null,arguments))}}const Wt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},sE=/^\[(?:([a-z-]+):)?(.+)\]$/i,sT=/^\d+\/\d+$/,oT=new Set(["px","full","screen"]),aT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yi=t=>il(t)||oT.has(t)||sT.test(t),Os=t=>jl(t,"length",wT),il=t=>!!t&&!Number.isNaN(Number(t)),Ph=t=>jl(t,"number",il),fu=t=>!!t&&Number.isInteger(Number(t)),dT=t=>t.endsWith("%")&&il(t.slice(0,-1)),tt=t=>sE.test(t),Ds=t=>aT.test(t),hT=new Set(["length","size","percentage"]),pT=t=>jl(t,hT,oE),gT=t=>jl(t,"position",oE),mT=new Set(["image","url"]),xT=t=>jl(t,mT,ET),yT=t=>jl(t,"",vT),du=()=>!0,jl=(t,e,n)=>{const i=sE.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},wT=t=>lT.test(t)&&!uT.test(t),oE=()=>!1,vT=t=>cT.test(t),ET=t=>fT.test(t),CT=()=>{const t=Wt("colors"),e=Wt("spacing"),n=Wt("blur"),i=Wt("brightness"),a=Wt("borderColor"),l=Wt("borderRadius"),d=Wt("borderSpacing"),p=Wt("borderWidth"),y=Wt("contrast"),m=Wt("grayscale"),E=Wt("hueRotate"),A=Wt("invert"),O=Wt("gap"),L=Wt("gradientColorStops"),j=Wt("gradientColorStopPositions"),R=Wt("inset"),k=Wt("margin"),_=Wt("opacity"),b=Wt("padding"),N=Wt("saturate"),M=Wt("scale"),X=Wt("sepia"),G=Wt("skew"),z=Wt("space"),$=Wt("translate"),ne=()=>["auto","contain","none"],ue=()=>["auto","hidden","clip","visible","scroll"],De=()=>["auto",tt,e],xe=()=>[tt,e],Xe=()=>["",Yi,Os],ot=()=>["auto",il,tt],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_t=()=>["solid","dashed","dotted","double","none"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>["start","end","center","between","around","evenly","stretch"],Ae=()=>["","0",tt],Le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Qe=()=>[il,tt];return{cacheSize:500,separator:":",theme:{colors:[du],spacing:[Yi,Os],blur:["none","",Ds,tt],brightness:Qe(),borderColor:[t],borderRadius:["none","","full",Ds,tt],borderSpacing:xe(),borderWidth:Xe(),contrast:Qe(),grayscale:Ae(),hueRotate:Qe(),invert:Ae(),gap:xe(),gradientColorStops:[t],gradientColorStopPositions:[dT,Os],inset:De(),margin:De(),opacity:Qe(),padding:xe(),saturate:Qe(),scale:Qe(),sepia:Ae(),skew:Qe(),space:xe(),translate:xe()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Ds]}],"break-after":[{"break-after":Le()}],"break-before":[{"break-before":Le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),tt]}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:ne()}],"overscroll-x":[{"overscroll-x":ne()}],"overscroll-y":[{"overscroll-y":ne()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[R]}],"inset-x":[{"inset-x":[R]}],"inset-y":[{"inset-y":[R]}],start:[{start:[R]}],end:[{end:[R]}],top:[{top:[R]}],right:[{right:[R]}],bottom:[{bottom:[R]}],left:[{left:[R]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fu,tt]}],basis:[{basis:De()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:Ae()}],shrink:[{shrink:Ae()}],order:[{order:["first","last","none",fu,tt]}],"grid-cols":[{"grid-cols":[du]}],"col-start-end":[{col:["auto",{span:["full",fu,tt]},tt]}],"col-start":[{"col-start":ot()}],"col-end":[{"col-end":ot()}],"grid-rows":[{"grid-rows":[du]}],"row-start-end":[{row:["auto",{span:[fu,tt]},tt]}],"row-start":[{"row-start":ot()}],"row-end":[{"row-end":ot()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[O]}],"gap-x":[{"gap-x":[O]}],"gap-y":[{"gap-y":[O]}],"justify-content":[{justify:["normal",...he()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...he(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...he(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,e]}],"min-w":[{"min-w":[tt,e,"min","max","fit"]}],"max-w":[{"max-w":[tt,e,"none","full","min","max","fit","prose",{screen:[Ds]},Ds]}],h:[{h:[tt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ds,Os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ph]}],"font-family":[{font:[du]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",il,Ph]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yi,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._t(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yi,Os]}],"underline-offset":[{"underline-offset":["auto",Yi,tt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:xe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),gT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xT]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[L]}],"gradient-via":[{via:[L]}],"gradient-to":[{to:[L]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[..._t(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:_t()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",..._t()]}],"outline-offset":[{"outline-offset":[Yi,tt]}],"outline-w":[{outline:[Yi,Os]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Yi,Os]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ds,yT]}],"shadow-color":[{shadow:[du]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":be()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[y]}],"drop-shadow":[{"drop-shadow":["","none",Ds,tt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[E]}],invert:[{invert:[A]}],saturate:[{saturate:[N]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[y]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[E]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:Qe()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:Qe()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[fu,tt]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":xe()}],"scroll-mx":[{"scroll-mx":xe()}],"scroll-my":[{"scroll-my":xe()}],"scroll-ms":[{"scroll-ms":xe()}],"scroll-me":[{"scroll-me":xe()}],"scroll-mt":[{"scroll-mt":xe()}],"scroll-mr":[{"scroll-mr":xe()}],"scroll-mb":[{"scroll-mb":xe()}],"scroll-ml":[{"scroll-ml":xe()}],"scroll-p":[{"scroll-p":xe()}],"scroll-px":[{"scroll-px":xe()}],"scroll-py":[{"scroll-py":xe()}],"scroll-ps":[{"scroll-ps":xe()}],"scroll-pe":[{"scroll-pe":xe()}],"scroll-pt":[{"scroll-pt":xe()}],"scroll-pr":[{"scroll-pr":xe()}],"scroll-pb":[{"scroll-pb":xe()}],"scroll-pl":[{"scroll-pl":xe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yi,Os,Ph]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AT=iT(CT);function _T(...t){return AT(G6(t))}const bT=()=>{const t=pi(n=>n.toasts);return pi(n=>n.currentView)==="scanner"?null:Y.jsx("div",{className:"fixed bottom-4 left-0 right-0 z-50 flex flex-col items-center gap-2 pointer-events-none p-4",children:Y.jsx(bf,{children:t.map(n=>Y.jsxs(Do.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:_T("bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] pointer-events-auto",n.type==="error"&&"bg-red-600",n.type==="success"&&"bg-green-600"),children:[Y.jsx("div",{className:"flex-1 font-medium",children:n.message}),n.type==="percentage"&&Y.jsxs("div",{className:"font-mono text-sm bg-white/20 px-2 py-0.5 rounded",children:[n.value,"%"]})]},n.id))})})},ST=({children:t})=>Y.jsx(k_,{client:G_,children:Y.jsxs("div",{className:"min-h-screen bg-neutral-100 text-neutral-900 font-sans antialiased overflow-hidden relative",children:[t,Y.jsx(bT,{})]})});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=(t,e)=>{const n=we.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:p="",children:y,...m},E)=>we.createElement("svg",{ref:E,...TT,width:a,height:a,stroke:i,strokeWidth:d?Number(l)*24/Number(a):l,className:["lucide",`lucide-${IT(t)}`,p].join(" "),...m},[...e.map(([A,O])=>we.createElement(A,O)),...Array.isArray(y)?y:[y]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=yo("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=yo("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=yo("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=yo("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=yo("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=yo("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=yo("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=yo("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uE=({isLoading:t,data:e,code:n})=>{const[i,a]=we.useState(!1),[l,d]=we.useState(!1),[p,y]=we.useState(!1);if(t)return Y.jsxs(Do.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center min-h-[200px]",children:[Y.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),Y.jsxs("div",{className:"text-center",children:[Y.jsx("p",{className:"text-neutral-500 font-medium",children:"Analyzing product..."}),n&&Y.jsxs("p",{className:"text-[10px] font-mono text-neutral-400 mt-2 uppercase tracking-widest",children:["Code: ",n]})]})]});if(!e)return null;if(e.source==="none")return Y.jsxs(Do.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-neutral-50 rounded-2xl p-6 border-2 border-dashed border-neutral-200 text-center",children:[Y.jsx("p",{className:"text-neutral-600 font-medium mb-2",children:"Product Not Found"}),Y.jsx("p",{className:"text-sm text-neutral-400",children:"This barcode is not yet in our databases."})]});const m=e.data,E=JSON.parse(m.palm_oil_tags||"[]"),A=JSON.parse(m.palm_oil_may_be_tags||"[]"),O=E.length>0,L=A.length>0;let j="border-green-500",R="bg-emerald-50",k="text-green-900",_="text-emerald-600",b="No Palm Oil Detected";O?(j="border-red-500",R="bg-red-50",k="text-red-900",_="text-red-600",b="Contains Palm Oil"):L&&(j="border-orange-500",R="bg-orange-50",k="text-orange-900",_="text-orange-600",b="May Contain Palm Oil");const N=JSON.parse(m.nutrient_levels||"{}"),M=JSON.parse(m.additives_tags||"[]"),X=z=>{switch(z==null?void 0:z.toLowerCase()){case"a":return"bg-emerald-600";case"b":return"bg-emerald-400";case"c":return"bg-yellow-400";case"d":return"bg-orange-500";case"e":return"bg-red-600";default:return"bg-neutral-300"}},G=Object.entries(N).filter(([z,$])=>$==="high");return Y.jsxs(Do.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-2xl shadow-lg border-l-8 ${j} overflow-hidden`,children:[Y.jsxs("div",{className:"p-4",children:[Y.jsxs("div",{className:"flex gap-4 mb-3",children:[Y.jsx("div",{className:"w-20 h-20 shrink-0 bg-neutral-100 rounded-xl overflow-hidden border border-neutral-100 shadow-sm flex items-center justify-center",children:m.image_url?Y.jsx("img",{src:m.image_url,alt:m.name,className:"w-full h-full object-cover"}):Y.jsx(RT,{className:"text-neutral-300",size:24})}),Y.jsxs("div",{className:"flex-1 min-w-0",children:[Y.jsx("div",{className:"flex items-start justify-between gap-2",children:Y.jsxs("div",{children:[Y.jsx("h3",{className:"text-lg font-bold text-neutral-800 leading-tight mb-1",children:m.name||"Unknown Product"}),Y.jsx("p",{className:"text-[10px] font-mono text-neutral-400 uppercase tracking-widest",children:m.code})]})}),Y.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[m.nutriscore_grade&&Y.jsxs("span",{className:`px-2.5 py-1 rounded-md text-xs font-black uppercase text-white shadow-sm ${X(m.nutriscore_grade)}`,children:["Nutri-Score: ",Y.jsx("span",{className:"text-sm",children:m.nutriscore_grade.toUpperCase()})]}),m.nova_group&&Y.jsxs("span",{className:"px-2.5 py-1 rounded-md text-xs font-black uppercase bg-neutral-800 text-white shadow-sm",children:["NOVA: ",Y.jsx("span",{className:"text-sm",children:m.nova_group})]})]})]})]}),Y.jsxs("div",{className:`rounded-xl mb-3 overflow-hidden ${R} ${k}`,children:[Y.jsxs("button",{onClick:()=>y(!p),disabled:!O&&!L,className:"w-full py-2 px-4 flex items-center justify-between text-left transition-colors",children:[Y.jsxs("div",{className:"flex items-center gap-3",children:[Y.jsx(OT,{size:20,className:_}),Y.jsx("span",{className:"font-bold text-sm leading-tight",children:b})]}),(O||L)&&(p?Y.jsx(Lh,{size:16}):Y.jsx(Mh,{size:16}))]}),Y.jsx(bf,{children:p&&(O||L)&&Y.jsxs(Do.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4",children:[O&&Y.jsxs("div",{className:"text-xs opacity-80",children:[Y.jsx("strong",{children:"Detected:"})," ",E.map(z=>z.replace("en:","").replace(/-/g," ")).join(", ")]}),!O&&L&&Y.jsxs("div",{className:"text-xs opacity-80",children:[Y.jsx("strong",{children:"Potential:"})," ",A.map(z=>z.replace("en:","").replace(/-/g," ")).join(", ")]})]})})]}),G.length>0&&Y.jsxs("div",{className:"mb-3",children:[Y.jsx("h4",{className:"text-xs font-bold text-neutral-400 uppercase tracking-wider mb-2",children:"High Levels"}),Y.jsxs("div",{className:"flex flex-wrap gap-2",children:[G.map(([z])=>Y.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-xs font-bold rounded-full capitalize",children:["High ",z]},z)),m.nova_group===4&&Y.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-xs font-bold rounded-full",children:"Ultra-Processed"})]})]}),M.length>0&&Y.jsxs("div",{className:"border-t border-neutral-100",children:[Y.jsxs("button",{onClick:()=>d(!l),className:"w-full flex items-center justify-between py-2 text-sm font-bold text-neutral-600 hover:text-blue-600 transition-colors",children:[Y.jsxs("span",{children:["Additives (",M.length,")"]}),l?Y.jsx(Lh,{size:16}):Y.jsx(Mh,{size:16})]}),Y.jsx(bf,{children:l&&Y.jsx(Do.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:Y.jsx("div",{className:"flex flex-wrap gap-2 pb-4",children:M.map(z=>Y.jsx("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-600 border border-neutral-200 text-[10px] font-bold rounded uppercase",children:z.replace("en:","").toUpperCase()},z))})})})]}),Y.jsxs("button",{onClick:()=>a(!i),className:"w-full flex items-center justify-between py-3 border-t border-neutral-100 text-sm font-bold text-neutral-600 hover:text-blue-600 transition-colors",children:[Y.jsx("span",{children:"Full Ingredients List"}),i?Y.jsx(Lh,{size:16}):Y.jsx(Mh,{size:16})]}),Y.jsx(bf,{children:i&&Y.jsx(Do.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:Y.jsx("p",{className:"text-xs text-neutral-500 leading-relaxed pb-4 capitalize",children:m.ingredients||"No ingredient list available."})})})]}),Y.jsx("div",{className:"bg-neutral-50 px-6 py-3 border-t text-xs text-neutral-400 flex justify-between",children:Y.jsxs("span",{children:["Source: ",e.source==="local"?"Local DB":"Open Food Facts"]})})]})},cE=({history:t,onSelect:e,activeCode:n})=>{const i=n?t.filter(a=>a.code!==n):t;return!i||i.length===0?Y.jsx("div",{className:"bg-white/50 border-2 border-dashed border-slate-200 rounded-3xl p-10 text-center text-slate-300 text-sm italic",children:"No recent scans found"}):Y.jsx("div",{className:"space-y-2.5",children:i.map(a=>Y.jsxs("button",{onClick:()=>e(a.code),className:"w-full bg-white px-5 py-4 rounded-3xl shadow-sm border border-slate-200/60 flex items-center justify-between hover:bg-slate-50 transition-all text-left group overflow-hidden",children:[Y.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[Y.jsx("div",{className:`flex-shrink-0 w-2.5 h-2.5 rounded-full ${a.status==="green"?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]":a.status==="red"?"bg-rose-500 shadow-[0_0_10px_rgba(244,63,94,0.3)]":"bg-orange-500 shadow-[0_0_10px_rgba(249,115,22,0.3)]"}`}),Y.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[Y.jsx("span",{className:"font-bold text-slate-800 truncate group-hover:text-blue-600 transition-colors",children:a.productName||"Unknown Product"}),Y.jsx("div",{className:"flex items-center gap-2",children:Y.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a.status==="red"?"text-rose-500":"text-emerald-500"}`,children:a.palmOilText})})]}),Y.jsx("div",{className:"flex-shrink-0 text-[10px] text-slate-400 font-bold bg-slate-100 px-2 py-1 rounded-full uppercase tracking-tighter",children:new Date(a.scannedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),Y.jsx(lE,{size:16,className:"text-slate-200 group-hover:text-blue-400 ml-3 transition-colors"})]},a.scannedAt))})},wt=0,kT=5,hn=10,fE=12,dE=14,To=21,Bh=25,PT=27,Fh=100,MT=101,LT=3850,BT=522,FT=1,hE=2,cg=4,VT=8,Oa=0,ko=1,Rf=2,UT=3,Nf=4,jT=512,zT=1024,WT=2048,HT=16384,ex=1,tx=2,nx=3,rx=4,ix=5,sx=0x7fffffffffffffffn,ox=-0x8000000000000000n;class Qi extends Error{constructor(e,n){super(e),this.code=n}}const Ra=!0;function GT(t){const e={},n=t._getSqliteFree(),i=t._malloc(8),a=[i,i+4];function l(R){if(typeof R!="string")return 0;const k=t.lengthBytesUTF8(R),_=t._sqlite3_malloc(k+1);return t.stringToUTF8(R,_,k+1),_}function d(R,k){return BigInt(k)<<32n|BigInt(R)&0xffffffffn}const p=function(){const R=BigInt(Number.MAX_SAFE_INTEGER)>>32n,k=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(_,b){return b>R||b<k?d(_,b):b*4294967296+(_&2147483647)-(_&2147483648)}}(),y=new Set;function m(R){if(!y.has(R))throw new Qi("not a database",To)}const E=new Map;function A(R){if(!E.has(R))throw new Qi("not a statement",To)}e.bind_collection=function(R,k){A(R);const _=Array.isArray(k),b=e.bind_parameter_count(R);for(let N=1;N<=b;++N){const M=_?N-1:e.bind_parameter_name(R,N),X=k[M];X!==void 0&&e.bind(R,N,X)}return wt},e.bind=function(R,k,_){switch(A(R),typeof _){case"number":return _===(_|0)?e.bind_int(R,k,_):e.bind_double(R,k,_);case"string":return e.bind_text(R,k,_);default:return _ instanceof Uint8Array||Array.isArray(_)?e.bind_blob(R,k,_):_===null?e.bind_null(R,k):typeof _=="bigint"?e.bind_int64(R,k,_):_===void 0?PT:(console.warn("unknown binding converted to null",_),e.bind_null(R,k))}},e.bind_blob=function(){const R="sqlite3_bind_blob",k=t.cwrap(R,...Ze("nnnnn:n"));return function(_,b,N){A(_);const M=N.byteLength??N.length,X=t._sqlite3_malloc(M);t.HEAPU8.subarray(X).set(N);const G=k(_,b,X,M,n);return j(R,G,E.get(_))}}(),e.bind_parameter_count=function(){const k=t.cwrap("sqlite3_bind_parameter_count",...Ze("n:n"));return function(_){return A(_),k(_)}}(),e.bind_double=function(){const R="sqlite3_bind_double",k=t.cwrap(R,...Ze("nnn:n"));return function(_,b,N){A(_);const M=k(_,b,N);return j(R,M,E.get(_))}}(),e.bind_int=function(){const R="sqlite3_bind_int",k=t.cwrap(R,...Ze("nnn:n"));return function(_,b,N){if(A(_),N>2147483647||N<-2147483648)return Bh;const M=k(_,b,N);return j(R,M,E.get(_))}}(),e.bind_int64=function(){const R="sqlite3_bind_int64",k=t.cwrap(R,...Ze("nnnn:n"));return function(_,b,N){if(A(_),N>sx||N<ox)return Bh;const M=N&0xffffffffn,X=N>>32n,G=k(_,b,Number(M),Number(X));return j(R,G,E.get(_))}}(),e.bind_null=function(){const R="sqlite3_bind_null",k=t.cwrap(R,...Ze("nn:n"));return function(_,b){A(_);const N=k(_,b);return j(R,N,E.get(_))}}(),e.bind_parameter_name=function(){const k=t.cwrap("sqlite3_bind_parameter_name",...Ze("n:s"));return function(_,b){return A(_),k(_,b)}}(),e.bind_text=function(){const R="sqlite3_bind_text",k=t.cwrap(R,...Ze("nnnnn:n"));return function(_,b,N){A(_);const M=l(N),X=k(_,b,M,-1,n);return j(R,X,E.get(_))}}(),e.changes=function(){const k=t.cwrap("sqlite3_changes",...Ze("n:n"));return function(_){return m(_),k(_)}}(),e.close=function(){const R="sqlite3_close",k=t.cwrap(R,...Ze("n:n"),{async:Ra});return async function(_){m(_);const b=await k(_);return y.delete(_),j(R,b,_)}}(),e.column=function(R,k){A(R);const _=e.column_type(R,k);switch(_){case rx:return e.column_blob(R,k);case tx:return e.column_double(R,k);case ex:const b=e.column_int(R,k),N=t.getTempRet0();return p(b,N);case ix:return null;case nx:return e.column_text(R,k);default:throw new Qi("unknown type",_)}},e.column_blob=function(){const k=t.cwrap("sqlite3_column_blob",...Ze("nn:n"));return function(_,b){A(_);const N=e.column_bytes(_,b),M=k(_,b);return t.HEAPU8.subarray(M,M+N)}}(),e.column_bytes=function(){const k=t.cwrap("sqlite3_column_bytes",...Ze("nn:n"));return function(_,b){return A(_),k(_,b)}}(),e.column_count=function(){const k=t.cwrap("sqlite3_column_count",...Ze("n:n"));return function(_){return A(_),k(_)}}(),e.column_double=function(){const k=t.cwrap("sqlite3_column_double",...Ze("nn:n"));return function(_,b){return A(_),k(_,b)}}(),e.column_int=function(){const k=t.cwrap("sqlite3_column_int64",...Ze("nn:n"));return function(_,b){return A(_),k(_,b)}}(),e.column_int64=function(){const k=t.cwrap("sqlite3_column_int64",...Ze("nn:n"));return function(_,b){A(_);const N=k(_,b),M=t.getTempRet0();return d(N,M)}}(),e.column_name=function(){const k=t.cwrap("sqlite3_column_name",...Ze("nn:s"));return function(_,b){return A(_),k(_,b)}}(),e.column_names=function(R){const k=[],_=e.column_count(R);for(let b=0;b<_;++b)k.push(e.column_name(R,b));return k},e.column_text=function(){const k=t.cwrap("sqlite3_column_text",...Ze("nn:s"));return function(_,b){return A(_),k(_,b)}}(),e.column_type=function(){const k=t.cwrap("sqlite3_column_type",...Ze("nn:n"));return function(_,b){return A(_),k(_,b)}}(),e.create_function=function(R,k,_,b,N,M,X,G){if(m(R),M&&!X&&!G){const z=t.createFunction(R,k,_,b,N,M);return j("sqlite3_create_function",z,R)}if(!M&&X&&G){const z=t.createAggregate(R,k,_,b,N,X,G);return j("sqlite3_create_function",z,R)}throw new Qi("invalid function combination",To)},e.create_module=function(R,k,_,b){m(R);const N=t.createModule(R,k,_,b);return j("sqlite3_create_module",N,R)},e.data_count=function(){const k=t.cwrap("sqlite3_data_count",...Ze("n:n"));return function(_){return A(_),k(_)}}(),e.declare_vtab=function(){const k=t.cwrap("sqlite3_declare_vtab",...Ze("ns:n"));return function(_,b){const N=k(_,b);return j("sqlite3_declare_vtab",N)}}(),e.exec=async function(R,k,_){for await(const b of e.statements(R,k)){let N;for(;await e.step(b)===Fh;)if(_){N=N??e.column_names(b);const M=e.row(b);await _(M,N)}}return wt},e.run=async function(R,k,_){for await(const b of e.statements(R,k))_&&e.bind_collection(b,_),await e.step(b);return wt},e.execWithParams=async function(R,k,_){let b=[];const N=[];for await(const M of e.statements(R,k))for(_&&e.bind_collection(M,_);await e.step(M)===Fh;){b=b.length===0?e.column_names(M):b;const X=e.row(M);N.push(X)}return{rows:N,columns:b}},e.executeBatch=async function(R,k,_){try{await e.run(R,"BEGIN EXCLUSIVE TRANSACTION",null);for(let b=0;b<k.length;b++){const N=_?_[b]:null;let M;const X=e.str_new(R,k[b]);try{const G=e.str_value(X);M=await e.prepare_v2(R,G),N&&e.bind_collection(M.stmt,N),await e.step(M.stmt)}finally{M!=null&&M.stmt&&e.finalize(M.stmt),e.str_finish(X)}}return await e.run(R,"COMMIT",null),wt}catch{await e.run(R,"ROLLBACK",null)}},e.finalize=function(){const k=t.cwrap("sqlite3_finalize",...Ze("n:n"),{async:Ra});return async function(_){if(!E.has(_))return To;const b=await k(_);return E.get(_),E.delete(_),b}}(),e.get_autocommit=function(){const k=t.cwrap("sqlite3_get_autocommit",...Ze("n:n"));return function(_){return k(_)}}(),e.libversion=function(){const k=t.cwrap("sqlite3_libversion",...Ze(":s"));return function(){return k()}}(),e.libversion_number=function(){const k=t.cwrap("sqlite3_libversion_number",...Ze(":n"));return function(){return k()}}(),e.limit=function(){const k=t.cwrap("sqlite3_limit",...Ze("nnn:n"));return function(_,b,N){return k(_,b,N)}}(),e.open_v2=function(){const R="sqlite3_open_v2",k=t.cwrap(R,...Ze("snnn:n"),{async:Ra});return async function(_,b,N){b=b||cg|hE,N=l(N);const M=await k(_,a[0],b,N),X=t.getValue(a[0],"*");return y.add(X),t._sqlite3_free(N),t.ccall("RegisterExtensionFunctions","void",["number"],[X]),j(R,M),X}}(),e.prepare_v2=function(){const R="sqlite3_prepare_v2",k=t.cwrap(R,...Ze("nnnnn:n"),{async:Ra});return async function(_,b){const N=await k(_,b,-1,a[0],a[1]);j(R,N,_);const M=t.getValue(a[0],"*");return M?(E.set(M,_),{stmt:M,sql:t.getValue(a[1],"*")}):null}}(),e.progress_handler=function(R,k,_,b){m(R),t.progressHandler(R,k,_,b)},e.reset=function(){const R="sqlite3_reset",k=t.cwrap(R,...Ze("n:n"),{async:Ra});return async function(_){A(_);const b=await k(_);return j(R,b,E.get(_))}}(),e.result=function(R,k){switch(typeof k){case"number":k===(k|0)?e.result_int(R,k):e.result_double(R,k);break;case"string":e.result_text(R,k);break;default:if(k instanceof Uint8Array||Array.isArray(k))e.result_blob(R,k);else if(k===null)e.result_null(R);else{if(typeof k=="bigint")return e.result_int64(R,k);console.warn("unknown result converted to null",k),e.result_null(R)}break}},e.result_blob=function(){const k=t.cwrap("sqlite3_result_blob",...Ze("nnnn:n"));return function(_,b){const N=b.byteLength??b.length,M=t._sqlite3_malloc(N);t.HEAPU8.subarray(M).set(b),k(_,M,N,n)}}(),e.result_double=function(){const k=t.cwrap("sqlite3_result_double",...Ze("nn:n"));return function(_,b){k(_,b)}}(),e.result_int=function(){const k=t.cwrap("sqlite3_result_int",...Ze("nn:n"));return function(_,b){k(_,b)}}(),e.result_int64=function(){const k=t.cwrap("sqlite3_result_int64",...Ze("nnn:n"));return function(_,b){if(b>sx||b<ox)return Bh;const N=b&0xffffffffn,M=b>>32n;k(_,Number(N),Number(M))}}(),e.result_null=function(){const k=t.cwrap("sqlite3_result_null",...Ze("n:n"));return function(_){k(_)}}(),e.result_text=function(){const k=t.cwrap("sqlite3_result_text",...Ze("nnnn:n"));return function(_,b){const N=l(b);k(_,N,-1,n)}}(),e.row=function(R){const k=[],_=e.data_count(R);for(let b=0;b<_;++b){const N=e.column(R,b);k.push((N==null?void 0:N.buffer)===t.HEAPU8.buffer?N.slice():N)}return k},e.set_authorizer=function(R,k,_){m(R);const b=t.setAuthorizer(R,k,_);return j("sqlite3_set_authorizer",b,R)},e.sql=function(){const k=t.cwrap("sqlite3_sql",...Ze("n:s"));return function(_){return A(_),k(_)}}(),e.statements=function(R,k){return async function*(){const _=e.str_new(R,k);let b={stmt:null,sql:e.str_value(_)};try{for(;b=await e.prepare_v2(R,b.sql);)yield b.stmt,e.finalize(b.stmt),b.stmt=null}finally{b!=null&&b.stmt&&e.finalize(b.stmt),e.str_finish(_)}}()},e.step=function(){const R="sqlite3_step",k=t.cwrap(R,...Ze("n:n"),{async:Ra});return async function(_){A(_);const b=await k(_);return j(R,b,E.get(_),[Fh,MT])}}();let O=0;const L=new Map;e.str_new=function(R,k=""){const _=t.lengthBytesUTF8(k),b=O++&4294967295,N={offset:t._sqlite3_malloc(_+1),bytes:_};return L.set(b,N),t.stringToUTF8(k,N.offset,N.bytes+1),b},e.str_appendall=function(R,k){if(!L.has(R))throw new Qi("not a string",To);const _=L.get(R),b=t.lengthBytesUTF8(k),N=_.bytes+b,M=t._sqlite3_malloc(N+1);t.HEAPU8.subarray(M,M+N+1).set(t.HEAPU8.subarray(_.offset,_.offset+_.bytes)),t.stringToUTF8(k,M+_.bytes,b+1),t._sqlite3_free(_.offset),_.offset=M,_.bytes=N,L.set(R,_)},e.str_finish=function(R){if(!L.has(R))throw new Qi("not a string",To);const k=L.get(R);L.delete(R),t._sqlite3_free(k.offset)},e.str_value=function(R){if(!L.has(R))throw new Qi("not a string",To);return L.get(R).offset},e.update_hook=function(R,k){return m(R),t.updateHook(R,k),wt},e.user_data=function(R){return t.getFunctionUserData(R)},e.value=function(R){const k=e.value_type(R);switch(k){case rx:return e.value_blob(R);case tx:return e.value_double(R);case ex:const _=e.value_int(R),b=t.getTempRet0();return p(_,b);case ix:return null;case nx:return e.value_text(R);default:throw new Qi("unknown type",k)}},e.value_blob=function(){const k=t.cwrap("sqlite3_value_blob",...Ze("n:n"));return function(_){const b=e.value_bytes(_),N=k(_);return t.HEAPU8.subarray(N,N+b)}}(),e.value_bytes=function(){const k=t.cwrap("sqlite3_value_bytes",...Ze("n:n"));return function(_){return k(_)}}(),e.value_double=function(){const k=t.cwrap("sqlite3_value_double",...Ze("n:n"));return function(_){return k(_)}}(),e.value_int=function(){const k=t.cwrap("sqlite3_value_int64",...Ze("n:n"));return function(_){return k(_)}}(),e.value_int64=function(){const k=t.cwrap("sqlite3_value_int64",...Ze("n:n"));return function(_){const b=k(_),N=t.getTempRet0();return d(b,N)}}(),e.value_text=function(){const k=t.cwrap("sqlite3_value_text",...Ze("n:s"));return function(_){return k(_)}}(),e.value_type=function(){const k=t.cwrap("sqlite3_value_type",...Ze("n:n"));return function(_){return k(_)}}(),e.vfs_register=function(R,k){const _=t.registerVFS(R,k);return j("sqlite3_vfs_register",_)};function j(R,k,_=null,b=[wt]){if(b.includes(k))return k;const N=_?t.ccall("sqlite3_errmsg","string",["number"],[_]):R;throw new Qi(N,k)}return e}function Ze(t){const e=[],n=t.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":e.push("number");break;case"s":e.push("string");break;case"v":e.push(null);break}const i=[];for(let a of n[1])switch(a){case"n":i.push("number");break;case"s":i.push("string");break}return e.push(i),e}var XT=(()=>{var t=import.meta.url;return function(e={}){var n=e,i,a;n.ready=new Promise((x,v)=>{i=x,a=v});var l=Object.assign({},n),d="./this.program",p=(x,v)=>{throw v},y=typeof window=="object",m=typeof importScripts=="function",E="",A;(y||m)&&(m?E=self.location.href:typeof document<"u"&&document.currentScript&&(E=document.currentScript.src),t&&(E=t),E.indexOf("blob:")!==0?E=E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):E="",m&&(A=x=>{var v=new XMLHttpRequest;return v.open("GET",x,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}));var O=n.print||console.log.bind(console),L=n.printErr||console.error.bind(console);Object.assign(n,l),l=null,n.thisProgram&&(d=n.thisProgram),n.quit&&(p=n.quit);var j;n.wasmBinary&&(j=n.wasmBinary);var R=n.noExitRuntime||!0;typeof WebAssembly!="object"&&Ae("no native wasm support detected");var k,_=!1,b,N,M,X,G,z,$,ne;function ue(){var x=k.buffer;n.HEAP8=N=new Int8Array(x),n.HEAP16=X=new Int16Array(x),n.HEAPU8=M=new Uint8Array(x),n.HEAPU16=new Uint16Array(x),n.HEAP32=G=new Int32Array(x),n.HEAPU32=z=new Uint32Array(x),n.HEAPF32=$=new Float32Array(x),n.HEAPF64=ne=new Float64Array(x)}var De=[],xe=[],Xe=[],ot=[],re=0;function _t(){var x=n.preRun.shift();De.unshift(x)}var be=0,he=null;function Ae(x){throw n.onAbort&&n.onAbort(x),x="Aborted("+x+")",L(x),_=!0,b=1,x=new WebAssembly.RuntimeError(x+". Build with -sASSERTIONS for more info."),a(x),x}function Le(x){return x.startsWith("data:application/octet-stream;base64,")}var Qe;if(n.locateFile){if(Qe="wa-sqlite-async.wasm",!Le(Qe)){var at=Qe;Qe=n.locateFile?n.locateFile(at,E):E+at}}else Qe=new URL("/ingredients-finder/assets/wa-sqlite-async-DY3_ptqa.wasm",import.meta.url).href;function Jn(x){if(x==Qe&&j)return new Uint8Array(j);if(A)return A(x);throw"both async and sync fetching of the wasm failed"}function Vt(x){return j||!y&&!m||typeof fetch!="function"?Promise.resolve().then(()=>Jn(x)):fetch(x,{credentials:"same-origin"}).then(v=>{if(!v.ok)throw"failed to load wasm binary file at '"+x+"'";return v.arrayBuffer()}).catch(()=>Jn(x))}function yi(x,v,S){return Vt(x).then(P=>WebAssembly.instantiate(P,v)).then(P=>P).then(S,P=>{L(`failed to asynchronously prepare wasm: ${P}`),Ae(P)})}function ke(x,v){var S=Qe;return j||typeof WebAssembly.instantiateStreaming!="function"||Le(S)||typeof fetch!="function"?yi(S,x,v):fetch(S,{credentials:"same-origin"}).then(P=>WebAssembly.instantiateStreaming(P,x).then(v,function(U){return L(`wasm streaming compile failed: ${U}`),L("falling back to ArrayBuffer instantiation"),yi(S,x,v)}))}var Be,qe;function ws(x){this.name="ExitStatus",this.message=`Program terminated with exit(${x})`,this.status=x}var wi=x=>{for(;0<x.length;)x.shift()(n)};function mt(x,v="i8"){switch(v.endsWith("*")&&(v="*"),v){case"i1":return N[x>>0];case"i8":return N[x>>0];case"i16":return X[x>>1];case"i32":return G[x>>2];case"i64":Ae("to do getValue(i64) use WASM_BIGINT");case"float":return $[x>>2];case"double":return ne[x>>3];case"*":return z[x>>2];default:Ae(`invalid type for getValue: ${v}`)}}function er(x,v,S="i8"){switch(S.endsWith("*")&&(S="*"),S){case"i1":N[x>>0]=v;break;case"i8":N[x>>0]=v;break;case"i16":X[x>>1]=v;break;case"i32":G[x>>2]=v;break;case"i64":Ae("to do setValue(i64) use WASM_BIGINT");case"float":$[x>>2]=v;break;case"double":ne[x>>3]=v;break;case"*":z[x>>2]=v;break;default:Ae(`invalid type for setValue: ${S}`)}}var gt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,st=(x,v,S)=>{var P=v+S;for(S=v;x[S]&&!(S>=P);)++S;if(16<S-v&&x.buffer&&gt)return gt.decode(x.subarray(v,S));for(P="";v<S;){var U=x[v++];if(U&128){var ee=x[v++]&63;if((U&224)==192)P+=String.fromCharCode((U&31)<<6|ee);else{var K=x[v++]&63;U=(U&240)==224?(U&15)<<12|ee<<6|K:(U&7)<<18|ee<<12|K<<6|x[v++]&63,65536>U?P+=String.fromCharCode(U):(U-=65536,P+=String.fromCharCode(55296|U>>10,56320|U&1023))}}else P+=String.fromCharCode(U)}return P},_r=(x,v)=>{for(var S=0,P=x.length-1;0<=P;P--){var U=x[P];U==="."?x.splice(P,1):U===".."?(x.splice(P,1),S++):S&&(x.splice(P,1),S--)}if(v)for(;S;S--)x.unshift("..");return x},fr=x=>{var v=x.charAt(0)==="/",S=x.substr(-1)==="/";return(x=_r(x.split("/").filter(P=>!!P),!v).join("/"))||v||(x="."),x&&S&&(x+="/"),(v?"/":"")+x},wn=x=>{var v=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(x).slice(1);return x=v[0],v=v[1],!x&&!v?".":(v&&(v=v.substr(0,v.length-1)),x+v)},Et=x=>{if(x==="/")return"/";x=fr(x),x=x.replace(/\/$/,"");var v=x.lastIndexOf("/");return v===-1?x:x.substr(v+1)},ft=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return x=>crypto.getRandomValues(x);Ae("initRandomDevice")},wo=x=>(wo=ft())(x);function Re(){for(var x="",v=!1,S=arguments.length-1;-1<=S&&!v;S--){if(v=0<=S?arguments[S]:"/",typeof v!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!v)return"";x=v+"/"+x,v=v.charAt(0)==="/"}return x=_r(x.split("/").filter(P=>!!P),!v).join("/"),(v?"/":"")+x||"."}var vs=[],vi=x=>{for(var v=0,S=0;S<x.length;++S){var P=x.charCodeAt(S);127>=P?v++:2047>=P?v+=2:55296<=P&&57343>=P?(v+=4,++S):v+=3}return v},kn=(x,v,S,P)=>{if(!(0<P))return 0;var U=S;P=S+P-1;for(var ee=0;ee<x.length;++ee){var K=x.charCodeAt(ee);if(55296<=K&&57343>=K){var oe=x.charCodeAt(++ee);K=65536+((K&1023)<<10)|oe&1023}if(127>=K){if(S>=P)break;v[S++]=K}else{if(2047>=K){if(S+1>=P)break;v[S++]=192|K>>6}else{if(65535>=K){if(S+2>=P)break;v[S++]=224|K>>12}else{if(S+3>=P)break;v[S++]=240|K>>18,v[S++]=128|K>>12&63}v[S++]=128|K>>6&63}v[S++]=128|K&63}}return v[S]=0,S-U},ga=[];function dr(x,v){ga[x]={input:[],Tb:[],dc:v},Xn(x,Sc)}var Sc={open(x){var v=ga[x.node.hc];if(!v)throw new ye(43);x.Ub=v,x.seekable=!1},close(x){x.Ub.dc.kc(x.Ub)},kc(x){x.Ub.dc.kc(x.Ub)},read(x,v,S,P){if(!x.Ub||!x.Ub.dc.zc)throw new ye(60);for(var U=0,ee=0;ee<P;ee++){try{var K=x.Ub.dc.zc(x.Ub)}catch{throw new ye(29)}if(K===void 0&&U===0)throw new ye(6);if(K==null)break;U++,v[S+ee]=K}return U&&(x.node.timestamp=Date.now()),U},write(x,v,S,P){if(!x.Ub||!x.Ub.dc.tc)throw new ye(60);try{for(var U=0;U<P;U++)x.Ub.dc.tc(x.Ub,v[S+U])}catch{throw new ye(29)}return P&&(x.node.timestamp=Date.now()),U}},Ei={zc(){e:{if(!vs.length){var x=null;if(typeof window<"u"&&typeof window.prompt=="function"?(x=window.prompt("Input: "),x!==null&&(x+=`
`)):typeof readline=="function"&&(x=readline(),x!==null&&(x+=`
`)),!x){var v=null;break e}v=Array(vi(x)+1),x=kn(x,v,0,v.length),v.length=x,vs=v}v=vs.shift()}return v},tc(x,v){v===null||v===10?(O(st(x.Tb,0)),x.Tb=[]):v!=0&&x.Tb.push(v)},kc(x){x.Tb&&0<x.Tb.length&&(O(st(x.Tb,0)),x.Tb=[])},$c(){return{Wc:25856,Yc:5,Vc:191,Xc:35387,Uc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ad(){return 0},bd(){return[24,80]}},Pn={tc(x,v){v===null||v===10?(L(st(x.Tb,0)),x.Tb=[]):v!=0&&x.Tb.push(v)},kc(x){x.Tb&&0<x.Tb.length&&(L(st(x.Tb,0)),x.Tb=[])}};function zl(x,v){var S=x.Pb?x.Pb.length:0;S>=v||(v=Math.max(v,S*(1048576>S?2:1.125)>>>0),S!=0&&(v=Math.max(v,256)),S=x.Pb,x.Pb=new Uint8Array(v),0<x.Rb&&x.Pb.set(S.subarray(0,x.Rb),0))}var Ke={Xb:null,Wb(){return Ke.createNode(null,"/",16895,0)},createNode(x,v,S,P){if((S&61440)===24576||(S&61440)===4096)throw new ye(63);return Ke.Xb||(Ke.Xb={dir:{node:{Vb:Ke.Eb.Vb,Sb:Ke.Eb.Sb,ec:Ke.Eb.ec,lc:Ke.Eb.lc,Dc:Ke.Eb.Dc,qc:Ke.Eb.qc,oc:Ke.Eb.oc,Cc:Ke.Eb.Cc,pc:Ke.Eb.pc},stream:{ac:Ke.Ob.ac}},file:{node:{Vb:Ke.Eb.Vb,Sb:Ke.Eb.Sb},stream:{ac:Ke.Ob.ac,read:Ke.Ob.read,write:Ke.Ob.write,wc:Ke.Ob.wc,mc:Ke.Ob.mc,nc:Ke.Ob.nc}},link:{node:{Vb:Ke.Eb.Vb,Sb:Ke.Eb.Sb,ic:Ke.Eb.ic},stream:{}},xc:{node:{Vb:Ke.Eb.Vb,Sb:Ke.Eb.Sb},stream:Gi}}),S=ya(x,v,S,P),It(S.mode)?(S.Eb=Ke.Xb.dir.node,S.Ob=Ke.Xb.dir.stream,S.Pb={}):(S.mode&61440)===32768?(S.Eb=Ke.Xb.file.node,S.Ob=Ke.Xb.file.stream,S.Rb=0,S.Pb=null):(S.mode&61440)===40960?(S.Eb=Ke.Xb.link.node,S.Ob=Ke.Xb.link.stream):(S.mode&61440)===8192&&(S.Eb=Ke.Xb.xc.node,S.Ob=Ke.Xb.xc.stream),S.timestamp=Date.now(),x&&(x.Pb[v]=S,x.timestamp=S.timestamp),S},Zc(x){return x.Pb?x.Pb.subarray?x.Pb.subarray(0,x.Rb):new Uint8Array(x.Pb):new Uint8Array(0)},Eb:{Vb(x){var v={};return v.Jc=(x.mode&61440)===8192?x.id:1,v.Ac=x.id,v.mode=x.mode,v.Pc=1,v.uid=0,v.Mc=0,v.hc=x.hc,It(x.mode)?v.size=4096:(x.mode&61440)===32768?v.size=x.Rb:(x.mode&61440)===40960?v.size=x.link.length:v.size=0,v.Fc=new Date(x.timestamp),v.Oc=new Date(x.timestamp),v.Ic=new Date(x.timestamp),v.Gc=4096,v.Hc=Math.ceil(v.size/v.Gc),v},Sb(x,v){if(v.mode!==void 0&&(x.mode=v.mode),v.timestamp!==void 0&&(x.timestamp=v.timestamp),v.size!==void 0&&(v=v.size,x.Rb!=v))if(v==0)x.Pb=null,x.Rb=0;else{var S=x.Pb;x.Pb=new Uint8Array(v),S&&x.Pb.set(S.subarray(0,Math.min(v,x.Rb))),x.Rb=v}},ec(){throw ma[44]},lc(x,v,S,P){return Ke.createNode(x,v,S,P)},Dc(x,v,S){if(It(x.mode)){try{var P=vn(v,S)}catch{}if(P)for(var U in P.Pb)throw new ye(55)}delete x.parent.Pb[x.name],x.parent.timestamp=Date.now(),x.name=S,v.Pb[S]=x,v.timestamp=x.parent.timestamp,x.parent=v},qc(x,v){delete x.Pb[v],x.timestamp=Date.now()},oc(x,v){var S=vn(x,v),P;for(P in S.Pb)throw new ye(55);delete x.Pb[v],x.timestamp=Date.now()},Cc(x){var v=[".",".."],S;for(S in x.Pb)x.Pb.hasOwnProperty(S)&&v.push(S);return v},pc(x,v,S){return x=Ke.createNode(x,v,41471,0),x.link=S,x},ic(x){if((x.mode&61440)!==40960)throw new ye(28);return x.link}},Ob:{read(x,v,S,P,U){var ee=x.node.Pb;if(U>=x.node.Rb)return 0;if(x=Math.min(x.node.Rb-U,P),8<x&&ee.subarray)v.set(ee.subarray(U,U+x),S);else for(P=0;P<x;P++)v[S+P]=ee[U+P];return x},write(x,v,S,P,U,ee){if(v.buffer===N.buffer&&(ee=!1),!P)return 0;if(x=x.node,x.timestamp=Date.now(),v.subarray&&(!x.Pb||x.Pb.subarray)){if(ee)return x.Pb=v.subarray(S,S+P),x.Rb=P;if(x.Rb===0&&U===0)return x.Pb=v.slice(S,S+P),x.Rb=P;if(U+P<=x.Rb)return x.Pb.set(v.subarray(S,S+P),U),P}if(zl(x,U+P),x.Pb.subarray&&v.subarray)x.Pb.set(v.subarray(S,S+P),U);else for(ee=0;ee<P;ee++)x.Pb[U+ee]=v[S+ee];return x.Rb=Math.max(x.Rb,U+P),P},ac(x,v,S){if(S===1?v+=x.position:S===2&&(x.node.mode&61440)===32768&&(v+=x.node.Rb),0>v)throw new ye(28);return v},wc(x,v,S){zl(x.node,v+S),x.node.Rb=Math.max(x.node.Rb,v+S)},mc(x,v,S,P,U){if((x.node.mode&61440)!==32768)throw new ye(43);if(x=x.node.Pb,U&2||x.buffer!==N.buffer){if((0<S||S+v<x.length)&&(x.subarray?x=x.subarray(S,S+v):x=Array.prototype.slice.call(x,S,S+v)),S=!0,v=65536*Math.ceil(v/65536),(U=Ve(65536,v))?(M.fill(0,U,U+v),v=U):v=0,!v)throw new ye(48);N.set(x,v)}else S=!1,v=x.byteOffset;return{Qc:v,Ec:S}},nc(x,v,S,P){return Ke.Ob.write(x,v,0,P,S,!1),0}}},Wd=(x,v)=>{var S=0;return x&&(S|=365),v&&(S|=146),S},qt=null,Ee={},Ut=[],Tt=1,Ct=null,Es=!0,ye=null,ma={};function We(x,v={}){if(x=Re(x),!x)return{path:"",node:null};if(v=Object.assign({yc:!0,uc:0},v),8<v.uc)throw new ye(32);x=x.split("/").filter(K=>!!K);for(var S=qt,P="/",U=0;U<x.length;U++){var ee=U===x.length-1;if(ee&&v.parent)break;if(S=vn(S,x[U]),P=fr(P+"/"+x[U]),S.bc&&(!ee||ee&&v.yc)&&(S=S.bc.root),!ee||v.$b){for(ee=0;(S.mode&61440)===40960;)if(S=Eo(P),P=Re(wn(P),S),S=We(P,{uc:v.uc+1}).node,40<ee++)throw new ye(32)}}return{path:P,node:S}}function Ur(x){for(var v;;){if(x===x.parent)return x=x.Wb.Bc,v?x[x.length-1]!=="/"?`${x}/${v}`:x+v:x;v=v?`${x.name}/${v}`:x.name,x=x.parent}}function xa(x,v){for(var S=0,P=0;P<v.length;P++)S=(S<<5)-S+v.charCodeAt(P)|0;return(x+S>>>0)%Ct.length}function Wl(x){var v=xa(x.parent.id,x.name);if(Ct[v]===x)Ct[v]=x.cc;else for(v=Ct[v];v;){if(v.cc===x){v.cc=x.cc;break}v=v.cc}}function vn(x,v){var S;if(S=(S=ei(x,"x"))?S:x.Eb.ec?0:2)throw new ye(S,x);for(S=Ct[xa(x.id,v)];S;S=S.cc){var P=S.name;if(S.parent.id===x.id&&P===v)return S}return x.Eb.ec(x,v)}function ya(x,v,S,P){return x=new _a(x,v,S,P),v=xa(x.parent.id,x.name),x.cc=Ct[v],Ct[v]=x}function It(x){return(x&61440)===16384}function Wi(x){var v=["r","w","rw"][x&3];return x&512&&(v+="w"),v}function ei(x,v){if(Es)return 0;if(!v.includes("r")||x.mode&292){if(v.includes("w")&&!(x.mode&146)||v.includes("x")&&!(x.mode&73))return 2}else return 2;return 0}function br(x,v){try{return vn(x,v),20}catch{}return ei(x,"wx")}function Tc(x,v,S){try{var P=vn(x,v)}catch(U){return U.Qb}if(x=ei(x,"wx"))return x;if(S){if(!It(P.mode))return 54;if(P===P.parent||Ur(P)==="/")return 10}else if(It(P.mode))return 31;return 0}function Hi(){for(var x=0;4096>=x;x++)if(!Ut[x])return x;throw new ye(33)}function En(x){if(x=Ut[x],!x)throw new ye(8);return x}function Mn(x,v=-1){return Dt||(Dt=function(){this.jc={}},Dt.prototype={},Object.defineProperties(Dt.prototype,{object:{get(){return this.node},set(S){this.node=S}},flags:{get(){return this.jc.flags},set(S){this.jc.flags=S}},position:{get(){return this.jc.position},set(S){this.jc.position=S}}})),x=Object.assign(new Dt,x),v==-1&&(v=Hi()),x.Yb=v,Ut[v]=x}var Gi={open(x){x.Ob=Ee[x.node.hc].Ob,x.Ob.open&&x.Ob.open(x)},ac(){throw new ye(70)}};function Xn(x,v){Ee[x]={Ob:v}}function Ie(x,v){var S=v==="/",P=!v;if(S&&qt)throw new ye(10);if(!S&&!P){var U=We(v,{yc:!1});if(v=U.path,U=U.node,U.bc)throw new ye(10);if(!It(U.mode))throw new ye(54)}v={type:x,dd:{},Bc:v,Nc:[]},x=x.Wb(v),x.Wb=v,v.root=x,S?qt=x:U&&(U.bc=v,U.Wb&&U.Wb.Nc.push(v))}function Ci(x,v,S){var P=We(x,{parent:!0}).node;if(x=Et(x),!x||x==="."||x==="..")throw new ye(28);var U=br(P,x);if(U)throw new ye(U);if(!P.Eb.lc)throw new ye(63);return P.Eb.lc(P,x,v,S)}function hr(x,v){return Ci(x,(v!==void 0?v:511)&1023|16384,0)}function Cn(x,v,S){typeof S>"u"&&(S=v,v=438),Ci(x,v|8192,S)}function Ai(x,v){if(!Re(x))throw new ye(44);var S=We(v,{parent:!0}).node;if(!S)throw new ye(44);v=Et(v);var P=br(S,v);if(P)throw new ye(P);if(!S.Eb.pc)throw new ye(63);S.Eb.pc(S,v,x)}function vo(x){var v=We(x,{parent:!0}).node;x=Et(x);var S=vn(v,x),P=Tc(v,x,!0);if(P)throw new ye(P);if(!v.Eb.oc)throw new ye(63);if(S.bc)throw new ye(10);v.Eb.oc(v,x),Wl(S)}function Eo(x){if(x=We(x).node,!x)throw new ye(44);if(!x.Eb.ic)throw new ye(28);return Re(Ur(x.parent),x.Eb.ic(x))}function tr(x,v){if(x=We(x,{$b:!v}).node,!x)throw new ye(44);if(!x.Eb.Vb)throw new ye(63);return x.Eb.Vb(x)}function Ic(x){return tr(x,!0)}function Rc(x,v){if(x=typeof x=="string"?We(x,{$b:!0}).node:x,!x.Eb.Sb)throw new ye(63);x.Eb.Sb(x,{mode:v&4095|x.mode&-4096,timestamp:Date.now()})}function Sr(x,v){if(0>v)throw new ye(28);if(x=typeof x=="string"?We(x,{$b:!0}).node:x,!x.Eb.Sb)throw new ye(63);if(It(x.mode))throw new ye(31);if((x.mode&61440)!==32768)throw new ye(28);var S=ei(x,"w");if(S)throw new ye(S);x.Eb.Sb(x,{size:v,timestamp:Date.now()})}function gn(x,v,S){if(x==="")throw new ye(44);if(typeof v=="string"){var P={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[v];if(typeof P>"u")throw Error(`Unknown file open mode: ${v}`);v=P}if(S=v&64?(typeof S>"u"?438:S)&4095|32768:0,typeof x=="object")var U=x;else{x=fr(x);try{U=We(x,{$b:!(v&131072)}).node}catch{}}if(P=!1,v&64)if(U){if(v&128)throw new ye(20)}else U=Ci(x,S,0),P=!0;if(!U)throw new ye(44);if((U.mode&61440)===8192&&(v&=-513),v&65536&&!It(U.mode))throw new ye(54);if(!P&&(S=U?(U.mode&61440)===40960?32:It(U.mode)&&(Wi(v)!=="r"||v&512)?31:ei(U,Wi(v)):44))throw new ye(S);return v&512&&!P&&Sr(U,0),v&=-131713,U=Mn({node:U,path:Ur(U),flags:v,seekable:!0,position:0,Ob:U.Ob,Tc:[],error:!1}),U.Ob.open&&U.Ob.open(U),!n.logReadFiles||v&1||(ni||(ni={}),x in ni||(ni[x]=1)),U}function Pt(x,v,S){if(x.Yb===null)throw new ye(8);if(!x.seekable||!x.Ob.ac)throw new ye(70);if(S!=0&&S!=1&&S!=2)throw new ye(28);x.position=x.Ob.ac(x,v,S),x.Tc=[]}function Hl(){ye||(ye=function(x,v){this.name="ErrnoError",this.node=v,this.Rc=function(S){this.Qb=S},this.Rc(x),this.message="FS error"},ye.prototype=Error(),ye.prototype.constructor=ye,[44].forEach(x=>{ma[x]=new ye(x),ma[x].stack="<generic error, no stack>"}))}var ti;function Xi(x,v,S){x=fr("/dev/"+x);var P=Wd(!!v,!!S);se||(se=64);var U=se++<<8|0;Xn(U,{open(ee){ee.seekable=!1},close(){S&&S.buffer&&S.buffer.length&&S(10)},read(ee,K,oe,Q){for(var ie=0,ce=0;ce<Q;ce++){try{var ae=v()}catch{throw new ye(29)}if(ae===void 0&&ie===0)throw new ye(6);if(ae==null)break;ie++,K[oe+ce]=ae}return ie&&(ee.node.timestamp=Date.now()),ie},write(ee,K,oe,Q){for(var ie=0;ie<Q;ie++)try{S(K[oe+ie])}catch{throw new ye(29)}return Q&&(ee.node.timestamp=Date.now()),ie}}),Cn(x,P,U)}var se,Mt={},Dt,ni;function Zi(x,v,S){if(v.charAt(0)==="/")return v;if(x=x===-100?"/":En(x).path,v.length==0){if(!S)throw new ye(44);return x}return fr(x+"/"+v)}function dt(x,v,S){try{var P=x(v)}catch(ee){if(ee&&ee.node&&fr(v)!==fr(Ur(ee.node)))return-54;throw ee}G[S>>2]=P.Jc,G[S+4>>2]=P.mode,z[S+8>>2]=P.Pc,G[S+12>>2]=P.uid,G[S+16>>2]=P.Mc,G[S+20>>2]=P.hc,qe=[P.size>>>0,(Be=P.size,1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[S+24>>2]=qe[0],G[S+28>>2]=qe[1],G[S+32>>2]=4096,G[S+36>>2]=P.Hc,x=P.Fc.getTime(),v=P.Oc.getTime();var U=P.Ic.getTime();return qe=[Math.floor(x/1e3)>>>0,(Be=Math.floor(x/1e3),1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[S+40>>2]=qe[0],G[S+44>>2]=qe[1],z[S+48>>2]=x%1e3*1e3,qe=[Math.floor(v/1e3)>>>0,(Be=Math.floor(v/1e3),1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[S+56>>2]=qe[0],G[S+60>>2]=qe[1],z[S+64>>2]=v%1e3*1e3,qe=[Math.floor(U/1e3)>>>0,(Be=Math.floor(U/1e3),1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[S+72>>2]=qe[0],G[S+76>>2]=qe[1],z[S+80>>2]=U%1e3*1e3,qe=[P.Ac>>>0,(Be=P.Ac,1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[S+88>>2]=qe[0],G[S+92>>2]=qe[1],0}var ut=void 0;function nt(){var x=G[ut>>2];return ut+=4,x}var qi=(x,v)=>v+2097152>>>0<4194305-!!x?(x>>>0)+4294967296*v:NaN,Gl=[0,31,60,91,121,152,182,213,244,274,305,335],Xl=[0,31,59,90,120,151,181,212,243,273,304,334],nn=x=>{var v=vi(x)+1,S=Is(v);return S&&kn(x,M,S,v),S},jr={},Nc=()=>{if(!jt){var x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},v;for(v in jr)jr[v]===void 0?delete x[v]:x[v]=jr[v];var S=[];for(v in x)S.push(`${v}=${x[v]}`);jt=S}return jt},jt;function ri(){}function Oc(){}function Ki(){}function Rt(){}function An(){}function q(){}function F(){}function Me(){}function un(){}function nr(){}function Dc(){}function wa(){}function rr(){}function Fe(){}function Bt(){}function Zl(){}function kc(){}function va(){}function Co(){}function Ea(){}function Pc(){}function cn(){}function Cs(){}function ii(){}function Ue(){}function Mc(){}function Ye(){}function mn(){}function Lc(){}function Ca(){}function ql(){}function _i(){}function Bc(){}function As(){}function _s(){}function bs(){}function Kl(){}function Ss(){}function Ts(){}function Ln(){}var Fc=x=>{b=x,p(x,new ws(x))},Yl=x=>{x instanceof ws||x=="unwind"||p(1,x)},Ao=x=>{try{x()}catch(v){Ae(v)}};function Hd(x){var v={},S;for(S in x)(function(P){var U=x[P];v[P]=typeof U=="function"?function(){_o.push(P);try{return U.apply(null,arguments)}finally{_||(_o.pop()===P||Ae(),zr&&bi===1&&_o.length===0&&(bi=0,Ao(Ir),typeof Fibers<"u"&&Fibers.ed()))}}:U})(S);return v}var bi=0,zr=null,At=0,_o=[],bo={},si={},Gd=0,J=null,et=[];function _n(){return new Promise((x,v)=>{J={resolve:x,reject:v}})}function Aa(){var x=Is(16396),v=x+12;z[x>>2]=v,z[x+4>>2]=v+16384,v=_o[0];var S=bo[v];return S===void 0&&(S=Gd++,bo[v]=S,si[S]=v),G[x+8>>2]=S,x}function Ql(x){if(!_){if(bi===0){var v=!1,S=!1;x((P=0)=>{if(!_&&(At=P,v=!0,S)){bi=2,Ao(()=>ba(zr)),typeof Browser<"u"&&Browser.sc.Lc&&Browser.sc.resume(),P=!1;try{var U=(0,Ce[si[G[zr+8>>2]]])()}catch(oe){U=oe,P=!0}var ee=!1;if(!zr){var K=J;K&&(J=null,(P?K.reject:K.resolve)(U),ee=!0)}if(P&&!ee)throw U}}),S=!0,v||(bi=1,zr=Aa(),typeof Browser<"u"&&Browser.sc.Lc&&Browser.sc.pause(),Ao(()=>zc(zr)))}else bi===2?(bi=0,Ao($l),Si(zr),zr=null,et.forEach(P=>{if(!_)try{P(),R||0<re}catch(U){Yl(U)}})):Ae(`invalid state: ${bi}`);return At}}function Vc(x){return Ql(v=>{x().then(v)})}var Uc={},Tr=(x,v,S,P,U)=>{function ee(ae){return--re,Q!==0&&Ti(Q),v==="string"?ae?st(M,ae):"":v==="boolean"?!!ae:ae}var K={string:ae=>{var ve=0;if(ae!=null&&ae!==0){ve=vi(ae)+1;var $e=Ii(ve);kn(ae,M,$e,ve),ve=$e}return ve},array:ae=>{var ve=Ii(ae.length);return N.set(ae,ve),ve}};x=n["_"+x];var oe=[],Q=0;if(P)for(var ie=0;ie<P.length;ie++){var ce=K[S[ie]];ce?(Q===0&&(Q=kt()),oe[ie]=ce(P[ie])):oe[ie]=P[ie]}return S=zr,P=x.apply(null,oe),U=U&&U.async,re+=1,zr!=S?_n().then(ee):(P=ee(P),U?Promise.resolve(P):P)};function _a(x,v,S,P){x||(x=this),this.parent=x,this.Wb=x.Wb,this.bc=null,this.id=Tt++,this.name=v,this.mode=S,this.Eb={},this.Ob={},this.hc=P}Object.defineProperties(_a.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(x){x?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(x){x?this.mode|=146:this.mode&=-147}}}),Hl(),Ct=Array(4096),Ie(Ke,"/"),hr("/tmp"),hr("/home"),hr("/home/web_user"),function(){hr("/dev"),Xn(259,{read:()=>0,write:(P,U,ee,K)=>K}),Cn("/dev/null",259),dr(1280,Ei),dr(1536,Pn),Cn("/dev/tty",1280),Cn("/dev/tty1",1536);var x=new Uint8Array(1024),v=0,S=()=>(v===0&&(v=wo(x).byteLength),x[--v]);Xi("random",S),Xi("urandom",S),hr("/dev/shm"),hr("/dev/shm/tmp")}(),function(){hr("/proc");var x=hr("/proc/self");hr("/proc/self/fd"),Ie({Wb(){var v=ya(x,"fd",16895,73);return v.Eb={ec(S,P){var U=En(+P);return S={parent:null,Wb:{Bc:"fake"},Eb:{ic:()=>U.path}},S.parent=S}},v}},"/proc/self/fd")}(),function(){const x=new Map;n.setAuthorizer=function(v,S,P){return S?x.set(v,{f:S,vc:P}):x.delete(v),Tr("set_authorizer","number",["number"],[v])},ri=function(v,S,P,U,ee,K){if(x.has(v)){const{f:oe,vc:Q}=x.get(v);return oe(Q,S,P?P?st(M,P):"":null,U?U?st(M,U):"":null,ee?ee?st(M,ee):"":null,K?K?st(M,K):"":null)}return 0}}(),function(){function x(P,U){const ee=[];for(let K=0;P[U+K]!=0;++K){if(1e3<K)throw Error("C-string never terminated after 1k characters");ee.push(P[U+K])}return String.fromCharCode(...ee)}const v=new Map,S=new Map;n.createFunction=function(P,U,ee,K,oe,Q){const ie=v.size;return v.set(ie,{f:Q,Zb:oe}),Tr("create_function","number","number string number number number number".split(" "),[P,U,ee,K,ie,0])},n.createAggregate=function(P,U,ee,K,oe,Q,ie){const ce=v.size;return v.set(ce,{step:Q,Kc:ie,Zb:oe}),Tr("create_function","number","number string number number number number".split(" "),[P,U,ee,K,ce,1])},n.getFunctionUserData=function(P){return S.get(P)},n.updateHook=function(P,U){const ee=v.size;return v.set(ee,U),Tr("update_hook","void",["number","number"],[P,ee])},Ki=function(P,U,ee,K){P=v.get(P),S.set(U,P.Zb),P.f(U,new Uint32Array(M.buffer,K,ee)),S.delete(U)},An=function(P,U,ee,K){P=v.get(P),S.set(U,P.Zb),P.step(U,new Uint32Array(M.buffer,K,ee)),S.delete(U)},Oc=function(P,U){P=v.get(P),S.set(U,P.Zb),P.Kc(U),S.delete(U)},q=function(P,U,ee,K,oe,Q){P=v.get(P);const ie=M;oe=BigInt(Q)<<32n|BigInt(oe)&4294967295n,P(U,x(ie,ee),x(ie,K),oe)}}(),function(){const x=new Map;n.progressHandler=function(v,S,P,U){return P?x.set(v,{f:P,vc:U}):x.delete(v),Tr("progress_handler",null,["number","number"],[v,S])},Rt=function(v){if(x.has(v)){const{f:S,vc:P}=x.get(v);return S(P)}return 0}}(),function(){function x(Q,ie){const ce=`get${Q}`,ae=`set${Q}`;return new Proxy(new DataView(M.buffer,ie,Q==="Int32"?4:8),{get(ve,$e){if($e===ce)return function(yt,Nt){if(!Nt)throw Error("must be little endian");return ve[$e](yt,Nt)};if($e===ae)return function(yt,Nt,rn){if(!rn)throw Error("must be little endian");return ve[$e](yt,Nt,rn)};if(typeof $e=="string"&&$e.match(/^(get)|(set)/))throw Error("invalid type");return ve[$e]}})}const v=typeof Uc=="object",S=new Map,P=new Map,U=new Map,ee=v?new Set:null,K=v?new Set:null,oe=new Map;Cs=function(Q,ie,ce,ae){oe.set(Q?st(M,Q):"",{size:ie,fc:Array.from(new Uint32Array(M.buffer,ae,ce))})},n.createModule=function(Q,ie,ce,ae){v&&(ce.handleAsync=Vc);const ve=S.size;return S.set(ve,{module:ce,Zb:ae}),ae=0,ce.xCreate&&(ae|=1),ce.xConnect&&(ae|=2),ce.xBestIndex&&(ae|=4),ce.xDisconnect&&(ae|=8),ce.xDestroy&&(ae|=16),ce.xOpen&&(ae|=32),ce.xClose&&(ae|=64),ce.xFilter&&(ae|=128),ce.xNext&&(ae|=256),ce.xEof&&(ae|=512),ce.xColumn&&(ae|=1024),ce.xRowid&&(ae|=2048),ce.xUpdate&&(ae|=4096),ce.xBegin&&(ae|=8192),ce.xSync&&(ae|=16384),ce.xCommit&&(ae|=32768),ce.xRollback&&(ae|=65536),ce.xFindFunction&&(ae|=131072),ce.xRename&&(ae|=262144),Tr("create_module","number",["number","string","number","number"],[Q,ie,ve,ae])},rr=function(Q,ie,ce,ae,ve,$e){if(ie=S.get(ie),P.set(ve,ie),v){ee.delete(ve);for(const yt of ee)P.delete(yt)}return ae=Array.from(new Uint32Array(M.buffer,ae,ce)).map(yt=>yt?st(M,yt):""),ie.module.xCreate(Q,ie.Zb,ae,ve,x("Int32",$e))},wa=function(Q,ie,ce,ae,ve,$e){if(ie=S.get(ie),P.set(ve,ie),v){ee.delete(ve);for(const yt of ee)P.delete(yt)}return ae=Array.from(new Uint32Array(M.buffer,ae,ce)).map(yt=>yt?st(M,yt):""),ie.module.xConnect(Q,ie.Zb,ae,ve,x("Int32",$e))},Me=function(Q,ie){var ce=P.get(Q),ae=oe.get("sqlite3_index_info").fc;const ve={};ve.nConstraint=mt(ie+ae[0],"i32"),ve.aConstraint=[];for(var $e=mt(ie+ae[1],"*"),yt=oe.get("sqlite3_index_constraint").size,Nt=0;Nt<ve.nConstraint;++Nt){var rn=ve.aConstraint,In=rn.push,Qt=$e+Nt*yt,rt=oe.get("sqlite3_index_constraint").fc,Rr={};Rr.iColumn=mt(Qt+rt[0],"i32"),Rr.op=mt(Qt+rt[1],"i8"),Rr.usable=!!mt(Qt+rt[2],"i8"),In.call(rn,Rr)}for(ve.nOrderBy=mt(ie+ae[2],"i32"),ve.aOrderBy=[],$e=mt(ie+ae[3],"*"),yt=oe.get("sqlite3_index_orderby").size,Nt=0;Nt<ve.nOrderBy;++Nt)rn=ve.aOrderBy,In=rn.push,Qt=$e+Nt*yt,rt=oe.get("sqlite3_index_orderby").fc,Rr={},Rr.iColumn=mt(Qt+rt[0],"i32"),Rr.desc=!!mt(Qt+rt[1],"i8"),In.call(rn,Rr);for(ve.aConstraintUsage=[],$e=0;$e<ve.nConstraint;++$e)ve.aConstraintUsage.push({argvIndex:0,omit:!1});for(ve.idxNum=mt(ie+ae[5],"i32"),ve.idxStr=null,ve.orderByConsumed=!!mt(ie+ae[8],"i8"),ve.estimatedCost=mt(ie+ae[9],"double"),ve.estimatedRows=mt(ie+ae[10],"i32"),ve.idxFlags=mt(ie+ae[11],"i32"),ve.colUsed=mt(ie+ae[12],"i32"),Q=ce.module.xBestIndex(Q,ve),ce=oe.get("sqlite3_index_info").fc,ae=mt(ie+ce[4],"*"),$e=oe.get("sqlite3_index_constraint_usage").size,In=0;In<ve.nConstraint;++In)yt=ae+In*$e,rn=ve.aConstraintUsage[In],Qt=oe.get("sqlite3_index_constraint_usage").fc,er(yt+Qt[0],rn.argvIndex,"i32"),er(yt+Qt[1],rn.omit?1:0,"i8");return er(ie+ce[5],ve.idxNum,"i32"),typeof ve.idxStr=="string"&&(ae=vi(ve.idxStr),$e=Tr("sqlite3_malloc","number",["number"],[ae+1]),kn(ve.idxStr,M,$e,ae+1),er(ie+ce[6],$e,"*"),er(ie+ce[7],1,"i32")),er(ie+ce[8],ve.orderByConsumed,"i32"),er(ie+ce[9],ve.estimatedCost,"double"),er(ie+ce[10],ve.estimatedRows,"i32"),er(ie+ce[11],ve.idxFlags,"i32"),Q},Bt=function(Q){const ie=P.get(Q);return v?ee.add(Q):P.delete(Q),ie.module.xDisconnect(Q)},Fe=function(Q){const ie=P.get(Q);return v?ee.add(Q):P.delete(Q),ie.module.xDestroy(Q)},Co=function(Q,ie){const ce=P.get(Q);if(U.set(ie,ce),v){K.delete(ie);for(const ae of K)U.delete(ae)}return ce.module.xOpen(Q,ie)},un=function(Q){const ie=U.get(Q);return v?K.add(Q):U.delete(Q),ie.module.xClose(Q)},Zl=function(Q){return U.get(Q).module.xEof(Q)?1:0},kc=function(Q,ie,ce,ae,ve){const $e=U.get(Q);return ce=ce?ce?st(M,ce):"":null,ve=new Uint32Array(M.buffer,ve,ae),$e.module.xFilter(Q,ie,ce,ve)},va=function(Q){return U.get(Q).module.xNext(Q)},nr=function(Q,ie,ce){return U.get(Q).module.xColumn(Q,ie,ce)},cn=function(Q,ie){return U.get(Q).module.xRowid(Q,x("BigInt64",ie))},Ue=function(Q,ie,ce,ae){const ve=P.get(Q);return ce=new Uint32Array(M.buffer,ce,ie),ve.module.xUpdate(Q,ce,x("BigInt64",ae))},F=function(Q){return P.get(Q).module.xBegin(Q)},ii=function(Q){return P.get(Q).module.xSync(Q)},Dc=function(Q){return P.get(Q).module.xCommit(Q)},Pc=function(Q){return P.get(Q).module.xRollback(Q)},Ea=function(Q,ie){const ce=P.get(Q);return ie=ie?st(M,ie):"",ce.module.xRename(Q,ie)}}(),function(){function x(K,oe){const Q=`get${K}`,ie=`set${K}`;return new Proxy(new DataView(M.buffer,oe,K==="Int32"?4:8),{get(ce,ae){if(ae===Q)return function(ve,$e){if(!$e)throw Error("must be little endian");return ce[ae](ve,$e)};if(ae===ie)return function(ve,$e,yt){if(!yt)throw Error("must be little endian");return ce[ae](ve,$e,yt)};if(typeof ae=="string"&&ae.match(/^(get)|(set)/))throw Error("invalid type");return ce[ae]}})}function v(K){return K>>=2,z[K]+z[K+1]*2**32}const S=typeof Uc=="object",P=new Map,U=new Map;n.registerVFS=function(K,oe){if(Tr("sqlite3_vfs_find","number",["string"],[K.name]))throw Error(`VFS '${K.name}' already registered`);S&&(K.handleAsync=Vc);var Q=K.cd??64;const ie=n._malloc(4);return oe=Tr("register_vfs","number",["string","number","number","number"],[K.name,Q,oe?1:0,ie]),oe||(Q=mt(ie,"*"),P.set(Q,K)),n._free(ie),oe};const ee=S?new Set:null;mn=function(K){const oe=U.get(K);return S?ee.add(K):U.delete(K),oe.xClose(K)},_s=function(K,oe,Q,ie){return U.get(K).xRead(K,M.subarray(oe,oe+Q),v(ie))},Ln=function(K,oe,Q,ie){return U.get(K).xWrite(K,M.subarray(oe,oe+Q),v(ie))},Ss=function(K,oe){return U.get(K).xTruncate(K,v(oe))},Kl=function(K,oe){return U.get(K).xSync(K,oe)},_i=function(K,oe){const Q=U.get(K);return oe=x("BigInt64",oe),Q.xFileSize(K,oe)},Bc=function(K,oe){return U.get(K).xLock(K,oe)},Ts=function(K,oe){return U.get(K).xUnlock(K,oe)},Ye=function(K,oe){const Q=U.get(K);return oe=x("Int32",oe),Q.xCheckReservedLock(K,oe)},ql=function(K,oe,Q){const ie=U.get(K);return Q=new DataView(M.buffer,Q),ie.xFileControl(K,oe,Q)},bs=function(K){return U.get(K).xSectorSize(K)},Ca=function(K){return U.get(K).xDeviceCharacteristics(K)},As=function(K,oe,Q,ie,ce){if(K=P.get(K),U.set(Q,K),S){ee.delete(Q);for(var ae of ee)U.delete(ae)}if(ae=null,ie&64){ae=1;const ve=[];for(;ae;){const $e=M[oe++];if($e)ve.push($e);else switch(M[oe]||(ae=null),ae){case 1:ve.push(63),ae=2;break;case 2:ve.push(61),ae=3;break;case 3:ve.push(38),ae=2}}ae=new TextDecoder().decode(new Uint8Array(ve))}else oe&&(ae=oe?st(M,oe):"");return ce=x("Int32",ce),K.xOpen(ae,Q,ie,ce)},Lc=function(K,oe,Q){return P.get(K).xDelete(oe?st(M,oe):"",Q)},Mc=function(K,oe,Q,ie){return K=P.get(K),ie=x("Int32",ie),K.xAccess(oe?st(M,oe):"",Q,ie)}}();var fn={a:(x,v,S,P)=>{Ae(`Assertion failed: ${x?st(M,x):""}, at: `+[v?v?st(M,v):"":"unknown filename",S,P?P?st(M,P):"":"unknown function"])},K:function(x,v){try{return x=x?st(M,x):"",Rc(x,v),0}catch(S){if(typeof Mt>"u"||S.name!=="ErrnoError")throw S;return-S.Qb}},M:function(x,v,S){try{if(v=v?st(M,v):"",v=Zi(x,v),S&-8)return-28;var P=We(v,{$b:!0}).node;return P?(x="",S&4&&(x+="r"),S&2&&(x+="w"),S&1&&(x+="x"),x&&ei(P,x)?-2:0):-44}catch(U){if(typeof Mt>"u"||U.name!=="ErrnoError")throw U;return-U.Qb}},L:function(x,v){try{var S=En(x);return Rc(S.node,v),0}catch(P){if(typeof Mt>"u"||P.name!=="ErrnoError")throw P;return-P.Qb}},J:function(x){try{var v=En(x).node,S=typeof v=="string"?We(v,{$b:!0}).node:v;if(!S.Eb.Sb)throw new ye(63);return S.Eb.Sb(S,{timestamp:Date.now()}),0}catch(P){if(typeof Mt>"u"||P.name!=="ErrnoError")throw P;return-P.Qb}},b:function(x,v,S){ut=S;try{var P=En(x);switch(v){case 0:var U=nt();if(0>U)return-28;for(;Ut[U];)U++;return Mn(P,U).Yb;case 1:case 2:return 0;case 3:return P.flags;case 4:return U=nt(),P.flags|=U,0;case 5:return U=nt(),X[U+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return G[zt()>>2]=28,-1;default:return-28}}catch(ee){if(typeof Mt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Qb}},I:function(x,v){try{var S=En(x);return dt(tr,S.path,v)}catch(P){if(typeof Mt>"u"||P.name!=="ErrnoError")throw P;return-P.Qb}},n:function(x,v,S){v=qi(v,S);try{if(isNaN(v))return 61;var P=En(x);if(!(P.flags&2097155))throw new ye(28);return Sr(P.node,v),0}catch(U){if(typeof Mt>"u"||U.name!=="ErrnoError")throw U;return-U.Qb}},C:function(x,v){try{if(v===0)return-28;var S=vi("/")+1;return v<S?-68:(kn("/",M,x,v),S)}catch(P){if(typeof Mt>"u"||P.name!=="ErrnoError")throw P;return-P.Qb}},F:function(x,v){try{return x=x?st(M,x):"",dt(Ic,x,v)}catch(S){if(typeof Mt>"u"||S.name!=="ErrnoError")throw S;return-S.Qb}},z:function(x,v,S){try{return v=v?st(M,v):"",v=Zi(x,v),v=fr(v),v[v.length-1]==="/"&&(v=v.substr(0,v.length-1)),hr(v,S),0}catch(P){if(typeof Mt>"u"||P.name!=="ErrnoError")throw P;return-P.Qb}},E:function(x,v,S,P){try{v=v?st(M,v):"";var U=P&256;return v=Zi(x,v,P&4096),dt(U?Ic:tr,v,S)}catch(ee){if(typeof Mt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Qb}},y:function(x,v,S,P){ut=P;try{v=v?st(M,v):"",v=Zi(x,v);var U=P?nt():0;return gn(v,S,U).Yb}catch(ee){if(typeof Mt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Qb}},v:function(x,v,S,P){try{if(v=v?st(M,v):"",v=Zi(x,v),0>=P)return-28;var U=Eo(v),ee=Math.min(P,vi(U)),K=N[S+ee];return kn(U,M,S,P+1),N[S+ee]=K,ee}catch(oe){if(typeof Mt>"u"||oe.name!=="ErrnoError")throw oe;return-oe.Qb}},u:function(x){try{return x=x?st(M,x):"",vo(x),0}catch(v){if(typeof Mt>"u"||v.name!=="ErrnoError")throw v;return-v.Qb}},G:function(x,v){try{return x=x?st(M,x):"",dt(tr,x,v)}catch(S){if(typeof Mt>"u"||S.name!=="ErrnoError")throw S;return-S.Qb}},r:function(x,v,S){try{if(v=v?st(M,v):"",v=Zi(x,v),S===0){x=v;var P=We(x,{parent:!0}).node;if(!P)throw new ye(44);var U=Et(x),ee=vn(P,U),K=Tc(P,U,!1);if(K)throw new ye(K);if(!P.Eb.qc)throw new ye(63);if(ee.bc)throw new ye(10);P.Eb.qc(P,U),Wl(ee)}else S===512?vo(v):Ae("Invalid flags passed to unlinkat");return 0}catch(oe){if(typeof Mt>"u"||oe.name!=="ErrnoError")throw oe;return-oe.Qb}},q:function(x,v,S){try{if(v=v?st(M,v):"",v=Zi(x,v,!0),S){var P=z[S>>2]+4294967296*G[S+4>>2],U=G[S+8>>2];ee=1e3*P+U/1e6,S+=16,P=z[S>>2]+4294967296*G[S+4>>2],U=G[S+8>>2],K=1e3*P+U/1e6}else var ee=Date.now(),K=ee;x=ee;var oe=We(v,{$b:!0}).node;return oe.Eb.Sb(oe,{timestamp:Math.max(x,K)}),0}catch(Q){if(typeof Mt>"u"||Q.name!=="ErrnoError")throw Q;return-Q.Qb}},k:function(x,v,S){x=new Date(1e3*qi(x,v)),G[S>>2]=x.getSeconds(),G[S+4>>2]=x.getMinutes(),G[S+8>>2]=x.getHours(),G[S+12>>2]=x.getDate(),G[S+16>>2]=x.getMonth(),G[S+20>>2]=x.getFullYear()-1900,G[S+24>>2]=x.getDay(),v=x.getFullYear(),G[S+28>>2]=(v%4!==0||v%100===0&&v%400!==0?Xl:Gl)[x.getMonth()]+x.getDate()-1|0,G[S+36>>2]=-(60*x.getTimezoneOffset()),v=new Date(x.getFullYear(),6,1).getTimezoneOffset();var P=new Date(x.getFullYear(),0,1).getTimezoneOffset();G[S+32>>2]=(v!=P&&x.getTimezoneOffset()==Math.min(P,v))|0},i:function(x,v,S,P,U,ee,K,oe){U=qi(U,ee);try{if(isNaN(U))return 61;var Q=En(P);if(v&2&&!(S&2)&&(Q.flags&2097155)!==2)throw new ye(2);if((Q.flags&2097155)===1)throw new ye(2);if(!Q.Ob.mc)throw new ye(43);var ie=Q.Ob.mc(Q,x,U,v,S),ce=ie.Qc;return G[K>>2]=ie.Ec,z[oe>>2]=ce,0}catch(ae){if(typeof Mt>"u"||ae.name!=="ErrnoError")throw ae;return-ae.Qb}},j:function(x,v,S,P,U,ee,K){ee=qi(ee,K);try{if(isNaN(ee))return 61;var oe=En(U);if(S&2){if((oe.node.mode&61440)!==32768)throw new ye(43);P&2||oe.Ob.nc&&oe.Ob.nc(oe,M.slice(x,x+v),ee,v,P)}}catch(Q){if(typeof Mt>"u"||Q.name!=="ErrnoError")throw Q;return-Q.Qb}},s:(x,v,S)=>{function P(Q){return(Q=Q.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Q[1]:"GMT"}var U=new Date().getFullYear(),ee=new Date(U,0,1),K=new Date(U,6,1);U=ee.getTimezoneOffset();var oe=K.getTimezoneOffset();z[x>>2]=60*Math.max(U,oe),G[v>>2]=+(U!=oe),x=P(ee),v=P(K),x=nn(x),v=nn(v),oe<U?(z[S>>2]=x,z[S+4>>2]=v):(z[S>>2]=v,z[S+4>>2]=x)},e:()=>Date.now(),d:()=>performance.now(),o:x=>{var v=M.length;if(x>>>=0,2147483648<x)return!1;for(var S=1;4>=S;S*=2){var P=v*(1+.2/S);P=Math.min(P,x+100663296);var U=Math;P=Math.max(x,P);e:{U=(U.min.call(U,2147483648,P+(65536-P%65536)%65536)-k.buffer.byteLength+65535)/65536;try{k.grow(U),ue();var ee=1;break e}catch{}ee=void 0}if(ee)return!0}return!1},A:(x,v)=>{var S=0;return Nc().forEach((P,U)=>{var ee=v+S;for(U=z[x+4*U>>2]=ee,ee=0;ee<P.length;++ee)N[U++>>0]=P.charCodeAt(ee);N[U>>0]=0,S+=P.length+1}),0},B:(x,v)=>{var S=Nc();z[x>>2]=S.length;var P=0;return S.forEach(U=>P+=U.length+1),z[v>>2]=P,0},f:function(x){try{var v=En(x);if(v.Yb===null)throw new ye(8);v.rc&&(v.rc=null);try{v.Ob.close&&v.Ob.close(v)}catch(S){throw S}finally{Ut[v.Yb]=null}return v.Yb=null,0}catch(S){if(typeof Mt>"u"||S.name!=="ErrnoError")throw S;return S.Qb}},p:function(x,v){try{var S=En(x);return N[v>>0]=S.Ub?2:It(S.mode)?3:(S.mode&61440)===40960?7:4,X[v+2>>1]=0,qe=[0,(Be=0,1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[v+8>>2]=qe[0],G[v+12>>2]=qe[1],qe=[0,(Be=0,1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[v+16>>2]=qe[0],G[v+20>>2]=qe[1],0}catch(P){if(typeof Mt>"u"||P.name!=="ErrnoError")throw P;return P.Qb}},x:function(x,v,S,P){try{e:{var U=En(x);x=v;for(var ee,K=v=0;K<S;K++){var oe=z[x>>2],Q=z[x+4>>2];x+=8;var ie=U,ce=oe,ae=Q,ve=ee,$e=N;if(0>ae||0>ve)throw new ye(28);if(ie.Yb===null)throw new ye(8);if((ie.flags&2097155)===1)throw new ye(8);if(It(ie.node.mode))throw new ye(31);if(!ie.Ob.read)throw new ye(28);var yt=typeof ve<"u";if(!yt)ve=ie.position;else if(!ie.seekable)throw new ye(70);var Nt=ie.Ob.read(ie,$e,ce,ae,ve);yt||(ie.position+=Nt);var rn=Nt;if(0>rn){var In=-1;break e}if(v+=rn,rn<Q)break;typeof ee<"u"&&(ee+=rn)}In=v}return z[P>>2]=In,0}catch(Qt){if(typeof Mt>"u"||Qt.name!=="ErrnoError")throw Qt;return Qt.Qb}},m:function(x,v,S,P,U){v=qi(v,S);try{if(isNaN(v))return 61;var ee=En(x);return Pt(ee,v,P),qe=[ee.position>>>0,(Be=ee.position,1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[U>>2]=qe[0],G[U+4>>2]=qe[1],ee.rc&&v===0&&P===0&&(ee.rc=null),0}catch(K){if(typeof Mt>"u"||K.name!=="ErrnoError")throw K;return K.Qb}},D:function(x){try{var v=En(x);return Ql(S=>{var P=v.node.Wb;P.type.Sc?P.type.Sc(P,!1,U=>{S(U?29:0)}):S(0)})}catch(S){if(typeof Mt>"u"||S.name!=="ErrnoError")throw S;return S.Qb}},t:function(x,v,S,P){try{e:{var U=En(x);x=v;for(var ee,K=v=0;K<S;K++){var oe=z[x>>2],Q=z[x+4>>2];x+=8;var ie=U,ce=oe,ae=Q,ve=ee,$e=N;if(0>ae||0>ve)throw new ye(28);if(ie.Yb===null)throw new ye(8);if(!(ie.flags&2097155))throw new ye(8);if(It(ie.node.mode))throw new ye(31);if(!ie.Ob.write)throw new ye(28);ie.seekable&&ie.flags&1024&&Pt(ie,0,2);var yt=typeof ve<"u";if(!yt)ve=ie.position;else if(!ie.seekable)throw new ye(70);var Nt=ie.Ob.write(ie,$e,ce,ae,ve,void 0);yt||(ie.position+=Nt);var rn=Nt;if(0>rn){var In=-1;break e}v+=rn,typeof ee<"u"&&(ee+=rn)}In=v}return z[P>>2]=In,0}catch(Qt){if(typeof Mt>"u"||Qt.name!=="ErrnoError")throw Qt;return Qt.Qb}},sa:ri,O:Oc,ha:Ki,ca:Rt,Z:An,H:q,la:F,w:Me,g:un,oa:nr,ja:Dc,ea:wa,fa:rr,h:Fe,l:Bt,pa:Zl,ra:kc,qa:va,da:Co,ga:Ea,ia:Pc,na:cn,c:Cs,ka:ii,ma:Ue,aa:Mc,V:Ye,$:mn,ba:Lc,S:Ca,U:ql,Y:_i,X:Bc,R:As,Q:_s,T:bs,_:Kl,N:Ss,W:Ts,P:Ln},Ce=function(){function x(S){if(S=S.exports,Ce=S=Hd(S),k=Ce.ta,ue(),xe.unshift(Ce.ua),be--,n.monitorRunDependencies&&n.monitorRunDependencies(be),be==0&&he){var P=he;he=null,P()}return S}var v={a:fn};if(be++,n.monitorRunDependencies&&n.monitorRunDependencies(be),n.instantiateWasm)try{return n.instantiateWasm(v,x)}catch(S){L(`Module.instantiateWasm callback failed with error: ${S}`),a(S)}return ke(v,function(S){x(S.instance)}).catch(a),{}}();n._sqlite3_vfs_find=x=>(n._sqlite3_vfs_find=Ce.va)(x),n._sqlite3_malloc=x=>(n._sqlite3_malloc=Ce.wa)(x),n._sqlite3_free=x=>(n._sqlite3_free=Ce.xa)(x),n._sqlite3_prepare_v2=(x,v,S,P,U)=>(n._sqlite3_prepare_v2=Ce.ya)(x,v,S,P,U),n._sqlite3_step=x=>(n._sqlite3_step=Ce.za)(x),n._sqlite3_column_int64=(x,v)=>(n._sqlite3_column_int64=Ce.Aa)(x,v),n._sqlite3_column_int=(x,v)=>(n._sqlite3_column_int=Ce.Ba)(x,v),n._sqlite3_finalize=x=>(n._sqlite3_finalize=Ce.Ca)(x),n._sqlite3_reset=x=>(n._sqlite3_reset=Ce.Da)(x),n._sqlite3_clear_bindings=x=>(n._sqlite3_clear_bindings=Ce.Ea)(x),n._sqlite3_value_blob=x=>(n._sqlite3_value_blob=Ce.Fa)(x),n._sqlite3_value_text=x=>(n._sqlite3_value_text=Ce.Ga)(x),n._sqlite3_value_bytes=x=>(n._sqlite3_value_bytes=Ce.Ha)(x),n._sqlite3_value_double=x=>(n._sqlite3_value_double=Ce.Ia)(x),n._sqlite3_value_int=x=>(n._sqlite3_value_int=Ce.Ja)(x),n._sqlite3_value_int64=x=>(n._sqlite3_value_int64=Ce.Ka)(x),n._sqlite3_value_type=x=>(n._sqlite3_value_type=Ce.La)(x),n._sqlite3_result_blob=(x,v,S,P)=>(n._sqlite3_result_blob=Ce.Ma)(x,v,S,P),n._sqlite3_result_double=(x,v)=>(n._sqlite3_result_double=Ce.Na)(x,v),n._sqlite3_result_error=(x,v,S)=>(n._sqlite3_result_error=Ce.Oa)(x,v,S),n._sqlite3_result_int=(x,v)=>(n._sqlite3_result_int=Ce.Pa)(x,v),n._sqlite3_result_int64=(x,v,S)=>(n._sqlite3_result_int64=Ce.Qa)(x,v,S),n._sqlite3_result_null=x=>(n._sqlite3_result_null=Ce.Ra)(x),n._sqlite3_result_text=(x,v,S,P)=>(n._sqlite3_result_text=Ce.Sa)(x,v,S,P),n._sqlite3_column_count=x=>(n._sqlite3_column_count=Ce.Ta)(x),n._sqlite3_data_count=x=>(n._sqlite3_data_count=Ce.Ua)(x),n._sqlite3_column_blob=(x,v)=>(n._sqlite3_column_blob=Ce.Va)(x,v),n._sqlite3_column_bytes=(x,v)=>(n._sqlite3_column_bytes=Ce.Wa)(x,v),n._sqlite3_column_double=(x,v)=>(n._sqlite3_column_double=Ce.Xa)(x,v),n._sqlite3_column_text=(x,v)=>(n._sqlite3_column_text=Ce.Ya)(x,v),n._sqlite3_column_type=(x,v)=>(n._sqlite3_column_type=Ce.Za)(x,v),n._sqlite3_column_name=(x,v)=>(n._sqlite3_column_name=Ce._a)(x,v),n._sqlite3_bind_blob=(x,v,S,P,U)=>(n._sqlite3_bind_blob=Ce.$a)(x,v,S,P,U),n._sqlite3_bind_double=(x,v,S)=>(n._sqlite3_bind_double=Ce.ab)(x,v,S),n._sqlite3_bind_int=(x,v,S)=>(n._sqlite3_bind_int=Ce.bb)(x,v,S),n._sqlite3_bind_int64=(x,v,S,P)=>(n._sqlite3_bind_int64=Ce.cb)(x,v,S,P),n._sqlite3_bind_null=(x,v)=>(n._sqlite3_bind_null=Ce.db)(x,v),n._sqlite3_bind_text=(x,v,S,P,U)=>(n._sqlite3_bind_text=Ce.eb)(x,v,S,P,U),n._sqlite3_bind_parameter_count=x=>(n._sqlite3_bind_parameter_count=Ce.fb)(x),n._sqlite3_bind_parameter_name=(x,v)=>(n._sqlite3_bind_parameter_name=Ce.gb)(x,v),n._sqlite3_sql=x=>(n._sqlite3_sql=Ce.hb)(x),n._sqlite3_exec=(x,v,S,P,U)=>(n._sqlite3_exec=Ce.ib)(x,v,S,P,U),n._sqlite3_errmsg=x=>(n._sqlite3_errmsg=Ce.jb)(x),n._sqlite3_declare_vtab=(x,v)=>(n._sqlite3_declare_vtab=Ce.kb)(x,v),n._sqlite3_libversion=()=>(n._sqlite3_libversion=Ce.lb)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=Ce.mb)(),n._sqlite3_changes=x=>(n._sqlite3_changes=Ce.nb)(x),n._sqlite3_close=x=>(n._sqlite3_close=Ce.ob)(x),n._sqlite3_limit=(x,v,S)=>(n._sqlite3_limit=Ce.pb)(x,v,S),n._sqlite3_open_v2=(x,v,S,P)=>(n._sqlite3_open_v2=Ce.qb)(x,v,S,P),n._sqlite3_get_autocommit=x=>(n._sqlite3_get_autocommit=Ce.rb)(x);var zt=()=>(zt=Ce.sb)(),Is=n._malloc=x=>(Is=n._malloc=Ce.tb)(x),Si=n._free=x=>(Si=n._free=Ce.ub)(x);n._RegisterExtensionFunctions=x=>(n._RegisterExtensionFunctions=Ce.vb)(x),n._set_authorizer=x=>(n._set_authorizer=Ce.wb)(x),n._create_function=(x,v,S,P,U,ee)=>(n._create_function=Ce.xb)(x,v,S,P,U,ee),n._update_hook=(x,v)=>(n._update_hook=Ce.yb)(x,v),n._create_module=(x,v,S,P)=>(n._create_module=Ce.zb)(x,v,S,P),n._progress_handler=(x,v)=>(n._progress_handler=Ce.Ab)(x,v),n._register_vfs=(x,v,S,P)=>(n._register_vfs=Ce.Bb)(x,v,S,P),n._getSqliteFree=()=>(n._getSqliteFree=Ce.Cb)();var bt=n._main=(x,v)=>(bt=n._main=Ce.Db)(x,v),Ve=(x,v)=>(Ve=Ce.Fb)(x,v),jc=()=>(jc=Ce.Gb)(),kt=()=>(kt=Ce.Hb)(),Ti=x=>(Ti=Ce.Ib)(x),Ii=x=>(Ii=Ce.Jb)(x),zc=x=>(zc=Ce.Kb)(x),Ir=()=>(Ir=Ce.Lb)(),ba=x=>(ba=Ce.Mb)(x),$l=()=>($l=Ce.Nb)();n.getTempRet0=jc,n.ccall=Tr,n.cwrap=(x,v,S,P)=>{var U=!S||S.every(ee=>ee==="number"||ee==="boolean");return v!=="string"&&U&&!P?n["_"+x]:function(){return Tr(x,v,S,arguments,P)}},n.setValue=er,n.getValue=mt,n.UTF8ToString=(x,v)=>x?st(M,x,v):"",n.stringToUTF8=(x,v,S)=>kn(x,M,v,S),n.lengthBytesUTF8=vi;var Rs;he=function x(){Rs||Jl(),Rs||(he=x)};function Jl(){function x(){if(!Rs&&(Rs=!0,n.calledRun=!0,!_)){if(n.noFSInit||ti||(ti=!0,Hl(),n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?Xi("stdin",n.stdin):Ai("/dev/tty","/dev/stdin"),n.stdout?Xi("stdout",null,n.stdout):Ai("/dev/tty","/dev/stdout"),n.stderr?Xi("stderr",null,n.stderr):Ai("/dev/tty1","/dev/stderr"),gn("/dev/stdin",0),gn("/dev/stdout",1),gn("/dev/stderr",1)),Es=!1,wi(xe),wi(Xe),i(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),eu){var v=bt;try{var S=v(0,0);b=S,Fc(S)}catch(P){Yl(P)}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)v=n.postRun.shift(),ot.unshift(v);wi(ot)}}if(!(0<be)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)_t();wi(De),0<be||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),x()},1)):x())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var eu=!0;return n.noInitialRun&&(eu=!1),Jl(),e.ready}})();class ZT{constructor(){Xd(this,"mxPathName",64)}xClose(e){return hn}xRead(e,n,i){return hn}xWrite(e,n,i){return hn}xTruncate(e,n){return hn}xSync(e,n){return wt}xFileSize(e,n){return hn}xLock(e,n){return wt}xUnlock(e,n){return wt}xCheckReservedLock(e,n){return n.setInt32(0,0,!0),wt}xFileControl(e,n,i){return fE}xSectorSize(e){return 512}xDeviceCharacteristics(e){return 0}xOpen(e,n,i,a){return dE}xDelete(e,n){return hn}xAccess(e,n,i){return hn}handleAsync(e){return e()}}const qT=Oa|ko|Rf|UT|Nf;var Fn,xl,hc,xs,g1,pE,gE;class KT{constructor(){_e(this,xs);_e(this,Fn,Oa);Xd(this,"timeoutMillis",0);_e(this,xl,new Map);_e(this,hc,Promise.resolve(0))}get state(){return B(this,Fn)}async lock(e){return je(this,xs,g1).call(this,je(this,xs,pE),e)}async unlock(e){return je(this,xs,g1).call(this,je(this,xs,gE),e)}async isSomewhereReserved(){throw new Error("unimplemented")}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(e,n){return new Promise(async(i,a)=>{try{await navigator.locks.request(e,n,l=>{if(i(l),l)return new Promise(d=>B(this,xl).set(e,d))})}catch(l){a(l)}})}_releaseWebLock(e){var n;(n=B(this,xl).get(e))==null||n(),B(this,xl).delete(e)}async _pollWebLock(e){var i;return(i=(await navigator.locks.query()).held.find(({name:a})=>a===e))==null?void 0:i.mode}_getTimeoutSignal(){if(this.timeoutMillis){const e=new AbortController;return setTimeout(()=>e.abort(),this.timeoutMillis),e.signal}}}Fn=new WeakMap,xl=new WeakMap,hc=new WeakMap,xs=new WeakSet,g1=async function(e,n){const i=n&qT;try{const a=()=>e.call(this,i);return await ge(this,hc,B(this,hc).then(a,a)),ge(this,Fn,i),wt}catch(a){return a.name==="AbortError"?kT:(console.error(a),LT)}},pE=async function(e){if(e===B(this,Fn))return wt;switch(B(this,Fn)){case Oa:switch(e){case ko:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${B(this,Fn)} -> ${e}`)}case ko:switch(e){case Rf:return this._SHAREDtoRESERVED();case Nf:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${B(this,Fn)} -> ${e}`)}case Rf:switch(e){case Nf:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${B(this,Fn)} -> ${e}`)}default:throw new Error(`unexpected transition ${B(this,Fn)} -> ${e}`)}},gE=async function(e){if(e===B(this,Fn))return wt;switch(B(this,Fn)){case Nf:switch(e){case ko:return this._EXCLUSIVEtoSHARED();case Oa:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${B(this,Fn)} -> ${e}`)}case Rf:switch(e){case ko:return this._RESERVEDtoSHARED();case Oa:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${B(this,Fn)} -> ${e}`)}case ko:switch(e){case Oa:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${B(this,Fn)} -> ${e}`)}default:throw new Error(`unexpected transition ${B(this,Fn)} -> ${e}`)}};class YT extends KT{constructor(e){super(),this._lockName=e+"-outer",this._reservedName=e+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}const QT=5e3;let $T=0;const Vh=new WeakMap;function Oi(...t){}var yl,wl,pc,Nn,gc,qo,Ko,yd,mE;class JT{constructor(e,n={durability:"default"}){_e(this,yd);_e(this,yl);_e(this,wl);_e(this,pc);_e(this,Nn,null);_e(this,gc,0);_e(this,qo,Promise.resolve());_e(this,Ko,Promise.resolve());ge(this,wl,Promise.resolve(e).then(i=>ge(this,yl,i))),ge(this,pc,n)}async close(){const e=B(this,yl)??await B(this,wl);await B(this,qo),await this.sync(),e.close()}async run(e,n){const i=B(this,qo).then(()=>je(this,yd,mE).call(this,e,n));return ge(this,qo,i.catch(()=>{})),i}async sync(){await B(this,qo),await B(this,Ko),ge(this,Ko,Promise.resolve())}}yl=new WeakMap,wl=new WeakMap,pc=new WeakMap,Nn=new WeakMap,gc=new WeakMap,qo=new WeakMap,Ko=new WeakMap,yd=new WeakSet,mE=async function(e,n){var a,l;const i=B(this,yl)??await B(this,wl);if(e==="readwrite"&&((a=B(this,Nn))==null?void 0:a.mode)==="readonly")ge(this,Nn,null);else if(performance.now()-B(this,gc)>QT){try{(l=B(this,Nn))==null||l.commit()}catch(d){if(d.name!=="InvalidStateError")throw d}await new Promise(d=>setTimeout(d)),ge(this,Nn,null)}for(let d=0;d<2;++d){if(!B(this,Nn)){ge(this,Nn,i.transaction(i.objectStoreNames,e,B(this,pc)));const p=ge(this,gc,performance.now());ge(this,Ko,B(this,Ko).then(()=>new Promise((y,m)=>{B(this,Nn).addEventListener("complete",E=>{y(),B(this,Nn)===E.target&&ge(this,Nn,null),Oi(`transaction ${Vh.get(E.target)} complete`)}),B(this,Nn).addEventListener("abort",E=>{console.warn("tx abort",(performance.now()-p)/1e3);const A=E.target.error;m(A),B(this,Nn)===E.target&&ge(this,Nn,null),Oi(`transaction ${Vh.get(E.target)} aborted`,A)})}))),Vh.set(B(this,Nn),$T++)}try{const p=Object.fromEntries(Array.from(i.objectStoreNames,y=>[y,new eI(B(this,Nn).objectStore(y))]));return await n(p)}catch(p){if(ge(this,Nn,null),d)throw p}}};function Ms(t){return new Promise((e,n)=>{t.addEventListener("success",()=>e(t.result)),t.addEventListener("error",()=>n(t.error))})}var bn;class eI{constructor(e){_e(this,bn);ge(this,bn,e)}get(e){Oi(`get ${B(this,bn).name}`,e);const n=B(this,bn).get(e);return Ms(n)}getAll(e,n){Oi(`getAll ${B(this,bn).name}`,e,n);const i=B(this,bn).getAll(e,n);return Ms(i)}getKey(e){Oi(`getKey ${B(this,bn).name}`,e);const n=B(this,bn).getKey(e);return Ms(n)}getAllKeys(e,n){Oi(`getAllKeys ${B(this,bn).name}`,e,n);const i=B(this,bn).getAllKeys(e,n);return Ms(i)}put(e,n){Oi(`put ${B(this,bn).name}`,e,n);const i=B(this,bn).put(e,n);return Ms(i)}delete(e){Oi(`delete ${B(this,bn).name}`,e);const n=B(this,bn).delete(e);return Ms(n)}clear(){Oi(`clear ${B(this,bn).name}`);const e=B(this,bn).clear();return Ms(e)}index(e){return new tI(B(this,bn).index(e))}}bn=new WeakMap;var Yo;class tI{constructor(e){_e(this,Yo);ge(this,Yo,e)}getAllKeys(e,n){Oi(`IDBIndex.getAllKeys ${B(this,Yo).objectStore.name}<${B(this,Yo).name}>`,e,n);const i=B(this,Yo).getAllKeys(e,n);return Ms(i)}}Yo=new WeakMap;const nI=512,ax=3e3,lx={durability:"default",purge:"deferred",purgeAtLeast:16};function mr(...t){}var Ks,Vn,Kt,Qo,$o,ss,Wn,m1,xE,yE,Da,wE;class rI extends ZT{constructor(n="wa-sqlite",i=lx){super();_e(this,Wn);_e(this,Ks);_e(this,Vn,new Map);_e(this,Kt);_e(this,Qo,new Set);_e(this,$o,performance.now());_e(this,ss,new Set);this.name=n,ge(this,Ks,Object.assign({},lx,i)),ge(this,Kt,new JT(iI(n),{durability:B(this,Ks).durability}))}async close(){var n;for(const i of B(this,Vn).keys())await this.xClose(i);await((n=B(this,Kt))==null?void 0:n.close()),ge(this,Kt,null)}xOpen(n,i,a,l){return this.handleAsync(async()=>{n===null&&(n=`null_${i}`),mr(`xOpen ${n} 0x${i.toString(16)} 0x${a.toString(16)}`);try{const d=new URL(n,"http://localhost/"),p={path:d.pathname,flags:a,block0:null,isMetadataChanged:!0,locks:new YT(d.pathname)};return B(this,Vn).set(i,p),await B(this,Kt).run("readwrite",async({blocks:y})=>{if(p.block0=await y.get(je(this,Wn,Da).call(this,p,0)),!p.block0)if(a&cg)p.block0={path:p.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},y.put(p.block0);else throw new Error(`file not found: ${p.path}`)}),l.setInt32(0,a&FT,!0),wt}catch(d){return console.error(d),dE}})}xClose(n){return this.handleAsync(async()=>{try{const i=B(this,Vn).get(n);return i&&(mr(`xClose ${i.path}`),B(this,Vn).delete(n),i.flags&VT&&B(this,Kt).run("readwrite",({blocks:a})=>{a.delete(IDBKeyRange.bound([i.path],[i.path,[]]))})),wt}catch(i){return console.error(i),hn}})}xRead(n,i,a){return this.handleAsync(async()=>{const l=B(this,Vn).get(n);mr(`xRead ${l.path} ${i.byteLength} ${a}`);try{return await B(this,Kt).run("readonly",async({blocks:p})=>{let y=0;for(;y<i.byteLength;){const m=a+y,E=m<l.block0.data.byteLength?l.block0:await p.get(je(this,Wn,Da).call(this,l,-m));if(!E||E.data.byteLength-E.offset<=m)return i.fill(0,y),BT;const A=i.subarray(y),O=m+E.offset,L=Math.min(Math.max(E.data.byteLength-O,0),A.byteLength);A.set(E.data.subarray(O,O+L)),y+=L}return wt})}catch(d){return console.error(d),hn}})}xWrite(n,i,a){const l=B(this,ss).has(n);if(l||performance.now()-B(this,$o)>ax){const d=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&B(this,ss).add(n),await new Promise(y=>setTimeout(y));const p=je(this,Wn,m1).call(this,n,i,a);return ge(this,$o,performance.now()),p});return l&&B(this,ss).delete(n),d}return je(this,Wn,m1).call(this,n,i,a)}xTruncate(n,i){const a=B(this,Vn).get(n);mr(`xTruncate ${a.path} ${i}`);try{Object.assign(a.block0,{fileSize:i,data:a.block0.data.slice(0,i)});const l=Object.assign({},a.block0);return B(this,Kt).run("readwrite",({blocks:d})=>{d.delete(je(this,Wn,Da).call(this,a,-1/0,-i)),d.put(l)}),wt}catch(l){return console.error(l),hn}}xSync(n,i){const a=B(this,ss).has(n);if(a||B(this,Ks).durability!=="relaxed"||performance.now()-B(this,$o)>ax){const d=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&B(this,ss).add(n);const p=await je(this,Wn,xE).call(this,n,i);return ge(this,$o,performance.now()),p});return a&&B(this,ss).delete(n),d}const l=B(this,Vn).get(n);return mr(`xSync ${l.path} ${i}`),wt}xFileSize(n,i){const a=B(this,Vn).get(n);return mr(`xFileSize ${a.path}`),i.setBigInt64(0,BigInt(a.block0.fileSize),!0),wt}xLock(n,i){return this.handleAsync(async()=>{const a=B(this,Vn).get(n);mr(`xLock ${a.path} ${i}`);try{const l=await a.locks.lock(i);return l===wt&&a.locks.state===ko&&(a.block0=await B(this,Kt).run("readonly",({blocks:d})=>d.get(je(this,Wn,Da).call(this,a,0)))),l}catch(l){return console.error(l),hn}})}xUnlock(n,i){return this.handleAsync(async()=>{const a=B(this,Vn).get(n);mr(`xUnlock ${a.path} ${i}`);try{return a.locks.unlock(i)}catch(l){return console.error(l),hn}})}xCheckReservedLock(n,i){return this.handleAsync(async()=>{const a=B(this,Vn).get(n);mr(`xCheckReservedLock ${a.path}`);const l=await a.locks.isSomewhereReserved();return i.setInt32(0,l?1:0,!0),wt})}xSectorSize(n){return nI}xDeviceCharacteristics(n){return HT|jT|zT|WT}xFileControl(n,i,a){const l=B(this,Vn).get(n);switch(mr(`xFileControl ${l.path} ${i}`),i){case 11:return l.overwrite=!0,wt;case 21:if(l.overwrite)try{return this.handleAsync(async()=>(await je(this,Wn,wE).call(this,l),wt))}catch(d){return console.error(d),hn}if(l.isMetadataChanged)try{B(this,Kt).run("readwrite",async({blocks:d})=>{await d.put(l.block0)}),l.isMetadataChanged=!1}catch(d){return console.error(d),hn}return wt;case 22:return l.overwrite=!1,wt;case 31:return this.handleAsync(async()=>{try{return l.block0.version--,l.changedPages=new Set,B(this,Kt).run("readwrite",async({blocks:d})=>{const p=await d.index("version").getAllKeys(IDBKeyRange.bound([l.path],[l.path,l.block0.version]));for(const y of p)d.delete(y)}),wt}catch(d){return console.error(d),hn}});case 32:try{const d=Object.assign({},l.block0);d.data=d.data.slice();const p=l.changedPages;return l.changedPages=null,l.isMetadataChanged=!1,B(this,Kt).run("readwrite",async({blocks:y})=>{y.put(d);const m=await y.get([l.path,"purge",0])??{path:l.path,offset:"purge",version:0,data:new Map,count:0};m.count+=p.size;for(const E of p)m.data.set(E,d.version);y.put(m),je(this,Wn,yE).call(this,l.path,m.count)}),wt}catch(d){return console.error(d),hn}case 33:return this.handleAsync(async()=>{try{return l.changedPages=null,l.isMetadataChanged=!1,l.block0=await B(this,Kt).run("readonly",({blocks:d})=>d.get([l.path,0,l.block0.version+1])),wt}catch(d){return console.error(d),hn}});default:return fE}}xAccess(n,i,a){return this.handleAsync(async()=>{try{const l=new URL(n,"file://localhost/").pathname;mr(`xAccess ${l} ${i}`);const d=await B(this,Kt).run("readonly",({blocks:p})=>p.getKey(je(this,Wn,Da).call(this,{path:l},0)));return a.setInt32(0,d?1:0,!0),wt}catch(l){return console.error(l),hn}})}xDelete(n,i){return this.handleAsync(async()=>{const a=new URL(n,"file://localhost/").pathname;try{return B(this,Kt).run("readwrite",({blocks:l})=>l.delete(IDBKeyRange.bound([a],[a,[]]))),i&&await B(this,Kt).sync(),wt}catch(l){return console.error(l),hn}})}async purge(n){const i=Date.now();await B(this,Kt).run("readwrite",async({blocks:a})=>{const l=await a.get([n,"purge",0]);if(l){for(const[d,p]of l.data)a.delete(IDBKeyRange.bound([n,d,p],[n,d,1/0],!0,!1));await a.delete([n,"purge",0])}mr(`purge ${n} ${(l==null?void 0:l.data.size)??0} pages in ${Date.now()-i} ms`)})}}Ks=new WeakMap,Vn=new WeakMap,Kt=new WeakMap,Qo=new WeakMap,$o=new WeakMap,ss=new WeakMap,Wn=new WeakSet,m1=function(n,i,a){const l=B(this,Vn).get(n);mr(`xWrite ${l.path} ${i.byteLength} ${a}`);try{const d=l.block0.fileSize;l.block0.fileSize<a+i.byteLength&&(l.block0.fileSize=a+i.byteLength,l.isMetadataChanged=!0);const p=a===0?l.block0:{path:l.path,offset:-a,version:l.block0.version,data:null};return p.data=i.slice(),l.changedPages?(d===l.block0.fileSize&&l.changedPages.add(-a),a!==0&&B(this,Kt).run("readwrite",({blocks:y})=>y.put(p))):B(this,Kt).run("readwrite",({blocks:y})=>y.put(p)),l.isMetadataChanged=a===0?!1:l.isMetadataChanged,wt}catch(d){return console.error(d),hn}},xE=async function(n,i){const a=B(this,Vn).get(n);mr(`xSync ${a.path} ${i}`);try{a.isMetadataChanged&&(B(this,Kt).run("readwrite",async({blocks:l})=>{await l.put(a.block0)}),a.isMetadataChanged=!1),await B(this,Kt).sync()}catch(l){return console.error(l),hn}return wt},yE=function(n,i){B(this,Ks).purge==="manual"||B(this,Qo).has(n)||i<B(this,Ks).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(n),B(this,Qo).delete(n)}):setTimeout(()=>{this.purge(n),B(this,Qo).delete(n)}),B(this,Qo).add(n))},Da=function(n,i,a=0){const l=!i||-i<n.block0.data.length?-1/0:n.block0.version;return IDBKeyRange.bound([n.path,i,l],[n.path,a,1/0])},wE=async function(n){const i=n.block0.data.length;if(i<18)return;const a=new DataView(n.block0.data.buffer,n.block0.data.byteOffset);let l=a.getUint16(16);if(l===1&&(l=65536),l===i)return;const d=Math.max(i,l),p=d/i,y=d/l,E=a.getUint32(28)*l,A=n.block0.version;await B(this,Kt).run("readwrite",async({blocks:O})=>{const L=await O.index("version").getAllKeys(IDBKeyRange.bound([n.path,A+1],[n.path,1/0]));for(const j of L)O.delete(j);O.delete([n.path,"purge",0]);for(let j=0;j<E;j+=d){const R=await O.getAll(IDBKeyRange.lowerBound([n.path,-(j+d),1/0]),p);for(const k of R)O.delete([k.path,k.offset,k.version]);if(y===1){const k=new Uint8Array(l);for(const b of R)k.set(b.data,-(j+b.offset));const _={path:n.path,offset:-j,version:A,data:k};_.offset===0&&(_.fileSize=E,n.block0=_),O.put(_)}else{const k=R[0];for(let _=0;_<y;++_){const b=-(j+_*l);if(-b>=E)break;const N={path:k.path,offset:b,version:A,data:k.data.subarray(_*l,(_+1)*l)};N.offset===0&&(N.fileSize=E,n.block0=N),O.put(N)}}}})};function iI(t){return new Promise((e,n)=>{const i=globalThis.indexedDB.open(t,5);i.addEventListener("upgradeneeded",function(){i.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),i.addEventListener("success",()=>{e(i.result)}),i.addEventListener("error",()=>{n(i.error)})})}let hu=null,Na=null;const ux="foodscan_v1.sqlite";async function sI(){if(hu)return{db:hu,sqlite3:Na};try{const t=await XT({locateFile:e=>e.includes("wa-sqlite-async.wasm")?"/wa-sqlite-async.wasm":e});if(Na=GT(t),typeof navigator<"u"&&navigator.locks){const e=new rI(ux);Na.vfs_register(e,!0)}else console.warn("WebLocks API missing (Non-Secure Context?). Falling back to transient Memory VFS. History will be lost on reload.");return hu=await Na.open_v2(ux,hE|cg),await oI(hu,Na),{db:hu,sqlite3:Na}}catch(t){throw console.error("Failed to init DB",t),t}}async function oI(t,e){await e.exec(t,`
    CREATE TABLE IF NOT EXISTS products (
      code TEXT PRIMARY KEY,
      name TEXT,
      ingredients TEXT,
      palm_oil_tags TEXT,
      palm_oil_may_be_tags TEXT,
      image_url TEXT,
      nutriscore_grade TEXT,
      nova_group INTEGER,
      nutrient_levels TEXT,
      additives_tags TEXT,
      last_updated INTEGER
    );
    CREATE INDEX IF NOT EXISTS idx_products_name ON products(name);
  `)}async function aI(t){const{db:e,sqlite3:n}=await sI();if(!e)return null;const i=[];return await n.exec(e,"SELECT * FROM products WHERE code = ?",(a,l)=>{const d={};l.forEach((p,y)=>{d[p]=a[y]}),i.push(d)},[t]),i.length>0?i[0]:null}var vt;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const l={};for(const d of a)l[d]=d;return l},t.getValidEnumValues=a=>{const l=t.objectKeys(a).filter(p=>typeof a[a[p]]!="number"),d={};for(const p of l)d[p]=a[p];return t.objectValues(d)},t.objectValues=a=>t.objectKeys(a).map(function(l){return a[l]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const d in a)Object.prototype.hasOwnProperty.call(a,d)&&l.push(d);return l},t.find=(a,l)=>{for(const d of a)if(l(d))return d},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function i(a,l=" | "){return a.map(d=>typeof d=="string"?`'${d}'`:d).join(l)}t.joinValues=i,t.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(vt||(vt={}));var cx;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(cx||(cx={}));const Oe=vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fs=t=>{switch(typeof t){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(t)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(t)?Oe.array:t===null?Oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Oe.promise:typeof Map<"u"&&t instanceof Map?Oe.map:typeof Set<"u"&&t instanceof Set?Oe.set:typeof Date<"u"&&t instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},me=vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ms extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(l){return l.message},i={_errors:[]},a=l=>{for(const d of l.issues)if(d.code==="invalid_union")d.unionErrors.map(a);else if(d.code==="invalid_return_type")a(d.returnTypeError);else if(d.code==="invalid_arguments")a(d.argumentsError);else if(d.path.length===0)i._errors.push(n(d));else{let p=i,y=0;for(;y<d.path.length;){const m=d.path[y];y===d.path.length-1?(p[m]=p[m]||{_errors:[]},p[m]._errors.push(n(d))):p[m]=p[m]||{_errors:[]},p=p[m],y++}}};return a(this),i}static assert(e){if(!(e instanceof ms))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const a of this.issues)if(a.path.length>0){const l=a.path[0];n[l]=n[l]||[],n[l].push(e(a))}else i.push(e(a));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}ms.create=t=>new ms(t);const x1=(t,e)=>{let n;switch(t.code){case me.invalid_type:t.received===Oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,vt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:n=`Unrecognized key(s) in object: ${vt.joinValues(t.keys,", ")}`;break;case me.invalid_union:n="Invalid input";break;case me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${vt.joinValues(t.options)}`;break;case me.invalid_enum_value:n=`Invalid enum value. Expected ${vt.joinValues(t.options)}, received '${t.received}'`;break;case me.invalid_arguments:n="Invalid function arguments";break;case me.invalid_return_type:n="Invalid function return type";break;case me.invalid_date:n="Invalid date";break;case me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:vt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case me.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case me.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case me.custom:n="Invalid input";break;case me.invalid_intersection_types:n="Intersection results could not be merged";break;case me.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case me.not_finite:n="Number must be finite";break;default:n=e.defaultError,vt.assertNever(t)}return{message:n}};let lI=x1;function uI(){return lI}const cI=t=>{const{data:e,path:n,errorMaps:i,issueData:a}=t,l=[...n,...a.path||[]],d={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let p="";const y=i.filter(m=>!!m).slice().reverse();for(const m of y)p=m(d,{data:e,defaultError:p}).message;return{...a,path:l,message:p}};function Se(t,e){const n=uI(),i=cI({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===x1?void 0:x1].filter(a=>!!a)});t.common.issues.push(i)}class lr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const a of n){if(a.status==="aborted")return Ge;a.status==="dirty"&&e.dirty(),i.push(a.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const a of n){const l=await a.key,d=await a.value;i.push({key:l,value:d})}return lr.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const a of n){const{key:l,value:d}=a;if(l.status==="aborted"||d.status==="aborted")return Ge;l.status==="dirty"&&e.dirty(),d.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof d.value<"u"||a.alwaysSet)&&(i[l.value]=d.value)}return{status:e.value,value:i}}}const Ge=Object.freeze({status:"aborted"}),Cu=t=>({status:"dirty",value:t}),Jr=t=>({status:"valid",value:t}),fx=t=>t.status==="aborted",dx=t=>t.status==="dirty",Ol=t=>t.status==="valid",ud=t=>typeof Promise<"u"&&t instanceof Promise;var Pe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Pe||(Pe={}));class zi{constructor(e,n,i,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hx=(t,e)=>{if(Ol(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ms(t.common.issues);return this._error=n,this._error}}};function it(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:a}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(d,p)=>{const{message:y}=t;return d.code==="invalid_enum_value"?{message:y??p.defaultError}:typeof p.data>"u"?{message:y??i??p.defaultError}:d.code!=="invalid_type"?{message:p.defaultError}:{message:y??n??p.defaultError}},description:a}}class pt{get description(){return this._def.description}_getType(e){return Fs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new lr,ctx:{common:e.parent.common,data:e.data,parsedType:Fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ud(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)},a=this._parseSync({data:e,path:i.path,parent:i});return hx(i,a)}"~validate"(e){var i,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:n});return Ol(l)?{value:l.value}:{issues:n.common.issues}}catch(l){(a=(i=l==null?void 0:l.message)==null?void 0:i.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(l=>Ol(l)?{value:l.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)},a=this._parse({data:e,path:i.path,parent:i}),l=await(ud(a)?a:Promise.resolve(a));return hx(i,l)}refine(e,n){const i=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,l)=>{const d=e(a),p=()=>l.addIssue({code:me.custom,...i(a)});return typeof Promise<"u"&&d instanceof Promise?d.then(y=>y?!0:(p(),!1)):d?!0:(p(),!1)})}refinement(e,n){return this._refinement((i,a)=>e(i)?!0:(a.addIssue(typeof n=="function"?n(i,a):n),!1))}_refinement(e){return new Pl({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ao.create(this,this._def)}nullable(){return Ml.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ji.create(this)}promise(){return pd.create(this,this._def)}or(e){return fd.create([this,e],this._def)}and(e){return dd.create(this,e,this._def)}transform(e){return new Pl({...it(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new w1({...it(this._def),innerType:this,defaultValue:n,typeName:He.ZodDefault})}brand(){return new kI({typeName:He.ZodBranded,type:this,...it(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new v1({...it(this._def),innerType:this,catchValue:n,typeName:He.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return fg.create(this,e)}readonly(){return E1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fI=/^c[^\s-]{8,}$/i,dI=/^[0-9a-z]+$/,hI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gI=/^[a-z0-9_-]{21}$/i,mI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Uh;const vI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,EI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,CI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,AI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_I=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",SI=new RegExp(`^${vE}$`);function EE(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function TI(t){return new RegExp(`^${EE(t)}$`)}function II(t){let e=`${vE}T${EE(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function RI(t,e){return!!((e==="v4"||!e)&&vI.test(t)||(e==="v6"||!e)&&CI.test(t))}function NI(t,e){if(!mI.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(i));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function OI(t,e){return!!((e==="v4"||!e)&&EI.test(t)||(e==="v6"||!e)&&AI.test(t))}class Li extends pt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Oe.string){const l=this._getOrReturnCtx(e);return Se(l,{code:me.invalid_type,expected:Oe.string,received:l.parsedType}),Ge}const i=new lr;let a;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(a=this._getOrReturnCtx(e,a),Se(a,{code:me.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")e.data.length>l.value&&(a=this._getOrReturnCtx(e,a),Se(a,{code:me.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const d=e.data.length>l.value,p=e.data.length<l.value;(d||p)&&(a=this._getOrReturnCtx(e,a),d?Se(a,{code:me.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):p&&Se(a,{code:me.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")yI.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"email",code:me.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")Uh||(Uh=new RegExp(wI,"u")),Uh.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"emoji",code:me.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")pI.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"uuid",code:me.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")gI.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"nanoid",code:me.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")fI.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"cuid",code:me.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")dI.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"cuid2",code:me.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")hI.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"ulid",code:me.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Se(a,{validation:"url",code:me.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"regex",code:me.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(a=this._getOrReturnCtx(e,a),Se(a,{code:me.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(a=this._getOrReturnCtx(e,a),Se(a,{code:me.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(a=this._getOrReturnCtx(e,a),Se(a,{code:me.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?II(l).test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{code:me.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?SI.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{code:me.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?TI(l).test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{code:me.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?xI.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"duration",code:me.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?RI(e.data,l.version)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"ip",code:me.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?NI(e.data,l.alg)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"jwt",code:me.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?OI(e.data,l.version)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"cidr",code:me.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?_I.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"base64",code:me.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?bI.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"base64url",code:me.invalid_string,message:l.message}),i.dirty()):vt.assertNever(l);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(a=>e.test(a),{validation:n,code:me.invalid_string,...Pe.errToObj(i)})}_addCheck(e){return new Li({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Pe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Pe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Pe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Pe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Pe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Pe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Pe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Pe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Pe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Pe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Pe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Pe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Pe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Pe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Pe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Pe.errToObj(n)})}nonempty(e){return this.min(1,Pe.errToObj(e))}trim(){return new Li({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Li({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Li({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Li.create=t=>new Li({checks:[],typeName:He.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...it(t)});function DI(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,a=n>i?n:i,l=Number.parseInt(t.toFixed(a).replace(".","")),d=Number.parseInt(e.toFixed(a).replace(".",""));return l%d/10**a}class ua extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Oe.number){const l=this._getOrReturnCtx(e);return Se(l,{code:me.invalid_type,expected:Oe.number,received:l.parsedType}),Ge}let i;const a=new lr;for(const l of this._def.checks)l.kind==="int"?vt.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="multipleOf"?DI(e.data,l.value)!==0&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.not_finite,message:l.message}),a.dirty()):vt.assertNever(l);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Pe.toString(n))}setLimit(e,n,i,a){return new ua({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:Pe.toString(a)}]})}_addCheck(e){return new ua({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&vt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ua.create=t=>new ua({checks:[],typeName:He.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class ca extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Oe.bigint)return this._getInvalidInput(e);let i;const a=new lr;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):vt.assertNever(l);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Se(n,{code:me.invalid_type,expected:Oe.bigint,received:n.parsedType}),Ge}gte(e,n){return this.setLimit("min",e,!0,Pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Pe.toString(n))}setLimit(e,n,i,a){return new ca({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:Pe.toString(a)}]})}_addCheck(e){return new ca({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ca.create=t=>new ca({checks:[],typeName:He.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...it(t)});class cd extends pt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Oe.boolean){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Oe.boolean,received:i.parsedType}),Ge}return Jr(e.data)}}cd.create=t=>new cd({typeName:He.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class Dl extends pt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Oe.date){const l=this._getOrReturnCtx(e);return Se(l,{code:me.invalid_type,expected:Oe.date,received:l.parsedType}),Ge}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return Se(l,{code:me.invalid_date}),Ge}const i=new lr;let a;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(a=this._getOrReturnCtx(e,a),Se(a,{code:me.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(a=this._getOrReturnCtx(e,a),Se(a,{code:me.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):vt.assertNever(l);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Dl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Pe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Pe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Dl.create=t=>new Dl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:He.ZodDate,...it(t)});class px extends pt{_parse(e){if(this._getType(e)!==Oe.symbol){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Oe.symbol,received:i.parsedType}),Ge}return Jr(e.data)}}px.create=t=>new px({typeName:He.ZodSymbol,...it(t)});class gx extends pt{_parse(e){if(this._getType(e)!==Oe.undefined){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Oe.undefined,received:i.parsedType}),Ge}return Jr(e.data)}}gx.create=t=>new gx({typeName:He.ZodUndefined,...it(t)});class mx extends pt{_parse(e){if(this._getType(e)!==Oe.null){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Oe.null,received:i.parsedType}),Ge}return Jr(e.data)}}mx.create=t=>new mx({typeName:He.ZodNull,...it(t)});class xx extends pt{constructor(){super(...arguments),this._any=!0}_parse(e){return Jr(e.data)}}xx.create=t=>new xx({typeName:He.ZodAny,...it(t)});class yx extends pt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Jr(e.data)}}yx.create=t=>new yx({typeName:He.ZodUnknown,...it(t)});class ho extends pt{_parse(e){const n=this._getOrReturnCtx(e);return Se(n,{code:me.invalid_type,expected:Oe.never,received:n.parsedType}),Ge}}ho.create=t=>new ho({typeName:He.ZodNever,...it(t)});class wx extends pt{_parse(e){if(this._getType(e)!==Oe.undefined){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Oe.void,received:i.parsedType}),Ge}return Jr(e.data)}}wx.create=t=>new wx({typeName:He.ZodVoid,...it(t)});class ji extends pt{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),a=this._def;if(n.parsedType!==Oe.array)return Se(n,{code:me.invalid_type,expected:Oe.array,received:n.parsedType}),Ge;if(a.exactLength!==null){const d=n.data.length>a.exactLength.value,p=n.data.length<a.exactLength.value;(d||p)&&(Se(n,{code:d?me.too_big:me.too_small,minimum:p?a.exactLength.value:void 0,maximum:d?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Se(n,{code:me.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Se(n,{code:me.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((d,p)=>a.type._parseAsync(new zi(n,d,n.path,p)))).then(d=>lr.mergeArray(i,d));const l=[...n.data].map((d,p)=>a.type._parseSync(new zi(n,d,n.path,p)));return lr.mergeArray(i,l)}get element(){return this._def.type}min(e,n){return new ji({...this._def,minLength:{value:e,message:Pe.toString(n)}})}max(e,n){return new ji({...this._def,maxLength:{value:e,message:Pe.toString(n)}})}length(e,n){return new ji({...this._def,exactLength:{value:e,message:Pe.toString(n)}})}nonempty(e){return this.min(1,e)}}ji.create=(t,e)=>new ji({type:t,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...it(e)});function ka(t){if(t instanceof xn){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=ao.create(ka(i))}return new xn({...t._def,shape:()=>e})}else return t instanceof ji?new ji({...t._def,type:ka(t.element)}):t instanceof ao?ao.create(ka(t.unwrap())):t instanceof Ml?Ml.create(ka(t.unwrap())):t instanceof fa?fa.create(t.items.map(e=>ka(e))):t}class xn extends pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=vt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Oe.object){const m=this._getOrReturnCtx(e);return Se(m,{code:me.invalid_type,expected:Oe.object,received:m.parsedType}),Ge}const{status:i,ctx:a}=this._processInputParams(e),{shape:l,keys:d}=this._getCached(),p=[];if(!(this._def.catchall instanceof ho&&this._def.unknownKeys==="strip"))for(const m in a.data)d.includes(m)||p.push(m);const y=[];for(const m of d){const E=l[m],A=a.data[m];y.push({key:{status:"valid",value:m},value:E._parse(new zi(a,A,a.path,m)),alwaysSet:m in a.data})}if(this._def.catchall instanceof ho){const m=this._def.unknownKeys;if(m==="passthrough")for(const E of p)y.push({key:{status:"valid",value:E},value:{status:"valid",value:a.data[E]}});else if(m==="strict")p.length>0&&(Se(a,{code:me.unrecognized_keys,keys:p}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const E of p){const A=a.data[E];y.push({key:{status:"valid",value:E},value:m._parse(new zi(a,A,a.path,E)),alwaysSet:E in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const m=[];for(const E of y){const A=await E.key,O=await E.value;m.push({key:A,value:O,alwaysSet:E.alwaysSet})}return m}).then(m=>lr.mergeObjectSync(i,m)):lr.mergeObjectSync(i,y)}get shape(){return this._def.shape()}strict(e){return Pe.errToObj,new xn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var l,d;const a=((d=(l=this._def).errorMap)==null?void 0:d.call(l,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:Pe.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(e){return new xn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:He.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new xn({...this._def,catchall:e})}pick(e){const n={};for(const i of vt.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new xn({...this._def,shape:()=>n})}omit(e){const n={};for(const i of vt.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new xn({...this._def,shape:()=>n})}deepPartial(){return ka(this)}partial(e){const n={};for(const i of vt.objectKeys(this.shape)){const a=this.shape[i];e&&!e[i]?n[i]=a:n[i]=a.optional()}return new xn({...this._def,shape:()=>n})}required(e){const n={};for(const i of vt.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof ao;)l=l._def.innerType;n[i]=l}return new xn({...this._def,shape:()=>n})}keyof(){return CE(vt.objectKeys(this.shape))}}xn.create=(t,e)=>new xn({shape:()=>t,unknownKeys:"strip",catchall:ho.create(),typeName:He.ZodObject,...it(e)});xn.strictCreate=(t,e)=>new xn({shape:()=>t,unknownKeys:"strict",catchall:ho.create(),typeName:He.ZodObject,...it(e)});xn.lazycreate=(t,e)=>new xn({shape:t,unknownKeys:"strip",catchall:ho.create(),typeName:He.ZodObject,...it(e)});class fd extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function a(l){for(const p of l)if(p.result.status==="valid")return p.result;for(const p of l)if(p.result.status==="dirty")return n.common.issues.push(...p.ctx.common.issues),p.result;const d=l.map(p=>new ms(p.ctx.common.issues));return Se(n,{code:me.invalid_union,unionErrors:d}),Ge}if(n.common.async)return Promise.all(i.map(async l=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(a);{let l;const d=[];for(const y of i){const m={...n,common:{...n.common,issues:[]},parent:null},E=y._parseSync({data:n.data,path:n.path,parent:m});if(E.status==="valid")return E;E.status==="dirty"&&!l&&(l={result:E,ctx:m}),m.common.issues.length&&d.push(m.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const p=d.map(y=>new ms(y));return Se(n,{code:me.invalid_union,unionErrors:p}),Ge}}get options(){return this._def.options}}fd.create=(t,e)=>new fd({options:t,typeName:He.ZodUnion,...it(e)});function y1(t,e){const n=Fs(t),i=Fs(e);if(t===e)return{valid:!0,data:t};if(n===Oe.object&&i===Oe.object){const a=vt.objectKeys(e),l=vt.objectKeys(t).filter(p=>a.indexOf(p)!==-1),d={...t,...e};for(const p of l){const y=y1(t[p],e[p]);if(!y.valid)return{valid:!1};d[p]=y.data}return{valid:!0,data:d}}else if(n===Oe.array&&i===Oe.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let l=0;l<t.length;l++){const d=t[l],p=e[l],y=y1(d,p);if(!y.valid)return{valid:!1};a.push(y.data)}return{valid:!0,data:a}}else return n===Oe.date&&i===Oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class dd extends pt{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),a=(l,d)=>{if(fx(l)||fx(d))return Ge;const p=y1(l.value,d.value);return p.valid?((dx(l)||dx(d))&&n.dirty(),{status:n.value,value:p.data}):(Se(i,{code:me.invalid_intersection_types}),Ge)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,d])=>a(l,d)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}dd.create=(t,e,n)=>new dd({left:t,right:e,typeName:He.ZodIntersection,...it(n)});class fa extends pt{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Oe.array)return Se(i,{code:me.invalid_type,expected:Oe.array,received:i.parsedType}),Ge;if(i.data.length<this._def.items.length)return Se(i,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ge;!this._def.rest&&i.data.length>this._def.items.length&&(Se(i,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...i.data].map((d,p)=>{const y=this._def.items[p]||this._def.rest;return y?y._parse(new zi(i,d,i.path,p)):null}).filter(d=>!!d);return i.common.async?Promise.all(l).then(d=>lr.mergeArray(n,d)):lr.mergeArray(n,l)}get items(){return this._def.items}rest(e){return new fa({...this._def,rest:e})}}fa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fa({items:t,typeName:He.ZodTuple,rest:null,...it(e)})};class hd extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Oe.object)return Se(i,{code:me.invalid_type,expected:Oe.object,received:i.parsedType}),Ge;const a=[],l=this._def.keyType,d=this._def.valueType;for(const p in i.data)a.push({key:l._parse(new zi(i,p,i.path,p)),value:d._parse(new zi(i,i.data[p],i.path,p)),alwaysSet:p in i.data});return i.common.async?lr.mergeObjectAsync(n,a):lr.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof pt?new hd({keyType:e,valueType:n,typeName:He.ZodRecord,...it(i)}):new hd({keyType:Li.create(),valueType:e,typeName:He.ZodRecord,...it(n)})}}class vx extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Oe.map)return Se(i,{code:me.invalid_type,expected:Oe.map,received:i.parsedType}),Ge;const a=this._def.keyType,l=this._def.valueType,d=[...i.data.entries()].map(([p,y],m)=>({key:a._parse(new zi(i,p,i.path,[m,"key"])),value:l._parse(new zi(i,y,i.path,[m,"value"]))}));if(i.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const y of d){const m=await y.key,E=await y.value;if(m.status==="aborted"||E.status==="aborted")return Ge;(m.status==="dirty"||E.status==="dirty")&&n.dirty(),p.set(m.value,E.value)}return{status:n.value,value:p}})}else{const p=new Map;for(const y of d){const m=y.key,E=y.value;if(m.status==="aborted"||E.status==="aborted")return Ge;(m.status==="dirty"||E.status==="dirty")&&n.dirty(),p.set(m.value,E.value)}return{status:n.value,value:p}}}}vx.create=(t,e,n)=>new vx({valueType:e,keyType:t,typeName:He.ZodMap,...it(n)});class ac extends pt{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Oe.set)return Se(i,{code:me.invalid_type,expected:Oe.set,received:i.parsedType}),Ge;const a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(Se(i,{code:me.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(Se(i,{code:me.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const l=this._def.valueType;function d(y){const m=new Set;for(const E of y){if(E.status==="aborted")return Ge;E.status==="dirty"&&n.dirty(),m.add(E.value)}return{status:n.value,value:m}}const p=[...i.data.values()].map((y,m)=>l._parse(new zi(i,y,i.path,m)));return i.common.async?Promise.all(p).then(y=>d(y)):d(p)}min(e,n){return new ac({...this._def,minSize:{value:e,message:Pe.toString(n)}})}max(e,n){return new ac({...this._def,maxSize:{value:e,message:Pe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ac.create=(t,e)=>new ac({valueType:t,minSize:null,maxSize:null,typeName:He.ZodSet,...it(e)});class Ex extends pt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ex.create=(t,e)=>new Ex({getter:t,typeName:He.ZodLazy,...it(e)});class Cx extends pt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Se(n,{received:n.data,code:me.invalid_literal,expected:this._def.value}),Ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}Cx.create=(t,e)=>new Cx({value:t,typeName:He.ZodLiteral,...it(e)});function CE(t,e){return new kl({values:t,typeName:He.ZodEnum,...it(e)})}class kl extends pt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return Se(n,{expected:vt.joinValues(i),received:n.parsedType,code:me.invalid_type}),Ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return Se(n,{received:n.data,code:me.invalid_enum_value,options:i}),Ge}return Jr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return kl.create(e,{...this._def,...n})}exclude(e,n=this._def){return kl.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}kl.create=CE;class Ax extends pt{_parse(e){const n=vt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==Oe.string&&i.parsedType!==Oe.number){const a=vt.objectValues(n);return Se(i,{expected:vt.joinValues(a),received:i.parsedType,code:me.invalid_type}),Ge}if(this._cache||(this._cache=new Set(vt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=vt.objectValues(n);return Se(i,{received:i.data,code:me.invalid_enum_value,options:a}),Ge}return Jr(e.data)}get enum(){return this._def.values}}Ax.create=(t,e)=>new Ax({values:t,typeName:He.ZodNativeEnum,...it(e)});class pd extends pt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.promise&&n.common.async===!1)return Se(n,{code:me.invalid_type,expected:Oe.promise,received:n.parsedType}),Ge;const i=n.parsedType===Oe.promise?n.data:Promise.resolve(n.data);return Jr(i.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}pd.create=(t,e)=>new pd({type:t,typeName:He.ZodPromise,...it(e)});class Pl extends pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),a=this._def.effect||null,l={addIssue:d=>{Se(i,d),d.fatal?n.abort():n.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const d=a.transform(i.data,l);if(i.common.async)return Promise.resolve(d).then(async p=>{if(n.value==="aborted")return Ge;const y=await this._def.schema._parseAsync({data:p,path:i.path,parent:i});return y.status==="aborted"?Ge:y.status==="dirty"||n.value==="dirty"?Cu(y.value):y});{if(n.value==="aborted")return Ge;const p=this._def.schema._parseSync({data:d,path:i.path,parent:i});return p.status==="aborted"?Ge:p.status==="dirty"||n.value==="dirty"?Cu(p.value):p}}if(a.type==="refinement"){const d=p=>{const y=a.refinement(p,l);if(i.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(i.common.async===!1){const p=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return p.status==="aborted"?Ge:(p.status==="dirty"&&n.dirty(),d(p.value),{status:n.value,value:p.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(p=>p.status==="aborted"?Ge:(p.status==="dirty"&&n.dirty(),d(p.value).then(()=>({status:n.value,value:p.value}))))}if(a.type==="transform")if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Ol(d))return Ge;const p=a.transform(d.value,l);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:p}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>Ol(d)?Promise.resolve(a.transform(d.value,l)).then(p=>({status:n.value,value:p})):Ge);vt.assertNever(a)}}Pl.create=(t,e,n)=>new Pl({schema:t,typeName:He.ZodEffects,effect:e,...it(n)});Pl.createWithPreprocess=(t,e,n)=>new Pl({schema:e,effect:{type:"preprocess",transform:t},typeName:He.ZodEffects,...it(n)});class ao extends pt{_parse(e){return this._getType(e)===Oe.undefined?Jr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ao.create=(t,e)=>new ao({innerType:t,typeName:He.ZodOptional,...it(e)});class Ml extends pt{_parse(e){return this._getType(e)===Oe.null?Jr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ml.create=(t,e)=>new Ml({innerType:t,typeName:He.ZodNullable,...it(e)});class w1 extends pt{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===Oe.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}w1.create=(t,e)=>new w1({innerType:t,typeName:He.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...it(e)});class v1 extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return ud(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ms(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ms(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}v1.create=(t,e)=>new v1({innerType:t,typeName:He.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...it(e)});class _x extends pt{_parse(e){if(this._getType(e)!==Oe.nan){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Oe.nan,received:i.parsedType}),Ge}return{status:"valid",value:e.data}}}_x.create=t=>new _x({typeName:He.ZodNaN,...it(t)});class kI extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class fg extends pt{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Ge:l.status==="dirty"?(n.dirty(),Cu(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Ge:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(e,n){return new fg({in:e,out:n,typeName:He.ZodPipeline})}}class E1 extends pt{_parse(e){const n=this._def.innerType._parse(e),i=a=>(Ol(a)&&(a.value=Object.freeze(a.value)),a);return ud(n)?n.then(a=>i(a)):i(n)}unwrap(){return this._def.innerType}}E1.create=(t,e)=>new E1({innerType:t,typeName:He.ZodReadonly,...it(e)});var He;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(He||(He={}));const $i=Li.create,PI=ua.create;ca.create;cd.create;Dl.create;ho.create;const jh=ji.create,bx=xn.create;fd.create;dd.create;fa.create;const MI=hd.create;kl.create;pd.create;ao.create;Ml.create;const LI={string:t=>Li.create({...t,coerce:!0}),number:t=>ua.create({...t,coerce:!0}),boolean:t=>cd.create({...t,coerce:!0}),bigint:t=>ca.create({...t,coerce:!0}),date:t=>Dl.create({...t,coerce:!0})},BI=bx({code:$i().optional(),product:bx({product_name:$i().optional(),ingredients_text:$i().optional(),ingredients_from_palm_oil_tags:jh($i()).optional(),ingredients_that_may_be_from_palm_oil_tags:jh($i()).optional(),image_front_small_url:$i().optional(),nutriscore_grade:$i().optional(),nova_group:PI().optional(),nutrient_levels:MI($i()).optional(),additives_tags:jh($i()).optional()}).passthrough().optional(),status:LI.number().optional()}).passthrough(),FI="FoodScan/1.0 (GramTV; +https://github.com/GramTV/foodscan)";async function VI(t){try{const e=`https://world.openfoodfacts.org/api/v2/product/${t}?fields=code,product_name,ingredients_text,ingredients_from_palm_oil_tags,ingredients_that_may_be_from_palm_oil_tags,image_front_small_url,nutriscore_grade,nova_group,nutrient_levels,additives_tags`,n=await fetch(e,{headers:{"User-Agent":FI,Accept:"application/json"}});if(!n.ok){if(n.status===404)return null;throw new Error(`OFF API Error: ${n.status}`)}const i=await n.json();console.log("OFF API Raw Data:",i);const a=BI.safeParse(i);return a.success?(console.log("OFF API Parsed Status:",a.data.status),a.data.status===0?null:a.data):(console.warn("OFF API Schema Mismatch",a.error),null)}catch(e){throw console.error("Fetch Product Failed",e),e}}const C1=(t,e)=>e.some(n=>t instanceof n);let Sx,Tx;function UI(){return Sx||(Sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jI(){return Tx||(Tx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A1=new WeakMap,zh=new WeakMap,zd=new WeakMap;function zI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",d)},l=()=>{n(na(t.result)),a()},d=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",d)});return zd.set(e,t),e}function WI(t){if(A1.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",d),t.removeEventListener("abort",d)},l=()=>{n(),a()},d=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",d),t.addEventListener("abort",d)});A1.set(t,e)}let _1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AE(t){_1=t(_1)}function HI(t){return jI().includes(t)?function(...e){return t.apply(b1(this),e),na(this.request)}:function(...e){return na(t.apply(b1(this),e))}}function GI(t){return typeof t=="function"?HI(t):(t instanceof IDBTransaction&&WI(t),C1(t,UI())?new Proxy(t,_1):t)}function na(t){if(t instanceof IDBRequest)return zI(t);if(zh.has(t))return zh.get(t);const e=GI(t);return e!==t&&(zh.set(t,e),zd.set(e,t)),e}const b1=t=>zd.get(t);function XI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const d=indexedDB.open(t,e),p=na(d);return i&&d.addEventListener("upgradeneeded",y=>{i(na(d.result),y.oldVersion,y.newVersion,na(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{l&&y.addEventListener("close",()=>l()),a&&y.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const ZI=["get","getKey","getAll","getAllKeys","count"],qI=["put","add","delete","clear"],Wh=new Map;function Ix(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wh.get(e))return Wh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=qI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||ZI.includes(n)))return;const l=async function(d,...p){const y=this.transaction(d,a?"readwrite":"readonly");let m=y.store;return i&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),a&&y.done]))[0]};return Wh.set(e,l),l}AE(t=>({...t,get:(e,n,i)=>Ix(e,n)||t.get(e,n,i),has:(e,n)=>!!Ix(e,n)||t.has(e,n)}));const KI=["continue","continuePrimaryKey","advance"],Rx={},S1=new WeakMap,_E=new WeakMap,YI={get(t,e){if(!KI.includes(e))return t[e];let n=Rx[e];return n||(n=Rx[e]=function(...i){S1.set(this,_E.get(this)[e](...i))}),n}};async function*QI(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,YI);for(_E.set(n,e),zd.set(n,b1(e));e;)yield n,e=await(S1.get(n)||e.continue()),S1.delete(n)}function Nx(t,e){return e===Symbol.asyncIterator&&C1(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&C1(t,[IDBIndex,IDBObjectStore])}AE(t=>({...t,get(e,n,i){return Nx(e,n)?QI:t.get(e,n,i)},has(e,n){return Nx(e,n)||t.has(e,n)}}));const $I="foodscan-history";async function bE(){return XI($I,3,{upgrade(t){t.objectStoreNames.contains("history")&&t.deleteObjectStore("history"),t.createObjectStore("history",{keyPath:"code"}).createIndex("by-date","scannedAt")}})}async function Hh(t,e){const n=await bE();let i="",a="unknown";if(e){const l=JSON.parse(e.palm_oil_tags||"[]"),d=JSON.parse(e.palm_oil_may_be_tags||"[]"),p=l.length>0,y=d.length>0;p?(a="red",i="Palm Oil"):y?(a="yellow",i="May Contain Palm Oil"):(a="green",i="No Palm Oil")}await n.put("history",{code:t,scannedAt:Date.now(),synced:!!e,productName:(e==null?void 0:e.name)||(e==null?void 0:e.product_name)||"Unknown Product",palmOilText:i,status:a})}async function JI(t=50){let n=await(await bE()).transaction("history").store.index("by-date").openCursor(null,"prev");const i=[];for(;n&&i.length<t;)i.push(n.value),n=await n.continue();return i}function SE(t){return vv({queryKey:["product",t],queryFn:async()=>{if(!t)return null;try{const e=await aI(t);if(e)return await Hh(t,e),{source:"local",data:e}}catch(e){console.error("Local DB read failed",e)}if(navigator.onLine){const e=await VI(t);if(e&&e.product){const n={code:t,name:e.product.product_name,ingredients:e.product.ingredients_text,palm_oil_tags:JSON.stringify(e.product.ingredients_from_palm_oil_tags||[]),palm_oil_may_be_tags:JSON.stringify(e.product.ingredients_that_may_be_from_palm_oil_tags||[]),image_url:e.product.image_front_small_url,nutriscore_grade:e.product.nutriscore_grade,nova_group:e.product.nova_group,nutrient_levels:JSON.stringify(e.product.nutrient_levels||{}),additives_tags:JSON.stringify(e.product.additives_tags||[])};return await Hh(t,n),{source:"api",data:n}}}return await Hh(t,null),{source:"none",data:null}},enabled:!!t,retry:!1})}function TE(t=10){return vv({queryKey:["scan-history",t],queryFn:()=>JI(t),staleTime:1e3*30,refetchInterval:1e3*5})}const eR=()=>{const t=pi(p=>p.setView),e=pi(p=>p.dbStatus),n=pi(p=>p.activeCode),i=pi(p=>p.setActiveCode),{data:a,isLoading:l}=SE(n),{data:d}=TE(5);return Y.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50",children:[Y.jsxs("main",{className:"flex-1 p-6 flex flex-col max-w-md mx-auto w-full pt-12 gap-10",children:[Y.jsx("div",{className:"space-y-8",children:a||l?Y.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:Y.jsx(uE,{data:a,isLoading:l,onReset:()=>i(null),code:n})}):Y.jsxs("div",{className:"flex flex-col items-center text-center space-y-12 py-8",children:[Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"FoodScan"}),Y.jsx("p",{className:"text-slate-500 font-medium",children:"Ingredients Finder"})]}),Y.jsxs("button",{onClick:()=>t("scanner"),className:"group relative w-48 h-48 bg-white rounded-full shadow-2xl flex flex-col items-center justify-center border-8 border-blue-50 transition-all hover:scale-105 active:scale-95 hover:border-blue-100",children:[Y.jsx("div",{className:"absolute inset-0 bg-blue-500/5 rounded-full animate-pulse group-hover:bg-blue-500/10"}),Y.jsx(NT,{size:64,className:"text-blue-600 mb-2 group-hover:text-blue-700 transition-colors"}),Y.jsx("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:"Tap to Scan"})]}),Y.jsx("div",{className:"w-full",children:Y.jsx("p",{className:"text-sm text-slate-400",children:"Instant palm oil detection for your groceries"})})]})}),Y.jsxs("section",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:[Y.jsx("div",{className:"flex items-center justify-between mb-4 px-2",children:Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx(aE,{size:18,className:"text-slate-400"}),Y.jsx("h3",{className:"font-bold text-slate-600 text-xs uppercase tracking-wider",children:"Recent History"})]})}),Y.jsx("div",{className:"space-y-2.5",children:Y.jsx(cE,{history:d||[],onSelect:i})})]})]}),Y.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-md border-t border-slate-200/60 p-4 text-center text-[10px] font-bold text-slate-400 z-20",children:Y.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 ",children:[Y.jsx("div",{className:`w-2 h-2 rounded-full ${e.includes("Memory")?"bg-amber-500":"bg-emerald-500"}`}),e.toUpperCase()]})})]})};var Te;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var Ox=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Dx;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Dx||(Dx={}));function tR(t){return Object.values(Te).includes(t)}var gd;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(gd||(gd={}));var nR=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[gd.SCAN_TYPE_CAMERA,gd.SCAN_TYPE_FILE],t}(),IE=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Ox.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Ox.get(e))},t}(),kx=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),T1;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(T1||(T1={}));var rR=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:T1.UNKWOWN_ERROR}},t}(),iR=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function es(t){return typeof t>"u"||t===null}var Qa=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),RE=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var i=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),d=Object.keys(e),p=0,y=d;p<y.length;p++){var m=y[p];if(l.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},t}(),I1={exports:{}};(function(t,e){(function(n,i){i(e)})(tu,function(n){function i(T){return T==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,r){T.__proto__=r}||function(T,r){for(var s in r)r.hasOwnProperty(s)&&(T[s]=r[s])};function l(T,r){a(T,r);function s(){this.constructor=T}T.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}function d(T,r){var s=Object.setPrototypeOf;s?s(T,r):T.__proto__=r}function p(T,r){r===void 0&&(r=T.constructor);var s=Error.captureStackTrace;s&&s(T,r)}var y=function(T){l(r,T);function r(s){var o=this.constructor,u=T.call(this,s)||this;return Object.defineProperty(u,"name",{value:o.name,enumerable:!1}),d(u,o.prototype),p(u),u}return r}(Error);class m extends y{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}m.kind="Exception";class E extends m{}E.kind="ArgumentException";class A extends m{}A.kind="IllegalArgumentException";class O{constructor(r){if(this.binarizer=r,r===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,s){return this.binarizer.getBlackRow(r,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,s,o,u){const c=this.binarizer.getLuminanceSource().crop(r,s,o,u);return new O(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new O(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new O(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends m{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class j{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(r,s,o,u,c){for(;c--;)o[u++]=r[s++]}static currentTimeMillis(){return Date.now()}}class k extends m{}k.kind="IndexOutOfBoundsException";class _ extends k{constructor(r=void 0,s=void 0){super(s),this.index=r,this.message=s}}_.kind="ArrayIndexOutOfBoundsException";class b{static fill(r,s){for(let o=0,u=r.length;o<u;o++)r[o]=s}static fillWithin(r,s,o,u){b.rangeCheck(r.length,s,o);for(let c=s;c<o;c++)r[c]=u}static rangeCheck(r,s,o){if(s>o)throw new A("fromIndex("+s+") > toIndex("+o+")");if(s<0)throw new _(s);if(o>r)throw new _(o)}static asList(...r){return r}static create(r,s,o){return Array.from({length:r}).map(c=>Array.from({length:s}).fill(o))}static createInt32Array(r,s,o){return Array.from({length:r}).map(c=>Int32Array.from({length:s}).fill(o))}static equals(r,s){if(!r||!s||!r.length||!s.length||r.length!==s.length)return!1;for(let o=0,u=r.length;o<u;o++)if(r[o]!==s[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let s=1;for(const o of r)s=31*s+o;return s}static fillUint8Array(r,s){for(let o=0;o!==r.length;o++)r[o]=s}static copyOf(r,s){return r.slice(0,s)}static copyOfUint8Array(r,s){if(r.length<=s){const o=new Uint8Array(s);return o.set(r),o}return r.slice(0,s)}static copyOfRange(r,s,o){const u=o-s,c=new Int32Array(u);return R.arraycopy(r,s,c,0,u),c}static binarySearch(r,s,o){o===void 0&&(o=b.numberComparator);let u=0,c=r.length-1;for(;u<=c;){const f=c+u>>1,h=o(s,r[f]);if(h>0)u=f+1;else if(h<0)c=f-1;else return f}return-u-1}static numberComparator(r,s){return r-s}}class N{static numberOfTrailingZeros(r){let s;if(r===0)return 32;let o=31;return s=r<<16,s!==0&&(o-=16,r=s),s=r<<8,s!==0&&(o-=8,r=s),s=r<<4,s!==0&&(o-=4,r=s),s=r<<2,s!==0&&(o-=2,r=s),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let s=1;return r>>>16||(s+=16,r<<=16),r>>>24||(s+=8,r<<=8),r>>>28||(s+=4,r<<=4),r>>>30||(s+=2,r<<=2),s-=r>>>31,s}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,s){return Math.trunc(r/s)}static parseInt(r,s=void 0){return parseInt(r,s)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(r,s){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,s==null?this.bits=M.makeArray(r):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const s=M.makeArray(r);R.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const s=this.size;if(r>=s)return s;const o=this.bits;let u=Math.floor(r/32),c=o[u];c&=~((1<<(r&31))-1);const f=o.length;for(;c===0;){if(++u===f)return s;c=o[u]}const h=u*32+N.numberOfTrailingZeros(c);return h>s?s:h}getNextUnset(r){const s=this.size;if(r>=s)return s;const o=this.bits;let u=Math.floor(r/32),c=~o[u];c&=~((1<<(r&31))-1);const f=o.length;for(;c===0;){if(++u===f)return s;c=~o[u]}const h=u*32+N.numberOfTrailingZeros(c);return h>s?s:h}setBulk(r,s){this.bits[Math.floor(r/32)]=s}setRange(r,s){if(s<r||r<0||s>this.size)throw new A;if(s===r)return;s--;const o=Math.floor(r/32),u=Math.floor(s/32),c=this.bits;for(let f=o;f<=u;f++){const h=f>o?0:r&31,w=(2<<(f<u?31:s&31))-(1<<h);c[f]|=w}}clear(){const r=this.bits.length,s=this.bits;for(let o=0;o<r;o++)s[o]=0}isRange(r,s,o){if(s<r||r<0||s>this.size)throw new A;if(s===r)return!0;s--;const u=Math.floor(r/32),c=Math.floor(s/32),f=this.bits;for(let h=u;h<=c;h++){const g=h>u?0:r&31,C=(2<<(h<c?31:s&31))-(1<<g)&4294967295;if((f[h]&C)!==(o?C:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,s){if(s<0||s>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let o=s;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const s=r.size;this.ensureCapacity(this.size+s);for(let o=0;o<s;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new A("Sizes don't match");const s=this.bits;for(let o=0,u=s.length;o<u;o++)s[o]^=r.bits[o]}toBytes(r,s,o,u){for(let c=0;c<u;c++){let f=0;for(let h=0;h<8;h++)this.get(r)&&(f|=1<<7-h),r++;s[o+c]=f}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),o=s+1,u=this.bits;for(let c=0;c<o;c++){let f=u[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,r[s-c]=f}if(this.size!==o*32){const c=o*32-this.size;let f=r[0]>>>c;for(let h=1;h<o;h++){const g=r[h];f|=g<<32-c,r[h-1]=f,f=g>>>c}r[o-1]=f}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof M))return!1;const s=r;return this.size===s.size&&b.equals(this.bits,s.bits)}hashCode(){return 31*this.size+b.hashCode(this.bits)}toString(){let r="";for(let s=0,o=this.size;s<o;s++)s&7||(r+=" "),r+=this.get(s)?"X":".";return r}clone(){return new M(this.size,this.bits.slice())}}var X;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var G=X;class z extends m{static getFormatInstance(){return new z}}z.kind="FormatException";var $;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})($||($={}));class ne{constructor(r,s,o,...u){this.valueIdentifier=r,this.name=o,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=u,ne.VALUE_IDENTIFIER_TO_ECI.set(r,this),ne.NAME_TO_ECI.set(o,this);const c=this.values;for(let f=0,h=c.length;f!==h;f++){const g=c[f];ne.VALUES_TO_ECI.set(g,this)}for(const f of u)ne.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new z("incorect value");const s=ne.VALUES_TO_ECI.get(r);if(s===void 0)throw new z("incorect value");return s}static getCharacterSetECIByName(r){const s=ne.NAME_TO_ECI.get(r);if(s===void 0)throw new z("incorect value");return s}equals(r){if(!(r instanceof ne))return!1;const s=r;return this.getName()===s.getName()}}ne.VALUE_IDENTIFIER_TO_ECI=new Map,ne.VALUES_TO_ECI=new Map,ne.NAME_TO_ECI=new Map,ne.Cp437=new ne($.Cp437,Int32Array.from([0,2]),"Cp437"),ne.ISO8859_1=new ne($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ne.ISO8859_2=new ne($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ne.ISO8859_3=new ne($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ne.ISO8859_4=new ne($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ne.ISO8859_5=new ne($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ne.ISO8859_6=new ne($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ne.ISO8859_7=new ne($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ne.ISO8859_8=new ne($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ne.ISO8859_9=new ne($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ne.ISO8859_10=new ne($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ne.ISO8859_11=new ne($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ne.ISO8859_13=new ne($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ne.ISO8859_14=new ne($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ne.ISO8859_15=new ne($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ne.ISO8859_16=new ne($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ne.SJIS=new ne($.SJIS,20,"SJIS","Shift_JIS"),ne.Cp1250=new ne($.Cp1250,21,"Cp1250","windows-1250"),ne.Cp1251=new ne($.Cp1251,22,"Cp1251","windows-1251"),ne.Cp1252=new ne($.Cp1252,23,"Cp1252","windows-1252"),ne.Cp1256=new ne($.Cp1256,24,"Cp1256","windows-1256"),ne.UnicodeBigUnmarked=new ne($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ne.UTF8=new ne($.UTF8,26,"UTF8","UTF-8"),ne.ASCII=new ne($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ne.Big5=new ne($.Big5,28,"Big5"),ne.GB18030=new ne($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ne.EUC_KR=new ne($.EUC_KR,30,"EUC_KR","EUC-KR");class ue extends m{}ue.kind="UnsupportedOperationException";class De{static decode(r,s){const o=this.encodingName(s);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!De.isBrowser()&&r==="ISO-8859-1"}static encode(r,s){const o=this.encodingName(s);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof ne?r:ne.getCharacterSetECIByName(r)}static decodeFallback(r,s){const o=this.encodingCharacterSet(s);if(De.isDecodeFallbackSupported(o)){let u="";for(let c=0,f=r.length;c<f;c++){let h=r[c].toString(16);h.length<2&&(h="0"+h),u+="%"+h}return decodeURIComponent(u)}if(o.equals(ne.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new ue(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(ne.UTF8)||r.equals(ne.ISO8859_1)||r.equals(ne.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),u=[];for(let c=0;c<o.length;c++)u.push(o[c].charCodeAt(0));return new Uint8Array(u)}}class xe{static castAsNonUtf8Char(r,s=null){const o=s?s.getName():this.ISO88591;return De.decode(new Uint8Array([r]),o)}static guessEncoding(r,s){if(s!=null&&s.get(G.CHARACTER_SET)!==void 0)return s.get(G.CHARACTER_SET).toString();const o=r.length;let u=!0,c=!0,f=!0,h=0,g=0,w=0,C=0,I=0,D=0,V=0,W=0,H=0,Z=0,te=0;const de=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let pe=0;pe<o&&(u||c||f);pe++){const le=r[pe]&255;f&&(h>0?le&128?h--:f=!1:le&128&&(le&64?(h++,le&32?(h++,le&16?(h++,le&8?f=!1:C++):w++):g++):f=!1)),u&&(le>127&&le<160?u=!1:le>159&&(le<192||le===215||le===247)&&te++),c&&(I>0?le<64||le===127||le>252?c=!1:I--:le===128||le===160||le>239?c=!1:le>160&&le<224?(D++,W=0,V++,V>H&&(H=V)):le>127?(I++,V=0,W++,W>Z&&(Z=W)):(V=0,W=0))}return f&&h>0&&(f=!1),c&&I>0&&(c=!1),f&&(de||g+w+C>0)?xe.UTF8:c&&(xe.ASSUME_SHIFT_JIS||H>=3||Z>=3)?xe.SHIFT_JIS:u&&c?H===2&&D===2||te*10>=o?xe.SHIFT_JIS:xe.ISO88591:u?xe.ISO88591:c?xe.SHIFT_JIS:f?xe.UTF8:xe.PLATFORM_DEFAULT_ENCODING}static format(r,...s){let o=-1;function u(f,h,g,w,C,I){if(f==="%%")return"%";if(s[++o]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let D=C?parseInt(C.substr(1)):void 0,V;switch(I){case"s":V=s[o];break;case"c":V=s[o][0];break;case"f":V=parseFloat(s[o]).toFixed(f);break;case"p":V=parseFloat(s[o]).toPrecision(f);break;case"e":V=parseFloat(s[o]).toExponential(f);break;case"x":V=parseInt(s[o]).toString(D||16);break;case"d":V=parseFloat(parseInt(s[o],D||10).toPrecision(f)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(D);let W=parseInt(g),H=g&&g[0]+""=="0"?"0":" ";for(;V.length<W;)V=h!==void 0?V+H:H+V;return V}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}static getBytes(r,s){return De.encode(r,s)}static getCharCode(r,s=0){return r.charCodeAt(s)}static getCharAt(r){return String.fromCharCode(r)}}xe.SHIFT_JIS=ne.SJIS.getName(),xe.GB2312="GB2312",xe.ISO88591=ne.ISO8859_1.getName(),xe.EUC_JP="EUC_JP",xe.UTF8=ne.UTF8.getName(),xe.PLATFORM_DEFAULT_ENCODING=xe.UTF8,xe.ASSUME_SHIFT_JIS=!1;class Xe{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=xe.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,s,o){for(let u=s;s<s+o;u++)this.append(r[u]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+1)}substring(r,s){return this.value.substring(r,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+s.length)}}class ot{constructor(r,s,o,u){if(this.width=r,this.height=s,this.rowSize=o,this.bits=u,s==null&&(s=r),this.height=s,r<1||s<1)throw new A("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const s=r.length,o=r[0].length,u=new ot(o,s);for(let c=0;c<s;c++){const f=r[c];for(let h=0;h<o;h++)f[h]&&u.set(h,c)}return u}static parseFromString(r,s,o){if(r===null)throw new A("stringRepresentation cannot be null");const u=new Array(r.length);let c=0,f=0,h=-1,g=0,w=0;for(;w<r.length;)if(r.charAt(w)===`
`||r.charAt(w)==="\r"){if(c>f){if(h===-1)h=c-f;else if(c-f!==h)throw new A("row lengths do not match");f=c,g++}w++}else if(r.substring(w,w+s.length)===s)w+=s.length,u[c]=!0,c++;else if(r.substring(w,w+o.length)===o)w+=o.length,u[c]=!1,c++;else throw new A("illegal character encountered: "+r.substring(w));if(c>f){if(h===-1)h=c-f;else if(c-f!==h)throw new A("row lengths do not match");g++}const C=new ot(h,g);for(let I=0;I<c;I++)u[I]&&C.set(Math.floor(I%h),Math.floor(I/h));return C}get(r,s){const o=s*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new A("input matrix dimensions do not match");const s=new M(Math.floor(this.width/32)+1),o=this.rowSize,u=this.bits;for(let c=0,f=this.height;c<f;c++){const h=c*o,g=r.getRow(c,s).getBitArray();for(let w=0;w<o;w++)u[h+w]^=g[w]}}clear(){const r=this.bits,s=r.length;for(let o=0;o<s;o++)r[o]=0}setRegion(r,s,o,u){if(s<0||r<0)throw new A("Left and top must be nonnegative");if(u<1||o<1)throw new A("Height and width must be at least 1");const c=r+o,f=s+u;if(f>this.height||c>this.width)throw new A("The region must fit inside the matrix");const h=this.rowSize,g=this.bits;for(let w=s;w<f;w++){const C=w*h;for(let I=r;I<c;I++)g[C+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(r,s){s==null||s.getSize()<this.width?s=new M(this.width):s.clear();const o=this.rowSize,u=this.bits,c=r*o;for(let f=0;f<o;f++)s.setBulk(f*32,u[c+f]);return s}setRow(r,s){R.arraycopy(s.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),s=this.getHeight();let o=new M(r),u=new M(r);for(let c=0,f=Math.floor((s+1)/2);c<f;c++)o=this.getRow(c,o),u=this.getRow(s-1-c,u),o.reverse(),u.reverse(),this.setRow(c,u),this.setRow(s-1-c,o)}getEnclosingRectangle(){const r=this.width,s=this.height,o=this.rowSize,u=this.bits;let c=r,f=s,h=-1,g=-1;for(let w=0;w<s;w++)for(let C=0;C<o;C++){const I=u[w*o+C];if(I!==0){if(w<f&&(f=w),w>g&&(g=w),C*32<c){let D=0;for(;!(I<<31-D&4294967295);)D++;C*32+D<c&&(c=C*32+D)}if(C*32+31>h){let D=31;for(;!(I>>>D);)D--;C*32+D>h&&(h=C*32+D)}}}return h<c||g<f?null:Int32Array.from([c,f,h-c+1,g-f+1])}getTopLeftOnBit(){const r=this.rowSize,s=this.bits;let o=0;for(;o<s.length&&s[o]===0;)o++;if(o===s.length)return null;const u=o/r;let c=o%r*32;const f=s[o];let h=0;for(;!(f<<31-h&4294967295);)h++;return c+=h,Int32Array.from([c,u])}getBottomRightOnBit(){const r=this.rowSize,s=this.bits;let o=s.length-1;for(;o>=0&&s[o]===0;)o--;if(o<0)return null;const u=Math.floor(o/r);let c=Math.floor(o%r)*32;const f=s[o];let h=31;for(;!(f>>>h);)h--;return c+=h,Int32Array.from([c,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof ot))return!1;const s=r;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&b.equals(this.bits,s.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+b.hashCode(this.bits),r}toString(r="X ",s="  ",o=`
`){return this.buildToString(r,s,o)}buildToString(r,s,o){let u=new Xe;for(let c=0,f=this.height;c<f;c++){for(let h=0,g=this.width;h<g;h++)u.append(this.get(h,c)?r:s);u.append(o)}return u.toString()}clone(){return new ot(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends m{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class _t extends j{constructor(r){super(r),this.luminances=_t.EMPTY,this.buckets=new Int32Array(_t.LUMINANCE_BUCKETS)}getBlackRow(r,s){const o=this.getLuminanceSource(),u=o.getWidth();s==null||s.getSize()<u?s=new M(u):s.clear(),this.initArrays(u);const c=o.getRow(r,this.luminances),f=this.buckets;for(let g=0;g<u;g++)f[(c[g]&255)>>_t.LUMINANCE_SHIFT]++;const h=_t.estimateBlackPoint(f);if(u<3)for(let g=0;g<u;g++)(c[g]&255)<h&&s.set(g);else{let g=c[0]&255,w=c[1]&255;for(let C=1;C<u-1;C++){const I=c[C+1]&255;(w*4-g-I)/2<h&&s.set(C),g=w,w=I}}return s}getBlackMatrix(){const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight(),u=new ot(s,o);this.initArrays(s);const c=this.buckets;for(let g=1;g<5;g++){const w=Math.floor(o*g/5),C=r.getRow(w,this.luminances),I=Math.floor(s*4/5);for(let D=Math.floor(s/5);D<I;D++){const V=C[D]&255;c[V>>_t.LUMINANCE_SHIFT]++}}const f=_t.estimateBlackPoint(c),h=r.getMatrix();for(let g=0;g<o;g++){const w=g*s;for(let C=0;C<s;C++)(h[w+C]&255)<f&&u.set(C,g)}return u}createBinarizer(r){return new _t(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const s=this.buckets;for(let o=0;o<_t.LUMINANCE_BUCKETS;o++)s[o]=0}static estimateBlackPoint(r){const s=r.length;let o=0,u=0,c=0;for(let C=0;C<s;C++)r[C]>c&&(u=C,c=r[C]),r[C]>o&&(o=r[C]);let f=0,h=0;for(let C=0;C<s;C++){const I=C-u,D=r[C]*I*I;D>h&&(f=C,h=D)}if(u>f){const C=u;u=f,f=C}if(f-u<=s/16)throw new re;let g=f-1,w=-1;for(let C=f-1;C>u;C--){const I=C-u,D=I*I*(f-C)*(o-r[C]);D>w&&(g=C,w=D)}return g<<_t.LUMINANCE_SHIFT}}_t.LUMINANCE_BITS=5,_t.LUMINANCE_SHIFT=8-_t.LUMINANCE_BITS,_t.LUMINANCE_BUCKETS=1<<_t.LUMINANCE_BITS,_t.EMPTY=Uint8ClampedArray.from([0]);class be extends _t{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight();if(s>=be.MINIMUM_DIMENSION&&o>=be.MINIMUM_DIMENSION){const u=r.getMatrix();let c=s>>be.BLOCK_SIZE_POWER;s&be.BLOCK_SIZE_MASK&&c++;let f=o>>be.BLOCK_SIZE_POWER;o&be.BLOCK_SIZE_MASK&&f++;const h=be.calculateBlackPoints(u,c,f,s,o),g=new ot(s,o);be.calculateThresholdForBlock(u,c,f,s,o,h,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new be(r)}static calculateThresholdForBlock(r,s,o,u,c,f,h){const g=c-be.BLOCK_SIZE,w=u-be.BLOCK_SIZE;for(let C=0;C<o;C++){let I=C<<be.BLOCK_SIZE_POWER;I>g&&(I=g);const D=be.cap(C,2,o-3);for(let V=0;V<s;V++){let W=V<<be.BLOCK_SIZE_POWER;W>w&&(W=w);const H=be.cap(V,2,s-3);let Z=0;for(let de=-2;de<=2;de++){const pe=f[D+de];Z+=pe[H-2]+pe[H-1]+pe[H]+pe[H+1]+pe[H+2]}const te=Z/25;be.thresholdBlock(r,W,I,te,u,h)}}}static cap(r,s,o){return r<s?s:r>o?o:r}static thresholdBlock(r,s,o,u,c,f){for(let h=0,g=o*c+s;h<be.BLOCK_SIZE;h++,g+=c)for(let w=0;w<be.BLOCK_SIZE;w++)(r[g+w]&255)<=u&&f.set(s+w,o+h)}static calculateBlackPoints(r,s,o,u,c){const f=c-be.BLOCK_SIZE,h=u-be.BLOCK_SIZE,g=new Array(o);for(let w=0;w<o;w++){g[w]=new Int32Array(s);let C=w<<be.BLOCK_SIZE_POWER;C>f&&(C=f);for(let I=0;I<s;I++){let D=I<<be.BLOCK_SIZE_POWER;D>h&&(D=h);let V=0,W=255,H=0;for(let te=0,de=C*u+D;te<be.BLOCK_SIZE;te++,de+=u){for(let pe=0;pe<be.BLOCK_SIZE;pe++){const le=r[de+pe]&255;V+=le,le<W&&(W=le),le>H&&(H=le)}if(H-W>be.MIN_DYNAMIC_RANGE)for(te++,de+=u;te<be.BLOCK_SIZE;te++,de+=u)for(let pe=0;pe<be.BLOCK_SIZE;pe++)V+=r[de+pe]&255}let Z=V>>be.BLOCK_SIZE_POWER*2;if(H-W<=be.MIN_DYNAMIC_RANGE&&(Z=W/2,w>0&&I>0)){const te=(g[w-1][I]+2*g[w][I-1]+g[w-1][I-1])/4;W<te&&(Z=te)}g[w][I]=Z}}return g}}be.BLOCK_SIZE_POWER=3,be.BLOCK_SIZE=1<<be.BLOCK_SIZE_POWER,be.BLOCK_SIZE_MASK=be.BLOCK_SIZE-1,be.MINIMUM_DIMENSION=be.BLOCK_SIZE*5,be.MIN_DYNAMIC_RANGE=24;class he{constructor(r,s){this.width=r,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,s,o,u){throw new ue("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ue("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ue("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let s=new Xe;for(let o=0;o<this.height;o++){const u=this.getRow(o,r);for(let c=0;c<this.width;c++){const f=u[c]&255;let h;f<64?h="#":f<128?h="+":f<192?h=".":h=" ",s.append(h)}s.append(`
`)}return s.toString()}}class Ae extends he{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,s){const o=this.delegate.getRow(r,s),u=this.getWidth();for(let c=0;c<u;c++)o[c]=255-(o[c]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(s);for(let u=0;u<s;u++)o[u]=255-(r[u]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,s,o,u){return new Ae(this.delegate.crop(r,s,o,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ae(this.delegate.rotateCounterClockwise45())}}class Le extends he{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=Le.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const s=r.getContext("2d").getImageData(0,0,r.width,r.height);return Le.toGrayscaleBuffer(s.data,r.width,r.height)}static toGrayscaleBuffer(r,s,o){const u=new Uint8ClampedArray(s*o);for(let c=0,f=0,h=r.length;c<h;c+=4,f++){let g;if(r[c+3]===0)g=255;else{const C=r[c],I=r[c+1],D=r[c+2];g=306*C+601*I+117*D+512>>10}u[f]=g}return u}getRow(r,s){if(r<0||r>=this.getHeight())throw new A("Requested row is outside the image: "+r);const o=this.getWidth(),u=r*o;return s===null?s=this.buffer.slice(u,u+o):(s.length<o&&(s=new Uint8ClampedArray(o)),s.set(this.buffer.slice(u,u+o))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,s,o,u){return super.crop(r,s,o,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const s=this.getTempCanvasElement(),o=s.getContext("2d"),u=r*Le.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(u))*c+Math.abs(Math.sin(u))*f),g=Math.ceil(Math.abs(Math.sin(u))*c+Math.abs(Math.cos(u))*f);return s.width=h,s.height=g,o.translate(h/2,g/2),o.rotate(u),o.drawImage(this.canvas,c/-2,f/-2),this.buffer=Le.makeBufferFromCanvasImageData(s),this}invert(){return new Ae(this)}}Le.DEGREE_TO_RADIANS=Math.PI/180;class Qe{constructor(r,s,o){this.deviceId=r,this.label=s,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var at=(globalThis||tu||self||window||void 0)&&(globalThis||tu||self||window||void 0).__awaiter||function(T,r,s,o){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(C){try{w(o.next(C))}catch(I){f(I)}}function g(C){try{w(o.throw(C))}catch(I){f(I)}}function w(C){C.done?c(C.value):u(C.value).then(h,g)}w((o=o.apply(T,r||[])).next())})};class Jn{constructor(r,s=500,o){this.reader=r,this.timeBetweenScansMillis=s,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return at(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const o of r){const u=o.kind==="video"?"videoinput":o.kind;if(u!=="videoinput")continue;const c=o.deviceId||o.id,f=o.label||`Video device ${s.length+1}`,h=o.groupId,g={deviceId:c,label:f,kind:u,groupId:h};s.push(g)}return s})}getVideoInputDevices(){return at(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Qe(s.deviceId,s.label))})}findDeviceById(r){return at(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,s){return at(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,s)})}decodeOnceFromVideoDevice(r,s){return at(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeOnceFromConstraints(u,s)})}decodeOnceFromConstraints(r,s){return at(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,s)})}decodeOnceFromStream(r,s){return at(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,s);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,s,o){return at(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,s,o)})}decodeFromVideoDevice(r,s,o){return at(this,void 0,void 0,function*(){let u;r?u={deviceId:{exact:r}}:u={facingMode:"environment"};const c={video:u};return yield this.decodeFromConstraints(c,s,o)})}decodeFromConstraints(r,s,o){return at(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(u,s,o)})}decodeFromStream(r,s,o){return at(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(r,s);return yield this.decodeContinuously(u,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,s){return at(this,void 0,void 0,function*(){const o=this.prepareVideoElement(s);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((s,o)=>this.playVideoOnLoad(r,()=>s()))}playVideoOnLoad(r,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",s),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return at(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,s){const o=document.getElementById(r);if(!o)throw new E(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==s.toLowerCase())throw new E(`element with id '${r}' must be an ${s} element`);return o}decodeFromImage(r,s){if(!r&&!s)throw new E("either imageElement with a src set or an url must be provided");return s&&!r?this.decodeFromImageUrl(s):this.decodeFromImageElement(r)}decodeFromVideo(r,s){if(!r&&!s)throw new E("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,s,o){if(r===void 0&&s===void 0)throw new E("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrlContinuously(s,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new E("An image element must be provided.");this.reset();const s=this.prepareImageElement(r);this.imageElement=s;let o;return this.isImageLoaded(s)?o=this.decodeOnce(s,!1,!0):o=this._decodeOnLoadImage(s),o}decodeFromVideoElement(r){const s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(r,s){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,s)}_decodeFromVideoElementSetup(r){if(!r)throw new E("A video element must be provided.");this.reset();const s=this.prepareVideoElement(r);return this.videoElement=s,s}decodeFromImageUrl(r){if(!r)throw new E("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const o=this._decodeOnLoadImage(s);return s.src=r,o}decodeFromVideoUrl(r){if(!r)throw new E("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElement(s);return s.src=r,o}decodeFromVideoUrlContinuously(r,s){if(!r)throw new E("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(o,s);return o.src=r,u}_decodeOnLoadImage(r){return new Promise((s,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(s,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return at(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,s){return at(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,s)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let s;return typeof r>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(s=r),s}prepareVideoElement(r){let s;return!r&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(s=r),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(r,s=!0,o=!0){this._stopAsyncDecode=!1;const u=(c,f)=>{if(this._stopAsyncDecode){f(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(r);c(h)}catch(h){const g=s&&h instanceof re,C=(h instanceof L||h instanceof z)&&o;if(g||C)return setTimeout(u,this._timeBetweenDecodingAttempts,c,f);f(h)}};return new Promise((c,f)=>u(c,f))}decodeContinuously(r,s){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(r);s(u,null),setTimeout(o,this.timeBetweenScansMillis)}catch(u){s(null,u);const c=u instanceof L||u instanceof z,f=u instanceof re;(c||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const s=this.createBinaryBitmap(r);return this.decodeBitmap(s)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,s,o){s||(s={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(r,s,o=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const s=this.getCaptureCanvas(r),o=new Le(s),u=new be(o);return new O(u)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const s=this.createCaptureCanvas(r);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let o,u;return typeof r<"u"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,u=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,u=r.naturalHeight||r.height)),s.style.width=o+"px",s.style.height=u+"px",s.width=o,s.height=u,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,s){try{r.srcObject=s}catch{r.src=URL.createObjectURL(s)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class Vt{constructor(r,s,o=s==null?0:8*s.length,u,c,f=R.currentTimeMillis()){this.text=r,this.rawBytes=s,this.numBits=o,this.resultPoints=u,this.format=c,this.timestamp=f,this.text=r,this.rawBytes=s,o==null?this.numBits=s==null?0:8*s.length:this.numBits=o,this.resultPoints=u,this.format=c,this.resultMetadata=null,f==null?this.timestamp=R.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,s)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const s=this.resultPoints;if(s===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(s.length+r.length);R.arraycopy(s,0,o,0,s.length),R.arraycopy(r,0,o,s.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var yi;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(yi||(yi={}));var ke=yi,Be;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Be||(Be={}));var qe=Be;class ws{constructor(r,s,o,u,c=-1,f=-1){this.rawBytes=r,this.text=s,this.byteSegments=o,this.ecLevel=u,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class wi{exp(r){return this.expTable[r]}log(r){if(r===0)throw new A;return this.logTable[r]}static addOrSubtract(r,s){return r^s}}class mt{constructor(r,s){if(s.length===0)throw new A;this.field=r;const o=s.length;if(o>1&&s[0]===0){let u=1;for(;u<o&&s[u]===0;)u++;u===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-u),R.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const s=this.coefficients;let o;if(r===1){o=0;for(let f=0,h=s.length;f!==h;f++){const g=s[f];o=wi.addOrSubtract(o,g)}return o}o=s[0];const u=s.length,c=this.field;for(let f=1;f<u;f++)o=wi.addOrSubtract(c.multiply(r,o),s[f]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){const f=s;s=o,o=f}let u=new Int32Array(o.length);const c=o.length-s.length;R.arraycopy(o,0,u,0,c);for(let f=c;f<o.length;f++)u[f]=wi.addOrSubtract(s[f-c],o[f]);return new mt(this.field,u)}multiply(r){if(!this.field.equals(r.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const s=this.coefficients,o=s.length,u=r.coefficients,c=u.length,f=new Int32Array(o+c-1),h=this.field;for(let g=0;g<o;g++){const w=s[g];for(let C=0;C<c;C++)f[g+C]=wi.addOrSubtract(f[g+C],h.multiply(w,u[C]))}return new mt(h,f)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const s=this.coefficients.length,o=this.field,u=new Int32Array(s),c=this.coefficients;for(let f=0;f<s;f++)u[f]=o.multiply(c[f],r);return new mt(o,u)}multiplyByMonomial(r,s){if(r<0)throw new A;if(s===0)return this.field.getZero();const o=this.coefficients,u=o.length,c=new Int32Array(u+r),f=this.field;for(let h=0;h<u;h++)c[h]=f.multiply(o[h],s);return new mt(f,c)}divide(r){if(!this.field.equals(r.field))throw new A("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new A("Divide by 0");const s=this.field;let o=s.getZero(),u=this;const c=r.getCoefficient(r.getDegree()),f=s.inverse(c);for(;u.getDegree()>=r.getDegree()&&!u.isZero();){const h=u.getDegree()-r.getDegree(),g=s.multiply(u.getCoefficient(u.getDegree()),f),w=r.multiplyByMonomial(h,g),C=s.buildMonomial(h,g);o=o.addOrSubtract(C),u=u.addOrSubtract(w)}return[o,u]}toString(){let r="";for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),s===0||o!==1){const u=this.field.log(o);u===0?r+="1":u===1?r+="a":(r+="a^",r+=u)}s!==0&&(s===1?r+="x":(r+="x^",r+=s))}}return r}}class er extends m{}er.kind="ArithmeticException";class gt extends wi{constructor(r,s,o){super(),this.primitive=r,this.size=s,this.generatorBase=o;const u=new Int32Array(s);let c=1;for(let h=0;h<s;h++)u[h]=c,c*=2,c>=s&&(c^=r,c&=s-1);this.expTable=u;const f=new Int32Array(s);for(let h=0;h<s-1;h++)f[u[h]]=h;this.logTable=f,this.zero=new mt(this,Int32Array.from([0])),this.one=new mt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new A;if(s===0)return this.zero;const o=new Int32Array(r+1);return o[0]=s,new mt(this,o)}inverse(r){if(r===0)throw new er;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class st extends m{}st.kind="ReedSolomonException";class _r extends m{}_r.kind="IllegalStateException";class fr{constructor(r){this.field=r}decode(r,s){const o=this.field,u=new mt(o,r),c=new Int32Array(s);let f=!0;for(let V=0;V<s;V++){const W=u.evaluateAt(o.exp(V+o.getGeneratorBase()));c[c.length-1-V]=W,W!==0&&(f=!1)}if(f)return;const h=new mt(o,c),g=this.runEuclideanAlgorithm(o.buildMonomial(s,1),h,s),w=g[0],C=g[1],I=this.findErrorLocations(w),D=this.findErrorMagnitudes(C,I);for(let V=0;V<I.length;V++){const W=r.length-1-o.log(I[V]);if(W<0)throw new st("Bad error location");r[W]=gt.addOrSubtract(r[W],D[V])}}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){const V=r;r=s,s=V}const u=this.field;let c=r,f=s,h=u.getZero(),g=u.getOne();for(;f.getDegree()>=(o/2|0);){let V=c,W=h;if(c=f,h=g,c.isZero())throw new st("r_{i-1} was zero");f=V;let H=u.getZero();const Z=c.getCoefficient(c.getDegree()),te=u.inverse(Z);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const de=f.getDegree()-c.getDegree(),pe=u.multiply(f.getCoefficient(f.getDegree()),te);H=H.addOrSubtract(u.buildMonomial(de,pe)),f=f.addOrSubtract(c.multiplyByMonomial(de,pe))}if(g=H.multiply(h).addOrSubtract(W),f.getDegree()>=c.getDegree())throw new _r("Division algorithm failed to reduce polynomial?")}const w=g.getCoefficient(0);if(w===0)throw new st("sigmaTilde(0) was zero");const C=u.inverse(w),I=g.multiplyScalar(C),D=f.multiplyScalar(C);return[I,D]}findErrorLocations(r){const s=r.getDegree();if(s===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(s);let u=0;const c=this.field;for(let f=1;f<c.getSize()&&u<s;f++)r.evaluateAt(f)===0&&(o[u]=c.inverse(f),u++);if(u!==s)throw new st("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,s){const o=s.length,u=new Int32Array(o),c=this.field;for(let f=0;f<o;f++){const h=c.inverse(s[f]);let g=1;for(let w=0;w<o;w++)if(f!==w){const C=c.multiply(s[w],h),I=C&1?C&-2:C|1;g=c.multiply(g,I)}u[f]=c.multiply(r.evaluateAt(h),c.inverse(g)),c.getGeneratorBase()!==0&&(u[f]=c.multiply(u[f],h))}return u}}var wn;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(wn||(wn={}));class Et{decode(r){this.ddata=r;let s=r.getBits(),o=this.extractBits(s),u=this.correctBits(o),c=Et.convertBoolArrayToByteArray(u),f=Et.getEncodedData(u),h=new ws(c,f,null,null);return h.setNumBits(u.length),h}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let s=r.length,o=wn.UPPER,u=wn.UPPER,c="",f=0;for(;f<s;)if(u===wn.BINARY){if(s-f<5)break;let h=Et.readCode(r,f,5);if(f+=5,h===0){if(s-f<11)break;h=Et.readCode(r,f,11)+31,f+=11}for(let g=0;g<h;g++){if(s-f<8){f=s;break}const w=Et.readCode(r,f,8);c+=xe.castAsNonUtf8Char(w),f+=8}u=o}else{let h=u===wn.DIGIT?4:5;if(s-f<h)break;let g=Et.readCode(r,f,h);f+=h;let w=Et.getCharacter(u,g);w.startsWith("CTRL_")?(o=u,u=Et.getTable(w.charAt(5)),w.charAt(6)==="L"&&(o=u)):(c+=w,u=o)}return c}static getTable(r){switch(r){case"L":return wn.LOWER;case"P":return wn.PUNCT;case"M":return wn.MIXED;case"D":return wn.DIGIT;case"B":return wn.BINARY;case"U":default:return wn.UPPER}}static getCharacter(r,s){switch(r){case wn.UPPER:return Et.UPPER_TABLE[s];case wn.LOWER:return Et.LOWER_TABLE[s];case wn.MIXED:return Et.MIXED_TABLE[s];case wn.PUNCT:return Et.PUNCT_TABLE[s];case wn.DIGIT:return Et.DIGIT_TABLE[s];default:throw new _r("Bad table")}}correctBits(r){let s,o;this.ddata.getNbLayers()<=2?(o=6,s=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,s=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,s=gt.AZTEC_DATA_10):(o=12,s=gt.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),c=r.length/o;if(c<u)throw new z;let f=r.length%o,h=new Int32Array(c);for(let D=0;D<c;D++,f+=o)h[D]=Et.readCode(r,f,o);try{new fr(s).decode(h,c-u)}catch(D){throw new z(D)}let g=(1<<o)-1,w=0;for(let D=0;D<u;D++){let V=h[D];if(V===0||V===g)throw new z;(V===1||V===g-1)&&w++}let C=new Array(u*o-w),I=0;for(let D=0;D<u;D++){let V=h[D];if(V===1||V===g-1)C.fill(V>1,I,I+o-1),I+=o-1;else for(let W=o-1;W>=0;--W)C[I++]=(V&1<<W)!==0}return C}extractBits(r){let s=this.ddata.isCompact(),o=this.ddata.getNbLayers(),u=(s?11:14)+o*4,c=new Int32Array(u),f=new Array(this.totalBitsInLayer(o,s));if(s)for(let h=0;h<c.length;h++)c[h]=h;else{let h=u+1+2*N.truncDivision(N.truncDivision(u,2)-1,15),g=u/2,w=N.truncDivision(h,2);for(let C=0;C<g;C++){let I=C+N.truncDivision(C,15);c[g-C-1]=w-I-1,c[g+C]=w+I+1}}for(let h=0,g=0;h<o;h++){let w=(o-h)*4+(s?9:12),C=h*2,I=u-1-C;for(let D=0;D<w;D++){let V=D*2;for(let W=0;W<2;W++)f[g+V+W]=r.get(c[C+W],c[C+D]),f[g+2*w+V+W]=r.get(c[C+D],c[I-W]),f[g+4*w+V+W]=r.get(c[I-W],c[I-D]),f[g+6*w+V+W]=r.get(c[I-D],c[C+W])}g+=w*8}return f}static readCode(r,s,o){let u=0;for(let c=s;c<s+o;c++)u<<=1,r[c]&&(u|=1);return u}static readByte(r,s){let o=r.length-s;return o>=8?Et.readCode(r,s,8):Et.readCode(r,s,o)<<8-o}static convertBoolArrayToByteArray(r){let s=new Uint8Array((r.length+7)/8);for(let o=0;o<s.length;o++)s[o]=Et.readByte(r,8*o);return s}totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}Et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ft{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,s,o,u){const c=r-o,f=s-u;return Math.sqrt(c*c+f*f)}static sum(r){let s=0;for(let o=0,u=r.length;o!==u;o++){const c=r[o];s+=c}return s}}class wo{static floatToIntBits(r){return r}}wo.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Re{constructor(r,s){this.x=r,this.y=s}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Re){const s=r;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*wo.floatToIntBits(this.x)+wo.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const s=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),u=this.distance(r[0],r[2]);let c,f,h;if(o>=s&&o>=u?(f=r[0],c=r[1],h=r[2]):u>=o&&u>=s?(f=r[1],c=r[0],h=r[2]):(f=r[2],c=r[0],h=r[1]),this.crossProductZ(c,f,h)<0){const g=c;c=h,h=g}r[0]=c,r[1]=f,r[2]=h}static distance(r,s){return ft.distance(r.x,r.y,s.x,s.y)}static crossProductZ(r,s,o){const u=s.x,c=s.y;return(o.x-u)*(r.y-c)-(o.y-c)*(r.x-u)}}class vs{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class vi extends vs{constructor(r,s,o,u,c){super(r,s),this.compact=o,this.nbDatablocks=u,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class kn{constructor(r,s,o,u){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),s==null&&(s=kn.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),u==null&&(u=r.getHeight()/2|0);const c=s/2|0;if(this.leftInit=o-c,this.rightInit=o+c,this.upInit=u-c,this.downInit=u+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let r=this.leftInit,s=this.rightInit,o=this.upInit,u=this.downInit,c=!1,f=!0,h=!1,g=!1,w=!1,C=!1,I=!1;const D=this.width,V=this.height;for(;f;){f=!1;let W=!0;for(;(W||!g)&&s<D;)W=this.containsBlackPoint(o,u,s,!1),W?(s++,f=!0,g=!0):g||s++;if(s>=D){c=!0;break}let H=!0;for(;(H||!w)&&u<V;)H=this.containsBlackPoint(r,s,u,!0),H?(u++,f=!0,w=!0):w||u++;if(u>=V){c=!0;break}let Z=!0;for(;(Z||!C)&&r>=0;)Z=this.containsBlackPoint(o,u,r,!1),Z?(r--,f=!0,C=!0):C||r--;if(r<0){c=!0;break}let te=!0;for(;(te||!I)&&o>=0;)te=this.containsBlackPoint(r,s,o,!0),te?(o--,f=!0,I=!0):I||o--;if(o<0){c=!0;break}f&&(h=!0)}if(!c&&h){const W=s-r;let H=null;for(let pe=1;H===null&&pe<W;pe++)H=this.getBlackPointOnSegment(r,u-pe,r+pe,u);if(H==null)throw new re;let Z=null;for(let pe=1;Z===null&&pe<W;pe++)Z=this.getBlackPointOnSegment(r,o+pe,r+pe,o);if(Z==null)throw new re;let te=null;for(let pe=1;te===null&&pe<W;pe++)te=this.getBlackPointOnSegment(s,o+pe,s-pe,o);if(te==null)throw new re;let de=null;for(let pe=1;de===null&&pe<W;pe++)de=this.getBlackPointOnSegment(s,u-pe,s-pe,u);if(de==null)throw new re;return this.centerEdges(de,H,te,Z)}else throw new re}getBlackPointOnSegment(r,s,o,u){const c=ft.round(ft.distance(r,s,o,u)),f=(o-r)/c,h=(u-s)/c,g=this.image;for(let w=0;w<c;w++){const C=ft.round(r+w*f),I=ft.round(s+w*h);if(g.get(C,I))return new Re(C,I)}return null}centerEdges(r,s,o,u){const c=r.getX(),f=r.getY(),h=s.getX(),g=s.getY(),w=o.getX(),C=o.getY(),I=u.getX(),D=u.getY(),V=kn.CORR;return c<this.width/2?[new Re(I-V,D+V),new Re(h+V,g+V),new Re(w-V,C-V),new Re(c+V,f-V)]:[new Re(I+V,D+V),new Re(h+V,g-V),new Re(w-V,C+V),new Re(c-V,f-V)]}containsBlackPoint(r,s,o,u){const c=this.image;if(u){for(let f=r;f<=s;f++)if(c.get(f,o))return!0}else for(let f=r;f<=s;f++)if(c.get(o,f))return!0;return!1}}kn.INIT_SIZE=10,kn.CORR=1;class ga{static checkAndNudgePoints(r,s){const o=r.getWidth(),u=r.getHeight();let c=!0;for(let f=0;f<s.length&&c;f+=2){const h=Math.floor(s[f]),g=Math.floor(s[f+1]);if(h<-1||h>o||g<-1||g>u)throw new re;c=!1,h===-1?(s[f]=0,c=!0):h===o&&(s[f]=o-1,c=!0),g===-1?(s[f+1]=0,c=!0):g===u&&(s[f+1]=u-1,c=!0)}c=!0;for(let f=s.length-2;f>=0&&c;f-=2){const h=Math.floor(s[f]),g=Math.floor(s[f+1]);if(h<-1||h>o||g<-1||g>u)throw new re;c=!1,h===-1?(s[f]=0,c=!0):h===o&&(s[f]=o-1,c=!0),g===-1?(s[f+1]=0,c=!0):g===u&&(s[f+1]=u-1,c=!0)}}}class dr{constructor(r,s,o,u,c,f,h,g,w){this.a11=r,this.a21=s,this.a31=o,this.a12=u,this.a22=c,this.a32=f,this.a13=h,this.a23=g,this.a33=w}static quadrilateralToQuadrilateral(r,s,o,u,c,f,h,g,w,C,I,D,V,W,H,Z){const te=dr.quadrilateralToSquare(r,s,o,u,c,f,h,g);return dr.squareToQuadrilateral(w,C,I,D,V,W,H,Z).times(te)}transformPoints(r){const s=r.length,o=this.a11,u=this.a12,c=this.a13,f=this.a21,h=this.a22,g=this.a23,w=this.a31,C=this.a32,I=this.a33;for(let D=0;D<s;D+=2){const V=r[D],W=r[D+1],H=c*V+g*W+I;r[D]=(o*V+f*W+w)/H,r[D+1]=(u*V+h*W+C)/H}}transformPointsWithValues(r,s){const o=this.a11,u=this.a12,c=this.a13,f=this.a21,h=this.a22,g=this.a23,w=this.a31,C=this.a32,I=this.a33,D=r.length;for(let V=0;V<D;V++){const W=r[V],H=s[V],Z=c*W+g*H+I;r[V]=(o*W+f*H+w)/Z,s[V]=(u*W+h*H+C)/Z}}static squareToQuadrilateral(r,s,o,u,c,f,h,g){const w=r-o+c-h,C=s-u+f-g;if(w===0&&C===0)return new dr(o-r,c-o,r,u-s,f-u,s,0,0,1);{const I=o-c,D=h-c,V=u-f,W=g-f,H=I*W-D*V,Z=(w*W-D*C)/H,te=(I*C-w*V)/H;return new dr(o-r+Z*o,h-r+te*h,r,u-s+Z*u,g-s+te*g,s,Z,te,1)}}static quadrilateralToSquare(r,s,o,u,c,f,h,g){return dr.squareToQuadrilateral(r,s,o,u,c,f,h,g).buildAdjoint()}buildAdjoint(){return new dr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new dr(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Sc extends ga{sampleGrid(r,s,o,u,c,f,h,g,w,C,I,D,V,W,H,Z,te,de,pe){const le=dr.quadrilateralToQuadrilateral(u,c,f,h,g,w,C,I,D,V,W,H,Z,te,de,pe);return this.sampleGridWithTransform(r,s,o,le)}sampleGridWithTransform(r,s,o,u){if(s<=0||o<=0)throw new re;const c=new ot(s,o),f=new Float32Array(2*s);for(let h=0;h<o;h++){const g=f.length,w=h+.5;for(let C=0;C<g;C+=2)f[C]=C/2+.5,f[C+1]=w;u.transformPoints(f),ga.checkAndNudgePoints(r,f);try{for(let C=0;C<g;C+=2)r.get(Math.floor(f[C]),Math.floor(f[C+1]))&&c.set(C/2,h)}catch{throw new re}}return c}}class Ei{static setGridSampler(r){Ei.gridSampler=r}static getInstance(){return Ei.gridSampler}}Ei.gridSampler=new Sc;class Pn{constructor(r,s){this.x=r,this.y=s}toResultPoint(){return new Re(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class zl{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let s=this.getMatrixCenter(),o=this.getBullsEyeCorners(s);if(r){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let u=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),c=this.getMatrixCornerPoints(o);return new vi(u,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new re;let s=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],s),this.sampleLine(r[1],r[2],s),this.sampleLine(r[2],r[3],s),this.sampleLine(r[3],r[0],s)]);this.shift=this.getRotation(o,s);let u=0;for(let f=0;f<4;f++){let h=o[(this.shift+f)%4];this.compact?(u<<=7,u+=h>>1&127):(u<<=10,u+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(r,s){let o=0;r.forEach((u,c,f)=>{let h=(u>>s-2<<1)+(u&1);o=(o<<3)+h}),o=((o&1)<<11)+(o>>1);for(let u=0;u<4;u++)if(N.bitCount(o^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new re}getCorrectedParameterData(r,s){let o,u;s?(o=7,u=2):(o=10,u=4);let c=o-u,f=new Int32Array(o);for(let g=o-1;g>=0;--g)f[g]=r&15,r>>=4;try{new fr(gt.AZTEC_PARAM).decode(f,c)}catch{throw new re}let h=0;for(let g=0;g<u;g++)h=(h<<4)+f[g];return h}getBullsEyeCorners(r){let s=r,o=r,u=r,c=r,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(s,f,1,-1),D=this.getFirstDifferent(o,f,1,1),V=this.getFirstDifferent(u,f,-1,1),W=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let H=this.distancePoint(W,I)*this.nbCenterLayers/(this.distancePoint(c,s)*(this.nbCenterLayers+2));if(H<.75||H>1.25||!this.isWhiteOrBlackRectangle(I,D,V,W))break}s=I,o=D,u=V,c=W,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let h=new Re(s.getX()+.5,s.getY()-.5),g=new Re(o.getX()+.5,o.getY()+.5),w=new Re(u.getX()-.5,u.getY()+.5),C=new Re(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,g,w,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,s,o,u;try{let h=new kn(this.image).detect();r=h[0],s=h[1],o=h[2],u=h[3]}catch{let g=this.image.getWidth()/2,w=this.image.getHeight()/2;r=this.getFirstDifferent(new Pn(g+7,w-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Pn(g+7,w+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Pn(g-7,w+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Pn(g-7,w-7),!1,-1,-1).toResultPoint()}let c=ft.round((r.getX()+u.getX()+s.getX()+o.getX())/4),f=ft.round((r.getY()+u.getY()+s.getY()+o.getY())/4);try{let h=new kn(this.image,15,c,f).detect();r=h[0],s=h[1],o=h[2],u=h[3]}catch{r=this.getFirstDifferent(new Pn(c+7,f-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Pn(c+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Pn(c-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Pn(c-7,f-7),!1,-1,-1).toResultPoint()}return c=ft.round((r.getX()+u.getX()+s.getX()+o.getX())/4),f=ft.round((r.getY()+u.getY()+s.getY()+o.getY())/4),new Pn(c,f)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,s,o,u,c){let f=Ei.getInstance(),h=this.getDimension(),g=h/2-this.nbCenterLayers,w=h/2+this.nbCenterLayers;return f.sampleGrid(r,h,h,g,g,w,g,w,w,g,w,s.getX(),s.getY(),o.getX(),o.getY(),u.getX(),u.getY(),c.getX(),c.getY())}sampleLine(r,s,o){let u=0,c=this.distanceResultPoint(r,s),f=c/o,h=r.getX(),g=r.getY(),w=f*(s.getX()-r.getX())/c,C=f*(s.getY()-r.getY())/c;for(let I=0;I<o;I++)this.image.get(ft.round(h+I*w),ft.round(g+I*C))&&(u|=1<<o-I-1);return u}isWhiteOrBlackRectangle(r,s,o,u){let c=3;r=new Pn(r.getX()-c,r.getY()+c),s=new Pn(s.getX()-c,s.getY()-c),o=new Pn(o.getX()+c,o.getY()-c),u=new Pn(u.getX()+c,u.getY()+c);let f=this.getColor(u,r);if(f===0)return!1;let h=this.getColor(r,s);return h!==f||(h=this.getColor(s,o),h!==f)?!1:(h=this.getColor(o,u),h===f)}getColor(r,s){let o=this.distancePoint(r,s),u=(s.getX()-r.getX())/o,c=(s.getY()-r.getY())/o,f=0,h=r.getX(),g=r.getY(),w=this.image.get(r.getX(),r.getY()),C=Math.ceil(o);for(let D=0;D<C;D++)h+=u,g+=c,this.image.get(ft.round(h),ft.round(g))!==w&&f++;let I=f/o;return I>.1&&I<.9?0:I<=.1===w?1:-1}getFirstDifferent(r,s,o,u){let c=r.getX()+o,f=r.getY()+u;for(;this.isValid(c,f)&&this.image.get(c,f)===s;)c+=o,f+=u;for(c-=o,f-=u;this.isValid(c,f)&&this.image.get(c,f)===s;)c+=o;for(c-=o;this.isValid(c,f)&&this.image.get(c,f)===s;)f+=u;return f-=u,new Pn(c,f)}expandSquare(r,s,o){let u=o/(2*s),c=r[0].getX()-r[2].getX(),f=r[0].getY()-r[2].getY(),h=(r[0].getX()+r[2].getX())/2,g=(r[0].getY()+r[2].getY())/2,w=new Re(h+u*c,g+u*f),C=new Re(h-u*c,g-u*f);c=r[1].getX()-r[3].getX(),f=r[1].getY()-r[3].getY(),h=(r[1].getX()+r[3].getX())/2,g=(r[1].getY()+r[3].getY())/2;let I=new Re(h+u*c,g+u*f),D=new Re(h-u*c,g-u*f);return[w,I,C,D]}isValid(r,s){return r>=0&&r<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(r){let s=ft.round(r.getX()),o=ft.round(r.getY());return this.isValid(s,o)}distancePoint(r,s){return ft.distance(r.getX(),r.getY(),s.getX(),s.getY())}distanceResultPoint(r,s){return ft.distance(r.getX(),r.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class Ke{decode(r,s=null){let o=null,u=new zl(r.getBlackMatrix()),c=null,f=null;try{let C=u.detectMirror(!1);c=C.getPoints(),this.reportFoundResultPoints(s,c),f=new Et().decode(C)}catch(C){o=C}if(f==null)try{let C=u.detectMirror(!0);c=C.getPoints(),this.reportFoundResultPoints(s,c),f=new Et().decode(C)}catch(C){throw o??C}let h=new Vt(f.getText(),f.getRawBytes(),f.getNumBits(),c,ke.AZTEC,R.currentTimeMillis()),g=f.getByteSegments();g!=null&&h.putMetadata(qe.BYTE_SEGMENTS,g);let w=f.getECLevel();return w!=null&&h.putMetadata(qe.ERROR_CORRECTION_LEVEL,w),h}reportFoundResultPoints(r,s){if(r!=null){let o=r.get(G.NEED_RESULT_POINT_CALLBACK);o!=null&&s.forEach((u,c,f)=>{o.foundPossibleResultPoint(u)})}}reset(){}}class Wd extends Jn{constructor(r=500){super(new Ke,r)}}class qt{decode(r,s){try{return this.doDecode(r,s)}catch{if(s&&s.get(G.TRY_HARDER)===!0&&r.isRotateSupported()){const c=r.rotateCounterClockwise(),f=this.doDecode(c,s),h=f.getResultMetadata();let g=270;h!==null&&h.get(qe.ORIENTATION)===!0&&(g=g+h.get(qe.ORIENTATION)%360),f.putMetadata(qe.ORIENTATION,g);const w=f.getResultPoints();if(w!==null){const C=c.getHeight();for(let I=0;I<w.length;I++)w[I]=new Re(C-w[I].getY()-1,w[I].getX())}return f}else throw new re}}reset(){}doDecode(r,s){const o=r.getWidth(),u=r.getHeight();let c=new M(o);const f=s&&s.get(G.TRY_HARDER)===!0,h=Math.max(1,u>>(f?8:5));let g;f?g=u:g=15;const w=Math.trunc(u/2);for(let C=0;C<g;C++){const I=Math.trunc((C+1)/2),D=(C&1)===0,V=w+h*(D?I:-I);if(V<0||V>=u)break;try{c=r.getBlackRow(V,c)}catch{continue}for(let W=0;W<2;W++){if(W===1&&(c.reverse(),s&&s.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const H=new Map;s.forEach((Z,te)=>H.set(te,Z)),H.delete(G.NEED_RESULT_POINT_CALLBACK),s=H}try{const H=this.decodeRow(V,c,s);if(W===1){H.putMetadata(qe.ORIENTATION,180);const Z=H.getResultPoints();Z!==null&&(Z[0]=new Re(o-Z[0].getX()-1,Z[0].getY()),Z[1]=new Re(o-Z[1].getX()-1,Z[1].getY()))}return H}catch{}}}throw new re}static recordPattern(r,s,o){const u=o.length;for(let w=0;w<u;w++)o[w]=0;const c=r.getSize();if(s>=c)throw new re;let f=!r.get(s),h=0,g=s;for(;g<c;){if(r.get(g)!==f)o[h]++;else{if(++h===u)break;o[h]=1,f=!f}g++}if(!(h===u||h===u-1&&g===c))throw new re}static recordPatternInReverse(r,s,o){let u=o.length,c=r.get(s);for(;s>0&&u>=0;)r.get(--s)!==c&&(u--,c=!c);if(u>=0)throw new re;qt.recordPattern(r,s+1,o)}static patternMatchVariance(r,s,o){const u=r.length;let c=0,f=0;for(let w=0;w<u;w++)c+=r[w],f+=s[w];if(c<f)return Number.POSITIVE_INFINITY;const h=c/f;o*=h;let g=0;for(let w=0;w<u;w++){const C=r[w],I=s[w]*h,D=C>I?C-I:I-C;if(D>o)return Number.POSITIVE_INFINITY;g+=D}return g/c}}class Ee extends qt{static findStartPattern(r){const s=r.getSize(),o=r.getNextSet(0);let u=0,c=Int32Array.from([0,0,0,0,0,0]),f=o,h=!1;const g=6;for(let w=o;w<s;w++)if(r.get(w)!==h)c[u]++;else{if(u===g-1){let C=Ee.MAX_AVG_VARIANCE,I=-1;for(let D=Ee.CODE_START_A;D<=Ee.CODE_START_C;D++){const V=qt.patternMatchVariance(c,Ee.CODE_PATTERNS[D],Ee.MAX_INDIVIDUAL_VARIANCE);V<C&&(C=V,I=D)}if(I>=0&&r.isRange(Math.max(0,f-(w-f)/2),f,!1))return Int32Array.from([f,w,I]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,h=!h}throw new re}static decodeCode(r,s,o){qt.recordPattern(r,o,s);let u=Ee.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<Ee.CODE_PATTERNS.length;f++){const h=Ee.CODE_PATTERNS[f],g=this.patternMatchVariance(s,h,Ee.MAX_INDIVIDUAL_VARIANCE);g<u&&(u=g,c=f)}if(c>=0)return c;throw new re}decodeRow(r,s,o){const u=o&&o.get(G.ASSUME_GS1)===!0,c=Ee.findStartPattern(s),f=c[2];let h=0;const g=new Uint8Array(20);g[h++]=f;let w;switch(f){case Ee.CODE_START_A:w=Ee.CODE_CODE_A;break;case Ee.CODE_START_B:w=Ee.CODE_CODE_B;break;case Ee.CODE_START_C:w=Ee.CODE_CODE_C;break;default:throw new z}let C=!1,I=!1,D="",V=c[0],W=c[1];const H=Int32Array.from([0,0,0,0,0,0]);let Z=0,te=0,de=f,pe=0,le=!0,ct=!1,Je=!1;for(;!C;){const Ta=I;switch(I=!1,Z=te,te=Ee.decodeCode(s,H,W),g[h++]=te,te!==Ee.CODE_STOP&&(le=!0),te!==Ee.CODE_STOP&&(pe++,de+=pe*te),V=W,W+=H.reduce((OE,DE)=>OE+DE,0),te){case Ee.CODE_START_A:case Ee.CODE_START_B:case Ee.CODE_START_C:throw new z}switch(w){case Ee.CODE_CODE_A:if(te<64)Je===ct?D+=String.fromCharCode(32+te):D+=String.fromCharCode(32+te+128),Je=!1;else if(te<96)Je===ct?D+=String.fromCharCode(te-64):D+=String.fromCharCode(te+64),Je=!1;else switch(te!==Ee.CODE_STOP&&(le=!1),te){case Ee.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_A:!ct&&Je?(ct=!0,Je=!1):ct&&Je?(ct=!1,Je=!1):Je=!0;break;case Ee.CODE_SHIFT:I=!0,w=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_B:w=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_C:w=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:C=!0;break}break;case Ee.CODE_CODE_B:if(te<96)Je===ct?D+=String.fromCharCode(32+te):D+=String.fromCharCode(32+te+128),Je=!1;else switch(te!==Ee.CODE_STOP&&(le=!1),te){case Ee.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_B:!ct&&Je?(ct=!0,Je=!1):ct&&Je?(ct=!1,Je=!1):Je=!0;break;case Ee.CODE_SHIFT:I=!0,w=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_A:w=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_C:w=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:C=!0;break}break;case Ee.CODE_CODE_C:if(te<100)te<10&&(D+="0"),D+=te;else switch(te!==Ee.CODE_STOP&&(le=!1),te){case Ee.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case Ee.CODE_CODE_A:w=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_B:w=Ee.CODE_CODE_B;break;case Ee.CODE_STOP:C=!0;break}break}Ta&&(w=w===Ee.CODE_CODE_A?Ee.CODE_CODE_B:Ee.CODE_CODE_A)}const pr=W-V;if(W=s.getNextUnset(W),!s.isRange(W,Math.min(s.getSize(),W+(W-V)/2),!1))throw new re;if(de-=pe*Z,de%103!==Z)throw new L;const oi=D.length;if(oi===0)throw new re;oi>0&&le&&(w===Ee.CODE_CODE_C?D=D.substring(0,oi-2):D=D.substring(0,oi-1));const gr=(c[1]+c[0])/2,Lt=V+pr/2,Bn=g.length,Nr=new Uint8Array(Bn);for(let Ta=0;Ta<Bn;Ta++)Nr[Ta]=g[Ta];const Sa=[new Re(gr,r),new Re(Lt,r)];return new Vt(D,Nr,0,Sa,ke.CODE_128,new Date().getTime())}}Ee.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ee.MAX_AVG_VARIANCE=.25,Ee.MAX_INDIVIDUAL_VARIANCE=.7,Ee.CODE_SHIFT=98,Ee.CODE_CODE_C=99,Ee.CODE_CODE_B=100,Ee.CODE_CODE_A=101,Ee.CODE_FNC_1=102,Ee.CODE_FNC_2=97,Ee.CODE_FNC_3=96,Ee.CODE_FNC_4_A=101,Ee.CODE_FNC_4_B=100,Ee.CODE_START_A=103,Ee.CODE_START_B=104,Ee.CODE_START_C=105,Ee.CODE_STOP=106;class Ut extends qt{constructor(r=!1,s=!1){super(),this.usingCheckDigit=r,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,s,o){let u=this.counters;u.fill(0),this.decodeRowResult="";let c=Ut.findAsteriskPattern(s,u),f=s.getNextSet(c[1]),h=s.getSize(),g,w;do{Ut.recordPattern(s,f,u);let H=Ut.toNarrowWidePattern(u);if(H<0)throw new re;g=Ut.patternToChar(H),this.decodeRowResult+=g,w=f;for(let Z of u)f+=Z;f=s.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let H of u)C+=H;let I=f-w-C;if(f!==h&&I*2<C)throw new re;if(this.usingCheckDigit){let H=this.decodeRowResult.length-1,Z=0;for(let te=0;te<H;te++)Z+=Ut.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(H)!==Ut.ALPHABET_STRING.charAt(Z%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,H)}if(this.decodeRowResult.length===0)throw new re;let D;this.extendedMode?D=Ut.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let V=(c[1]+c[0])/2,W=w+C/2;return new Vt(D,null,0,[new Re(V,r),new Re(W,r)],ke.CODE_39,new Date().getTime())}static findAsteriskPattern(r,s){let o=r.getSize(),u=r.getNextSet(0),c=0,f=u,h=!1,g=s.length;for(let w=u;w<o;w++)if(r.get(w)!==h)s[c]++;else{if(c===g-1){if(this.toNarrowWidePattern(s)===Ut.ASTERISK_ENCODING&&r.isRange(Math.max(0,f-Math.floor((w-f)/2)),f,!1))return[f,w];f+=s[0]+s[1],s.copyWithin(0,2,2+c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,h=!h}throw new re}static toNarrowWidePattern(r){let s=r.length,o=0,u;do{let c=2147483647;for(let g of r)g<c&&g>o&&(c=g);o=c,u=0;let f=0,h=0;for(let g=0;g<s;g++){let w=r[g];w>o&&(h|=1<<s-1-g,u++,f+=w)}if(u===3){for(let g=0;g<s&&u>0;g++){let w=r[g];if(w>o&&(u--,w*2>=f))return-1}return h}}while(u>3);return-1}static patternToChar(r){for(let s=0;s<Ut.CHARACTER_ENCODINGS.length;s++)if(Ut.CHARACTER_ENCODINGS[s]===r)return Ut.ALPHABET_STRING.charAt(s);if(r===Ut.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(r){let s=r.length,o="";for(let u=0;u<s;u++){let c=r.charAt(u);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=r.charAt(u+1),h="\0";switch(c){case"+":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)+32);else throw new z;break;case"$":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)-64);else throw new z;break;case"%":if(f>="A"&&f<="E")h=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")h=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")h=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")h="\0";else if(f==="V")h="@";else if(f==="W")h="`";else if(f==="X"||f==="Y"||f==="Z")h="";else throw new z;break;case"/":if(f>="A"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")h=":";else throw new z;break}o+=h,u++}else o+=c}return o}}Ut.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ut.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ut.ASTERISK_ENCODING=148;class Tt extends qt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,s,o){let u=this.decodeStart(s),c=this.decodeEnd(s),f=new Xe;Tt.decodeMiddle(s,u[1],c[0],f);let h=f.toString(),g=null;o!=null&&(g=o.get(G.ALLOWED_LENGTHS)),g==null&&(g=Tt.DEFAULT_ALLOWED_LENGTHS);let w=h.length,C=!1,I=0;for(let W of g){if(w===W){C=!0;break}W>I&&(I=W)}if(!C&&w>I&&(C=!0),!C)throw new z;const D=[new Re(u[1],r),new Re(c[0],r)];return new Vt(h,null,0,D,ke.ITF,new Date().getTime())}static decodeMiddle(r,s,o,u){let c=new Int32Array(10),f=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),f.fill(0),h.fill(0);s<o;){qt.recordPattern(r,s,c);for(let w=0;w<5;w++){let C=2*w;f[w]=c[C],h[w]=c[C+1]}let g=Tt.decodeDigit(f);u.append(g.toString()),g=this.decodeDigit(h),u.append(g.toString()),c.forEach(function(w){s+=w})}}decodeStart(r){let s=Tt.skipWhiteSpace(r),o=Tt.findGuardPattern(r,s,Tt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,s){let o=this.narrowLineWidth*10;o=o<s?o:s;for(let u=s-1;o>0&&u>=0&&!r.get(u);u--)o--;if(o!==0)throw new re}static skipWhiteSpace(r){const s=r.getSize(),o=r.getNextSet(0);if(o===s)throw new re;return o}decodeEnd(r){r.reverse();try{let s=Tt.skipWhiteSpace(r),o;try{o=Tt.findGuardPattern(r,s,Tt.END_PATTERN_REVERSED[0])}catch(c){c instanceof re&&(o=Tt.findGuardPattern(r,s,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let u=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-u,o}finally{r.reverse()}}static findGuardPattern(r,s,o){let u=o.length,c=new Int32Array(u),f=r.getSize(),h=!1,g=0,w=s;c.fill(0);for(let C=s;C<f;C++)if(r.get(C)!==h)c[g]++;else{if(g===u-1){if(qt.patternMatchVariance(c,o,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[w,C];w+=c[0]+c[1],R.arraycopy(c,2,c,0,g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,h=!h}throw new re}static decodeDigit(r){let s=Tt.MAX_AVG_VARIANCE,o=-1,u=Tt.PATTERNS.length;for(let c=0;c<u;c++){let f=Tt.PATTERNS[c],h=qt.patternMatchVariance(r,f,Tt.MAX_INDIVIDUAL_VARIANCE);h<s?(s=h,o=c):h===s&&(o=-1)}if(o>=0)return o%10;throw new re}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ct extends qt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let s=!1,o,u=0,c=Int32Array.from([0,0,0]);for(;!s;){c=Int32Array.from([0,0,0]),o=Ct.findGuardPattern(r,u,!1,this.START_END_PATTERN,c);let f=o[0];u=o[1];let h=f-(u-f);h>=0&&(s=r.isRange(h,f,!1))}return o}static checkChecksum(r){return Ct.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return Ct.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let u=s-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new z;o+=c}o*=3;for(let u=s-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new z;o+=c}return(1e3-o)%10}static decodeEnd(r,s){return Ct.findGuardPattern(r,s,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,s,o,u){return this.findGuardPattern(r,s,o,u,new Int32Array(u.length))}static findGuardPattern(r,s,o,u,c){let f=r.getSize();s=o?r.getNextUnset(s):r.getNextSet(s);let h=0,g=s,w=u.length,C=o;for(let I=s;I<f;I++)if(r.get(I)!==C)c[h]++;else{if(h===w-1){if(qt.patternMatchVariance(c,u,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return Int32Array.from([g,I]);g+=c[0]+c[1];let D=c.slice(2,c.length-1);for(let V=0;V<h-1;V++)c[V]=D[V];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,C=!C}throw new re}static decodeDigit(r,s,o,u){this.recordPattern(r,o,s);let c=this.MAX_AVG_VARIANCE,f=-1,h=u.length;for(let g=0;g<h;g++){let w=u[g],C=qt.patternMatchVariance(s,w,Ct.MAX_INDIVIDUAL_VARIANCE);C<c&&(c=C,f=g)}if(f>=0)return f;throw new re}}Ct.MAX_AVG_VARIANCE=.48,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.START_END_PATTERN=Int32Array.from([1,1,1]),Ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Es{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(s,o,u),f=u.toString(),h=Es.parseExtensionString(f),g=[new Re((o[0]+o[1])/2,r),new Re(c,r)],w=new Vt(f,null,0,g,ke.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1],h=0;for(let w=0;w<5&&f<c;w++){let C=Ct.decodeDigit(r,u,f,Ct.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let I of u)f+=I;C>=10&&(h|=1<<4-w),w!==4&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==5)throw new re;let g=this.determineCheckDigit(h);if(Es.extensionChecksum(o.toString())!==g)throw new re;return f}static extensionChecksum(r){let s=r.length,o=0;for(let u=s-2;u>=0;u-=2)o+=r.charAt(u).charCodeAt(0)-48;o*=3;for(let u=s-1;u>=0;u-=2)o+=r.charAt(u).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(r){for(let s=0;s<10;s++)if(r===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new re}static parseExtensionString(r){if(r.length!==5)return null;let s=Es.parseExtension5String(r);return s==null?null:new Map([[qe.SUGGESTED_PRICE,s]])}static parseExtension5String(r){let s;switch(r.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let o=parseInt(r.substring(1)),u=(o/100).toString(),c=o%100,f=c<10?"0"+c:c.toString();return s+u+"."+f}}class ye{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(s,o,u),f=u.toString(),h=ye.parseExtensionString(f),g=[new Re((o[0]+o[1])/2,r),new Re(c,r)],w=new Vt(f,null,0,g,ke.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1],h=0;for(let g=0;g<2&&f<c;g++){let w=Ct.decodeDigit(r,u,f,Ct.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let C of u)f+=C;w>=10&&(h|=1<<1-g),g!==1&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==2)throw new re;if(parseInt(o.toString())%4!==h)throw new re;return f}static parseExtensionString(r){return r.length!==2?null:new Map([[qe.ISSUE_NUMBER,parseInt(r)]])}}class ma{static decodeRow(r,s,o){let u=Ct.findGuardPattern(s,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Es().decodeRow(r,s,u)}catch{return new ye().decodeRow(r,s,u)}}}ma.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class We extends Ct{constructor(){super(),this.decodeRowStringBuffer="",We.L_AND_G_PATTERNS=We.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let s=We.L_PATTERNS[r-10],o=new Int32Array(s.length);for(let u=0;u<s.length;u++)o[u]=s[s.length-u-1];We.L_AND_G_PATTERNS[r]=o}}decodeRow(r,s,o){let u=We.findStartGuardPattern(s),c=o==null?null:o.get(G.NEED_RESULT_POINT_CALLBACK);if(c!=null){const le=new Re((u[0]+u[1])/2,r);c.foundPossibleResultPoint(le)}let f=this.decodeMiddle(s,u,this.decodeRowStringBuffer),h=f.rowOffset,g=f.resultString;if(c!=null){const le=new Re(h,r);c.foundPossibleResultPoint(le)}let w=this.decodeEnd(s,h);if(c!=null){const le=new Re((w[0]+w[1])/2,r);c.foundPossibleResultPoint(le)}let C=w[1],I=C+(C-w[0]);if(I>=s.getSize()||!s.isRange(C,I,!1))throw new re;let D=g.toString();if(D.length<8)throw new z;if(!We.checkChecksum(D))throw new L;let V=(u[1]+u[0])/2,W=(w[1]+w[0])/2,H=this.getBarcodeFormat(),Z=[new Re(V,r),new Re(W,r)],te=new Vt(D,null,0,Z,H,new Date().getTime()),de=0;try{let le=ma.decodeRow(r,s,w[1]);te.putMetadata(qe.UPC_EAN_EXTENSION,le.getText()),te.putAllMetadata(le.getResultMetadata()),te.addResultPoints(le.getResultPoints()),de=le.getText().length}catch{}let pe=o==null?null:o.get(G.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let le=!1;for(let ct in pe)if(de.toString()===ct){le=!0;break}if(!le)throw new re}return te}decodeEnd(r,s){return We.findGuardPattern(r,s,!1,We.START_END_PATTERN,new Int32Array(We.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return We.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return We.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let u=s-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new z;o+=c}o*=3;for(let u=s-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new z;o+=c}return(1e3-o)%10}}class Ur extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1],h=0;for(let w=0;w<6&&f<c;w++){let C=We.decodeDigit(r,u,f,We.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let I of u)f+=I;C>=10&&(h|=1<<5-w)}o=Ur.determineFirstDigit(o,h),f=We.findGuardPattern(r,f,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&f<c;w++){let C=We.decodeDigit(r,u,f,We.L_PATTERNS);o+=String.fromCharCode(48+C);for(let I of u)f+=I}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ke.EAN_13}static determineFirstDigit(r,s){for(let o=0;o<10;o++)if(s===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode(48+o)+r,r;throw new re}}Ur.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class xa extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1];for(let g=0;g<4&&f<c;g++){let w=We.decodeDigit(r,u,f,We.L_PATTERNS);o+=String.fromCharCode(48+w);for(let C of u)f+=C}f=We.findGuardPattern(r,f,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&f<c;g++){let w=We.decodeDigit(r,u,f,We.L_PATTERNS);o+=String.fromCharCode(48+w);for(let C of u)f+=C}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ke.EAN_8}}class Wl extends We{constructor(){super(...arguments),this.ean13Reader=new Ur}getBarcodeFormat(){return ke.UPC_A}decode(r,s){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,s,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,s,o))}decodeMiddle(r,s,o){return this.ean13Reader.decodeMiddle(r,s,o)}maybeReturnResult(r){let s=r.getText();if(s.charAt(0)==="0"){let o=new Vt(s.substring(1),null,null,r.getResultPoints(),ke.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new re}reset(){this.ean13Reader.reset()}}class vn extends We{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,s,o){const u=this.decodeMiddleCounters.map(w=>w);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const c=r.getSize();let f=s[1],h=0;for(let w=0;w<6&&f<c;w++){const C=vn.decodeDigit(r,u,f,vn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let I of u)f+=I;C>=10&&(h|=1<<5-w)}let g=vn.determineNumSysAndCheckDigit(o,h);return{rowOffset:f,resultString:g}}decodeEnd(r,s){return vn.findGuardPatternWithoutCounters(r,s,!0,vn.MIDDLE_END_PATTERN)}checkChecksum(r){return We.checkChecksum(vn.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,s){for(let o=0;o<=1;o++)for(let u=0;u<10;u++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][u]){let c=String.fromCharCode(48+o),f=String.fromCharCode(48+u);return c+r+f}throw re.getNotFoundInstance()}getBarcodeFormat(){return ke.UPC_E}static convertUPCEtoUPCA(r){const s=r.slice(1,7).split("").map(c=>c.charCodeAt(0)),o=new Xe;o.append(r.charAt(0));let u=s[5];switch(u){case 0:case 1:case 2:o.appendChars(s,0,2),o.append(u),o.append("0000"),o.appendChars(s,2,3);break;case 3:o.appendChars(s,0,3),o.append("00000"),o.appendChars(s,3,2);break;case 4:o.appendChars(s,0,4),o.append("00000"),o.append(s[4]);break;default:o.appendChars(s,0,5),o.append("0000"),o.append(u);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}vn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ya extends qt{constructor(r){super();let s=r==null?null:r.get(G.POSSIBLE_FORMATS),o=[];i(s)?(o.push(new Ur),o.push(new Wl),o.push(new xa),o.push(new vn)):(s.indexOf(ke.EAN_13)>-1&&o.push(new Ur),s.indexOf(ke.UPC_A)>-1&&o.push(new Wl),s.indexOf(ke.EAN_8)>-1&&o.push(new xa),s.indexOf(ke.UPC_E)>-1&&o.push(new vn)),this.readers=o}decodeRow(r,s,o){for(let u of this.readers)try{const c=u.decodeRow(r,s,o),f=c.getBarcodeFormat()===ke.EAN_13&&c.getText().charAt(0)==="0",h=o==null?null:o.get(G.POSSIBLE_FORMATS),g=h==null||h.includes(ke.UPC_A);if(f&&g){const w=c.getRawBytes(),C=new Vt(c.getText().substring(1),w,w?w.length:null,c.getResultPoints(),ke.UPC_A);return C.putAllMetadata(c.getResultMetadata()),C}return c}catch{}throw new re}reset(){for(let r of this.readers)r.reset()}}class It extends qt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,s){for(let o=0;o<s.length;o++)if(qt.patternMatchVariance(r,s[o],It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return o;throw new re}static count(r){return ft.sum(new Int32Array(r))}static increment(r,s){let o=0,u=s[0];for(let c=1;c<r.length;c++)s[c]>u&&(u=s[c],o=c);r[o]++}static decrement(r,s){let o=0,u=s[0];for(let c=1;c<r.length;c++)s[c]<u&&(u=s[c],o=c);r[o]--}static isFinderPattern(r){let s=r[0]+r[1],o=s+r[2]+r[3],u=s/o;if(u>=It.MIN_FINDER_PATTERN_RATIO&&u<=It.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let h of r)h>f&&(f=h),h<c&&(c=h);return f<10*c}return!1}}It.MAX_AVG_VARIANCE=.2,It.MAX_INDIVIDUAL_VARIANCE=.45,It.MIN_FINDER_PATTERN_RATIO=9.5/12,It.MAX_FINDER_PATTERN_RATIO=12.5/14;class Wi{constructor(r,s){this.value=r,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Wi))return!1;const s=r;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ei{constructor(r,s,o,u,c){this.value=r,this.startEnd=s,this.value=r,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new Re(o,c)),this.resultPoints.push(new Re(u,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof ei))return!1;const s=r;return this.value===s.value}hashCode(){return this.value}}class br{constructor(){}static getRSSvalue(r,s,o){let u=0;for(let g of r)u+=g;let c=0,f=0,h=r.length;for(let g=0;g<h-1;g++){let w;for(w=1,f|=1<<g;w<r[g];w++,f&=~(1<<g)){let C=br.combins(u-w-1,h-g-2);if(o&&f===0&&u-w-(h-g-1)>=h-g-1&&(C-=br.combins(u-w-(h-g),h-g-2)),h-g-1>1){let I=0;for(let D=u-w-(h-g-2);D>s;D--)I+=br.combins(u-w-D-1,h-g-3);C-=I*(h-1-g)}else u-w>s&&C--;c+=C}u-=w}return c}static combins(r,s){let o,u;r-s>s?(u=s,o=r-s):(u=r-s,o=s);let c=1,f=1;for(let h=r;h>o;h--)c*=h,f<=u&&(c/=f,f++);for(;f<=u;)c/=f,f++;return c}}class Tc{static buildBitArray(r){let s=r.length*2-1;r[r.length-1].getRightChar()==null&&(s-=1);let o=12*s,u=new M(o),c=0,h=r[0].getRightChar().getValue();for(let g=11;g>=0;--g)h&1<<g&&u.set(c),c++;for(let g=1;g<r.length;++g){let w=r[g],C=w.getLeftChar().getValue();for(let I=11;I>=0;--I)C&1<<I&&u.set(c),c++;if(w.getRightChar()!=null){let I=w.getRightChar().getValue();for(let D=11;D>=0;--D)I&1<<D&&u.set(c),c++}}return u}}class Hi{constructor(r,s){s?this.decodedInformation=null:(this.finished=r,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class En{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Mn extends En{constructor(r,s){super(r),this.value=s}getValue(){return this.value}isFNC1(){return this.value===Mn.FNC1}}Mn.FNC1="$";class Gi extends En{constructor(r,s,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Xn extends En{constructor(r,s,o){if(super(r),s<0||s>10||o<0||o>10)throw new z;this.firstDigit=s,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Xn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Xn.FNC1}isAnyFNC1(){return this.firstDigit===Xn.FNC1||this.secondDigit===Xn.FNC1}}Xn.FNC1=10;class Ie{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new re;let s=r.substring(0,2);for(let c of Ie.TWO_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(2,c[2],r):Ie.processFixedAI(2,c[1],r);if(r.length<3)throw new re;let o=r.substring(0,3);for(let c of Ie.THREE_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(3,c[2],r):Ie.processFixedAI(3,c[1],r);for(let c of Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,c[2],r):Ie.processFixedAI(4,c[1],r);if(r.length<4)throw new re;let u=r.substring(0,4);for(let c of Ie.FOUR_DIGIT_DATA_LENGTH)if(c[0]===u)return c[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,c[2],r):Ie.processFixedAI(4,c[1],r);throw new re}static processFixedAI(r,s,o){if(o.length<r)throw new re;let u=o.substring(0,r);if(o.length<r+s)throw new re;let c=o.substring(r,r+s),f=o.substring(r+s),h="("+u+")"+c,g=Ie.parseFieldsInGeneralPurpose(f);return g==null?h:h+g}static processVariableAI(r,s,o){let u=o.substring(0,r),c;o.length<r+s?c=o.length:c=r+s;let f=o.substring(r,c),h=o.substring(c),g="("+u+")"+f,w=Ie.parseFieldsInGeneralPurpose(h);return w==null?g:g+w}}Ie.VARIABLE_LENGTH=[],Ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ie.VARIABLE_LENGTH,20],["22",Ie.VARIABLE_LENGTH,29],["30",Ie.VARIABLE_LENGTH,8],["37",Ie.VARIABLE_LENGTH,8],["90",Ie.VARIABLE_LENGTH,30],["91",Ie.VARIABLE_LENGTH,30],["92",Ie.VARIABLE_LENGTH,30],["93",Ie.VARIABLE_LENGTH,30],["94",Ie.VARIABLE_LENGTH,30],["95",Ie.VARIABLE_LENGTH,30],["96",Ie.VARIABLE_LENGTH,30],["97",Ie.VARIABLE_LENGTH,3],["98",Ie.VARIABLE_LENGTH,30],["99",Ie.VARIABLE_LENGTH,30]],Ie.THREE_DIGIT_DATA_LENGTH=[["240",Ie.VARIABLE_LENGTH,30],["241",Ie.VARIABLE_LENGTH,30],["242",Ie.VARIABLE_LENGTH,6],["250",Ie.VARIABLE_LENGTH,30],["251",Ie.VARIABLE_LENGTH,30],["253",Ie.VARIABLE_LENGTH,17],["254",Ie.VARIABLE_LENGTH,20],["400",Ie.VARIABLE_LENGTH,30],["401",Ie.VARIABLE_LENGTH,30],["402",17],["403",Ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ie.VARIABLE_LENGTH,20],["421",Ie.VARIABLE_LENGTH,15],["422",3],["423",Ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ie.VARIABLE_LENGTH,15],["391",Ie.VARIABLE_LENGTH,18],["392",Ie.VARIABLE_LENGTH,15],["393",Ie.VARIABLE_LENGTH,18],["703",Ie.VARIABLE_LENGTH,30]],Ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ie.VARIABLE_LENGTH,20],["8003",Ie.VARIABLE_LENGTH,30],["8004",Ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ie.VARIABLE_LENGTH,30],["8008",Ie.VARIABLE_LENGTH,12],["8018",18],["8020",Ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ie.VARIABLE_LENGTH,70],["8200",Ie.VARIABLE_LENGTH,70]];class Ci{constructor(r){this.buffer=new Xe,this.information=r}decodeAllCodes(r,s){let o=s,u=null;do{let c=this.decodeGeneralPurposeField(o,u),f=Ie.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&r.append(f),c.isRemaining()?u=""+c.getRemainingValue():u=null,o===c.getNewPosition())break;o=c.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let s=r;s<r+3;++s)if(this.information.get(s))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(r,4);return c===0?new Xn(this.information.getSize(),Xn.FNC1,Xn.FNC1):new Xn(this.information.getSize(),c-1,Xn.FNC1)}let s=this.extractNumericValueFromBitArray(r,7),o=(s-8)/11,u=(s-8)%11;return new Xn(r+7,o,u)}extractNumericValueFromBitArray(r,s){return Ci.extractNumericValueFromBitArray(this.information,r,s)}static extractNumericValueFromBitArray(r,s,o){let u=0;for(let c=0;c<o;++c)r.get(s+c)&&(u|=1<<o-c-1);return u}decodeGeneralPurposeField(r,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Gi(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Gi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,s;do{let o=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),r=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),r=s.isFinished()):(s=this.parseNumericBlock(),r=s.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let s;return r.isSecondDigitFNC1()?s=new Gi(this.current.getPosition(),this.buffer.toString()):s=new Gi(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Hi(!0,s)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let s=new Gi(this.current.getPosition(),this.buffer.toString());return new Hi(!0,s)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Hi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new Gi(this.current.getPosition(),this.buffer.toString());return new Hi(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Hi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new Gi(this.current.getPosition(),this.buffer.toString());return new Hi(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Hi(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,8);return u>=232&&u<253}decodeIsoIec646(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new Mn(r+5,Mn.FNC1);if(s>=5&&s<15)return new Mn(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new Mn(r+7,""+(o+1));if(o>=90&&o<116)return new Mn(r+7,""+(o+7));let u=this.extractNumericValueFromBitArray(r,8),c;switch(u){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new z}return new Mn(r+8,c)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new Mn(r+5,Mn.FNC1);if(s>=5&&s<15)return new Mn(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new Mn(r+6,""+(o+33));let u;switch(o){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new _r("Decoding invalid alphanumeric value: "+o)}return new Mn(r+6,u)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<5&&s+r<this.information.getSize();++s)if(s===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+s))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let s=r;s<r+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<4&&s+r<this.information.getSize();++s)if(this.information.get(r+s))return!1;return!0}}class hr{constructor(r){this.information=r,this.generalDecoder=new Ci(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Cn extends hr{constructor(r){super(r)}encodeCompressedGtin(r,s){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,s,o)}encodeCompressedGtinWithoutAI(r,s,o){for(let u=0;u<4;++u){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*u,10);c/100===0&&r.append("0"),c/10===0&&r.append("0"),r.append(c)}Cn.appendCheckDigit(r,o)}static appendCheckDigit(r,s){let o=0;for(let u=0;u<13;u++){let c=r.charAt(u+s).charCodeAt(0)-48;o+=u&1?c:3*c}o=10-o%10,o===10&&(o=0),r.append(o)}}Cn.GTIN_SIZE=40;class Ai extends Cn{constructor(r){super(r)}parseInformation(){let r=new Xe;r.append("(01)");let s=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ai.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,Ai.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(r,Ai.HEADER_SIZE+44)}}Ai.HEADER_SIZE=4;class vo extends hr{constructor(r){super(r)}parseInformation(){let r=new Xe;return this.getGeneralDecoder().decodeAllCodes(r,vo.HEADER_SIZE)}}vo.HEADER_SIZE=5;class Eo extends Cn{constructor(r){super(r)}encodeCompressedWeight(r,s,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s,o);this.addWeightCode(r,u);let c=this.checkWeight(u),f=1e5;for(let h=0;h<5;++h)c/f===0&&r.append("0"),f/=10;r.append(c)}}class tr extends Eo{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=tr.HEADER_SIZE+Eo.GTIN_SIZE+tr.WEIGHT_SIZE)throw new re;let r=new Xe;return this.encodeCompressedGtin(r,tr.HEADER_SIZE),this.encodeCompressedWeight(r,tr.HEADER_SIZE+Eo.GTIN_SIZE,tr.WEIGHT_SIZE),r.toString()}}tr.HEADER_SIZE=5,tr.WEIGHT_SIZE=15;class Ic extends tr{constructor(r){super(r)}addWeightCode(r,s){r.append("(3103)")}checkWeight(r){return r}}class Rc extends tr{constructor(r){super(r)}addWeightCode(r,s){s<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Sr extends Cn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Sr.HEADER_SIZE+Cn.GTIN_SIZE)throw new re;let r=new Xe;this.encodeCompressedGtin(r,Sr.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Sr.HEADER_SIZE+Cn.GTIN_SIZE,Sr.LAST_DIGIT_SIZE);r.append("(392"),r.append(s),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Sr.HEADER_SIZE+Cn.GTIN_SIZE+Sr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}Sr.HEADER_SIZE=8,Sr.LAST_DIGIT_SIZE=2;class gn extends Cn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<gn.HEADER_SIZE+Cn.GTIN_SIZE)throw new re;let r=new Xe;this.encodeCompressedGtin(r,gn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE+Cn.GTIN_SIZE,gn.LAST_DIGIT_SIZE);r.append("(393"),r.append(s),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE+Cn.GTIN_SIZE+gn.LAST_DIGIT_SIZE,gn.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let u=this.getGeneralDecoder().decodeGeneralPurposeField(gn.HEADER_SIZE+Cn.GTIN_SIZE+gn.LAST_DIGIT_SIZE+gn.FIRST_THREE_DIGITS_SIZE,null);return r.append(u.getNewString()),r.toString()}}gn.HEADER_SIZE=8,gn.LAST_DIGIT_SIZE=2,gn.FIRST_THREE_DIGITS_SIZE=10;class Pt extends Eo{constructor(r,s,o){super(r),this.dateCode=o,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=Pt.HEADER_SIZE+Pt.GTIN_SIZE+Pt.WEIGHT_SIZE+Pt.DATE_SIZE)throw new re;let r=new Xe;return this.encodeCompressedGtin(r,Pt.HEADER_SIZE),this.encodeCompressedWeight(r,Pt.HEADER_SIZE+Pt.GTIN_SIZE,Pt.WEIGHT_SIZE),this.encodeCompressedDate(r,Pt.HEADER_SIZE+Pt.GTIN_SIZE+Pt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s,Pt.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let u=o%32;o/=32;let c=o%12+1;o/=12;let f=o;f/10==0&&r.append("0"),r.append(f),c/10==0&&r.append("0"),r.append(c),u/10==0&&r.append("0"),r.append(u)}addWeightCode(r,s){r.append("("),r.append(this.firstAIdigits),r.append(s/1e5),r.append(")")}checkWeight(r){return r%1e5}}Pt.HEADER_SIZE=8,Pt.WEIGHT_SIZE=20,Pt.DATE_SIZE=16;function Hl(T){try{if(T.get(1))return new Ai(T);if(!T.get(2))return new vo(T);switch(Ci.extractNumericValueFromBitArray(T,1,4)){case 4:return new Ic(T);case 5:return new Rc(T)}switch(Ci.extractNumericValueFromBitArray(T,1,5)){case 12:return new Sr(T);case 13:return new gn(T)}switch(Ci.extractNumericValueFromBitArray(T,1,7)){case 56:return new Pt(T,"310","11");case 57:return new Pt(T,"320","11");case 58:return new Pt(T,"310","13");case 59:return new Pt(T,"320","13");case 60:return new Pt(T,"310","15");case 61:return new Pt(T,"320","15");case 62:return new Pt(T,"310","17");case 63:return new Pt(T,"320","17")}}catch(r){throw console.log(r),new _r("unknown decoder: "+T)}}class ti{constructor(r,s,o,u){this.leftchar=r,this.rightchar=s,this.finderpattern=o,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,s){return r instanceof ti?ti.equalsOrNull(r.leftchar,s.leftchar)&&ti.equalsOrNull(r.rightchar,s.rightchar)&&ti.equalsOrNull(r.finderpattern,s.finderpattern):!1}static equalsOrNull(r,s){return r===null?s===null:ti.equals(r,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Xi{constructor(r,s,o){this.pairs=r,this.rowNumber=s,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,s){return r instanceof Xi?this.checkEqualitity(r,s)&&r.wasReversed===s.wasReversed:!1}checkEqualitity(r,s){if(!r||!s)return;let o;return r.forEach((u,c)=>{s.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class se extends It{constructor(r){super(...arguments),this.pairs=new Array(se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,s,o){this.pairs.length=0,this.startFromEven=!1;try{return se.constructResult(this.decodeRow2pairs(r,s))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,se.constructResult(this.decodeRow2pairs(r,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,s){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,r))}catch(c){if(c instanceof re){if(!this.pairs.length)throw new re;o=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(r,!1),u){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new re}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),s}checkRows(r,s){for(let o=s;o<this.rows.length;o++){let u=this.rows[o];this.pairs.length=0;for(let f of r)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(r);c.push(u);try{return this.checkRows(c,o+1)}catch(f){this.verbose&&console.log(f)}}throw new re}static isValidSequence(r){for(let s of se.FINDER_PATTERN_SEQUENCES){if(r.length>s.length)continue;let o=!0;for(let u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!=s[u]){o=!1;break}if(o)return!0}return!1}storeRow(r,s){let o=0,u=!1,c=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>r){c=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),o++}c||u||se.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Xi(this.pairs,r,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,s){for(let o of s)if(o.getPairs().length!==r.length){for(let u of o.getPairs())for(let c of r)if(ti.equals(u,c))break}}static isPartialRow(r,s){for(let o of s){let u=!0;for(let c of r){let f=!1;for(let h of o.getPairs())if(c.equals(h)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(r){let s=Tc.buildBitArray(r),u=Hl(s).parseInformation(),c=r[0].getFinderPattern().getResultPoints(),f=r[r.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],f[0],f[1]];return new Vt(u,null,null,h,ke.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),s=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let u=o.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let g=this.pairs.get(h);u+=g.getLeftChar().getChecksumPortion(),c++;let w=g.getRightChar();w!=null&&(u+=w.getChecksumPortion(),c++)}return u%=211,211*(c-4)+u==s.getValue()}static getNextSecondBar(r,s){let o;return r.get(s)?(o=r.getNextUnset(s),o=r.getNextSet(o)):(o=r.getNextSet(s),o=r.getNextUnset(o)),o}retrieveNextPair(r,s,o){let u=s.length%2==0;this.startFromEven&&(u=!u);let c,f=!0,h=-1;do this.findNextPair(r,s,h),c=this.parseFoundFinderPattern(r,o,u),c==null?h=se.getNextSecondBar(r,this.startEnd[0]):f=!1;while(f);let g=this.decodeDataCharacter(r,c,u,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new re;let w;try{w=this.decodeDataCharacter(r,c,u,!1)}catch(C){w=null,this.verbose&&console.log(C)}return new ti(g,w,c,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,s,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f;o>=0?f=o:this.isEmptyPair(s)?f=0:f=s[s.length-1].getFinderPattern().getStartEnd()[1];let h=s.length%2!=0;this.startFromEven&&(h=!h);let g=!1;for(;f<c&&(g=!r.get(f),!!g);)f++;let w=0,C=f;for(let I=f;I<c;I++)if(r.get(I)!=g)u[w]++;else{if(w==3){if(h&&se.reverseCounters(u),se.isFinderPattern(u)){this.startEnd[0]=C,this.startEnd[1]=I;return}h&&se.reverseCounters(u),C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,w--}else w++;u[w]=1,g=!g}throw new re}static reverseCounters(r){let s=r.length;for(let o=0;o<s/2;++o){let u=r[o];r[o]=r[s-o-1],r[s-o-1]=u}}parseFoundFinderPattern(r,s,o){let u,c,f;if(o){let w=this.startEnd[0]-1;for(;w>=0&&!r.get(w);)w--;w++,u=this.startEnd[0]-w,c=w,f=this.startEnd[1]}else c=this.startEnd[0],f=r.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let h=this.getDecodeFinderCounters();R.arraycopy(h,0,h,1,h.length-1),h[0]=u;let g;try{g=this.parseFinderValue(h,se.FINDER_PATTERNS)}catch{return null}return new ei(g,[c,f],c,f,s)}decodeDataCharacter(r,s,o,u){let c=this.getDataCharacterCounters();for(let Lt=0;Lt<c.length;Lt++)c[Lt]=0;if(u)se.recordPatternInReverse(r,s.getStartEnd()[0],c);else{se.recordPattern(r,s.getStartEnd()[1],c);for(let Lt=0,Bn=c.length-1;Lt<Bn;Lt++,Bn--){let Nr=c[Lt];c[Lt]=c[Bn],c[Bn]=Nr}}let f=17,h=ft.sum(new Int32Array(c))/f,g=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(h-g)/g>.3)throw new re;let w=this.getOddCounts(),C=this.getEvenCounts(),I=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Lt=0;Lt<c.length;Lt++){let Bn=1*c[Lt]/h,Nr=Bn+.5;if(Nr<1){if(Bn<.3)throw new re;Nr=1}else if(Nr>8){if(Bn>8.7)throw new re;Nr=8}let Sa=Lt/2;Lt&1?(C[Sa]=Nr,D[Sa]=Bn-Nr):(w[Sa]=Nr,I[Sa]=Bn-Nr)}this.adjustOddEvenCounts(f);let V=4*s.getValue()+(o?0:2)+(u?0:1)-1,W=0,H=0;for(let Lt=w.length-1;Lt>=0;Lt--){if(se.isNotA1left(s,o,u)){let Bn=se.WEIGHTS[V][2*Lt];H+=w[Lt]*Bn}W+=w[Lt]}let Z=0;for(let Lt=C.length-1;Lt>=0;Lt--)if(se.isNotA1left(s,o,u)){let Bn=se.WEIGHTS[V][2*Lt+1];Z+=C[Lt]*Bn}let te=H+Z;if(W&1||W>13||W<4)throw new re;let de=(13-W)/2,pe=se.SYMBOL_WIDEST[de],le=9-pe,ct=br.getRSSvalue(w,pe,!0),Je=br.getRSSvalue(C,le,!1),pr=se.EVEN_TOTAL_SUBSET[de],oi=se.GSUM[de],gr=ct*pr+Je+oi;return new Wi(gr,te)}static isNotA1left(r,s,o){return!(r.getValue()==0&&s&&o)}adjustOddEvenCounts(r){let s=ft.sum(new Int32Array(this.getOddCounts())),o=ft.sum(new Int32Array(this.getEvenCounts())),u=!1,c=!1;s>13?c=!0:s<4&&(u=!0);let f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let g=s+o-r,w=(s&1)==1,C=(o&1)==0;if(g==1)if(w){if(C)throw new re;c=!0}else{if(!C)throw new re;h=!0}else if(g==-1)if(w){if(C)throw new re;u=!0}else{if(!C)throw new re;f=!0}else if(g==0){if(w){if(!C)throw new re;s<o?(u=!0,h=!0):(c=!0,f=!0)}else if(C)throw new re}else throw new re;if(u){if(c)throw new re;se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new re;se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}se.SYMBOL_WIDEST=[7,5,4,3,1],se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],se.GSUM=[0,348,1388,2948,3988],se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],se.FINDER_PAT_A=0,se.FINDER_PAT_B=1,se.FINDER_PAT_C=2,se.FINDER_PAT_D=3,se.FINDER_PAT_E=4,se.FINDER_PAT_F=5,se.FINDER_PATTERN_SEQUENCES=[[se.FINDER_PAT_A,se.FINDER_PAT_A],[se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B],[se.FINDER_PAT_A,se.FINDER_PAT_C,se.FINDER_PAT_B,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_C],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F]],se.MAX_PAIRS=11;class Mt extends Wi{constructor(r,s,o){super(r,s),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Dt extends It{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,s,o){const u=this.decodePair(s,!1,r,o);Dt.addOrTally(this.possibleLeftPairs,u),s.reverse();let c=this.decodePair(s,!0,r,o);Dt.addOrTally(this.possibleRightPairs,c),s.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Dt.checkChecksum(f,h))return Dt.constructResult(f,h)}throw new re}static addOrTally(r,s){if(s==null)return;let o=!1;for(let u of r)if(u.getValue()===s.getValue()){u.incrementCount(),o=!0;break}o||r.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,s){let o=4537077*r.getValue()+s.getValue(),u=new String(o).toString(),c=new Xe;for(let w=13-u.length;w>0;w--)c.append("0");c.append(u);let f=0;for(let w=0;w<13;w++){let C=c.charAt(w).charCodeAt(0)-48;f+=w&1?C:3*C}f=10-f%10,f===10&&(f=0),c.append(f.toString());let h=r.getFinderPattern().getResultPoints(),g=s.getFinderPattern().getResultPoints();return new Vt(c.toString(),null,0,[h[0],h[1],g[0],g[1]],ke.RSS_14,new Date().getTime())}static checkChecksum(r,s){let o=(r.getChecksumPortion()+16*s.getChecksumPortion())%79,u=9*r.getFinderPattern().getValue()+s.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,o===u}decodePair(r,s,o,u){try{let c=this.findFinderPattern(r,s),f=this.parseFoundFinderPattern(r,o,s,c),h=u==null?null:u.get(G.NEED_RESULT_POINT_CALLBACK);if(h!=null){let C=(c[0]+c[1])/2;s&&(C=r.getSize()-1-C),h.foundPossibleResultPoint(new Re(C,o))}let g=this.decodeDataCharacter(r,f,!0),w=this.decodeDataCharacter(r,f,!1);return new Mt(1597*g.getValue()+w.getValue(),g.getChecksumPortion()+4*w.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(r,s,o){let u=this.getDataCharacterCounters();for(let Z=0;Z<u.length;Z++)u[Z]=0;if(o)qt.recordPatternInReverse(r,s.getStartEnd()[0],u);else{qt.recordPattern(r,s.getStartEnd()[1]+1,u);for(let Z=0,te=u.length-1;Z<te;Z++,te--){let de=u[Z];u[Z]=u[te],u[te]=de}}let c=o?16:15,f=ft.sum(new Int32Array(u))/c,h=this.getOddCounts(),g=this.getEvenCounts(),w=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Z=0;Z<u.length;Z++){let te=u[Z]/f,de=Math.floor(te+.5);de<1?de=1:de>8&&(de=8);let pe=Math.floor(Z/2);Z&1?(g[pe]=de,C[pe]=te-de):(h[pe]=de,w[pe]=te-de)}this.adjustOddEvenCounts(o,c);let I=0,D=0;for(let Z=h.length-1;Z>=0;Z--)D*=9,D+=h[Z],I+=h[Z];let V=0,W=0;for(let Z=g.length-1;Z>=0;Z--)V*=9,V+=g[Z],W+=g[Z];let H=D+3*V;if(o){if(I&1||I>12||I<4)throw new re;let Z=(12-I)/2,te=Dt.OUTSIDE_ODD_WIDEST[Z],de=9-te,pe=br.getRSSvalue(h,te,!1),le=br.getRSSvalue(g,de,!0),ct=Dt.OUTSIDE_EVEN_TOTAL_SUBSET[Z],Je=Dt.OUTSIDE_GSUM[Z];return new Wi(pe*ct+le+Je,H)}else{if(W&1||W>10||W<4)throw new re;let Z=(10-W)/2,te=Dt.INSIDE_ODD_WIDEST[Z],de=9-te,pe=br.getRSSvalue(h,te,!0),le=br.getRSSvalue(g,de,!1),ct=Dt.INSIDE_ODD_TOTAL_SUBSET[Z],Je=Dt.INSIDE_GSUM[Z];return new Wi(le*ct+pe+Je,H)}}findFinderPattern(r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=r.getSize(),c=!1,f=0;for(;f<u&&(c=!r.get(f),s!==c);)f++;let h=0,g=f;for(let w=f;w<u;w++)if(r.get(w)!==c)o[h]++;else{if(h===3){if(It.isFinderPattern(o))return[g,w];g+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,c=!c}throw new re}parseFoundFinderPattern(r,s,o,u){let c=r.get(u[0]),f=u[0]-1;for(;f>=0&&c!==r.get(f);)f--;f++;const h=u[0]-f,g=this.getDecodeFinderCounters(),w=new Int32Array(g.length);R.arraycopy(g,0,w,1,g.length-1),w[0]=h;const C=this.parseFinderValue(w,Dt.FINDER_PATTERNS);let I=f,D=u[1];return o&&(I=r.getSize()-1-I,D=r.getSize()-1-D),new ei(C,[f,u[1]],I,D,s)}adjustOddEvenCounts(r,s){let o=ft.sum(new Int32Array(this.getOddCounts())),u=ft.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,h=!1,g=!1;r?(o>12?f=!0:o<4&&(c=!0),u>12?g=!0:u<4&&(h=!0)):(o>11?f=!0:o<5&&(c=!0),u>10?g=!0:u<4&&(h=!0));let w=o+u-s,C=(o&1)===(r?1:0),I=(u&1)===1;if(w===1)if(C){if(I)throw new re;f=!0}else{if(!I)throw new re;g=!0}else if(w===-1)if(C){if(I)throw new re;c=!0}else{if(!I)throw new re;h=!0}else if(w===0){if(C){if(!I)throw new re;o<u?(c=!0,g=!0):(f=!0,h=!0)}else if(I)throw new re}else throw new re;if(c){if(f)throw new re;It.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&It.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new re;It.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&It.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Dt.OUTSIDE_GSUM=[0,161,961,2015,2715],Dt.INSIDE_GSUM=[0,336,1036,1516],Dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Dt.INSIDE_ODD_WIDEST=[2,4,6,8],Dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ni extends qt{constructor(r,s){super(),this.readers=[],this.verbose=s===!0;const o=r?r.get(G.POSSIBLE_FORMATS):null,u=r&&r.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ke.EAN_13)||o.includes(ke.UPC_A)||o.includes(ke.EAN_8)||o.includes(ke.UPC_E))&&this.readers.push(new ya(r)),o.includes(ke.CODE_39)&&this.readers.push(new Ut(u)),o.includes(ke.CODE_128)&&this.readers.push(new Ee),o.includes(ke.ITF)&&this.readers.push(new Tt),o.includes(ke.RSS_14)&&this.readers.push(new Dt),o.includes(ke.RSS_EXPANDED)&&this.readers.push(new se(this.verbose))):(this.readers.push(new ya(r)),this.readers.push(new Ut),this.readers.push(new ya(r)),this.readers.push(new Ee),this.readers.push(new Tt),this.readers.push(new Dt),this.readers.push(new se(this.verbose)))}decodeRow(r,s,o){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(r,s,o)}catch{}throw new re}reset(){this.readers.forEach(r=>r.reset())}}class Zi extends Jn{constructor(r=500,s){super(new ni(s),r,s)}}class dt{constructor(r,s,o){this.ecCodewords=r,this.ecBlocks=[s],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ut{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(r,s,o,u,c,f){this.versionNumber=r,this.symbolSizeRows=s,this.symbolSizeColumns=o,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=c,this.ecBlocks=f;let h=0;const g=f.getECCodewords(),w=f.getECBlocks();for(let C of w)h+=C.getCount()*(C.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,s){if(r&1||s&1)throw new z;for(let o of nt.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===s)return o;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new nt(1,10,10,8,8,new dt(5,new ut(1,3))),new nt(2,12,12,10,10,new dt(7,new ut(1,5))),new nt(3,14,14,12,12,new dt(10,new ut(1,8))),new nt(4,16,16,14,14,new dt(12,new ut(1,12))),new nt(5,18,18,16,16,new dt(14,new ut(1,18))),new nt(6,20,20,18,18,new dt(18,new ut(1,22))),new nt(7,22,22,20,20,new dt(20,new ut(1,30))),new nt(8,24,24,22,22,new dt(24,new ut(1,36))),new nt(9,26,26,24,24,new dt(28,new ut(1,44))),new nt(10,32,32,14,14,new dt(36,new ut(1,62))),new nt(11,36,36,16,16,new dt(42,new ut(1,86))),new nt(12,40,40,18,18,new dt(48,new ut(1,114))),new nt(13,44,44,20,20,new dt(56,new ut(1,144))),new nt(14,48,48,22,22,new dt(68,new ut(1,174))),new nt(15,52,52,24,24,new dt(42,new ut(2,102))),new nt(16,64,64,14,14,new dt(56,new ut(2,140))),new nt(17,72,72,16,16,new dt(36,new ut(4,92))),new nt(18,80,80,18,18,new dt(48,new ut(4,114))),new nt(19,88,88,20,20,new dt(56,new ut(4,144))),new nt(20,96,96,22,22,new dt(68,new ut(4,174))),new nt(21,104,104,24,24,new dt(56,new ut(6,136))),new nt(22,120,120,18,18,new dt(68,new ut(6,175))),new nt(23,132,132,20,20,new dt(62,new ut(8,163))),new nt(24,144,144,22,22,new dt(62,new ut(8,156),new ut(2,155))),new nt(25,8,18,6,16,new dt(7,new ut(1,5))),new nt(26,8,32,6,14,new dt(11,new ut(1,10))),new nt(27,12,26,10,24,new dt(14,new ut(1,16))),new nt(28,12,36,10,16,new dt(18,new ut(1,22))),new nt(29,16,36,14,16,new dt(24,new ut(1,32))),new nt(30,16,48,14,22,new dt(28,new ut(1,49)))]}}nt.VERSIONS=nt.buildVersions();class qi{constructor(r){const s=r.getHeight();if(s<8||s>144||s&1)throw new z;this.version=qi.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new ot(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const s=r.getHeight(),o=r.getWidth();return nt.getVersionForDimensions(s,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let s=0,o=4,u=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let h=!1,g=!1,w=!1,C=!1;do if(o===c&&u===0&&!h)r[s++]=this.readCorner1(c,f)&255,o-=2,u+=2,h=!0;else if(o===c-2&&u===0&&f&3&&!g)r[s++]=this.readCorner2(c,f)&255,o-=2,u+=2,g=!0;else if(o===c+4&&u===2&&!(f&7)&&!w)r[s++]=this.readCorner3(c,f)&255,o-=2,u+=2,w=!0;else if(o===c-2&&u===0&&(f&7)===4&&!C)r[s++]=this.readCorner4(c,f)&255,o-=2,u+=2,C=!0;else{do o<c&&u>=0&&!this.readMappingMatrix.get(u,o)&&(r[s++]=this.readUtah(o,u,c,f)&255),o-=2,u+=2;while(o>=0&&u<f);o+=1,u+=3;do o>=0&&u<f&&!this.readMappingMatrix.get(u,o)&&(r[s++]=this.readUtah(o,u,c,f)&255),o+=2,u-=2;while(o<c&&u>=0);o+=3,u+=1}while(o<c||u<f);if(s!==this.version.getTotalCodewords())throw new z;return r}readModule(r,s,o,u){return r<0&&(r+=o,s+=4-(o+4&7)),s<0&&(s+=u,r+=4-(u+4&7)),this.readMappingMatrix.set(s,r),this.mappingBitMatrix.get(s,r)}readUtah(r,s,o,u){let c=0;return this.readModule(r-2,s-2,o,u)&&(c|=1),c<<=1,this.readModule(r-2,s-1,o,u)&&(c|=1),c<<=1,this.readModule(r-1,s-2,o,u)&&(c|=1),c<<=1,this.readModule(r-1,s-1,o,u)&&(c|=1),c<<=1,this.readModule(r-1,s,o,u)&&(c|=1),c<<=1,this.readModule(r,s-2,o,u)&&(c|=1),c<<=1,this.readModule(r,s-1,o,u)&&(c|=1),c<<=1,this.readModule(r,s,o,u)&&(c|=1),c}readCorner1(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,1,r,s)&&(o|=1),o<<=1,this.readModule(r-1,2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}readCorner2(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-4,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner3(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-3,r,s)&&(o|=1),o<<=1,this.readModule(1,s-2,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner4(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}extractDataRegion(r){const s=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==s)throw new A("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=s/u|0,h=o/c|0,g=f*u,w=h*c,C=new ot(w,g);for(let I=0;I<f;++I){const D=I*u;for(let V=0;V<h;++V){const W=V*c;for(let H=0;H<u;++H){const Z=I*(u+2)+1+H,te=D+H;for(let de=0;de<c;++de){const pe=V*(c+2)+1+de;if(r.get(pe,Z)){const le=W+de;C.set(le,te)}}}}}return C}}class Gl{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s){const o=s.getECBlocks();let u=0;const c=o.getECBlocks();for(let H of c)u+=H.getCount();const f=new Array(u);let h=0;for(let H of c)for(let Z=0;Z<H.getCount();Z++){const te=H.getDataCodewords(),de=o.getECCodewords()+te;f[h++]=new Gl(te,new Uint8Array(de))}const w=f[0].codewords.length-o.getECCodewords(),C=w-1;let I=0;for(let H=0;H<C;H++)for(let Z=0;Z<h;Z++)f[Z].codewords[H]=r[I++];const D=s.getVersionNumber()===24,V=D?8:h;for(let H=0;H<V;H++)f[H].codewords[w-1]=r[I++];const W=f[0].codewords.length;for(let H=w;H<W;H++)for(let Z=0;Z<h;Z++){const te=D?(Z+8)%h:Z,de=D&&te>7?H-1:H;f[te].codewords[de]=r[I++]}if(I!==r.length)throw new A;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xl{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new A(""+r);let s=0,o=this.bitOffset,u=this.byteOffset;const c=this.bytes;if(o>0){const f=8-o,h=r<f?r:f,g=f-h,w=255>>8-h<<g;s=(c[u]&w)>>g,r-=h,o+=h,o===8&&(o=0,u++)}if(r>0){for(;r>=8;)s=s<<8|c[u]&255,u++,r-=8;if(r>0){const f=8-r,h=255>>f<<f;s=s<<r|(c[u]&h)>>f,o+=r}}return this.bitOffset=o,this.byteOffset=u,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var nn;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(nn||(nn={}));class jr{static decode(r){const s=new Xl(r),o=new Xe,u=new Xe,c=new Array;let f=nn.ASCII_ENCODE;do if(f===nn.ASCII_ENCODE)f=this.decodeAsciiSegment(s,o,u);else{switch(f){case nn.C40_ENCODE:this.decodeC40Segment(s,o);break;case nn.TEXT_ENCODE:this.decodeTextSegment(s,o);break;case nn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,o);break;case nn.EDIFACT_ENCODE:this.decodeEdifactSegment(s,o);break;case nn.BASE256_ENCODE:this.decodeBase256Segment(s,o,c);break;default:throw new z}f=nn.ASCII_ENCODE}while(f!==nn.PAD_ENCODE&&s.available()>0);return u.length()>0&&o.append(u.toString()),new ws(r,o.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(r,s,o){let u=!1;do{let c=r.readBits(8);if(c===0)throw new z;if(c<=128)return u&&(c+=128),s.append(String.fromCharCode(c-1)),nn.ASCII_ENCODE;if(c===129)return nn.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&s.append("0"),s.append(""+f)}else switch(c){case 230:return nn.C40_ENCODE;case 231:return nn.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:s.append("[)>05"),o.insert(0,"");break;case 237:s.append("[)>06"),o.insert(0,"");break;case 238:return nn.ANSIX12_ENCODE;case 239:return nn.TEXT_ENCODE;case 240:return nn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||r.available()!==0)throw new z;break}}while(r.available()>0);return nn.ASCII_ENCODE}static decodeC40Segment(r,s){let o=!1;const u=[];let c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let h=0;h<3;h++){const g=u[h];switch(c){case 0:if(g<3)c=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[g];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else throw new z;break;case 1:o?(s.append(String.fromCharCode(g+128)),o=!1):s.append(String.fromCharCode(g)),c=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[g];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else switch(g){case 27:s.append("");break;case 30:o=!0;break;default:throw new z}c=0;break;case 3:o?(s.append(String.fromCharCode(g+224)),o=!1):s.append(String.fromCharCode(g+96)),c=0;break;default:throw new z}}}while(r.available()>0)}static decodeTextSegment(r,s){let o=!1,u=[],c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let h=0;h<3;h++){const g=u[h];switch(c){case 0:if(g<3)c=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[g];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else throw new z;break;case 1:o?(s.append(String.fromCharCode(g+128)),o=!1):s.append(String.fromCharCode(g)),c=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[g];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else switch(g){case 27:s.append("");break;case 30:o=!0;break;default:throw new z}c=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[g];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w),c=0}else throw new z;break;default:throw new z}}}while(r.available()>0)}static decodeAnsiX12Segment(r,s){const o=[];do{if(r.available()===8)return;const u=r.readBits(8);if(u===254)return;this.parseTwoBytes(u,r.readBits(8),o);for(let c=0;c<3;c++){const f=o[c];switch(f){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(f<14)s.append(String.fromCharCode(f+44));else if(f<40)s.append(String.fromCharCode(f+51));else throw new z;break}}}while(r.available()>0)}static parseTwoBytes(r,s,o){let u=(r<<8)+s-1,c=Math.floor(u/1600);o[0]=c,u-=c*1600,c=Math.floor(u/40),o[1]=c,o[2]=u-c*40}static decodeEdifactSegment(r,s){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let u=r.readBits(6);if(u===31){const c=8-r.getBitOffset();c!==8&&r.readBits(c);return}u&32||(u|=64),s.append(String.fromCharCode(u))}}while(r.available()>0)}static decodeBase256Segment(r,s,o){let u=1+r.getByteOffset();const c=this.unrandomize255State(r.readBits(8),u++);let f;if(c===0?f=r.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(r.readBits(8),u++),f<0)throw new z;const h=new Uint8Array(f);for(let g=0;g<f;g++){if(r.available()<8)throw new z;h[g]=this.unrandomize255State(r.readBits(8),u++)}o.push(h);try{s.append(De.decode(h,xe.ISO88591))}catch(g){throw new _r("Platform does not support required encoding: "+g.message)}}static unrandomize255State(r,s){const o=149*s%255+1,u=r-o;return u>=0?u:u+256}}jr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],jr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],jr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],jr.TEXT_SHIFT2_SET_CHARS=jr.C40_SHIFT2_SET_CHARS,jr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Nc{constructor(){this.rsDecoder=new fr(gt.DATA_MATRIX_FIELD_256)}decode(r){const s=new qi(r),o=s.getVersion(),u=s.readCodewords(),c=Gl.getDataBlocks(u,o);let f=0;for(let w of c)f+=w.getNumDataCodewords();const h=new Uint8Array(f),g=c.length;for(let w=0;w<g;w++){const C=c[w],I=C.getCodewords(),D=C.getNumDataCodewords();this.correctErrors(I,D);for(let V=0;V<D;V++)h[V*g+w]=I[V]}return jr.decode(h)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new L}for(let u=0;u<s;u++)r[u]=o[u]}}class jt{constructor(r){this.image=r,this.rectangleDetector=new kn(this.image)}detect(){const r=this.rectangleDetector.detect();let s=this.detectSolid1(r);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new re;s=this.shiftToModuleCenter(s);const o=s[0],u=s[1],c=s[2],f=s[3];let h=this.transitionsBetween(o,f)+1,g=this.transitionsBetween(c,f)+1;(h&1)===1&&(h+=1),(g&1)===1&&(g+=1),4*h<7*g&&4*g<7*h&&(h=g=Math.max(h,g));let w=jt.sampleGrid(this.image,o,u,c,f,h,g);return new vs(w,[o,u,c,f])}static shiftPoint(r,s,o){let u=(s.getX()-r.getX())/(o+1),c=(s.getY()-r.getY())/(o+1);return new Re(r.getX()+u,r.getY()+c)}static moveAway(r,s,o){let u=r.getX(),c=r.getY();return u<s?u-=1:u+=1,c<o?c-=1:c+=1,new Re(u,c)}detectSolid1(r){let s=r[0],o=r[1],u=r[3],c=r[2],f=this.transitionsBetween(s,o),h=this.transitionsBetween(o,u),g=this.transitionsBetween(u,c),w=this.transitionsBetween(c,s),C=f,I=[c,s,o,u];return C>h&&(C=h,I[0]=s,I[1]=o,I[2]=u,I[3]=c),C>g&&(C=g,I[0]=o,I[1]=u,I[2]=c,I[3]=s),C>w&&(I[0]=u,I[1]=c,I[2]=s,I[3]=o),I}detectSolid2(r){let s=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(s,c),h=jt.shiftPoint(o,u,(f+1)*4),g=jt.shiftPoint(u,o,(f+1)*4),w=this.transitionsBetween(h,s),C=this.transitionsBetween(g,c);return w<C?(r[0]=s,r[1]=o,r[2]=u,r[3]=c):(r[0]=o,r[1]=u,r[2]=c,r[3]=s),r}correctTopRight(r){let s=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(s,c),h=this.transitionsBetween(o,c),g=jt.shiftPoint(s,o,(h+1)*4),w=jt.shiftPoint(u,o,(f+1)*4);f=this.transitionsBetween(g,c),h=this.transitionsBetween(w,c);let C=new Re(c.getX()+(u.getX()-o.getX())/(f+1),c.getY()+(u.getY()-o.getY())/(f+1)),I=new Re(c.getX()+(s.getX()-o.getX())/(h+1),c.getY()+(s.getY()-o.getY())/(h+1));if(!this.isValid(C))return this.isValid(I)?I:null;if(!this.isValid(I))return C;let D=this.transitionsBetween(g,C)+this.transitionsBetween(w,C),V=this.transitionsBetween(g,I)+this.transitionsBetween(w,I);return D>V?C:I}shiftToModuleCenter(r){let s=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(s,c)+1,h=this.transitionsBetween(u,c)+1,g=jt.shiftPoint(s,o,h*4),w=jt.shiftPoint(u,o,f*4);f=this.transitionsBetween(g,c)+1,h=this.transitionsBetween(w,c)+1,(f&1)===1&&(f+=1),(h&1)===1&&(h+=1);let C=(s.getX()+o.getX()+u.getX()+c.getX())/4,I=(s.getY()+o.getY()+u.getY()+c.getY())/4;s=jt.moveAway(s,C,I),o=jt.moveAway(o,C,I),u=jt.moveAway(u,C,I),c=jt.moveAway(c,C,I);let D,V;return g=jt.shiftPoint(s,o,h*4),g=jt.shiftPoint(g,c,f*4),D=jt.shiftPoint(o,s,h*4),D=jt.shiftPoint(D,u,f*4),w=jt.shiftPoint(u,c,h*4),w=jt.shiftPoint(w,o,f*4),V=jt.shiftPoint(c,u,h*4),V=jt.shiftPoint(V,s,f*4),[g,D,w,V]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,s,o,u,c,f,h){return Ei.getInstance().sampleGrid(r,f,h,.5,.5,f-.5,.5,f-.5,h-.5,.5,h-.5,s.getX(),s.getY(),c.getX(),c.getY(),u.getX(),u.getY(),o.getX(),o.getY())}transitionsBetween(r,s){let o=Math.trunc(r.getX()),u=Math.trunc(r.getY()),c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.abs(f-u)>Math.abs(c-o);if(h){let H=o;o=u,u=H,H=c,c=f,f=H}let g=Math.abs(c-o),w=Math.abs(f-u),C=-g/2,I=u<f?1:-1,D=o<c?1:-1,V=0,W=this.image.get(h?u:o,h?o:u);for(let H=o,Z=u;H!==c;H+=D){let te=this.image.get(h?Z:H,h?H:Z);if(te!==W&&(V++,W=te),C+=w,C>0){if(Z===f)break;Z+=I,C-=g}}return V}}class ri{constructor(){this.decoder=new Nc}decode(r,s=null){let o,u;if(s!=null&&s.has(G.PURE_BARCODE)){const w=ri.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(w),u=ri.NO_POINTS}else{const w=new jt(r.getBlackMatrix()).detect();o=this.decoder.decode(w.getBits()),u=w.getPoints()}const c=o.getRawBytes(),f=new Vt(o.getText(),c,8*c.length,u,ke.DATA_MATRIX,R.currentTimeMillis()),h=o.getByteSegments();h!=null&&f.putMetadata(qe.BYTE_SEGMENTS,h);const g=o.getECLevel();return g!=null&&f.putMetadata(qe.ERROR_CORRECTION_LEVEL,g),f}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s==null||o==null)throw new re;const u=this.moduleSize(s,r);let c=s[1];const f=o[1];let h=s[0];const w=(o[0]-h+1)/u,C=(f-c+1)/u;if(w<=0||C<=0)throw new re;const I=u/2;c+=I,h+=I;const D=new ot(w,C);for(let V=0;V<C;V++){const W=c+V*u;for(let H=0;H<w;H++)r.get(h+H*u,W)&&D.set(H,V)}return D}static moduleSize(r,s){const o=s.getWidth();let u=r[0];const c=r[1];for(;u<o&&s.get(u,c);)u++;if(u===o)throw new re;const f=u-r[0];if(f===0)throw new re;return f}}ri.NO_POINTS=[];class Oc extends Jn{constructor(r=500){super(new ri,r)}}var Ki;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(Ki||(Ki={}));class Rt{constructor(r,s,o){this.value=r,this.stringValue=s,this.bits=o,Rt.FOR_BITS.set(o,this),Rt.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return Rt.L;case"M":return Rt.M;case"Q":return Rt.Q;case"H":return Rt.H;default:throw new E(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof Rt))return!1;const s=r;return this.value===s.value}static forBits(r){if(r<0||r>=Rt.FOR_BITS.size)throw new A;return Rt.FOR_BITS.get(r)}}Rt.FOR_BITS=new Map,Rt.FOR_VALUE=new Map,Rt.L=new Rt(Ki.L,"L",1),Rt.M=new Rt(Ki.M,"M",0),Rt.Q=new Rt(Ki.Q,"Q",3),Rt.H=new Rt(Ki.H,"H",2);class An{constructor(r){this.errorCorrectionLevel=Rt.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,s){return N.bitCount(r^s)}static decodeFormatInformation(r,s){const o=An.doDecodeFormatInformation(r,s);return o!==null?o:An.doDecodeFormatInformation(r^An.FORMAT_INFO_MASK_QR,s^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,s){let o=Number.MAX_SAFE_INTEGER,u=0;for(const c of An.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===r||f===s)return new An(c[1]);let h=An.numBitsDiffering(r,f);h<o&&(u=c[1],o=h),r!==s&&(h=An.numBitsDiffering(s,f),h<o&&(u=c[1],o=h))}return o<=3?new An(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof An))return!1;const s=r;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class q{constructor(r,...s){this.ecCodewordsPerBlock=r,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const s=this.ecBlocks;for(const o of s)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class F{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Me{constructor(r,s,...o){this.versionNumber=r,this.alignmentPatternCenters=s,this.ecBlocks=o;let u=0;const c=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const h of f)u+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new z;try{return this.getVersionForNumber((r-17)/4)}catch{throw new z}}static getVersionForNumber(r){if(r<1||r>40)throw new A;return Me.VERSIONS[r-1]}static decodeVersionInformation(r){let s=Number.MAX_SAFE_INTEGER,o=0;for(let u=0;u<Me.VERSION_DECODE_INFO.length;u++){const c=Me.VERSION_DECODE_INFO[u];if(c===r)return Me.getVersionForNumber(u+7);const f=An.numBitsDiffering(r,c);f<s&&(o=u+7,s=f)}return s<=3?Me.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),s=new ot(r);s.setRegion(0,0,9,9),s.setRegion(r-8,0,8,9),s.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let u=0;u<o;u++){const c=this.alignmentPatternCenters[u]-2;for(let f=0;f<o;f++)u===0&&(f===0||f===o-1)||u===o-1&&f===0||s.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return s.setRegion(6,9,1,r-17),s.setRegion(9,6,r-17,1),this.versionNumber>6&&(s.setRegion(r-11,0,3,6),s.setRegion(0,r-11,6,3)),s}toString(){return""+this.versionNumber}}Me.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Me.VERSIONS=[new Me(1,new Int32Array(0),new q(7,new F(1,19)),new q(10,new F(1,16)),new q(13,new F(1,13)),new q(17,new F(1,9))),new Me(2,Int32Array.from([6,18]),new q(10,new F(1,34)),new q(16,new F(1,28)),new q(22,new F(1,22)),new q(28,new F(1,16))),new Me(3,Int32Array.from([6,22]),new q(15,new F(1,55)),new q(26,new F(1,44)),new q(18,new F(2,17)),new q(22,new F(2,13))),new Me(4,Int32Array.from([6,26]),new q(20,new F(1,80)),new q(18,new F(2,32)),new q(26,new F(2,24)),new q(16,new F(4,9))),new Me(5,Int32Array.from([6,30]),new q(26,new F(1,108)),new q(24,new F(2,43)),new q(18,new F(2,15),new F(2,16)),new q(22,new F(2,11),new F(2,12))),new Me(6,Int32Array.from([6,34]),new q(18,new F(2,68)),new q(16,new F(4,27)),new q(24,new F(4,19)),new q(28,new F(4,15))),new Me(7,Int32Array.from([6,22,38]),new q(20,new F(2,78)),new q(18,new F(4,31)),new q(18,new F(2,14),new F(4,15)),new q(26,new F(4,13),new F(1,14))),new Me(8,Int32Array.from([6,24,42]),new q(24,new F(2,97)),new q(22,new F(2,38),new F(2,39)),new q(22,new F(4,18),new F(2,19)),new q(26,new F(4,14),new F(2,15))),new Me(9,Int32Array.from([6,26,46]),new q(30,new F(2,116)),new q(22,new F(3,36),new F(2,37)),new q(20,new F(4,16),new F(4,17)),new q(24,new F(4,12),new F(4,13))),new Me(10,Int32Array.from([6,28,50]),new q(18,new F(2,68),new F(2,69)),new q(26,new F(4,43),new F(1,44)),new q(24,new F(6,19),new F(2,20)),new q(28,new F(6,15),new F(2,16))),new Me(11,Int32Array.from([6,30,54]),new q(20,new F(4,81)),new q(30,new F(1,50),new F(4,51)),new q(28,new F(4,22),new F(4,23)),new q(24,new F(3,12),new F(8,13))),new Me(12,Int32Array.from([6,32,58]),new q(24,new F(2,92),new F(2,93)),new q(22,new F(6,36),new F(2,37)),new q(26,new F(4,20),new F(6,21)),new q(28,new F(7,14),new F(4,15))),new Me(13,Int32Array.from([6,34,62]),new q(26,new F(4,107)),new q(22,new F(8,37),new F(1,38)),new q(24,new F(8,20),new F(4,21)),new q(22,new F(12,11),new F(4,12))),new Me(14,Int32Array.from([6,26,46,66]),new q(30,new F(3,115),new F(1,116)),new q(24,new F(4,40),new F(5,41)),new q(20,new F(11,16),new F(5,17)),new q(24,new F(11,12),new F(5,13))),new Me(15,Int32Array.from([6,26,48,70]),new q(22,new F(5,87),new F(1,88)),new q(24,new F(5,41),new F(5,42)),new q(30,new F(5,24),new F(7,25)),new q(24,new F(11,12),new F(7,13))),new Me(16,Int32Array.from([6,26,50,74]),new q(24,new F(5,98),new F(1,99)),new q(28,new F(7,45),new F(3,46)),new q(24,new F(15,19),new F(2,20)),new q(30,new F(3,15),new F(13,16))),new Me(17,Int32Array.from([6,30,54,78]),new q(28,new F(1,107),new F(5,108)),new q(28,new F(10,46),new F(1,47)),new q(28,new F(1,22),new F(15,23)),new q(28,new F(2,14),new F(17,15))),new Me(18,Int32Array.from([6,30,56,82]),new q(30,new F(5,120),new F(1,121)),new q(26,new F(9,43),new F(4,44)),new q(28,new F(17,22),new F(1,23)),new q(28,new F(2,14),new F(19,15))),new Me(19,Int32Array.from([6,30,58,86]),new q(28,new F(3,113),new F(4,114)),new q(26,new F(3,44),new F(11,45)),new q(26,new F(17,21),new F(4,22)),new q(26,new F(9,13),new F(16,14))),new Me(20,Int32Array.from([6,34,62,90]),new q(28,new F(3,107),new F(5,108)),new q(26,new F(3,41),new F(13,42)),new q(30,new F(15,24),new F(5,25)),new q(28,new F(15,15),new F(10,16))),new Me(21,Int32Array.from([6,28,50,72,94]),new q(28,new F(4,116),new F(4,117)),new q(26,new F(17,42)),new q(28,new F(17,22),new F(6,23)),new q(30,new F(19,16),new F(6,17))),new Me(22,Int32Array.from([6,26,50,74,98]),new q(28,new F(2,111),new F(7,112)),new q(28,new F(17,46)),new q(30,new F(7,24),new F(16,25)),new q(24,new F(34,13))),new Me(23,Int32Array.from([6,30,54,78,102]),new q(30,new F(4,121),new F(5,122)),new q(28,new F(4,47),new F(14,48)),new q(30,new F(11,24),new F(14,25)),new q(30,new F(16,15),new F(14,16))),new Me(24,Int32Array.from([6,28,54,80,106]),new q(30,new F(6,117),new F(4,118)),new q(28,new F(6,45),new F(14,46)),new q(30,new F(11,24),new F(16,25)),new q(30,new F(30,16),new F(2,17))),new Me(25,Int32Array.from([6,32,58,84,110]),new q(26,new F(8,106),new F(4,107)),new q(28,new F(8,47),new F(13,48)),new q(30,new F(7,24),new F(22,25)),new q(30,new F(22,15),new F(13,16))),new Me(26,Int32Array.from([6,30,58,86,114]),new q(28,new F(10,114),new F(2,115)),new q(28,new F(19,46),new F(4,47)),new q(28,new F(28,22),new F(6,23)),new q(30,new F(33,16),new F(4,17))),new Me(27,Int32Array.from([6,34,62,90,118]),new q(30,new F(8,122),new F(4,123)),new q(28,new F(22,45),new F(3,46)),new q(30,new F(8,23),new F(26,24)),new q(30,new F(12,15),new F(28,16))),new Me(28,Int32Array.from([6,26,50,74,98,122]),new q(30,new F(3,117),new F(10,118)),new q(28,new F(3,45),new F(23,46)),new q(30,new F(4,24),new F(31,25)),new q(30,new F(11,15),new F(31,16))),new Me(29,Int32Array.from([6,30,54,78,102,126]),new q(30,new F(7,116),new F(7,117)),new q(28,new F(21,45),new F(7,46)),new q(30,new F(1,23),new F(37,24)),new q(30,new F(19,15),new F(26,16))),new Me(30,Int32Array.from([6,26,52,78,104,130]),new q(30,new F(5,115),new F(10,116)),new q(28,new F(19,47),new F(10,48)),new q(30,new F(15,24),new F(25,25)),new q(30,new F(23,15),new F(25,16))),new Me(31,Int32Array.from([6,30,56,82,108,134]),new q(30,new F(13,115),new F(3,116)),new q(28,new F(2,46),new F(29,47)),new q(30,new F(42,24),new F(1,25)),new q(30,new F(23,15),new F(28,16))),new Me(32,Int32Array.from([6,34,60,86,112,138]),new q(30,new F(17,115)),new q(28,new F(10,46),new F(23,47)),new q(30,new F(10,24),new F(35,25)),new q(30,new F(19,15),new F(35,16))),new Me(33,Int32Array.from([6,30,58,86,114,142]),new q(30,new F(17,115),new F(1,116)),new q(28,new F(14,46),new F(21,47)),new q(30,new F(29,24),new F(19,25)),new q(30,new F(11,15),new F(46,16))),new Me(34,Int32Array.from([6,34,62,90,118,146]),new q(30,new F(13,115),new F(6,116)),new q(28,new F(14,46),new F(23,47)),new q(30,new F(44,24),new F(7,25)),new q(30,new F(59,16),new F(1,17))),new Me(35,Int32Array.from([6,30,54,78,102,126,150]),new q(30,new F(12,121),new F(7,122)),new q(28,new F(12,47),new F(26,48)),new q(30,new F(39,24),new F(14,25)),new q(30,new F(22,15),new F(41,16))),new Me(36,Int32Array.from([6,24,50,76,102,128,154]),new q(30,new F(6,121),new F(14,122)),new q(28,new F(6,47),new F(34,48)),new q(30,new F(46,24),new F(10,25)),new q(30,new F(2,15),new F(64,16))),new Me(37,Int32Array.from([6,28,54,80,106,132,158]),new q(30,new F(17,122),new F(4,123)),new q(28,new F(29,46),new F(14,47)),new q(30,new F(49,24),new F(10,25)),new q(30,new F(24,15),new F(46,16))),new Me(38,Int32Array.from([6,32,58,84,110,136,162]),new q(30,new F(4,122),new F(18,123)),new q(28,new F(13,46),new F(32,47)),new q(30,new F(48,24),new F(14,25)),new q(30,new F(42,15),new F(32,16))),new Me(39,Int32Array.from([6,26,54,82,110,138,166]),new q(30,new F(20,117),new F(4,118)),new q(28,new F(40,47),new F(7,48)),new q(30,new F(43,24),new F(22,25)),new q(30,new F(10,15),new F(67,16))),new Me(40,Int32Array.from([6,30,58,86,114,142,170]),new q(30,new F(19,118),new F(6,119)),new q(28,new F(18,47),new F(31,48)),new q(30,new F(34,24),new F(34,25)),new q(30,new F(20,15),new F(61,16)))];var un;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(un||(un={}));class nr{constructor(r,s){this.value=r,this.isMasked=s}unmaskBitMatrix(r,s){for(let o=0;o<s;o++)for(let u=0;u<s;u++)this.isMasked(o,u)&&r.flip(u,o)}}nr.values=new Map([[un.DATA_MASK_000,new nr(un.DATA_MASK_000,(T,r)=>(T+r&1)===0)],[un.DATA_MASK_001,new nr(un.DATA_MASK_001,(T,r)=>(T&1)===0)],[un.DATA_MASK_010,new nr(un.DATA_MASK_010,(T,r)=>r%3===0)],[un.DATA_MASK_011,new nr(un.DATA_MASK_011,(T,r)=>(T+r)%3===0)],[un.DATA_MASK_100,new nr(un.DATA_MASK_100,(T,r)=>(Math.floor(T/2)+Math.floor(r/3)&1)===0)],[un.DATA_MASK_101,new nr(un.DATA_MASK_101,(T,r)=>T*r%6===0)],[un.DATA_MASK_110,new nr(un.DATA_MASK_110,(T,r)=>T*r%6<3)],[un.DATA_MASK_111,new nr(un.DATA_MASK_111,(T,r)=>(T+r+T*r%3&1)===0)]]);class Dc{constructor(r){const s=r.getHeight();if(s<21||(s&3)!==1)throw new z;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let c=0;c<6;c++)r=this.copyBit(c,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let c=5;c>=0;c--)r=this.copyBit(8,c,r);const s=this.bitMatrix.getHeight();let o=0;const u=s-7;for(let c=s-1;c>=u;c--)o=this.copyBit(8,c,o);for(let c=s-8;c<s;c++)o=this.copyBit(c,8,o);if(this.parsedFormatInfo=An.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),s=Math.floor((r-17)/4);if(s<=6)return Me.getVersionForNumber(s);let o=0;const u=r-11;for(let f=5;f>=0;f--)for(let h=r-9;h>=u;h--)o=this.copyBit(h,f,o);let c=Me.decodeVersionInformation(o);if(c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;o=0;for(let f=5;f>=0;f--)for(let h=r-9;h>=u;h--)o=this.copyBit(f,h,o);if(c=Me.decodeVersionInformation(o),c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;throw new z}copyBit(r,s,o){return(this.isMirror?this.bitMatrix.get(s,r):this.bitMatrix.get(r,s))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),s=this.readVersion(),o=nr.values.get(r.getDataMask()),u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u);const c=s.buildFunctionPattern();let f=!0;const h=new Uint8Array(s.getTotalCodewords());let g=0,w=0,C=0;for(let I=u-1;I>0;I-=2){I===6&&I--;for(let D=0;D<u;D++){const V=f?u-1-D:D;for(let W=0;W<2;W++)c.get(I-W,V)||(C++,w<<=1,this.bitMatrix.get(I-W,V)&&(w|=1),C===8&&(h[g++]=w,C=0,w=0))}f=!f}if(g!==s.getTotalCodewords())throw new z;return h}remask(){if(this.parsedFormatInfo===null)return;const r=nr.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let s=0,o=r.getWidth();s<o;s++)for(let u=s+1,c=r.getHeight();u<c;u++)r.get(s,u)!==r.get(u,s)&&(r.flip(u,s),r.flip(s,u))}}class wa{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s,o){if(r.length!==s.getTotalCodewords())throw new A;const u=s.getECBlocksForLevel(o);let c=0;const f=u.getECBlocks();for(const W of f)c+=W.getCount();const h=new Array(c);let g=0;for(const W of f)for(let H=0;H<W.getCount();H++){const Z=W.getDataCodewords(),te=u.getECCodewordsPerBlock()+Z;h[g++]=new wa(Z,new Uint8Array(te))}const w=h[0].codewords.length;let C=h.length-1;for(;C>=0&&h[C].codewords.length!==w;)C--;C++;const I=w-u.getECCodewordsPerBlock();let D=0;for(let W=0;W<I;W++)for(let H=0;H<g;H++)h[H].codewords[W]=r[D++];for(let W=C;W<g;W++)h[W].codewords[I]=r[D++];const V=h[0].codewords.length;for(let W=I;W<V;W++)for(let H=0;H<g;H++){const Z=H<C?W:W+1;h[H].codewords[Z]=r[D++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var rr;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(rr||(rr={}));class Fe{constructor(r,s,o,u){this.value=r,this.stringValue=s,this.characterCountBitsForVersions=o,this.bits=u,Fe.FOR_BITS.set(u,this),Fe.FOR_VALUE.set(r,this)}static forBits(r){const s=Fe.FOR_BITS.get(r);if(s===void 0)throw new A;return s}getCharacterCountBits(r){const s=r.getVersionNumber();let o;return s<=9?o=0:s<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Fe))return!1;const s=r;return this.value===s.value}toString(){return this.stringValue}}Fe.FOR_BITS=new Map,Fe.FOR_VALUE=new Map,Fe.TERMINATOR=new Fe(rr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Fe.NUMERIC=new Fe(rr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Fe.ALPHANUMERIC=new Fe(rr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Fe.STRUCTURED_APPEND=new Fe(rr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Fe.BYTE=new Fe(rr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Fe.ECI=new Fe(rr.ECI,"ECI",Int32Array.from([0,0,0]),7),Fe.KANJI=new Fe(rr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Fe.FNC1_FIRST_POSITION=new Fe(rr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Fe.FNC1_SECOND_POSITION=new Fe(rr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Fe.HANZI=new Fe(rr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Bt{static decode(r,s,o,u){const c=new Xl(r);let f=new Xe;const h=new Array;let g=-1,w=-1;try{let C=null,I=!1,D;do{if(c.available()<4)D=Fe.TERMINATOR;else{const V=c.readBits(4);D=Fe.forBits(V)}switch(D){case Fe.TERMINATOR:break;case Fe.FNC1_FIRST_POSITION:case Fe.FNC1_SECOND_POSITION:I=!0;break;case Fe.STRUCTURED_APPEND:if(c.available()<16)throw new z;g=c.readBits(8),w=c.readBits(8);break;case Fe.ECI:const V=Bt.parseECIValue(c);if(C=ne.getCharacterSetECIByValue(V),C===null)throw new z;break;case Fe.HANZI:const W=c.readBits(4),H=c.readBits(D.getCharacterCountBits(s));W===Bt.GB2312_SUBSET&&Bt.decodeHanziSegment(c,f,H);break;default:const Z=c.readBits(D.getCharacterCountBits(s));switch(D){case Fe.NUMERIC:Bt.decodeNumericSegment(c,f,Z);break;case Fe.ALPHANUMERIC:Bt.decodeAlphanumericSegment(c,f,Z,I);break;case Fe.BYTE:Bt.decodeByteSegment(c,f,Z,C,h,u);break;case Fe.KANJI:Bt.decodeKanjiSegment(c,f,Z);break;default:throw new z}break}}while(D!==Fe.TERMINATOR)}catch{throw new z}return new ws(r,f.toString(),h.length===0?null:h,o===null?null:o.toString(),g,w)}static decodeHanziSegment(r,s,o){if(o*13>r.available())throw new z;const u=new Uint8Array(2*o);let c=0;for(;o>0;){const f=r.readBits(13);let h=f/96<<8&4294967295|f%96;h<959?h+=41377:h+=42657,u[c]=h>>8&255,u[c+1]=h&255,c+=2,o--}try{s.append(De.decode(u,xe.GB2312))}catch(f){throw new z(f)}}static decodeKanjiSegment(r,s,o){if(o*13>r.available())throw new z;const u=new Uint8Array(2*o);let c=0;for(;o>0;){const f=r.readBits(13);let h=f/192<<8&4294967295|f%192;h<7936?h+=33088:h+=49472,u[c]=h>>8,u[c+1]=h,c+=2,o--}try{s.append(De.decode(u,xe.SHIFT_JIS))}catch(f){throw new z(f)}}static decodeByteSegment(r,s,o,u,c,f){if(8*o>r.available())throw new z;const h=new Uint8Array(o);for(let w=0;w<o;w++)h[w]=r.readBits(8);let g;u===null?g=xe.guessEncoding(h,f):g=u.getName();try{s.append(De.decode(h,g))}catch(w){throw new z(w)}c.push(h)}static toAlphaNumericChar(r){if(r>=Bt.ALPHANUMERIC_CHARS.length)throw new z;return Bt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,s,o,u){const c=s.length();for(;o>1;){if(r.available()<11)throw new z;const f=r.readBits(11);s.append(Bt.toAlphaNumericChar(Math.floor(f/45))),s.append(Bt.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(r.available()<6)throw new z;s.append(Bt.toAlphaNumericChar(r.readBits(6)))}if(u)for(let f=c;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,""))}static decodeNumericSegment(r,s,o){for(;o>=3;){if(r.available()<10)throw new z;const u=r.readBits(10);if(u>=1e3)throw new z;s.append(Bt.toAlphaNumericChar(Math.floor(u/100))),s.append(Bt.toAlphaNumericChar(Math.floor(u/10)%10)),s.append(Bt.toAlphaNumericChar(u%10)),o-=3}if(o===2){if(r.available()<7)throw new z;const u=r.readBits(7);if(u>=100)throw new z;s.append(Bt.toAlphaNumericChar(Math.floor(u/10))),s.append(Bt.toAlphaNumericChar(u%10))}else if(o===1){if(r.available()<4)throw new z;const u=r.readBits(4);if(u>=10)throw new z;s.append(Bt.toAlphaNumericChar(u))}}static parseECIValue(r){const s=r.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const o=r.readBits(8);return(s&63)<<8&4294967295|o}if((s&224)===192){const o=r.readBits(16);return(s&31)<<16&4294967295|o}throw new z}}Bt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Bt.GB2312_SUBSET=1;class Zl{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const s=r[0];r[0]=r[2],r[2]=s}}class kc{constructor(){this.rsDecoder=new fr(gt.QR_CODE_FIELD_256)}decodeBooleanArray(r,s){return this.decodeBitMatrix(ot.parseFromBooleanArray(r),s)}decodeBitMatrix(r,s){const o=new Dc(r);let u=null;try{return this.decodeBitMatrixParser(o,s)}catch(c){u=c}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const c=this.decodeBitMatrixParser(o,s);return c.setOther(new Zl(!0)),c}catch(c){throw u!==null?u:c}}decodeBitMatrixParser(r,s){const o=r.readVersion(),u=r.readFormatInformation().getErrorCorrectionLevel(),c=r.readCodewords(),f=wa.getDataBlocks(c,o,u);let h=0;for(const C of f)h+=C.getNumDataCodewords();const g=new Uint8Array(h);let w=0;for(const C of f){const I=C.getCodewords(),D=C.getNumDataCodewords();this.correctErrors(I,D);for(let V=0;V<D;V++)g[w++]=I[V]}return Bt.decode(g,o,u,s)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new L}for(let u=0;u<s;u++)r[u]=o[u]}}class va extends Re{constructor(r,s,o){super(r,s),this.estimatedModuleSize=o}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const u=(this.getX()+s)/2,c=(this.getY()+r)/2,f=(this.estimatedModuleSize+o)/2;return new va(u,c,f)}}class Co{constructor(r,s,o,u,c,f,h){this.image=r,this.startX=s,this.startY=o,this.width=u,this.height=c,this.moduleSize=f,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,s=this.height,o=this.width,u=r+o,c=this.startY+s/2,f=new Int32Array(3),h=this.image;for(let g=0;g<s;g++){const w=c+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=r;for(;C<u&&!h.get(C,w);)C++;let I=0;for(;C<u;){if(h.get(C,w))if(I===1)f[1]++;else if(I===2){if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,w,C);if(D!==null)return D}f[0]=f[2],f[1]=1,f[2]=0,I=1}else f[++I]++;else I===1&&I++,f[I]++;C++}if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,w,u);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(r,s){return s-r[2]-r[1]/2}foundPatternCross(r){const s=this.moduleSize,o=s/2;for(let u=0;u<3;u++)if(Math.abs(s-r[u])>=o)return!1;return!0}crossCheckVertical(r,s,o,u){const c=this.image,f=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let g=r;for(;g>=0&&c.get(s,g)&&h[1]<=o;)h[1]++,g--;if(g<0||h[1]>o)return NaN;for(;g>=0&&!c.get(s,g)&&h[0]<=o;)h[0]++,g--;if(h[0]>o)return NaN;for(g=r+1;g<f&&c.get(s,g)&&h[1]<=o;)h[1]++,g++;if(g===f||h[1]>o)return NaN;for(;g<f&&!c.get(s,g)&&h[2]<=o;)h[2]++,g++;if(h[2]>o)return NaN;const w=h[0]+h[1]+h[2];return 5*Math.abs(w-u)>=2*u?NaN:this.foundPatternCross(h)?Co.centerFromEnd(h,g):NaN}handlePossibleCenter(r,s,o){const u=r[0]+r[1]+r[2],c=Co.centerFromEnd(r,o),f=this.crossCheckVertical(s,c,2*r[1],u);if(!isNaN(f)){const h=(r[0]+r[1]+r[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(h,f,c))return w.combineEstimate(f,c,h);const g=new va(c,f,h);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class Ea extends Re{constructor(r,s,o,u){super(r,s),this.estimatedModuleSize=o,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const u=this.count+1,c=(this.count*this.getX()+s)/u,f=(this.count*this.getY()+r)/u,h=(this.count*this.estimatedModuleSize+o)/u;return new Ea(c,f,h,u)}}class Pc{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class cn{constructor(r,s){this.image=r,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const s=r!=null&&r.get(G.TRY_HARDER)!==void 0,o=r!=null&&r.get(G.PURE_BARCODE)!==void 0,u=this.image,c=u.getHeight(),f=u.getWidth();let h=Math.floor(3*c/(4*cn.MAX_MODULES));(h<cn.MIN_SKIP||s)&&(h=cn.MIN_SKIP);let g=!1;const w=new Int32Array(5);for(let I=h-1;I<c&&!g;I+=h){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let D=0;for(let V=0;V<f;V++)if(u.get(V,I))(D&1)===1&&D++,w[D]++;else if(D&1)w[D]++;else if(D===4)if(cn.foundPatternCross(w)){if(this.handlePossibleCenter(w,I,V,o)===!0)if(h=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const H=this.findRowSkip();H>w[2]&&(I+=H-w[2]-h,V=f-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,D=3;continue}D=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,D=3;else w[++D]++;cn.foundPatternCross(w)&&this.handlePossibleCenter(w,I,f,o)===!0&&(h=w[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Re.orderBestPatterns(C),new Pc(C)}static centerFromEnd(r,s){return s-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let s=0;for(let c=0;c<5;c++){const f=r[c];if(f===0)return!1;s+=f}if(s<7)return!1;const o=s/7,u=o/2;return Math.abs(o-r[0])<u&&Math.abs(o-r[1])<u&&Math.abs(3*o-r[2])<3*u&&Math.abs(o-r[3])<u&&Math.abs(o-r[4])<u}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,s,o,u){const c=this.getCrossCheckStateCount();let f=0;const h=this.image;for(;r>=f&&s>=f&&h.get(s-f,r-f);)c[2]++,f++;if(r<f||s<f)return!1;for(;r>=f&&s>=f&&!h.get(s-f,r-f)&&c[1]<=o;)c[1]++,f++;if(r<f||s<f||c[1]>o)return!1;for(;r>=f&&s>=f&&h.get(s-f,r-f)&&c[0]<=o;)c[0]++,f++;if(c[0]>o)return!1;const g=h.getHeight(),w=h.getWidth();for(f=1;r+f<g&&s+f<w&&h.get(s+f,r+f);)c[2]++,f++;if(r+f>=g||s+f>=w)return!1;for(;r+f<g&&s+f<w&&!h.get(s+f,r+f)&&c[3]<o;)c[3]++,f++;if(r+f>=g||s+f>=w||c[3]>=o)return!1;for(;r+f<g&&s+f<w&&h.get(s+f,r+f)&&c[4]<o;)c[4]++,f++;if(c[4]>=o)return!1;const C=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(C-u)<2*u&&cn.foundPatternCross(c)}crossCheckVertical(r,s,o,u){const c=this.image,f=c.getHeight(),h=this.getCrossCheckStateCount();let g=r;for(;g>=0&&c.get(s,g);)h[2]++,g--;if(g<0)return NaN;for(;g>=0&&!c.get(s,g)&&h[1]<=o;)h[1]++,g--;if(g<0||h[1]>o)return NaN;for(;g>=0&&c.get(s,g)&&h[0]<=o;)h[0]++,g--;if(h[0]>o)return NaN;for(g=r+1;g<f&&c.get(s,g);)h[2]++,g++;if(g===f)return NaN;for(;g<f&&!c.get(s,g)&&h[3]<o;)h[3]++,g++;if(g===f||h[3]>=o)return NaN;for(;g<f&&c.get(s,g)&&h[4]<o;)h[4]++,g++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-u)>=2*u?NaN:cn.foundPatternCross(h)?cn.centerFromEnd(h,g):NaN}crossCheckHorizontal(r,s,o,u){const c=this.image,f=c.getWidth(),h=this.getCrossCheckStateCount();let g=r;for(;g>=0&&c.get(g,s);)h[2]++,g--;if(g<0)return NaN;for(;g>=0&&!c.get(g,s)&&h[1]<=o;)h[1]++,g--;if(g<0||h[1]>o)return NaN;for(;g>=0&&c.get(g,s)&&h[0]<=o;)h[0]++,g--;if(h[0]>o)return NaN;for(g=r+1;g<f&&c.get(g,s);)h[2]++,g++;if(g===f)return NaN;for(;g<f&&!c.get(g,s)&&h[3]<o;)h[3]++,g++;if(g===f||h[3]>=o)return NaN;for(;g<f&&c.get(g,s)&&h[4]<o;)h[4]++,g++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-u)>=u?NaN:cn.foundPatternCross(h)?cn.centerFromEnd(h,g):NaN}handlePossibleCenter(r,s,o,u){const c=r[0]+r[1]+r[2]+r[3]+r[4];let f=cn.centerFromEnd(r,o),h=this.crossCheckVertical(s,Math.floor(f),r[2],c);if(!isNaN(h)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(h),r[2],c),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(h),Math.floor(f),r[2],c)))){const g=c/7;let w=!1;const C=this.possibleCenters;for(let I=0,D=C.length;I<D;I++){const V=C[I];if(V.aboutEquals(g,h,f)){C[I]=V.combineEstimate(h,f,g),w=!0;break}}if(!w){const I=new Ea(f,h,g);C.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const o of this.possibleCenters)if(o.getCount()>=cn.CENTER_QUORUM)if(s==null)s=o;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-o.getX())-Math.abs(s.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,s=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=cn.CENTER_QUORUM&&(r++,s+=f.getEstimatedModuleSize());if(r<3)return!1;const u=s/o;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-u);return c<=.05*s}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new re;const s=this.possibleCenters;let o;if(r>3){let u=0,c=0;for(const g of this.possibleCenters){const w=g.getEstimatedModuleSize();u+=w,c+=w*w}o=u/r;let f=Math.sqrt(c/r-o*o);s.sort((g,w)=>{const C=Math.abs(w.getEstimatedModuleSize()-o),I=Math.abs(g.getEstimatedModuleSize()-o);return C<I?-1:C>I?1:0});const h=Math.max(.2*o,f);for(let g=0;g<s.length&&s.length>3;g++){const w=s[g];Math.abs(w.getEstimatedModuleSize()-o)>h&&(s.splice(g,1),g--)}}if(s.length>3){let u=0;for(const c of s)u+=c.getEstimatedModuleSize();o=u/s.length,s.sort((c,f)=>{if(f.getCount()===c.getCount()){const h=Math.abs(f.getEstimatedModuleSize()-o),g=Math.abs(c.getEstimatedModuleSize()-o);return h<g?1:h>g?-1:0}else return f.getCount()-c.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}cn.CENTER_QUORUM=2,cn.MIN_SKIP=3,cn.MAX_MODULES=57;class Cs{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(G.NEED_RESULT_POINT_CALLBACK);const o=new cn(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const s=r.getTopLeft(),o=r.getTopRight(),u=r.getBottomLeft(),c=this.calculateModuleSize(s,o,u);if(c<1)throw new re("No pattern found in proccess finder.");const f=Cs.computeDimension(s,o,u,c),h=Me.getProvisionalVersionForDimension(f),g=h.getDimensionForVersion()-7;let w=null;if(h.getAlignmentPatternCenters().length>0){const V=o.getX()-s.getX()+u.getX(),W=o.getY()-s.getY()+u.getY(),H=1-3/g,Z=Math.floor(s.getX()+H*(V-s.getX())),te=Math.floor(s.getY()+H*(W-s.getY()));for(let de=4;de<=16;de<<=1)try{w=this.findAlignmentInRegion(c,Z,te,de);break}catch(pe){if(!(pe instanceof re))throw pe}}const C=Cs.createTransform(s,o,u,w,f),I=Cs.sampleGrid(this.image,C,f);let D;return w===null?D=[u,s,o]:D=[u,s,o,w],new vs(I,D)}static createTransform(r,s,o,u,c){const f=c-3.5;let h,g,w,C;return u!==null?(h=u.getX(),g=u.getY(),w=f-3,C=w):(h=s.getX()-r.getX()+o.getX(),g=s.getY()-r.getY()+o.getY(),w=f,C=f),dr.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,w,C,3.5,f,r.getX(),r.getY(),s.getX(),s.getY(),h,g,o.getX(),o.getY())}static sampleGrid(r,s,o){return Ei.getInstance().sampleGridWithTransform(r,o,o,s)}static computeDimension(r,s,o,u){const c=ft.round(Re.distance(r,s)/u),f=ft.round(Re.distance(r,o)/u);let h=Math.floor((c+f)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new re("Dimensions could be not found.")}return h}calculateModuleSize(r,s,o){return(this.calculateModuleSizeOneWay(r,s)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,s){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(s.getX()),Math.floor(s.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?u/7:isNaN(u)?o/7:(o+u)/14}sizeOfBlackWhiteBlackRunBothWays(r,s,o,u){let c=this.sizeOfBlackWhiteBlackRun(r,s,o,u),f=1,h=r-(o-r);h<0?(f=r/(r-h),h=0):h>=this.image.getWidth()&&(f=(this.image.getWidth()-1-r)/(h-r),h=this.image.getWidth()-1);let g=Math.floor(s-(u-s)*f);return f=1,g<0?(f=s/(s-g),g=0):g>=this.image.getHeight()&&(f=(this.image.getHeight()-1-s)/(g-s),g=this.image.getHeight()-1),h=Math.floor(r+(h-r)*f),c+=this.sizeOfBlackWhiteBlackRun(r,s,h,g),c-1}sizeOfBlackWhiteBlackRun(r,s,o,u){const c=Math.abs(u-s)>Math.abs(o-r);if(c){let V=r;r=s,s=V,V=o,o=u,u=V}const f=Math.abs(o-r),h=Math.abs(u-s);let g=-f/2;const w=r<o?1:-1,C=s<u?1:-1;let I=0;const D=o+w;for(let V=r,W=s;V!==D;V+=w){const H=c?W:V,Z=c?V:W;if(I===1===this.image.get(H,Z)){if(I===2)return ft.distance(V,W,r,s);I++}if(g+=h,g>0){if(W===u)break;W+=C,g-=f}}return I===2?ft.distance(o+w,u,r,s):NaN}findAlignmentInRegion(r,s,o,u){const c=Math.floor(u*r),f=Math.max(0,s-c),h=Math.min(this.image.getWidth()-1,s+c);if(h-f<r*3)throw new re("Alignment top exceeds estimated module size.");const g=Math.max(0,o-c),w=Math.min(this.image.getHeight()-1,o+c);if(w-g<r*3)throw new re("Alignment bottom exceeds estimated module size.");return new Co(this.image,f,g,h-f,w-g,r,this.resultPointCallback).find()}}class ii{constructor(){this.decoder=new kc}getDecoder(){return this.decoder}decode(r,s){let o,u;if(s!=null&&s.get(G.PURE_BARCODE)!==void 0){const g=ii.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(g,s),u=ii.NO_POINTS}else{const g=new Cs(r.getBlackMatrix()).detect(s);o=this.decoder.decodeBitMatrix(g.getBits(),s),u=g.getPoints()}o.getOther()instanceof Zl&&o.getOther().applyMirroredCorrection(u);const c=new Vt(o.getText(),o.getRawBytes(),void 0,u,ke.QR_CODE,void 0),f=o.getByteSegments();f!==null&&c.putMetadata(qe.BYTE_SEGMENTS,f);const h=o.getECLevel();return h!==null&&c.putMetadata(qe.ERROR_CORRECTION_LEVEL,h),o.hasStructuredAppend()&&(c.putMetadata(qe.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),c.putMetadata(qe.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),c}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s===null||o===null)throw new re;const u=this.moduleSize(s,r);let c=s[1],f=o[1],h=s[0],g=o[0];if(h>=g||c>=f)throw new re;if(f-c!==g-h&&(g=h+(f-c),g>=r.getWidth()))throw new re;const w=Math.round((g-h+1)/u),C=Math.round((f-c+1)/u);if(w<=0||C<=0)throw new re;if(C!==w)throw new re;const I=Math.floor(u/2);c+=I,h+=I;const D=h+Math.floor((w-1)*u)-g;if(D>0){if(D>I)throw new re;h-=D}const V=c+Math.floor((C-1)*u)-f;if(V>0){if(V>I)throw new re;c-=V}const W=new ot(w,C);for(let H=0;H<C;H++){const Z=c+Math.floor(H*u);for(let te=0;te<w;te++)r.get(h+Math.floor(te*u),Z)&&W.set(te,H)}return W}static moduleSize(r,s){const o=s.getHeight(),u=s.getWidth();let c=r[0],f=r[1],h=!0,g=0;for(;c<u&&f<o;){if(h!==s.get(c,f)){if(++g===5)break;h=!h}c++,f++}if(c===u||f===o)throw new re;return(c-r[0])/7}}ii.NO_POINTS=new Array;class Ue{PDF417Common(){}static getBitCountSum(r){return ft.sum(r)}static toIntArray(r){if(r==null||!r.length)return Ue.EMPTY_INT_ARRAY;const s=new Int32Array(r.length);let o=0;for(const u of r)s[o++]=u;return s}static getCodeword(r){const s=b.binarySearch(Ue.SYMBOL_TABLE,r&262143);return s<0?-1:(Ue.CODEWORD_TABLE[s]-1)%Ue.NUMBER_OF_CODEWORDS}}Ue.NUMBER_OF_CODEWORDS=929,Ue.MAX_CODEWORDS_IN_BARCODE=Ue.NUMBER_OF_CODEWORDS-1,Ue.MIN_ROWS_IN_BARCODE=3,Ue.MAX_ROWS_IN_BARCODE=90,Ue.MODULES_IN_CODEWORD=17,Ue.MODULES_IN_STOP_PATTERN=18,Ue.BARS_IN_MODULE=8,Ue.EMPTY_INT_ARRAY=new Int32Array([]),Ue.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ue.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Mc{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ye{static detectMultiple(r,s,o){let u=r.getBlackMatrix(),c=Ye.detect(o,u);return c.length||(u=u.clone(),u.rotate180(),c=Ye.detect(o,u)),new Mc(u,c)}static detect(r,s){const o=new Array;let u=0,c=0,f=!1;for(;u<s.getHeight();){const h=Ye.findVertices(s,u,c);if(h[0]==null&&h[3]==null){if(!f)break;f=!1,c=0;for(const g of o)g[1]!=null&&(u=Math.trunc(Math.max(u,g[1].getY()))),g[3]!=null&&(u=Math.max(u,Math.trunc(g[3].getY())));u+=Ye.ROW_STEP;continue}if(f=!0,o.push(h),!r)break;h[2]!=null?(c=Math.trunc(h[2].getX()),u=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),u=Math.trunc(h[4].getY()))}return o}static findVertices(r,s,o){const u=r.getHeight(),c=r.getWidth(),f=new Array(8);return Ye.copyToResult(f,Ye.findRowsWithPattern(r,u,c,s,o,Ye.START_PATTERN),Ye.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY())),Ye.copyToResult(f,Ye.findRowsWithPattern(r,u,c,s,o,Ye.STOP_PATTERN),Ye.INDEXES_STOP_PATTERN),f}static copyToResult(r,s,o){for(let u=0;u<o.length;u++)r[o[u]]=s[u]}static findRowsWithPattern(r,s,o,u,c,f){const h=new Array(4);let g=!1;const w=new Int32Array(f.length);for(;u<s;u+=Ye.ROW_STEP){let I=Ye.findGuardPattern(r,c,u,o,!1,f,w);if(I!=null){for(;u>0;){const D=Ye.findGuardPattern(r,c,--u,o,!1,f,w);if(D!=null)I=D;else{u++;break}}h[0]=new Re(I[0],u),h[1]=new Re(I[1],u),g=!0;break}}let C=u+1;if(g){let I=0,D=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;C<s;C++){const V=Ye.findGuardPattern(r,D[0],C,o,!1,f,w);if(V!=null&&Math.abs(D[0]-V[0])<Ye.MAX_PATTERN_DRIFT&&Math.abs(D[1]-V[1])<Ye.MAX_PATTERN_DRIFT)D=V,I=0;else{if(I>Ye.SKIPPED_ROW_COUNT_MAX)break;I++}}C-=I+1,h[2]=new Re(D[0],C),h[3]=new Re(D[1],C)}return C-u<Ye.BARCODE_MIN_HEIGHT&&b.fill(h,null),h}static findGuardPattern(r,s,o,u,c,f,h){b.fillWithin(h,0,h.length,0);let g=s,w=0;for(;r.get(g,o)&&g>0&&w++<Ye.MAX_PIXEL_DRIFT;)g--;let C=g,I=0,D=f.length;for(let V=c;C<u;C++)if(r.get(C,o)!==V)h[I]++;else{if(I===D-1){if(Ye.patternMatchVariance(h,f,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return new Int32Array([g,C]);g+=h[0]+h[1],R.arraycopy(h,2,h,0,I-1),h[I-1]=0,h[I]=0,I--}else I++;h[I]=1,V=!V}return I===D-1&&Ye.patternMatchVariance(h,f,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE?new Int32Array([g,C-1]):null}static patternMatchVariance(r,s,o){let u=r.length,c=0,f=0;for(let w=0;w<u;w++)c+=r[w],f+=s[w];if(c<f)return 1/0;let h=c/f;o*=h;let g=0;for(let w=0;w<u;w++){let C=r[w],I=s[w]*h,D=C>I?C-I:I-C;if(D>o)return 1/0;g+=D}return g/c}}Ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ye.MAX_AVG_VARIANCE=.42,Ye.MAX_INDIVIDUAL_VARIANCE=.8,Ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ye.MAX_PIXEL_DRIFT=3,Ye.MAX_PATTERN_DRIFT=5,Ye.SKIPPED_ROW_COUNT_MAX=25,Ye.ROW_STEP=5,Ye.BARCODE_MIN_HEIGHT=10;class mn{constructor(r,s){if(s.length===0)throw new A;this.field=r;let o=s.length;if(o>1&&s[0]===0){let u=1;for(;u<o&&s[u]===0;)u++;u===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-u),R.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let u=0;for(let c of this.coefficients)u=this.field.add(u,c);return u}let s=this.coefficients[0],o=this.coefficients.length;for(let u=1;u<o;u++)s=this.field.add(this.field.multiply(r,s),this.coefficients[u]);return s}add(r){if(!this.field.equals(r.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){let f=s;s=o,o=f}let u=new Int32Array(o.length),c=o.length-s.length;R.arraycopy(o,0,u,0,c);for(let f=c;f<o.length;f++)u[f]=this.field.add(s[f-c],o[f]);return new mn(this.field,u)}subtract(r){if(!this.field.equals(r.field))throw new A("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof mn?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new mn(this.field,new Int32Array([0]));let s=this.coefficients,o=s.length,u=r.coefficients,c=u.length,f=new Int32Array(o+c-1);for(let h=0;h<o;h++){let g=s[h];for(let w=0;w<c;w++)f[h+w]=this.field.add(f[h+w],this.field.multiply(g,u[w]))}return new mn(this.field,f)}negative(){let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.subtract(0,this.coefficients[o]);return new mn(this.field,s)}multiplyScalar(r){if(r===0)return new mn(this.field,new Int32Array([0]));if(r===1)return this;let s=this.coefficients.length,o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=this.field.multiply(this.coefficients[u],r);return new mn(this.field,o)}multiplyByMonomial(r,s){if(r<0)throw new A;if(s===0)return new mn(this.field,new Int32Array([0]));let o=this.coefficients.length,u=new Int32Array(o+r);for(let c=0;c<o;c++)u[c]=this.field.multiply(this.coefficients[c],s);return new mn(this.field,u)}toString(){let r=new Xe;for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(s===0||o!==1)&&r.append(o),s!==0&&(s===1?r.append("x"):(r.append("x^"),r.append(s))))}return r.toString()}}class Lc{add(r,s){return(r+s)%this.modulus}subtract(r,s){return(this.modulus+r-s)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new A;return this.logTable[r]}inverse(r){if(r===0)throw new er;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Ca extends Lc{constructor(r,s){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let u=0;u<r;u++)this.expTable[u]=o,o=o*s%r;for(let u=0;u<r-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new mn(this,new Int32Array([0])),this.one=new mn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new A;if(s===0)return this.zero;let o=new Int32Array(r+1);return o[0]=s,new mn(this,o)}}Ca.PDF417_GF=new Ca(Ue.NUMBER_OF_CODEWORDS,3);class ql{constructor(){this.field=Ca.PDF417_GF}decode(r,s,o){let u=new mn(this.field,r),c=new Int32Array(s),f=!1;for(let W=s;W>0;W--){let H=u.evaluateAt(this.field.exp(W));c[s-W]=H,H!==0&&(f=!0)}if(!f)return 0;let h=this.field.getOne();if(o!=null)for(const W of o){let H=this.field.exp(r.length-1-W),Z=new mn(this.field,new Int32Array([this.field.subtract(0,H),1]));h=h.multiply(Z)}let g=new mn(this.field,c),w=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),g,s),C=w[0],I=w[1],D=this.findErrorLocations(C),V=this.findErrorMagnitudes(I,C,D);for(let W=0;W<D.length;W++){let H=r.length-1-this.field.log(D[W]);if(H<0)throw L.getChecksumInstance();r[H]=this.field.subtract(r[H],V[W])}return D.length}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){let D=r;r=s,s=D}let u=r,c=s,f=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(o/2);){let D=u,V=f;if(u=c,f=h,u.isZero())throw L.getChecksumInstance();c=D;let W=this.field.getZero(),H=u.getCoefficient(u.getDegree()),Z=this.field.inverse(H);for(;c.getDegree()>=u.getDegree()&&!c.isZero();){let te=c.getDegree()-u.getDegree(),de=this.field.multiply(c.getCoefficient(c.getDegree()),Z);W=W.add(this.field.buildMonomial(te,de)),c=c.subtract(u.multiplyByMonomial(te,de))}h=W.multiply(f).subtract(V).negative()}let g=h.getCoefficient(0);if(g===0)throw L.getChecksumInstance();let w=this.field.inverse(g),C=h.multiply(w),I=c.multiply(w);return[C,I]}findErrorLocations(r){let s=r.getDegree(),o=new Int32Array(s),u=0;for(let c=1;c<this.field.getSize()&&u<s;c++)r.evaluateAt(c)===0&&(o[u]=this.field.inverse(c),u++);if(u!==s)throw L.getChecksumInstance();return o}findErrorMagnitudes(r,s,o){let u=s.getDegree(),c=new Int32Array(u);for(let w=1;w<=u;w++)c[u-w]=this.field.multiply(w,s.getCoefficient(w));let f=new mn(this.field,c),h=o.length,g=new Int32Array(h);for(let w=0;w<h;w++){let C=this.field.inverse(o[w]),I=this.field.subtract(0,r.evaluateAt(C)),D=this.field.inverse(f.evaluateAt(C));g[w]=this.field.multiply(I,D)}return g}}class _i{constructor(r,s,o,u,c){r instanceof _i?this.constructor_2(r):this.constructor_1(r,s,o,u,c)}constructor_1(r,s,o,u,c){const f=s==null||o==null,h=u==null||c==null;if(f&&h)throw new re;f?(s=new Re(0,u.getY()),o=new Re(0,c.getY())):h&&(u=new Re(r.getWidth()-1,s.getY()),c=new Re(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=s,this.bottomLeft=o,this.topRight=u,this.bottomRight=c,this.minX=Math.trunc(Math.min(s.getX(),o.getX())),this.maxX=Math.trunc(Math.max(u.getX(),c.getX())),this.minY=Math.trunc(Math.min(s.getY(),u.getY())),this.maxY=Math.trunc(Math.max(o.getY(),c.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,s){return r==null?s:s==null?r:new _i(r.image,r.topLeft,r.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(r,s,o){let u=this.topLeft,c=this.bottomLeft,f=this.topRight,h=this.bottomRight;if(r>0){let g=o?this.topLeft:this.topRight,w=Math.trunc(g.getY()-r);w<0&&(w=0);let C=new Re(g.getX(),w);o?u=C:f=C}if(s>0){let g=o?this.bottomLeft:this.bottomRight,w=Math.trunc(g.getY()+s);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let C=new Re(g.getX(),w);o?c=C:h=C}return new _i(this.image,u,c,f,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Bc{constructor(r,s,o,u){this.columnCount=r,this.errorCorrectionLevel=u,this.rowCountUpperPart=s,this.rowCountLowerPart=o,this.rowCount=s+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class As{constructor(){this.buffer=""}static form(r,s){let o=-1;function u(f,h,g,w,C,I){if(f==="%%")return"%";if(s[++o]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let D=C?parseInt(C.substr(1)):void 0,V;switch(I){case"s":V=s[o];break;case"c":V=s[o][0];break;case"f":V=parseFloat(s[o]).toFixed(f);break;case"p":V=parseFloat(s[o]).toPrecision(f);break;case"e":V=parseFloat(s[o]).toExponential(f);break;case"x":V=parseInt(s[o]).toString(D||16);break;case"d":V=parseFloat(parseInt(s[o],D||10).toPrecision(f)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(D);let W=parseInt(g),H=g&&g[0]+""=="0"?"0":" ";for(;V.length<W;)V=h!==void 0?V+H:H+V;return V}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}format(r,...s){this.buffer+=As.form(r,s)}toString(){return this.buffer}}class _s{constructor(r){this.boundingBox=new _i(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let s=this.getCodeword(r);if(s!=null)return s;for(let o=1;o<_s.MAX_NEARBY_DISTANCE;o++){let u=this.imageRowToCodewordIndex(r)-o;if(u>=0&&(s=this.codewords[u],s!=null)||(u=this.imageRowToCodewordIndex(r)+o,u<this.codewords.length&&(s=this.codewords[u],s!=null)))return s}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,s){this.codewords[this.imageRowToCodewordIndex(r)]=s}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new As;let s=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",s++);continue}r.format("%3d: %3d|%3d%n",s++,o.getRowNumber(),o.getValue())}return r.toString()}}_s.MAX_NEARBY_DISTANCE=5;class bs{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let s=this.values.get(r);s==null&&(s=0),s++,this.values.set(r,s)}getValue(){let r=-1,s=new Array;for(const[o,u]of this.values.entries()){const c={getKey:()=>o,getValue:()=>u};c.getValue()>r?(r=c.getValue(),s=[],s.push(c.getKey())):c.getValue()===r&&s.push(c.getKey())}return Ue.toIntArray(s)}getConfidence(r){return this.values.get(r)}}class Kl extends _s{constructor(r,s){super(r),this._isLeft=s}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,r);let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=-1,w=1,C=0;for(let I=f;I<h;I++){if(s[I]==null)continue;let D=s[I],V=D.getRowNumber()-g;if(V===0)C++;else if(V===1)w=Math.max(w,C),C=1,g=D.getRowNumber();else if(V<0||D.getRowNumber()>=r.getRowCount()||V>I)s[I]=null;else{let W;w>2?W=(w-2)*V:W=V;let H=W>=I;for(let Z=1;Z<=W&&!H;Z++)H=s[I-Z]!=null;H?s[I]=null:(g=D.getRowNumber(),C=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let s=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let u=o.getRowNumber();if(u>=s.length)continue;s[u]++}return s}adjustIncompleteIndicatorColumnRowNumbers(r){let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),h=this.getCodewords(),g=-1;for(let w=c;w<f;w++){if(h[w]==null)continue;let C=h[w];C.setRowNumberAsRowIndicatorColumn();let I=C.getRowNumber()-g;I===0||(I===1?g=C.getRowNumber():C.getRowNumber()>=r.getRowCount()?h[w]=null:g=C.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),s=new bs,o=new bs,u=new bs,c=new bs;for(let h of r){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let g=h.getValue()%30,w=h.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:o.setValue(g*3+1);break;case 1:c.setValue(g/3),u.setValue(g%3);break;case 2:s.setValue(g+1);break}}if(s.getValue().length===0||o.getValue().length===0||u.getValue().length===0||c.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<Ue.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>Ue.MAX_ROWS_IN_BARCODE)return null;let f=new Bc(s.getValue()[0],o.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(r,f),f}removeIncorrectCodewords(r,s){for(let o=0;o<r.length;o++){let u=r[o];if(r[o]==null)continue;let c=u.getValue()%30,f=u.getRowNumber();if(f>s.getRowCount()){r[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==s.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(c/3)!==s.getErrorCorrectionLevel()||c%3!==s.getRowCountLowerPart())&&(r[o]=null);break;case 2:c+1!==s.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ss{constructor(r,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Ue.MAX_CODEWORDS_IN_BARCODE,s;do s=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let o=this.detectionResultColumns[s].getCodewords();for(let u=0;u<o.length;u++)o[u]!=null&&(o[u].hasValidRowNumber()||this.adjustRowNumbers(s,u,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&s[o]!=null&&r[o].getRowNumber()===s[o].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let c=this.detectionResultColumns[u].getCodewords()[o];c!=null&&(c.setRowNumber(r[o].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let u=s[o].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let h=this.detectionResultColumns[f].getCodewords()[o];h!=null&&(c=Ss.adjustRowNumberIfValid(u,c,h),h.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,s=this.detectionResultColumns[0].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let u=s[o].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let h=this.detectionResultColumns[f].getCodewords()[o];h!=null&&(c=Ss.adjustRowNumberIfValid(u,c,h),h.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,s,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),s=0):++s),s}adjustRowNumbers(r,s,o){if(!this.detectionResultColumns[r-1])return;let u=o[s],c=this.detectionResultColumns[r-1].getCodewords(),f=c;this.detectionResultColumns[r+1]!=null&&(f=this.detectionResultColumns[r+1].getCodewords());let h=new Array(14);h[2]=c[s],h[3]=f[s],s>0&&(h[0]=o[s-1],h[4]=c[s-1],h[5]=f[s-1]),s>1&&(h[8]=o[s-2],h[10]=c[s-2],h[11]=f[s-2]),s<o.length-1&&(h[1]=o[s+1],h[6]=c[s+1],h[7]=f[s+1]),s<o.length-2&&(h[9]=o[s+2],h[12]=c[s+2],h[13]=f[s+2]);for(let g of h)if(Ss.adjustRowNumber(u,g))return}static adjustRowNumber(r,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===r.getBucket()?(r.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,s){this.detectionResultColumns[r]=s}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new As;for(let o=0;o<r.getCodewords().length;o++){s.format("CW %3d:",o);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){s.format("    |   ");continue}let c=this.detectionResultColumns[u].getCodewords()[o];if(c==null){s.format("    |   ");continue}s.format(" %3d|%3d",c.getRowNumber(),c.getValue())}s.format("%n")}return s.toString()}}class Ts{constructor(r,s,o,u){this.rowNumber=Ts.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(s),this.bucket=Math.trunc(o),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Ts.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Ts.BARCODE_ROW_UNKNOWN=-1;class Ln{static initialize(){for(let r=0;r<Ue.SYMBOL_TABLE.length;r++){let s=Ue.SYMBOL_TABLE[r],o=s&1;for(let u=0;u<Ue.BARS_IN_MODULE;u++){let c=0;for(;(s&1)===o;)c+=1,s>>=1;o=s&1,Ln.RATIOS_TABLE[r]||(Ln.RATIOS_TABLE[r]=new Array(Ue.BARS_IN_MODULE)),Ln.RATIOS_TABLE[r][Ue.BARS_IN_MODULE-u-1]=Math.fround(c/Ue.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let s=Ln.getDecodedCodewordValue(Ln.sampleBitCounts(r));return s!==-1?s:Ln.getClosestDecodedValue(r)}static sampleBitCounts(r){let s=ft.sum(r),o=new Int32Array(Ue.BARS_IN_MODULE),u=0,c=0;for(let f=0;f<Ue.MODULES_IN_CODEWORD;f++){let h=s/(2*Ue.MODULES_IN_CODEWORD)+f*s/Ue.MODULES_IN_CODEWORD;c+r[u]<=h&&(c+=r[u],u++),o[u]++}return o}static getDecodedCodewordValue(r){let s=Ln.getBitValue(r);return Ue.getCodeword(s)===-1?-1:s}static getBitValue(r){let s=0;for(let o=0;o<r.length;o++)for(let u=0;u<r[o];u++)s=s<<1|(o%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(r){let s=ft.sum(r),o=new Array(Ue.BARS_IN_MODULE);if(s>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(r[f]/s);let u=wo.MAX_VALUE,c=-1;this.bSymbolTableReady||Ln.initialize();for(let f=0;f<Ln.RATIOS_TABLE.length;f++){let h=0,g=Ln.RATIOS_TABLE[f];for(let w=0;w<Ue.BARS_IN_MODULE;w++){let C=Math.fround(g[w]-o[w]);if(h+=Math.fround(C*C),h>=u)break}h<u&&(u=h,c=Ue.SYMBOL_TABLE[f])}return c}}Ln.bSymbolTableReady=!1,Ln.RATIOS_TABLE=new Array(Ue.SYMBOL_TABLE.length).map(T=>new Array(Ue.BARS_IN_MODULE));class Fc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class Yl{static parseLong(r,s=void 0){return parseInt(r,s)}}class Ao extends m{}Ao.kind="NullPointerException";class Hd{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,s,o){if(r==null)throw new Ao;if(s<0||s>r.length||o<0||s+o>r.length||s+o<0)throw new k;if(o===0)return;for(let u=0;u<o;u++)this.write(r[s+u])}flush(){}close(){}}class bi extends m{}class zr extends Hd{constructor(r=32){if(super(),this.count=0,r<0)throw new A("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new bi;o=N.MAX_VALUE}this.buf=b.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,s,o){if(s<0||s>r.length||o<0||s+o-r.length>0)throw new k;this.ensureCapacity(this.count+o),R.arraycopy(r,s,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return b.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var At;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(At||(At={}));function _o(){if(typeof window<"u")return window.BigInt||null;if(typeof tu<"u")return tu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let bo;function si(T){if(typeof bo>"u"&&(bo=_o()),bo===null)throw new Error("BigInt is not supported!");return bo(T)}function Gd(){let T=[];T[0]=si(1);let r=si(900);T[1]=r;for(let s=2;s<16;s++)T[s]=T[s-1]*r;return T}class J{static decode(r,s){let o=new Xe(""),u=ne.ISO8859_1;o.enableDecoding(u);let c=1,f=r[c++],h=new Fc;for(;c<r[0];){switch(f){case J.TEXT_COMPACTION_MODE_LATCH:c=J.textCompaction(r,c,o);break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:c=J.byteCompaction(f,r,u,c,o);break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c++]);break;case J.NUMERIC_COMPACTION_MODE_LATCH:c=J.numericCompaction(r,c,o);break;case J.ECI_CHARSET:ne.getCharacterSetECIByValue(r[c++]);break;case J.ECI_GENERAL_PURPOSE:c+=2;break;case J.ECI_USER_DEFINED:c++;break;case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=J.decodeMacroBlock(r,c,h);break;case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:throw new z;default:c--,c=J.textCompaction(r,c,o);break}if(c<r.length)f=r[c++];else throw z.getFormatInstance()}if(o.length()===0)throw z.getFormatInstance();let g=new ws(null,o.toString(),null,s);return g.setOther(h),g}static decodeMacroBlock(r,s,o){if(s+J.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw z.getFormatInstance();let u=new Int32Array(J.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<J.NUMBER_OF_SEQUENCE_CODEWORDS;h++,s++)u[h]=r[s];o.setSegmentIndex(N.parseInt(J.decodeBase900toBase10(u,J.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new Xe;s=J.textCompaction(r,s,c),o.setFileId(c.toString());let f=-1;for(r[s]===J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=s+1);s<r[0];)switch(r[s]){case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,r[s]){case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new Xe;s=J.textCompaction(r,s+1,h),o.setFileName(h.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new Xe;s=J.textCompaction(r,s+1,g),o.setSender(g.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new Xe;s=J.textCompaction(r,s+1,w),o.setAddressee(w.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Xe;s=J.numericCompaction(r,s+1,C),o.setSegmentCount(N.parseInt(C.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new Xe;s=J.numericCompaction(r,s+1,I),o.setTimestamp(Yl.parseLong(I.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new Xe;s=J.numericCompaction(r,s+1,D),o.setChecksum(N.parseInt(D.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let V=new Xe;s=J.numericCompaction(r,s+1,V),o.setFileSize(Yl.parseLong(V.toString()));break;default:throw z.getFormatInstance()}break;case J.MACRO_PDF417_TERMINATOR:s++,o.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(f!==-1){let h=s-f;o.isLastSegment()&&h--,o.setOptionalData(b.copyOfRange(r,f,f+h))}return s}static textCompaction(r,s,o){let u=new Int32Array((r[0]-s)*2),c=new Int32Array((r[0]-s)*2),f=0,h=!1;for(;s<r[0]&&!h;){let g=r[s++];if(g<J.TEXT_COMPACTION_MODE_LATCH)u[f]=g/30,u[f+1]=g%30,f+=2;else switch(g){case J.TEXT_COMPACTION_MODE_LATCH:u[f++]=J.TEXT_COMPACTION_MODE_LATCH;break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:s--,h=!0;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=r[s++],c[f]=g,f++;break}}return J.decodeTextCompaction(u,c,f,o),s}static decodeTextCompaction(r,s,o,u){let c=At.ALPHA,f=At.ALPHA,h=0;for(;h<o;){let g=r[h],w="";switch(c){case At.ALPHA:if(g<26)w=String.fromCharCode(65+g);else switch(g){case 26:w=" ";break;case J.LL:c=At.LOWER;break;case J.ML:c=At.MIXED;break;case J.PS:f=c,c=At.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break;case At.LOWER:if(g<26)w=String.fromCharCode(97+g);else switch(g){case 26:w=" ";break;case J.AS:f=c,c=At.ALPHA_SHIFT;break;case J.ML:c=At.MIXED;break;case J.PS:f=c,c=At.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break;case At.MIXED:if(g<J.PL)w=J.MIXED_CHARS[g];else switch(g){case J.PL:c=At.PUNCT;break;case 26:w=" ";break;case J.LL:c=At.LOWER;break;case J.AL:c=At.ALPHA;break;case J.PS:f=c,c=At.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break;case At.PUNCT:if(g<J.PAL)w=J.PUNCT_CHARS[g];else switch(g){case J.PAL:c=At.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break;case At.ALPHA_SHIFT:if(c=f,g<26)w=String.fromCharCode(65+g);else switch(g){case 26:w=" ";break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break;case At.PUNCT_SHIFT:if(c=f,g<J.PAL)w=J.PUNCT_CHARS[g];else switch(g){case J.PAL:c=At.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break}w!==""&&u.append(w),h++}}static byteCompaction(r,s,o,u,c){let f=new zr,h=0,g=0,w=!1;switch(r){case J.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),I=s[u++];for(;u<s[0]&&!w;)switch(C[h++]=I,g=900*g+I,I=s[u++],I){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:u--,w=!0;break;default:if(h%5===0&&h>0){for(let D=0;D<6;++D)f.write(Number(si(g)>>si(8*(5-D))));g=0,h=0}break}u===s[0]&&I<J.TEXT_COMPACTION_MODE_LATCH&&(C[h++]=I);for(let D=0;D<h;D++)f.write(C[D]);break;case J.BYTE_COMPACTION_MODE_LATCH_6:for(;u<s[0]&&!w;){let D=s[u++];if(D<J.TEXT_COMPACTION_MODE_LATCH)h++,g=900*g+D;else switch(D){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:u--,w=!0;break}if(h%5===0&&h>0){for(let V=0;V<6;++V)f.write(Number(si(g)>>si(8*(5-V))));g=0,h=0}}break}return c.append(De.decode(f.toByteArray(),o)),u}static numericCompaction(r,s,o){let u=0,c=!1,f=new Int32Array(J.MAX_NUMERIC_CODEWORDS);for(;s<r[0]&&!c;){let h=r[s++];if(s===r[0]&&(c=!0),h<J.TEXT_COMPACTION_MODE_LATCH)f[u]=h,u++;else switch(h){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:s--,c=!0;break}(u%J.MAX_NUMERIC_CODEWORDS===0||h===J.NUMERIC_COMPACTION_MODE_LATCH||c)&&u>0&&(o.append(J.decodeBase900toBase10(f,u)),u=0)}return s}static decodeBase900toBase10(r,s){let o=si(0);for(let c=0;c<s;c++)o+=J.EXP900[s-c-1]*si(r[c]);let u=o.toString();if(u.charAt(0)!=="1")throw new z;return u.substring(1)}}J.TEXT_COMPACTION_MODE_LATCH=900,J.BYTE_COMPACTION_MODE_LATCH=901,J.NUMERIC_COMPACTION_MODE_LATCH=902,J.BYTE_COMPACTION_MODE_LATCH_6=924,J.ECI_USER_DEFINED=925,J.ECI_GENERAL_PURPOSE=926,J.ECI_CHARSET=927,J.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,J.MACRO_PDF417_TERMINATOR=922,J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,J.MAX_NUMERIC_CODEWORDS=15,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,J.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,J.PL=25,J.LL=27,J.AS=27,J.ML=28,J.AL=28,J.PS=29,J.PAL=29,J.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,J.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",J.EXP900=_o()?Gd():[],J.NUMBER_OF_SEQUENCE_CODEWORDS=2;class et{constructor(){}static decode(r,s,o,u,c,f,h){let g=new _i(r,s,o,u,c),w=null,C=null,I;for(let W=!0;;W=!1){if(s!=null&&(w=et.getRowIndicatorColumn(r,g,s,!0,f,h)),u!=null&&(C=et.getRowIndicatorColumn(r,g,u,!1,f,h)),I=et.merge(w,C),I==null)throw re.getNotFoundInstance();let H=I.getBoundingBox();if(W&&H!=null&&(H.getMinY()<g.getMinY()||H.getMaxY()>g.getMaxY()))g=H;else break}I.setBoundingBox(g);let D=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,w),I.setDetectionResultColumn(D,C);let V=w!=null;for(let W=1;W<=D;W++){let H=V?W:D-W;if(I.getDetectionResultColumn(H)!==void 0)continue;let Z;H===0||H===D?Z=new Kl(g,H===0):Z=new _s(g),I.setDetectionResultColumn(H,Z);let te=-1,de=te;for(let pe=g.getMinY();pe<=g.getMaxY();pe++){if(te=et.getStartColumn(I,H,pe,V),te<0||te>g.getMaxX()){if(de===-1)continue;te=de}let le=et.detectCodeword(r,g.getMinX(),g.getMaxX(),V,te,pe,f,h);le!=null&&(Z.setCodeword(pe,le),de=te,f=Math.min(f,le.getWidth()),h=Math.max(h,le.getWidth()))}}return et.createDecoderResult(I)}static merge(r,s){if(r==null&&s==null)return null;let o=et.getBarcodeMetadata(r,s);if(o==null)return null;let u=_i.merge(et.adjustBoundingBox(r),et.adjustBoundingBox(s));return new Ss(o,u)}static adjustBoundingBox(r){if(r==null)return null;let s=r.getRowHeights();if(s==null)return null;let o=et.getMax(s),u=0;for(let h of s)if(u+=o-h,h>0)break;let c=r.getCodewords();for(let h=0;u>0&&c[h]==null;h++)u--;let f=0;for(let h=s.length-1;h>=0&&(f+=o-s[h],!(s[h]>0));h--);for(let h=c.length-1;f>0&&c[h]==null;h--)f--;return r.getBoundingBox().addMissingRows(u,f,r.isLeft())}static getMax(r){let s=-1;for(let o of r)s=Math.max(s,o);return s}static getBarcodeMetadata(r,s){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let u;return s==null||(u=s.getBarcodeMetadata())==null?o:o.getColumnCount()!==u.getColumnCount()&&o.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&o.getRowCount()!==u.getRowCount()?null:o}static getRowIndicatorColumn(r,s,o,u,c,f){let h=new Kl(s,u);for(let g=0;g<2;g++){let w=g===0?1:-1,C=Math.trunc(Math.trunc(o.getX()));for(let I=Math.trunc(Math.trunc(o.getY()));I<=s.getMaxY()&&I>=s.getMinY();I+=w){let D=et.detectCodeword(r,0,r.getWidth(),u,C,I,c,f);D!=null&&(h.setCodeword(I,D),u?C=D.getStartX():C=D.getEndX())}}return h}static adjustCodewordCount(r,s){let o=s[0][1],u=o.getValue(),c=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-et.getNumberOfECCodeWords(r.getBarcodeECLevel());if(u.length===0){if(c<1||c>Ue.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();o.setValue(c)}else u[0]!==c&&o.setValue(c)}static createDecoderResult(r){let s=et.createBarcodeMatrix(r);et.adjustCodewordCount(r,s);let o=new Array,u=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),c=[],f=new Array;for(let g=0;g<r.getBarcodeRowCount();g++)for(let w=0;w<r.getBarcodeColumnCount();w++){let C=s[g][w+1].getValue(),I=g*r.getBarcodeColumnCount()+w;C.length===0?o.push(I):C.length===1?u[I]=C[0]:(f.push(I),c.push(C))}let h=new Array(c.length);for(let g=0;g<h.length;g++)h[g]=c[g];return et.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),u,Ue.toIntArray(o),Ue.toIntArray(f),h)}static createDecoderResultFromAmbiguousValues(r,s,o,u,c){let f=new Int32Array(u.length),h=100;for(;h-- >0;){for(let g=0;g<f.length;g++)s[u[g]]=c[g][f[g]];try{return et.decodeCodewords(s,r,o)}catch(g){if(!(g instanceof L))throw g}if(f.length===0)throw L.getChecksumInstance();for(let g=0;g<f.length;g++)if(f[g]<c[g].length-1){f[g]++;break}else if(f[g]=0,g===f.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(r){let s=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let u=0;u<s.length;u++)for(let c=0;c<s[u].length;c++)s[u][c]=new bs;let o=0;for(let u of r.getDetectionResultColumns()){if(u!=null){for(let c of u.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=s.length)continue;s[f][o].setValue(c.getValue())}}}o++}return s}static isValidBarcodeColumn(r,s){return s>=0&&s<=r.getBarcodeColumnCount()+1}static getStartColumn(r,s,o,u){let c=u?1:-1,f=null;if(et.isValidBarcodeColumn(r,s-c)&&(f=r.getDetectionResultColumn(s-c).getCodeword(o)),f!=null)return u?f.getEndX():f.getStartX();if(f=r.getDetectionResultColumn(s).getCodewordNearby(o),f!=null)return u?f.getStartX():f.getEndX();if(et.isValidBarcodeColumn(r,s-c)&&(f=r.getDetectionResultColumn(s-c).getCodewordNearby(o)),f!=null)return u?f.getEndX():f.getStartX();let h=0;for(;et.isValidBarcodeColumn(r,s-c);){s-=c;for(let g of r.getDetectionResultColumn(s).getCodewords())if(g!=null)return(u?g.getEndX():g.getStartX())+c*h*(g.getEndX()-g.getStartX());h++}return u?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,s,o,u,c,f,h,g){c=et.adjustCodewordStartColumn(r,s,o,u,c,f);let w=et.getModuleBitCount(r,s,o,u,c,f);if(w==null)return null;let C,I=ft.sum(w);if(u)C=c+I;else{for(let W=0;W<w.length/2;W++){let H=w[W];w[W]=w[w.length-1-W],w[w.length-1-W]=H}C=c,c=C-I}if(!et.checkCodewordSkew(I,h,g))return null;let D=Ln.getDecodedValue(w),V=Ue.getCodeword(D);return V===-1?null:new Ts(c,C,et.getCodewordBucketNumber(D),V)}static getModuleBitCount(r,s,o,u,c,f){let h=c,g=new Int32Array(8),w=0,C=u?1:-1,I=u;for(;(u?h<o:h>=s)&&w<g.length;)r.get(h,f)===I?(g[w]++,h+=C):(w++,I=!I);return w===g.length||h===(u?o:s)&&w===g.length-1?g:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,s,o,u,c,f){let h=c,g=u?-1:1;for(let w=0;w<2;w++){for(;(u?h>=s:h<o)&&u===r.get(h,f);){if(Math.abs(c-h)>et.CODEWORD_SKEW_SIZE)return c;h+=g}g=-g,u=!u}return h}static checkCodewordSkew(r,s,o){return s-et.CODEWORD_SKEW_SIZE<=r&&r<=o+et.CODEWORD_SKEW_SIZE}static decodeCodewords(r,s,o){if(r.length===0)throw z.getFormatInstance();let u=1<<s+1,c=et.correctErrors(r,o,u);et.verifyCodewordCount(r,u);let f=J.decode(r,""+s);return f.setErrorsCorrected(c),f.setErasures(o.length),f}static correctErrors(r,s,o){if(s!=null&&s.length>o/2+et.MAX_ERRORS||o<0||o>et.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return et.errorCorrection.decode(r,o,s)}static verifyCodewordCount(r,s){if(r.length<4)throw z.getFormatInstance();let o=r[0];if(o>r.length)throw z.getFormatInstance();if(o===0)if(s<r.length)r[0]=r.length-s;else throw z.getFormatInstance()}static getBitCountForCodeword(r){let s=new Int32Array(8),o=0,u=s.length-1;for(;!((r&1)!==o&&(o=r&1,u--,u<0));)s[u]++,r>>=1;return s}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return et.getCodewordBucketNumber(et.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let s=new As;for(let o=0;o<r.length;o++){s.format("Row %2d: ",o);for(let u=0;u<r[o].length;u++){let c=r[o][u];c.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}s.format("%n")}return s.toString()}}et.CODEWORD_SKEW_SIZE=2,et.MAX_ERRORS=3,et.MAX_EC_CODEWORDS=512,et.errorCorrection=new ql;class _n{decode(r,s=null){let o=_n.decode(r,s,!1);if(o==null||o.length===0||o[0]==null)throw re.getNotFoundInstance();return o[0]}decodeMultiple(r,s=null){try{return _n.decode(r,s,!0)}catch(o){throw o instanceof z||o instanceof L?re.getNotFoundInstance():o}}static decode(r,s,o){const u=new Array,c=Ye.detectMultiple(r,s,o);for(const f of c.getPoints()){const h=et.decode(c.getBits(),f[4],f[5],f[6],f[7],_n.getMinCodewordWidth(f),_n.getMaxCodewordWidth(f)),g=new Vt(h.getText(),h.getRawBytes(),void 0,f,ke.PDF_417);g.putMetadata(qe.ERROR_CORRECTION_LEVEL,h.getECLevel());const w=h.getOther();w!=null&&g.putMetadata(qe.PDF417_EXTRA_METADATA,w),u.push(g)}return u.map(f=>f)}static getMaxWidth(r,s){return r==null||s==null?0:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMinWidth(r,s){return r==null||s==null?N.MAX_VALUE:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(_n.getMaxWidth(r[0],r[4]),_n.getMaxWidth(r[6],r[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.max(_n.getMaxWidth(r[1],r[5]),_n.getMaxWidth(r[7],r[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(_n.getMinWidth(r[0],r[4]),_n.getMinWidth(r[6],r[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.min(_n.getMinWidth(r[1],r[5]),_n.getMinWidth(r[7],r[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}reset(){}}class Aa extends m{}Aa.kind="ReaderException";class Ql{constructor(r,s){this.verbose=r===!0,s&&this.setHints(s)}decode(r,s){return s&&this.setHints(s),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const s=!i(r)&&r.get(G.TRY_HARDER)===!0,o=i(r)?null:r.get(G.POSSIBLE_FORMATS),u=new Array;if(!i(o)){const c=o.some(f=>f===ke.UPC_A||f===ke.UPC_E||f===ke.EAN_13||f===ke.EAN_8||f===ke.CODABAR||f===ke.CODE_39||f===ke.CODE_93||f===ke.CODE_128||f===ke.ITF||f===ke.RSS_14||f===ke.RSS_EXPANDED);c&&!s&&u.push(new ni(r,this.verbose)),o.includes(ke.QR_CODE)&&u.push(new ii),o.includes(ke.DATA_MATRIX)&&u.push(new ri),o.includes(ke.AZTEC)&&u.push(new Ke),o.includes(ke.PDF_417)&&u.push(new _n),c&&s&&u.push(new ni(r,this.verbose))}u.length===0&&(s||u.push(new ni(r,this.verbose)),u.push(new ii),u.push(new ri),u.push(new Ke),u.push(new _n),s&&u.push(new ni(r,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Aa("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(r,this.hints)}catch(o){if(o instanceof Aa)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class Vc extends Jn{constructor(r=null,s=500){const o=new Ql;o.setHints(r),super(o,s)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class Uc extends Jn{constructor(r=500){super(new _n,r)}}class Tr extends Jn{constructor(r=500){super(new ii,r)}}var _a;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(_a||(_a={}));var fn=_a;class Ce{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new mt(r,Int32Array.from([1])))}buildGenerator(r){const s=this.cachedGenerators;if(r>=s.length){let o=s[s.length-1];const u=this.field;for(let c=s.length;c<=r;c++){const f=o.multiply(new mt(u,Int32Array.from([1,u.exp(c-1+u.getGeneratorBase())])));s.push(f),o=f}}return s[r]}encode(r,s){if(s===0)throw new A("No error correction bytes");const o=r.length-s;if(o<=0)throw new A("No data bytes provided");const u=this.buildGenerator(s),c=new Int32Array(o);R.arraycopy(r,0,c,0,o);let f=new mt(this.field,c);f=f.multiplyByMonomial(s,1);const g=f.divide(u)[1].getCoefficients(),w=s-g.length;for(let C=0;C<w;C++)r[o+C]=0;R.arraycopy(g,0,r,o+w,g.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(r){return zt.applyMaskPenaltyRule1Internal(r,!0)+zt.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let s=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c-1;f++){const h=o[f];for(let g=0;g<u-1;g++){const w=h[g];w===h[g+1]&&w===o[f+1][g]&&w===o[f+1][g+1]&&s++}}return zt.N2*s}static applyMaskPenaltyRule3(r){let s=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c;f++)for(let h=0;h<u;h++){const g=o[f];h+6<u&&g[h]===1&&g[h+1]===0&&g[h+2]===1&&g[h+3]===1&&g[h+4]===1&&g[h+5]===0&&g[h+6]===1&&(zt.isWhiteHorizontal(g,h-4,h)||zt.isWhiteHorizontal(g,h+7,h+11))&&s++,f+6<c&&o[f][h]===1&&o[f+1][h]===0&&o[f+2][h]===1&&o[f+3][h]===1&&o[f+4][h]===1&&o[f+5][h]===0&&o[f+6][h]===1&&(zt.isWhiteVertical(o,h,f-4,f)||zt.isWhiteVertical(o,h,f+7,f+11))&&s++}return s*zt.N3}static isWhiteHorizontal(r,s,o){s=Math.max(s,0),o=Math.min(o,r.length);for(let u=s;u<o;u++)if(r[u]===1)return!1;return!0}static isWhiteVertical(r,s,o,u){o=Math.max(o,0),u=Math.min(u,r.length);for(let c=o;c<u;c++)if(r[c][s]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let s=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let g=0;g<c;g++){const w=o[g];for(let C=0;C<u;C++)w[C]===1&&s++}const f=r.getHeight()*r.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*zt.N4}static getDataMaskBit(r,s,o){let u,c;switch(r){case 0:u=o+s&1;break;case 1:u=o&1;break;case 2:u=s%3;break;case 3:u=(o+s)%3;break;case 4:u=Math.floor(o/2)+Math.floor(s/3)&1;break;case 5:c=o*s,u=(c&1)+c%3;break;case 6:c=o*s,u=(c&1)+c%3&1;break;case 7:c=o*s,u=c%3+(o+s&1)&1;break;default:throw new A("Invalid mask pattern: "+r)}return u===0}static applyMaskPenaltyRule1Internal(r,s){let o=0;const u=s?r.getHeight():r.getWidth(),c=s?r.getWidth():r.getHeight(),f=r.getArray();for(let h=0;h<u;h++){let g=0,w=-1;for(let C=0;C<c;C++){const I=s?f[h][C]:f[C][h];I===w?g++:(g>=5&&(o+=zt.N1+(g-5)),g=1,w=I)}g>=5&&(o+=zt.N1+(g-5))}return o}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class Is{constructor(r,s){this.width=r,this.height=s;const o=new Array(s);for(let u=0;u!==s;u++)o[u]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,s){return this.bytes[s][r]}getArray(){return this.bytes}setNumber(r,s,o){this.bytes[s][r]=o}setBoolean(r,s,o){this.bytes[s][r]=o?1:0}clear(r){for(const s of this.bytes)b.fill(s,r)}equals(r){if(!(r instanceof Is))return!1;const s=r;if(this.width!==s.width||this.height!==s.height)return!1;for(let o=0,u=this.height;o<u;++o){const c=this.bytes[o],f=s.bytes[o];for(let h=0,g=this.width;h<g;++h)if(c[h]!==f[h])return!1}return!0}toString(){const r=new Xe;for(let s=0,o=this.height;s<o;++s){const u=this.bytes[s];for(let c=0,f=this.width;c<f;++c)switch(u[c]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Si{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new Xe;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Si.NUM_MASK_PATTERNS}}Si.NUM_MASK_PATTERNS=8;class bt extends m{}bt.kind="WriterException";class Ve{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,s,o,u,c){Ve.clearMatrix(c),Ve.embedBasicPatterns(o,c),Ve.embedTypeInfo(s,u,c),Ve.maybeEmbedVersionInfo(o,c),Ve.embedDataBits(r,u,c)}static embedBasicPatterns(r,s){Ve.embedPositionDetectionPatternsAndSeparators(s),Ve.embedDarkDotAtLeftBottomCorner(s),Ve.maybeEmbedPositionAdjustmentPatterns(r,s),Ve.embedTimingPatterns(s)}static embedTypeInfo(r,s,o){const u=new M;Ve.makeTypeInfoBits(r,s,u);for(let c=0,f=u.getSize();c<f;++c){const h=u.get(u.getSize()-1-c),g=Ve.TYPE_INFO_COORDINATES[c],w=g[0],C=g[1];if(o.setBoolean(w,C,h),c<8){const I=o.getWidth()-c-1;o.setBoolean(I,8,h)}else{const D=o.getHeight()-7+(c-8);o.setBoolean(8,D,h)}}}static maybeEmbedVersionInfo(r,s){if(r.getVersionNumber()<7)return;const o=new M;Ve.makeVersionInfoBits(r,o);let u=6*3-1;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const h=o.get(u);u--,s.setBoolean(c,s.getHeight()-11+f,h),s.setBoolean(s.getHeight()-11+f,c,h)}}static embedDataBits(r,s,o){let u=0,c=-1,f=o.getWidth()-1,h=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);h>=0&&h<o.getHeight();){for(let g=0;g<2;++g){const w=f-g;if(!Ve.isEmpty(o.get(w,h)))continue;let C;u<r.getSize()?(C=r.get(u),++u):C=!1,s!==255&&zt.getDataMaskBit(s,w,h)&&(C=!C),o.setBoolean(w,h,C)}h+=c}c=-c,h+=c,f-=2}if(u!==r.getSize())throw new bt("Not all bits consumed: "+u+"/"+r.getSize())}static findMSBSet(r){return 32-N.numberOfLeadingZeros(r)}static calculateBCHCode(r,s){if(s===0)throw new A("0 polynomial");const o=Ve.findMSBSet(s);for(r<<=o-1;Ve.findMSBSet(r)>=o;)r^=s<<Ve.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,s,o){if(!Si.isValidMaskPattern(s))throw new bt("Invalid mask pattern");const u=r.getBits()<<3|s;o.appendBits(u,5);const c=Ve.calculateBCHCode(u,Ve.TYPE_INFO_POLY);o.appendBits(c,10);const f=new M;if(f.appendBits(Ve.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new bt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,s){s.appendBits(r.getVersionNumber(),6);const o=Ve.calculateBCHCode(r.getVersionNumber(),Ve.VERSION_INFO_POLY);if(s.appendBits(o,12),s.getSize()!==18)throw new bt("should not happen but we got: "+s.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let s=8;s<r.getWidth()-8;++s){const o=(s+1)%2;Ve.isEmpty(r.get(s,6))&&r.setNumber(s,6,o),Ve.isEmpty(r.get(6,s))&&r.setNumber(6,s,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new bt;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,s,o){for(let u=0;u<8;++u){if(!Ve.isEmpty(o.get(r+u,s)))throw new bt;o.setNumber(r+u,s,0)}}static embedVerticalSeparationPattern(r,s,o){for(let u=0;u<7;++u){if(!Ve.isEmpty(o.get(r,s+u)))throw new bt;o.setNumber(r,s+u,0)}}static embedPositionAdjustmentPattern(r,s,o){for(let u=0;u<5;++u){const c=Ve.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)o.setNumber(r+f,s+u,c[f])}}static embedPositionDetectionPattern(r,s,o){for(let u=0;u<7;++u){const c=Ve.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)o.setNumber(r+f,s+u,c[f])}}static embedPositionDetectionPatternsAndSeparators(r){const s=Ve.POSITION_DETECTION_PATTERN[0].length;Ve.embedPositionDetectionPattern(0,0,r),Ve.embedPositionDetectionPattern(r.getWidth()-s,0,r),Ve.embedPositionDetectionPattern(0,r.getWidth()-s,r);const o=8;Ve.embedHorizontalSeparationPattern(0,o-1,r),Ve.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),Ve.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const u=7;Ve.embedVerticalSeparationPattern(u,0,r),Ve.embedVerticalSeparationPattern(r.getHeight()-u-1,0,r),Ve.embedVerticalSeparationPattern(u,r.getHeight()-u,r)}static maybeEmbedPositionAdjustmentPatterns(r,s){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,u=Ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let c=0,f=u.length;c!==f;c++){const h=u[c];if(h>=0)for(let g=0;g!==f;g++){const w=u[g];w>=0&&Ve.isEmpty(s.get(w,h))&&Ve.embedPositionAdjustmentPattern(w-2,h-2,s)}}}}Ve.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ve.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ve.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ve.VERSION_INFO_POLY=7973,Ve.TYPE_INFO_POLY=1335,Ve.TYPE_INFO_MASK_PATTERN=21522;class jc{constructor(r,s){this.dataBytes=r,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class kt{constructor(){}static calculateMaskPenalty(r){return zt.applyMaskPenaltyRule1(r)+zt.applyMaskPenaltyRule2(r)+zt.applyMaskPenaltyRule3(r)+zt.applyMaskPenaltyRule4(r)}static encode(r,s,o=null){let u=kt.DEFAULT_BYTE_MODE_ENCODING;const c=o!==null&&o.get(fn.CHARACTER_SET)!==void 0;c&&(u=o.get(fn.CHARACTER_SET).toString());const f=this.chooseMode(r,u),h=new M;if(f===Fe.BYTE&&(c||kt.DEFAULT_BYTE_MODE_ENCODING!==u)){const pe=ne.getCharacterSetECIByName(u);pe!==void 0&&this.appendECI(pe,h)}this.appendModeInfo(f,h);const g=new M;this.appendBytes(r,f,g,u);let w;if(o!==null&&o.get(fn.QR_VERSION)!==void 0){const pe=Number.parseInt(o.get(fn.QR_VERSION).toString(),10);w=Me.getVersionForNumber(pe);const le=this.calculateBitsNeeded(f,h,g,w);if(!this.willFit(le,w,s))throw new bt("Data too big for requested version")}else w=this.recommendVersion(s,f,h,g);const C=new M;C.appendBitArray(h);const I=f===Fe.BYTE?g.getSizeInBytes():r.length;this.appendLengthInfo(I,w,f,C),C.appendBitArray(g);const D=w.getECBlocksForLevel(s),V=w.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(V,C);const W=this.interleaveWithECBytes(C,w.getTotalCodewords(),V,D.getNumBlocks()),H=new Si;H.setECLevel(s),H.setMode(f),H.setVersion(w);const Z=w.getDimensionForVersion(),te=new Is(Z,Z),de=this.chooseMaskPattern(W,s,w,te);return H.setMaskPattern(de),Ve.buildMatrix(W,s,w,de,te),H.setMatrix(te),H}static recommendVersion(r,s,o,u){const c=this.calculateBitsNeeded(s,o,u,Me.getVersionForNumber(1)),f=this.chooseVersion(c,r),h=this.calculateBitsNeeded(s,o,u,f);return this.chooseVersion(h,r)}static calculateBitsNeeded(r,s,o,u){return s.getSize()+r.getCharacterCountBits(u)+o.getSize()}static getAlphanumericCode(r){return r<kt.ALPHANUMERIC_TABLE.length?kt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,s=null){if(ne.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(r))return Fe.KANJI;let o=!1,u=!1;for(let c=0,f=r.length;c<f;++c){const h=r.charAt(c);if(kt.isDigit(h))o=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)u=!0;else return Fe.BYTE}return u?Fe.ALPHANUMERIC:o?Fe.NUMERIC:Fe.BYTE}static isOnlyDoubleByteKanji(r){let s;try{s=De.encode(r,ne.SJIS)}catch{return!1}const o=s.length;if(o%2!==0)return!1;for(let u=0;u<o;u+=2){const c=s[u]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(r,s,o,u){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let h=0;h<Si.NUM_MASK_PATTERNS;h++){Ve.buildMatrix(r,s,o,h,u);let g=this.calculateMaskPenalty(u);g<c&&(c=g,f=h)}return f}static chooseVersion(r,s){for(let o=1;o<=40;o++){const u=Me.getVersionForNumber(o);if(kt.willFit(r,u,s))return u}throw new bt("Data too big")}static willFit(r,s,o){const u=s.getTotalCodewords(),f=s.getECBlocksForLevel(o).getTotalECCodewords(),h=u-f,g=(r+7)/8;return h>=g}static terminateBits(r,s){const o=r*8;if(s.getSize()>o)throw new bt("data bits cannot fit in the QR Code"+s.getSize()+" > "+o);for(let f=0;f<4&&s.getSize()<o;++f)s.appendBit(!1);const u=s.getSize()&7;if(u>0)for(let f=u;f<8;f++)s.appendBit(!1);const c=r-s.getSizeInBytes();for(let f=0;f<c;++f)s.appendBits(f&1?17:236,8);if(s.getSize()!==o)throw new bt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,s,o,u,c,f){if(u>=o)throw new bt("Block ID too large");const h=r%o,g=o-h,w=Math.floor(r/o),C=w+1,I=Math.floor(s/o),D=I+1,V=w-I,W=C-D;if(V!==W)throw new bt("EC bytes mismatch");if(o!==g+h)throw new bt("RS blocks mismatch");if(r!==(I+V)*g+(D+W)*h)throw new bt("Total bytes mismatch");u<g?(c[0]=I,f[0]=V):(c[0]=D,f[0]=W)}static interleaveWithECBytes(r,s,o,u){if(r.getSizeInBytes()!==o)throw new bt("Number of bits and data bytes does not match");let c=0,f=0,h=0;const g=new Array;for(let C=0;C<u;++C){const I=new Int32Array(1),D=new Int32Array(1);kt.getNumDataBytesAndNumECBytesForBlockID(s,o,u,C,I,D);const V=I[0],W=new Uint8Array(V);r.toBytes(8*c,W,0,V);const H=kt.generateECBytes(W,D[0]);g.push(new jc(W,H)),f=Math.max(f,V),h=Math.max(h,H.length),c+=I[0]}if(o!==c)throw new bt("Data bytes does not match offset");const w=new M;for(let C=0;C<f;++C)for(const I of g){const D=I.getDataBytes();C<D.length&&w.appendBits(D[C],8)}for(let C=0;C<h;++C)for(const I of g){const D=I.getErrorCorrectionBytes();C<D.length&&w.appendBits(D[C],8)}if(s!==w.getSizeInBytes())throw new bt("Interleaving error: "+s+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(r,s){const o=r.length,u=new Int32Array(o+s);for(let f=0;f<o;f++)u[f]=r[f]&255;new Ce(gt.QR_CODE_FIELD_256).encode(u,s);const c=new Uint8Array(s);for(let f=0;f<s;f++)c[f]=u[o+f];return c}static appendModeInfo(r,s){s.appendBits(r.getBits(),4)}static appendLengthInfo(r,s,o,u){const c=o.getCharacterCountBits(s);if(r>=1<<c)throw new bt(r+" is bigger than "+((1<<c)-1));u.appendBits(r,c)}static appendBytes(r,s,o,u){switch(s){case Fe.NUMERIC:kt.appendNumericBytes(r,o);break;case Fe.ALPHANUMERIC:kt.appendAlphanumericBytes(r,o);break;case Fe.BYTE:kt.append8BitBytes(r,o,u);break;case Fe.KANJI:kt.appendKanjiBytes(r,o);break;default:throw new bt("Invalid mode: "+s)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const s=kt.getDigit(r);return s>=0&&s<=9}static appendNumericBytes(r,s){const o=r.length;let u=0;for(;u<o;){const c=kt.getDigit(r.charAt(u));if(u+2<o){const f=kt.getDigit(r.charAt(u+1)),h=kt.getDigit(r.charAt(u+2));s.appendBits(c*100+f*10+h,10),u+=3}else if(u+1<o){const f=kt.getDigit(r.charAt(u+1));s.appendBits(c*10+f,7),u+=2}else s.appendBits(c,4),u++}}static appendAlphanumericBytes(r,s){const o=r.length;let u=0;for(;u<o;){const c=kt.getAlphanumericCode(r.charCodeAt(u));if(c===-1)throw new bt;if(u+1<o){const f=kt.getAlphanumericCode(r.charCodeAt(u+1));if(f===-1)throw new bt;s.appendBits(c*45+f,11),u+=2}else s.appendBits(c,6),u++}}static append8BitBytes(r,s,o){let u;try{u=De.encode(r,o)}catch(c){throw new bt(c)}for(let c=0,f=u.length;c!==f;c++){const h=u[c];s.appendBits(h,8)}}static appendKanjiBytes(r,s){let o;try{o=De.encode(r,ne.SJIS)}catch(c){throw new bt(c)}const u=o.length;for(let c=0;c<u;c+=2){const f=o[c]&255,h=o[c+1]&255,g=f<<8&4294967295|h;let w=-1;if(g>=33088&&g<=40956?w=g-33088:g>=57408&&g<=60351&&(w=g-49472),w===-1)throw new bt("Invalid byte sequence");const C=(w>>8)*192+(w&255);s.appendBits(C,13)}}static appendECI(r,s){s.appendBits(Fe.ECI.getBits(),4),s.appendBits(r.getValue(),8)}}kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),kt.DEFAULT_BYTE_MODE_ENCODING=ne.UTF8.getName();class Ti{write(r,s,o,u=null){if(r.length===0)throw new A("Found empty contents");if(s<0||o<0)throw new A("Requested dimensions are too small: "+s+"x"+o);let c=Rt.L,f=Ti.QUIET_ZONE_SIZE;u!==null&&(u.get(fn.ERROR_CORRECTION)!==void 0&&(c=Rt.fromString(u.get(fn.ERROR_CORRECTION).toString())),u.get(fn.MARGIN)!==void 0&&(f=Number.parseInt(u.get(fn.MARGIN).toString(),10)));const h=kt.encode(r,c,u);return this.renderResult(h,s,o,f)}writeToDom(r,s,o,u,c=null){typeof r=="string"&&(r=document.querySelector(r));const f=this.write(s,o,u,c);r&&r.appendChild(f)}renderResult(r,s,o,u){const c=r.getMatrix();if(c===null)throw new _r;const f=c.getWidth(),h=c.getHeight(),g=f+u*2,w=h+u*2,C=Math.max(s,g),I=Math.max(o,w),D=Math.min(Math.floor(C/g),Math.floor(I/w)),V=Math.floor((C-f*D)/2),W=Math.floor((I-h*D)/2),H=this.createSVGElement(C,I);for(let Z=0,te=W;Z<h;Z++,te+=D)for(let de=0,pe=V;de<f;de++,pe+=D)if(c.get(de,Z)===1){const le=this.createSvgRectElement(pe,te,D,D);H.appendChild(le)}return H}createSVGElement(r,s){const o=document.createElementNS(Ti.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o}createSvgRectElement(r,s,o,u){const c=document.createElementNS(Ti.SVG_NS,"rect");return c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",s.toString()),c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",u.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Ti.QUIET_ZONE_SIZE=4,Ti.SVG_NS="http://www.w3.org/2000/svg";class Ii{encode(r,s,o,u,c){if(r.length===0)throw new A("Found empty contents");if(s!==ke.QR_CODE)throw new A("Can only encode QR_CODE, but got "+s);if(o<0||u<0)throw new A(`Requested dimensions are too small: ${o}x${u}`);let f=Rt.L,h=Ii.QUIET_ZONE_SIZE;c!==null&&(c.get(fn.ERROR_CORRECTION)!==void 0&&(f=Rt.fromString(c.get(fn.ERROR_CORRECTION).toString())),c.get(fn.MARGIN)!==void 0&&(h=Number.parseInt(c.get(fn.MARGIN).toString(),10)));const g=kt.encode(r,f,c);return Ii.renderResult(g,o,u,h)}static renderResult(r,s,o,u){const c=r.getMatrix();if(c===null)throw new _r;const f=c.getWidth(),h=c.getHeight(),g=f+u*2,w=h+u*2,C=Math.max(s,g),I=Math.max(o,w),D=Math.min(Math.floor(C/g),Math.floor(I/w)),V=Math.floor((C-f*D)/2),W=Math.floor((I-h*D)/2),H=new ot(C,I);for(let Z=0,te=W;Z<h;Z++,te+=D)for(let de=0,pe=V;de<f;de++,pe+=D)c.get(de,Z)===1&&H.setRegion(pe,te,D,D);return H}}Ii.QUIET_ZONE_SIZE=4;class zc{encode(r,s,o,u,c){let f;switch(s){case ke.QR_CODE:f=new Ii;break;default:throw new A("No encoder available for format "+s)}return f.encode(r,s,o,u,c)}}class Ir extends he{constructor(r,s,o,u,c,f,h,g){if(super(f,h),this.yuvData=r,this.dataWidth=s,this.dataHeight=o,this.left=u,this.top=c,u+f>s||c+h>o)throw new A("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(f,h)}getRow(r,s){if(r<0||r>=this.getHeight())throw new A("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const u=(r+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,u,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.yuvData;const o=r*s,u=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return R.arraycopy(this.yuvData,c,u,0,o),u;for(let f=0;f<s;f++){const h=f*r;R.arraycopy(this.yuvData,c,u,h,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,s,o,u){return new Ir(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+s,o,u,!1)}renderThumbnail(){const r=this.getWidth()/Ir.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Ir.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*s),u=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){const h=f*r;for(let g=0;g<r;g++){const w=u[c+g*Ir.THUMBNAIL_SCALE_FACTOR]&255;o[h+g]=4278190080|w*65793}c+=this.dataWidth*Ir.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Ir.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ir.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,s){const o=this.yuvData;for(let u=0,c=this.top*this.dataWidth+this.left;u<s;u++,c+=this.dataWidth){const f=c+r/2;for(let h=c,g=c+r-1;h<f;h++,g--){const w=o[h];o[h]=o[g],o[g]=w}}}invert(){return new Ae(this)}}Ir.THUMBNAIL_SCALE_FACTOR=2;class ba extends he{constructor(r,s,o,u,c,f,h){if(super(s,o),this.dataWidth=u,this.dataHeight=c,this.left=f,this.top=h,r.BYTES_PER_ELEMENT===4){const g=s*o,w=new Uint8ClampedArray(g);for(let C=0;C<g;C++){const I=r[C],D=I>>16&255,V=I>>7&510,W=I&255;w[C]=(D+V+W)/4&255}this.luminances=w}else this.luminances=r;if(u===void 0&&(this.dataWidth=s),c===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+o>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(r,s){if(r<0||r>=this.getHeight())throw new A("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const u=(r+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,u,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.luminances;const o=r*s,u=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return R.arraycopy(this.luminances,c,u,0,o),u;for(let f=0;f<s;f++){const h=f*r;R.arraycopy(this.luminances,c,u,h,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,s,o,u){return new ba(this.luminances,o,u,this.dataWidth,this.dataHeight,this.left+r,this.top+s)}invert(){return new Ae(this)}}class $l extends ne{static forName(r){return this.getCharacterSetECIByName(r)}}class Rs{}Rs.ISO_8859_1=ne.ISO8859_1;class Jl{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class eu{static singletonList(r){return[r]}static min(r,s){return r.sort(s)[0]}}class x{constructor(r){this.previous=r}getPrevious(){return this.previous}}class v extends x{constructor(r,s,o){super(r),this.value=s,this.bitCount=o}appendTo(r,s){r.appendBits(this.value,this.bitCount)}add(r,s){return new v(this,r,s)}addBinaryShift(r,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new v(this,r,s)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+N.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class S extends v{constructor(r,s,o){super(r,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=o}appendTo(r,s){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(s[this.binaryShiftStart+o],8)}addBinaryShift(r,s){return new S(this,r,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function P(T,r,s){return new S(T,r,s)}function U(T,r,s){return new v(T,r,s)}const ee=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],K=0,oe=1,Q=2,ie=3,ce=4,ae=new v(null,0,0),ve=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function $e(T){for(let r of T)b.fill(r,-1);return T[K][ce]=0,T[oe][ce]=0,T[oe][K]=28,T[ie][ce]=0,T[Q][ce]=0,T[Q][K]=15,T}const yt=$e(b.createInt32Array(6,6));class Nt{constructor(r,s,o,u){this.token=r,this.mode=s,this.binaryShiftByteCount=o,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,s){let o=this.bitCount,u=this.token;if(r!==this.mode){let f=ve[this.mode][r];u=U(u,f&65535,f>>16),o+=f>>16}let c=r===Q?4:5;return u=U(u,s,c),new Nt(u,r,0,o+c)}shiftAndAppend(r,s){let o=this.token,u=this.mode===Q?4:5;return o=U(o,yt[this.mode][r],u),o=U(o,s,5),new Nt(o,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(r){let s=this.token,o=this.mode,u=this.bitCount;if(this.mode===ce||this.mode===Q){let h=ve[o][K];s=U(s,h&65535,h>>16),u+=h>>16,o=K}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Nt(s,o,this.binaryShiftByteCount+1,u+c);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(r+1)),f}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=P(s,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Nt(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let s=this.bitCount+(ve[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?s+=Nt.calculateBinaryShiftCost(r)-Nt.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(s+=10),s<=r.bitCount}toBitArray(r){let s=[];for(let u=this.endBinaryShift(r.length).token;u!==null;u=u.getPrevious())s.unshift(u);let o=new M;for(const u of s)u.appendTo(o,r);return o}toString(){return xe.format("%s bits=%d bytes=%d",ee[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Nt.INITIAL_STATE=new Nt(ae,K,0,0);function rn(T){const r=xe.getCharCode(" "),s=xe.getCharCode("."),o=xe.getCharCode(",");T[K][r]=1;const u=xe.getCharCode("Z"),c=xe.getCharCode("A");for(let D=c;D<=u;D++)T[K][D]=D-c+2;T[oe][r]=1;const f=xe.getCharCode("z"),h=xe.getCharCode("a");for(let D=h;D<=f;D++)T[oe][D]=D-h+2;T[Q][r]=1;const g=xe.getCharCode("9"),w=xe.getCharCode("0");for(let D=w;D<=g;D++)T[Q][D]=D-w+2;T[Q][o]=12,T[Q][s]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<C.length;D++)T[ie][xe.getCharCode(C[D])]=D;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<I.length;D++)xe.getCharCode(I[D])>0&&(T[ce][xe.getCharCode(I[D])]=D);return T}const In=rn(b.createInt32Array(5,256));class Qt{constructor(r){this.text=r}encode(){const r=xe.getCharCode(" "),s=xe.getCharCode(`
`);let o=eu.singletonList(Nt.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case xe.getCharCode("\r"):f=h===s?2:0;break;case xe.getCharCode("."):f=h===r?3:0;break;case xe.getCharCode(","):f=h===r?4:0;break;case xe.getCharCode(":"):f=h===r?5:0;break;default:f=0}f>0?(o=Qt.updateStateListForPair(o,c,f),c++):o=this.updateStateListForChar(o,c)}return eu.min(o,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,s){const o=[];for(let u of r)this.updateStateForChar(u,s,o);return Qt.simplifyStates(o)}updateStateForChar(r,s,o){let u=this.text[s]&255,c=In[r.getMode()][u]>0,f=null;for(let h=0;h<=ce;h++){let g=In[h][u];if(g>0){if(f==null&&(f=r.endBinaryShift(s)),!c||h===r.getMode()||h===Q){const w=f.latchAndAppend(h,g);o.push(w)}if(!c&&yt[r.getMode()][h]>=0){const w=f.shiftAndAppend(h,g);o.push(w)}}}if(r.getBinaryShiftByteCount()>0||In[r.getMode()][u]===0){let h=r.addBinaryShiftChar(s);o.push(h)}}static updateStateListForPair(r,s,o){const u=[];for(let c of r)this.updateStateForPair(c,s,o,u);return this.simplifyStates(u)}static updateStateForPair(r,s,o,u){let c=r.endBinaryShift(s);if(u.push(c.latchAndAppend(ce,o)),r.getMode()!==ce&&u.push(c.shiftAndAppend(ce,o)),o===3||o===4){let f=c.latchAndAppend(Q,16-o).latchAndAppend(Q,1);u.push(f)}if(r.getBinaryShiftByteCount()>0){let f=r.addBinaryShiftChar(s).addBinaryShiftChar(s+1);u.push(f)}}static simplifyStates(r){let s=[];for(const o of r){let u=!0;for(const c of s){if(c.isBetterThanOrEqualTo(o)){u=!1;break}o.isBetterThanOrEqualTo(c)&&(s=s.filter(f=>f!==c))}u&&s.push(o)}return s}}class rt{constructor(){}static encodeBytes(r){return rt.encode(r,rt.DEFAULT_EC_PERCENT,rt.DEFAULT_AZTEC_LAYERS)}static encode(r,s,o){let u=new Qt(r).encode(),c=N.truncDivision(u.getSize()*s,100)+11,f=u.getSize()+c,h,g,w,C,I;if(o!==rt.DEFAULT_AZTEC_LAYERS){if(h=o<0,g=Math.abs(o),g>(h?rt.MAX_NB_BITS_COMPACT:rt.MAX_NB_BITS))throw new A(xe.format("Illegal value %s for layers",o));w=rt.totalBitsInLayer(g,h),C=rt.WORD_SIZE[g];let le=w-w%C;if(I=rt.stuffBits(u,C),I.getSize()+c>le)throw new A("Data to large for user specified layer");if(h&&I.getSize()>C*64)throw new A("Data to large for user specified layer")}else{C=0,I=null;for(let le=0;;le++){if(le>rt.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(h=le<=3,g=h?le+1:le,w=rt.totalBitsInLayer(g,h),f>w)continue;(I==null||C!==rt.WORD_SIZE[g])&&(C=rt.WORD_SIZE[g],I=rt.stuffBits(u,C));let ct=w-w%C;if(!(h&&I.getSize()>C*64)&&I.getSize()+c<=ct)break}}let D=rt.generateCheckWords(I,w,C),V=I.getSize()/C,W=rt.generateModeMessage(h,g,V),H=(h?11:14)+g*4,Z=new Int32Array(H),te;if(h){te=H;for(let le=0;le<Z.length;le++)Z[le]=le}else{te=H+1+2*N.truncDivision(N.truncDivision(H,2)-1,15);let le=N.truncDivision(H,2),ct=N.truncDivision(te,2);for(let Je=0;Je<le;Je++){let pr=Je+N.truncDivision(Je,15);Z[le-Je-1]=ct-pr-1,Z[le+Je]=ct+pr+1}}let de=new ot(te);for(let le=0,ct=0;le<g;le++){let Je=(g-le)*4+(h?9:12);for(let pr=0;pr<Je;pr++){let oi=pr*2;for(let gr=0;gr<2;gr++)D.get(ct+oi+gr)&&de.set(Z[le*2+gr],Z[le*2+pr]),D.get(ct+Je*2+oi+gr)&&de.set(Z[le*2+pr],Z[H-1-le*2-gr]),D.get(ct+Je*4+oi+gr)&&de.set(Z[H-1-le*2-gr],Z[H-1-le*2-pr]),D.get(ct+Je*6+oi+gr)&&de.set(Z[H-1-le*2-pr],Z[le*2+gr])}ct+=Je*8}if(rt.drawModeMessage(de,h,te,W),h)rt.drawBullsEye(de,N.truncDivision(te,2),5);else{rt.drawBullsEye(de,N.truncDivision(te,2),7);for(let le=0,ct=0;le<N.truncDivision(H,2)-1;le+=15,ct+=16)for(let Je=N.truncDivision(te,2)&1;Je<te;Je+=2)de.set(N.truncDivision(te,2)-ct,Je),de.set(N.truncDivision(te,2)+ct,Je),de.set(Je,N.truncDivision(te,2)-ct),de.set(Je,N.truncDivision(te,2)+ct)}let pe=new Jl;return pe.setCompact(h),pe.setSize(te),pe.setLayers(g),pe.setCodeWords(V),pe.setMatrix(de),pe}static drawBullsEye(r,s,o){for(let u=0;u<o;u+=2)for(let c=s-u;c<=s+u;c++)r.set(c,s-u),r.set(c,s+u),r.set(s-u,c),r.set(s+u,c);r.set(s-o,s-o),r.set(s-o+1,s-o),r.set(s-o,s-o+1),r.set(s+o,s-o),r.set(s+o,s-o+1),r.set(s+o,s+o-1)}static generateModeMessage(r,s,o){let u=new M;return r?(u.appendBits(s-1,2),u.appendBits(o-1,6),u=rt.generateCheckWords(u,28,4)):(u.appendBits(s-1,5),u.appendBits(o-1,11),u=rt.generateCheckWords(u,40,4)),u}static drawModeMessage(r,s,o,u){let c=N.truncDivision(o,2);if(s)for(let f=0;f<7;f++){let h=c-3+f;u.get(f)&&r.set(h,c-5),u.get(f+7)&&r.set(c+5,h),u.get(20-f)&&r.set(h,c+5),u.get(27-f)&&r.set(c-5,h)}else for(let f=0;f<10;f++){let h=c-5+f+N.truncDivision(f,5);u.get(f)&&r.set(h,c-7),u.get(f+10)&&r.set(c+7,h),u.get(29-f)&&r.set(h,c+7),u.get(39-f)&&r.set(c-7,h)}}static generateCheckWords(r,s,o){let u=r.getSize()/o,c=new Ce(rt.getGF(o)),f=N.truncDivision(s,o),h=rt.bitsToWords(r,o,f);c.encode(h,f-u);let g=s%o,w=new M;w.appendBits(0,g);for(const C of Array.from(h))w.appendBits(C,o);return w}static bitsToWords(r,s,o){let u=new Int32Array(o),c,f;for(c=0,f=r.getSize()/s;c<f;c++){let h=0;for(let g=0;g<s;g++)h|=r.get(c*s+g)?1<<s-g-1:0;u[c]=h}return u}static getGF(r){switch(r){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new A("Unsupported word size "+r)}}static stuffBits(r,s){let o=new M,u=r.getSize(),c=(1<<s)-2;for(let f=0;f<u;f+=s){let h=0;for(let g=0;g<s;g++)(f+g>=u||r.get(f+g))&&(h|=1<<s-1-g);(h&c)===c?(o.appendBits(h&c,s),f--):h&c?o.appendBits(h,s):(o.appendBits(h|1,s),f--)}return o}static totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}rt.DEFAULT_EC_PERCENT=33,rt.DEFAULT_AZTEC_LAYERS=0,rt.MAX_NB_BITS=32,rt.MAX_NB_BITS_COMPACT=4,rt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Rr{encode(r,s,o,u){return this.encodeWithHints(r,s,o,u,null)}encodeWithHints(r,s,o,u,c){let f=Rs.ISO_8859_1,h=rt.DEFAULT_EC_PERCENT,g=rt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(fn.CHARACTER_SET)&&(f=$l.forName(c.get(fn.CHARACTER_SET).toString())),c.has(fn.ERROR_CORRECTION)&&(h=N.parseInt(c.get(fn.ERROR_CORRECTION).toString())),c.has(fn.AZTEC_LAYERS)&&(g=N.parseInt(c.get(fn.AZTEC_LAYERS).toString()))),Rr.encodeLayers(r,s,o,u,f,h,g)}static encodeLayers(r,s,o,u,c,f,h){if(s!==ke.AZTEC)throw new A("Can only encode AZTEC, but got "+s);let g=rt.encode(xe.getBytes(r,c),f,h);return Rr.renderResult(g,o,u)}static renderResult(r,s,o){let u=r.getMatrix();if(u==null)throw new _r;let c=u.getWidth(),f=u.getHeight(),h=Math.max(s,c),g=Math.max(o,f),w=Math.min(h/c,g/f),C=(h-c*w)/2,I=(g-f*w)/2,D=new ot(h,g);for(let V=0,W=I;V<f;V++,W+=w)for(let H=0,Z=C;H<c;H++,Z+=w)u.get(H,V)&&D.setRegion(Z,W,w,w);return D}}n.AbstractExpandedDecoder=hr,n.ArgumentException=E,n.ArithmeticException=er,n.AztecCode=Jl,n.AztecCodeReader=Ke,n.AztecCodeWriter=Rr,n.AztecDecoder=Et,n.AztecDetector=zl,n.AztecDetectorResult=vi,n.AztecEncoder=rt,n.AztecHighLevelEncoder=Qt,n.AztecPoint=Pn,n.BarcodeFormat=ke,n.Binarizer=j,n.BinaryBitmap=O,n.BitArray=M,n.BitMatrix=ot,n.BitSource=Xl,n.BrowserAztecCodeReader=Wd,n.BrowserBarcodeReader=Zi,n.BrowserCodeReader=Jn,n.BrowserDatamatrixCodeReader=Oc,n.BrowserMultiFormatReader=Vc,n.BrowserPDF417Reader=Uc,n.BrowserQRCodeReader=Tr,n.BrowserQRCodeSvgWriter=Ti,n.CharacterSetECI=ne,n.ChecksumException=L,n.Code128Reader=Ee,n.Code39Reader=Ut,n.DataMatrixDecodedBitStreamParser=jr,n.DataMatrixReader=ri,n.DecodeHintType=G,n.DecoderResult=ws,n.DefaultGridSampler=Sc,n.DetectorResult=vs,n.EAN13Reader=Ur,n.EncodeHintType=fn,n.Exception=m,n.FormatException=z,n.GenericGF=gt,n.GenericGFPoly=mt,n.GlobalHistogramBinarizer=_t,n.GridSampler=ga,n.GridSamplerInstance=Ei,n.HTMLCanvasElementLuminanceSource=Le,n.HybridBinarizer=be,n.ITFReader=Tt,n.IllegalArgumentException=A,n.IllegalStateException=_r,n.InvertedLuminanceSource=Ae,n.LuminanceSource=he,n.MathUtils=ft,n.MultiFormatOneDReader=ni,n.MultiFormatReader=Ql,n.MultiFormatWriter=zc,n.NotFoundException=re,n.OneDReader=qt,n.PDF417DecodedBitStreamParser=J,n.PDF417DecoderErrorCorrection=ql,n.PDF417Reader=_n,n.PDF417ResultMetadata=Fc,n.PerspectiveTransform=dr,n.PlanarYUVLuminanceSource=Ir,n.QRCodeByteMatrix=Is,n.QRCodeDataMask=nr,n.QRCodeDecodedBitStreamParser=Bt,n.QRCodeDecoderErrorCorrectionLevel=Rt,n.QRCodeDecoderFormatInformation=An,n.QRCodeEncoder=kt,n.QRCodeEncoderQRCode=Si,n.QRCodeMaskUtil=zt,n.QRCodeMatrixUtil=Ve,n.QRCodeMode=Fe,n.QRCodeReader=ii,n.QRCodeVersion=Me,n.QRCodeWriter=Ii,n.RGBLuminanceSource=ba,n.RSS14Reader=Dt,n.RSSExpandedReader=se,n.ReaderException=Aa,n.ReedSolomonDecoder=fr,n.ReedSolomonEncoder=Ce,n.ReedSolomonException=st,n.Result=Vt,n.ResultMetadataType=qe,n.ResultPoint=Re,n.StringUtils=xe,n.UnsupportedOperationException=ue,n.VideoInputDevice=Qe,n.WhiteRectangleDetector=kn,n.WriterException=bt,n.ZXingArrays=b,n.ZXingCharset=$l,n.ZXingInteger=N,n.ZXingStandardCharsets=Rs,n.ZXingStringBuilder=Xe,n.ZXingStringEncoding=De,n.ZXingSystem=R,n.createAbstractExpandedDecoder=Hl,Object.defineProperty(n,"__esModule",{value:!0})})})(I1,I1.exports);var Gt=I1.exports;const sR=N1(Gt),oR=ME({__proto__:null,default:sR},[Gt]);var Px=function(){function t(e,n,i){if(this.formatMap=new Map([[Te.QR_CODE,Gt.BarcodeFormat.QR_CODE],[Te.AZTEC,Gt.BarcodeFormat.AZTEC],[Te.CODABAR,Gt.BarcodeFormat.CODABAR],[Te.CODE_39,Gt.BarcodeFormat.CODE_39],[Te.CODE_93,Gt.BarcodeFormat.CODE_93],[Te.CODE_128,Gt.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,Gt.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,Gt.BarcodeFormat.MAXICODE],[Te.ITF,Gt.BarcodeFormat.ITF],[Te.EAN_13,Gt.BarcodeFormat.EAN_13],[Te.EAN_8,Gt.BarcodeFormat.EAN_8],[Te.PDF_417,Gt.BarcodeFormat.PDF_417],[Te.RSS_14,Gt.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,Gt.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,Gt.BarcodeFormat.UPC_A],[Te.UPC_E,Gt.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,Gt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!oR)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var a=this.createZXingFormats(e),l=new Map;l.set(Gt.DecodeHintType.POSSIBLE_FORMATS,a),l.set(Gt.DecodeHintType.TRY_HARDER,!1),this.hints=l}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(i,a){try{i(n.decode(e))}catch(l){a(l)}})},t.prototype.decode=function(e){var n=new Gt.MultiFormatReader(this.verbose,this.hints),i=new Gt.HTMLCanvasElementLuminanceSource(e),a=new Gt.BinaryBitmap(new Gt.HybridBinarizer(i)),l=n.decode(a);return{text:l.text,format:IE.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,i,a){e.set(n,i)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],i=0,a=e;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),aR=function(t,e,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(E){try{m(i.next(E))}catch(A){d(A)}}function y(E){try{m(i.throw(E))}catch(A){d(A)}}function m(E){E.done?l(E.value):a(E.value).then(p,y)}m((i=i.apply(t,e||[])).next())})},lR=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(E){return y([m,E])}}function y(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(E){m=[6,E],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Mx=function(){function t(e,n,i){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var a=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return aR(this,void 0,void 0,function(){var n,i;return lR(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:IE.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,i=0,a=0,l=e;a<l.length;a++){var d=l[a],p=d.boundingBox.width*d.boundingBox.height;p>i&&(i=p,n=d)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],i=0,a=e;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,i,a){e.set(n,i)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),Lx=function(t,e,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(E){try{m(i.next(E))}catch(A){d(A)}}function y(E){try{m(i.throw(E))}catch(A){d(A)}}function m(E){E.done?l(E.value):a(E.value).then(p,y)}m((i=i.apply(t,e||[])).next())})},Bx=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(E){return y([m,E])}}function y(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(E){m=[6,E],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},uR=function(){function t(e,n,i,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&Mx.isSupported()?(this.primaryDecoder=new Mx(e,i,a),this.secondaryDecoder=new Px(e,i,a)):this.primaryDecoder=new Px(e,i,a)}return t.prototype.decodeAsync=function(e){return Lx(this,void 0,void 0,function(){var n;return Bx(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return Lx(this,void 0,void 0,function(){var n,i;return Bx(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,a.sent()];case 3:if(i=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,i=this.executionResults;n<i.length;n++){var a=i[n];e+=a}var l=e/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),dg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),md=function(t,e,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(E){try{m(i.next(E))}catch(A){d(A)}}function y(E){try{m(i.throw(E))}catch(A){d(A)}}function m(E){E.done?l(E.value):a(E.value).then(p,y)}m((i=i.apply(t,e||[])).next())})},xd=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(E){return y([m,E])}}function y(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(E){m=[6,E],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},NE=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),cR=function(t){dg(e,t);function e(n,i){return t.call(this,n,i)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(NE),fR=function(t){dg(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(cR),dR=function(t){dg(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(NE),hR=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new fR(this.track)},t.prototype.torchFeature=function(){return new dR(this.track)},t}(),pR=function(){function t(e,n,i){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=e.surface.clientWidth,a=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(i,a),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,i,a){return md(this,void 0,void 0,function(){var l,d;return xd(this,function(p){switch(p.label){case 0:return l=new t(e,n,a),i.aspectRatio?(d={aspectRatio:i.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:p.sent(),p.label=2;case 2:return l.setupSurface(),[2,l]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,i=function(){setTimeout(e,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return md(this,void 0,void 0,function(){return xd(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,i){var a=e.mediaStream.getVideoTracks(),l=a.length,d=0;e.mediaStream.getVideoTracks().forEach(function(p){e.mediaStream.removeTrack(p),p.stop(),++d,d>=l&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new hR(this.getFirstTrackOrFail())},t}(),gR=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,i){return md(this,void 0,void 0,function(){return xd(this,function(a){return[2,pR.create(e,this.mediaStream,n,i)]})})},t.create=function(e){return md(this,void 0,void 0,function(){var n,i;return xd(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=a.sent(),[2,new t(i)]}})})},t}(),Fx=function(t,e,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(E){try{m(i.next(E))}catch(A){d(A)}}function y(E){try{m(i.throw(E))}catch(A){d(A)}}function m(E){E.done?l(E.value):a(E.value).then(p,y)}m((i=i.apply(t,e||[])).next())})},Vx=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(E){return y([m,E])}}function y(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(E){m=[6,E],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},mR=function(){function t(){}return t.failIfNotSupported=function(){return Fx(this,void 0,void 0,function(){return Vx(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Fx(this,void 0,void 0,function(){return Vx(this,function(n){return[2,gR.create(e)]})})},t}(),xR=function(t,e,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(E){try{m(i.next(E))}catch(A){d(A)}}function y(E){try{m(i.throw(E))}catch(A){d(A)}}function m(E){E.done?l(E.value):a(E.value).then(p,y)}m((i=i.apply(t,e||[])).next())})},yR=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(E){return y([m,E])}}function y(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(E){m=[6,E],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},wR=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Qa.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Qa.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return xR(this,void 0,void 0,function(){var e,n,i,a,l,d,p;return yR(this,function(y){switch(y.label){case 0:return e=function(m){for(var E=m.getVideoTracks(),A=0,O=E;A<O.length;A++){var L=O[A];L.enabled=!1,L.stop(),m.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=y.sent(),a=[],l=0,d=i;l<d.length;l++)p=d[l],p.kind==="videoinput"&&a.push({id:p.deviceId,label:p.label});return e(n),[2,a]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var i=function(l){for(var d=[],p=0,y=l;p<y.length;p++){var m=y[p];m.kind==="video"&&d.push({id:m.id,label:m.label})}e(d)},a=MediaStreamTrack;a.getSources(i)})},t}(),on;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(on||(on={}));var vR=function(){function t(){this.state=on.NOT_STARTED,this.onGoingTransactionNewState=on.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===on.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=on.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===on.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=on.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==on.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case on.UNKNOWN:throw"Transition from unknown is not allowed";case on.NOT_STARTED:this.failIfNewStateIs(e,[on.PAUSED]);break;case on.SCANNING:break;case on.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var i=0,a=n;i<a.length;i++){var l=a[i];if(e===l)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),ER=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===on.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==on.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===on.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===on.PAUSED},t}(),CR=function(){function t(){}return t.create=function(){return new ER(new vR)},t}(),AR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Or=function(t){AR(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(nR),_R=function(){function t(e,n){this.logger=n,this.fps=Or.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Or.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?RE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!es(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),bR=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new iR(this.verbose),this.qrcode=new uR(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=CR.create()}return t.prototype.start=function(e,n,i,a){var l=this;if(!e)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;a?d=a:d=this.verbose?this.logger.log:function(){};var p=_R.create(n,this.logger);this.clearElement();var y=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=y,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:Or.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var A=this,O=this.stateManagerProxy.startTransition(on.SCANNING);return new Promise(function(L,j){var R=m?p.videoConstraints:A.createVideoConstraints(e);if(!R){O.cancel(),j("videoConstraints should be defined");return}var k={};(!m||p.aspectRatio)&&(k.aspectRatio=p.aspectRatio);var _={onRenderSurfaceReady:function(b,N){A.setupUi(b,N,p),A.isScanning=!0,A.foreverScan(p,i,d)}};mR.failIfNotSupported().then(function(b){b.create(R).then(function(N){return N.render(l.element,k,_).then(function(M){A.renderedCamera=M,O.execute(),L(null)}).catch(function(M){O.cancel(),j(M)})}).catch(function(N){O.cancel(),j(Qa.errorGettingUserMedia(N))})}).catch(function(b){O.cancel(),j(Qa.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(on.PAUSED),this.showPausedState(),(es(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(on.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(on.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(e.element){var l=document.getElementById(Or.SHADED_REGION_ELEMENT_ID);l&&e.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),i(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(i){return i.decodedText})},t.prototype.scanFileV2=function(e,n){var i=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(es(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(e);var d=new Image;d.onload=function(){var p=d.width,y=d.height,m=document.getElementById(i.elementId),E=m.clientWidth?m.clientWidth:Or.DEFAULT_WIDTH,A=Math.max(m.clientHeight?m.clientHeight:y,Or.FILE_SCAN_MIN_HEIGHT),O=i.computeCanvasDrawConfig(p,y,E,A);if(n){var L=i.createCanvasElement(E,A,"qr-canvas-visible");L.style.display="inline-block",m.appendChild(L);var j=L.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=E,j.canvas.height=A,j.drawImage(d,0,0,p,y,O.x,O.y,O.width,O.height)}var R=Or.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(d.width,O.width),_=Math.max(d.height,O.height),b=k+2*R,N=_+2*R,M=i.createCanvasElement(b,N);m.appendChild(M);var X=M.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=b,X.canvas.height=N,X.drawImage(d,0,0,p,y,R,R,k,_);try{i.qrcode.decodeRobustlyAsync(M).then(function(G){a(kx.createFromQrcodeResult(G))}).catch(l)}catch(G){l("QR code parse error, error = ".concat(G))}},d.onerror=l,d.onabort=l,d.onstalled=l,d.onsuspend=l,d.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return wR.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!RE.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],a=0,l=e.formatsToSupport;a<l.length;a++){var d=l[a];tR(d)?i.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(es(e))return!0;if(!es(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(es(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return es(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,i){var a=this,l=i.qrbox;this.validateQrboxConfig(l);var d=this.toQrdimensions(e,n,l),p=function(m){if(m<Or.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Or.MIN_QR_BOX_SIZE,"px.")},y=function(m){return m>e&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=e),m};p(d.width),p(d.height),d.width=y(d.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(e,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return i},t.prototype.setupUi=function(e,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,i);var a=es(i.qrbox)?{width:e,height:n}:i.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(e,n,a);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=i.isShadedBoxEnabled()&&l.height<=n,p={x:0,y:0,width:e,height:n},y=d?this.getShadedRegionBounds(e,n,l):p,m=this.createCanvasElement(y.width,y.height),E={willReadFrequently:!0},A=m.getContext("2d",E);A.canvas.width=y.width,A.canvas.height=y.height,this.element.append(m),d&&this.possiblyInsertShadingElement(this.element,e,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=A,this.canvasElement=m},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Qa.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return e(a.text,kx.createFromQrcodeResult(a)),i.possiblyUpdateShaders(!0),!0}).catch(function(a){i.possiblyUpdateShaders(!1);var l=Qa.codeParseError(a);return n(l,rR.createFrom(l)),!1})},t.prototype.foreverScan=function(e,n,i){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),d=l.videoWidth/l.clientWidth,p=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*d,m=this.qrRegion.height*p,E=this.qrRegion.x*d,A=this.qrRegion.y*p;this.context.drawImage(l,E,A,y,m,0,0,this.qrRegion.width,this.qrRegion.height);var O=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(e,n,i)},a.getTimeoutFps(e.fps))};this.scanContext(n,i).then(function(L){!L&&e.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,i).finally(function(){O()})):O()}).catch(function(L){a.logger.logError("Error happend while scanning context",L),O()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",i="deviceId",a={user:!0,environment:!0},l="exact",d=function(j){if(j in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},p=Object.keys(e);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var y=Object.keys(e)[0];if(y!==n&&y!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(y===n){var m=e.facingMode;if(typeof m=="string"){if(d(m))return{facingMode:m}}else if(typeof m=="object")if(l in m){if(d(m["".concat(l)]))return{facingMode:{exact:m["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var E=typeof m;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var A=e.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(l in A)return{deviceId:{exact:A["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var O=typeof A;throw"Invalid type of 'deviceId' = ".concat(O)}}}var L=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},t.prototype.computeCanvasDrawConfig=function(e,n,i,a){if(e<=i&&n<=a){var l=(i-e)/2,d=(a-n)/2;return{x:l,y:d,width:e,height:n}}else{var p=e,y=n;return e>i&&(n=i/e*n,e=i),n>a&&(e=a/n*e,n=a),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(y)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,i,a)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Or.BORDER_SHADER_MATCH_COLOR:Or.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,i){var a=e,l=n,d=document.createElement("canvas");return d.style.width="".concat(a,"px"),d.style.height="".concat(l,"px"),d.style.display="none",d.id=es(i)?"qr-canvas":i,d},t.prototype.getShadedRegionBounds=function(e,n,i){if(i.width>e||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},t.prototype.possiblyInsertShadingElement=function(e,n,i,a){if(!(n-a.width<1||i-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var d=(n-a.width)/2,p=(i-a.height)/2;if(l.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Or.SHADED_REGION_ELEMENT_ID),n-a.width<11||i-a.height<11)this.hasBorderShaders=!1;else{var y=5,m=40;this.insertShaderBorders(l,m,y,-y,null,0,!0),this.insertShaderBorders(l,m,y,-y,null,0,!1),this.insertShaderBorders(l,m,y,null,-y,0,!0),this.insertShaderBorders(l,m,y,null,-y,0,!1),this.insertShaderBorders(l,y,m+y,-y,null,-y,!0),this.insertShaderBorders(l,y,m+y,null,-y,-y,!0),this.insertShaderBorders(l,y,m+y,-y,null,-y,!1),this.insertShaderBorders(l,y,m+y,null,-y,-y,!1),this.hasBorderShaders=!0}e.append(l)}},t.prototype.insertShaderBorders=function(e,n,i,a,l,d,p){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=Or.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(n,"px"),y.style.height="".concat(i,"px"),a!==null&&(y.style.top="".concat(a,"px")),l!==null&&(y.style.bottom="".concat(l,"px")),p?y.style.left="".concat(d,"px"):y.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),e.appendChild(y)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),Ux;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ux||(Ux={}));const SR=()=>{const t=pi(L=>L.setView),e=pi(L=>L.activeCode),n=pi(L=>L.setActiveCode),[i,a]=Au.useState(!0),[l,d]=Au.useState(!1),[p,y]=Au.useState(""),m=we.useRef(null),{data:E,isLoading:A}=SE(e),{data:O}=TE(5);return we.useEffect(()=>{let L=!0;const R=setTimeout(async()=>{try{const k=new bR("reader");m.current=k;const _={fps:20,qrbox:(b,N)=>({width:b*.8,height:N*.7}),aspectRatio:1,formatsToSupport:[Te.EAN_13,Te.EAN_8,Te.UPC_A,Te.UPC_E],experimental:{useBarCodeDetectorIfSupported:!0}};await k.start({facingMode:"environment"},_,b=>{if(!L)return;const N=pi.getState().activeCode;b!==N&&n(b)},()=>{}),L&&a(!1)}catch(k){console.error("Scanner error",k),L&&(a(!1),t("home"))}},200);return()=>{L=!1,clearTimeout(R),m.current&&m.current.isScanning&&m.current.stop().catch(console.error)}},[t,n]),Y.jsxs("div",{className:"fixed inset-0 bg-slate-950 z-40 flex flex-col font-sans overflow-hidden text-slate-900",children:[Y.jsxs("div",{className:"h-1/2 relative bg-black flex items-center justify-center overflow-hidden",children:[i&&Y.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center gap-3 bg-slate-900/80 backdrop-blur-sm",children:[Y.jsx("div",{className:"w-8 h-8 border-3 border-blue-500 border-t-transparent rounded-full animate-spin"}),Y.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Initializing..."})]}),Y.jsx("div",{id:"reader",className:"w-full h-full"}),!i&&Y.jsx("div",{className:"absolute inset-0 pointer-events-none flex flex-col items-center justify-center pb-8",children:Y.jsxs("div",{className:"relative w-[90%] h-[75%] border border-white/40 overflow-hidden shadow-[0_0_0_100vmax_rgba(0,0,0,0.5)]",children:[Y.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-blue-400/80 shadow-[0_0_15px_rgba(56,189,248,0.8)] animate-[scan_3s_ease-in-out_infinite]"}),Y.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-white"}),Y.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-white"}),Y.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-white"}),Y.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-white"})]})})]}),Y.jsxs("div",{className:"flex-1 bg-slate-50 flex flex-col relative overflow-hidden rounded-t-[32px] -mt-8 z-10 shadow-[0_-10px_40px_rgba(0,0,0,0.3)]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-4 py-2 shrink-0 bg-slate-50",children:[Y.jsx("button",{onClick:()=>{n(null),t("home")},className:"w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 hover:bg-slate-300 active:scale-95 transition-all",children:Y.jsx(DT,{size:16})}),Y.jsx("div",{className:"w-8 h-1 bg-slate-200 rounded-full"})," ",Y.jsx("button",{onClick:()=>d(!l),className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${l?"bg-blue-100 text-blue-600":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:Y.jsx(lE,{size:16})})]}),Y.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[l&&Y.jsx("div",{className:"mb-6 mt-2.5 animate-in slide-in-from-top-2 fade-in duration-200",children:Y.jsxs("form",{onSubmit:L=>{L.preventDefault(),p.trim()&&(n(p.trim()),y(""),d(!1))},className:"flex gap-2",children:[Y.jsx("input",{type:"text",value:p,onChange:L=>y(L.target.value),placeholder:"Enter barcode manually...",className:"flex-1 bg-white border border-slate-200 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none shadow-sm",autoFocus:!0}),Y.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 rounded-xl font-bold text-sm tracking-wide",children:"GO"})]})}),e?Y.jsx(uE,{data:E,isLoading:A,code:e}):Y.jsx("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm text-center mb-8",children:Y.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Scan a barcode above or search manually."})}),Y.jsxs("div",{className:"mt-8",children:[Y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Y.jsx(aE,{size:16,className:"text-slate-400"}),Y.jsx("h3",{className:"font-bold text-slate-500 text-xs uppercase tracking-wider",children:"Recent History"})]}),Y.jsx(cE,{history:O||[],onSelect:n,activeCode:e})]})]})]}),Y.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes scan {
          0%, 100% { top: 10%; opacity: 0.3; }
          50% { top: 90%; opacity: 1; }
        }
        #reader video, #reader canvas {
          width: 100% !important;
          height: 100% !important;
          object-fit: cover !important;
          object-position: center !important;
        }
        #reader {
          border: none !important;
        }
        /* Hide the library's default scan region border to only show our custom one */
        #reader__scan_region, #qr-shaded-region {
          border: none !important;
          display: none !important;
        }
        #reader__dashboard {
          display: none !important;
        }
      `}})]})};function TR(){const t=pi(e=>e.currentView);return Y.jsxs(ST,{children:[t==="home"&&Y.jsx(eR,{}),t==="scanner"&&Y.jsx(SR,{})]})}Gh.createRoot(document.getElementById("root")).render(Y.jsx(Au.StrictMode,{children:Y.jsx(TR,{})}));
