var aC=Object.defineProperty;var mp=e=>{throw TypeError(e)};var lC=(e,t,n)=>t in e?aC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xp=(e,t,n)=>lC(e,typeof t!="symbol"?t+"":t,n),Of=(e,t,n)=>t.has(e)||mp("Cannot "+n);var B=(e,t,n)=>(Of(e,t,"read from private field"),n?n.call(e):t.get(e)),Ae=(e,t,n)=>t.has(e)?mp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ce=(e,t,n,i)=>(Of(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Fe=(e,t,n)=>(Of(e,t,"access private method"),n);var ou=(e,t,n,i)=>({set _(a){ce(e,t,a,n)},get _(){return B(e,t,i)}});function uC(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var _a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function d0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kx={exports:{}},Fc={},Qx={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=Symbol.for("react.element"),cC=Symbol.for("react.portal"),fC=Symbol.for("react.fragment"),dC=Symbol.for("react.strict_mode"),hC=Symbol.for("react.profiler"),pC=Symbol.for("react.provider"),gC=Symbol.for("react.context"),mC=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),yC=Symbol.for("react.memo"),wC=Symbol.for("react.lazy"),yp=Symbol.iterator;function vC(e){return e===null||typeof e!="object"?null:(e=yp&&e[yp]||e["@@iterator"],typeof e=="function"?e:null)}var qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$x=Object.assign,Jx={};function la(e,t,n){this.props=e,this.context=t,this.refs=Jx,this.updater=n||qx}la.prototype.isReactComponent={};la.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};la.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function e2(){}e2.prototype=la.prototype;function h0(e,t,n){this.props=e,this.context=t,this.refs=Jx,this.updater=n||qx}var p0=h0.prototype=new e2;p0.constructor=h0;$x(p0,la.prototype);p0.isPureReactComponent=!0;var wp=Array.isArray,t2=Object.prototype.hasOwnProperty,g0={current:null},n2={key:!0,ref:!0,__self:!0,__source:!0};function r2(e,t,n){var i,a={},l=null,d=null;if(t!=null)for(i in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)t2.call(t,i)&&!n2.hasOwnProperty(i)&&(a[i]=t[i]);var p=arguments.length-2;if(p===1)a.children=n;else if(1<p){for(var x=Array(p),m=0;m<p;m++)x[m]=arguments[m+2];a.children=x}if(e&&e.defaultProps)for(i in p=e.defaultProps,p)a[i]===void 0&&(a[i]=p[i]);return{$$typeof:Ll,type:e,key:l,ref:d,props:a,_owner:g0.current}}function CC(e,t){return{$$typeof:Ll,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function m0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ll}function EC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vp=/\/+/g;function kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EC(""+e.key):t.toString(36)}function ku(e,t,n,i,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Ll:case cC:d=!0}}if(d)return d=e,a=a(d),e=i===""?"."+kf(d,0):i,wp(a)?(n="",e!=null&&(n=e.replace(vp,"$&/")+"/"),ku(a,t,n,"",function(m){return m})):a!=null&&(m0(a)&&(a=CC(a,n+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(vp,"$&/")+"/")+e)),t.push(a)),1;if(d=0,i=i===""?".":i+":",wp(e))for(var p=0;p<e.length;p++){l=e[p];var x=i+kf(l,p);d+=ku(l,t,n,x,a)}else if(x=vC(e),typeof x=="function")for(e=x.call(e),p=0;!(l=e.next()).done;)l=l.value,x=i+kf(l,p++),d+=ku(l,t,n,x,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function au(e,t,n){if(e==null)return e;var i=[],a=0;return ku(e,i,"","",function(l){return t.call(n,l,a++)}),i}function AC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xn={current:null},Du={transition:null},SC={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Du,ReactCurrentOwner:g0};function i2(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:au,forEach:function(e,t,n){au(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return au(e,function(){t++}),t},toArray:function(e){return au(e,function(t){return t})||[]},only:function(e){if(!m0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=la;Pe.Fragment=fC;Pe.Profiler=hC;Pe.PureComponent=h0;Pe.StrictMode=dC;Pe.Suspense=xC;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SC;Pe.act=i2;Pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=$x({},e.props),a=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=g0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(x in t)t2.call(t,x)&&!n2.hasOwnProperty(x)&&(i[x]=t[x]===void 0&&p!==void 0?p[x]:t[x])}var x=arguments.length-2;if(x===1)i.children=n;else if(1<x){p=Array(x);for(var m=0;m<x;m++)p[m]=arguments[m+2];i.children=p}return{$$typeof:Ll,type:e.type,key:a,ref:l,props:i,_owner:d}};Pe.createContext=function(e){return e={$$typeof:gC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pC,_context:e},e.Consumer=e};Pe.createElement=r2;Pe.createFactory=function(e){var t=r2.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:mC,render:e}};Pe.isValidElement=m0;Pe.lazy=function(e){return{$$typeof:wC,_payload:{_status:-1,_result:e},_init:AC}};Pe.memo=function(e,t){return{$$typeof:yC,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=Du.transition;Du.transition={};try{e()}finally{Du.transition=t}};Pe.unstable_act=i2;Pe.useCallback=function(e,t){return xn.current.useCallback(e,t)};Pe.useContext=function(e){return xn.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return xn.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return xn.current.useEffect(e,t)};Pe.useId=function(){return xn.current.useId()};Pe.useImperativeHandle=function(e,t,n){return xn.current.useImperativeHandle(e,t,n)};Pe.useInsertionEffect=function(e,t){return xn.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return xn.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return xn.current.useMemo(e,t)};Pe.useReducer=function(e,t,n){return xn.current.useReducer(e,t,n)};Pe.useRef=function(e){return xn.current.useRef(e)};Pe.useState=function(e){return xn.current.useState(e)};Pe.useSyncExternalStore=function(e,t,n){return xn.current.useSyncExternalStore(e,t,n)};Pe.useTransition=function(){return xn.current.useTransition()};Pe.version="18.3.1";Qx.exports=Pe;var Q=Qx.exports;const bo=d0(Q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC=Q,_C=Symbol.for("react.element"),TC=Symbol.for("react.fragment"),IC=Object.prototype.hasOwnProperty,NC=bC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RC={key:!0,ref:!0,__self:!0,__source:!0};function s2(e,t,n){var i,a={},l=null,d=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(i in t)IC.call(t,i)&&!RC.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:_C,type:e,key:l,ref:d,props:a,_owner:NC.current}}Fc.Fragment=TC;Fc.jsx=s2;Fc.jsxs=s2;Kx.exports=Fc;var F=Kx.exports,Td={},o2={exports:{}},zn={},a2={exports:{}},l2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(se,me){var ve=se.length;se.push(me);e:for(;0<ve;){var Ue=ve-1>>>1,ze=se[Ue];if(0<a(ze,me))se[Ue]=me,se[ve]=ze,ve=Ue;else break e}}function n(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var me=se[0],ve=se.pop();if(ve!==me){se[0]=ve;e:for(var Ue=0,ze=se.length,Hn=ze>>>1;Ue<Hn;){var gt=2*(Ue+1)-1,ss=se[gt],ye=gt+1,ui=se[ye];if(0>a(ss,ve))ye<ze&&0>a(ui,ss)?(se[Ue]=ui,se[ye]=ve,Ue=ye):(se[Ue]=ss,se[gt]=ve,Ue=gt);else if(ye<ze&&0>a(ui,ve))se[Ue]=ui,se[ye]=ve,Ue=ye;else break e}}return me}function a(se,me){var ve=se.sortIndex-me.sortIndex;return ve!==0?ve:se.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var x=[],m=[],w=1,v=null,E=3,T=!1,D=!1,k=!1,V=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(se){for(var me=n(m);me!==null;){if(me.callback===null)i(m);else if(me.startTime<=se)i(m),me.sortIndex=me.expirationTime,t(x,me);else break;me=n(m)}}function M(se){if(k=!1,I(se),!D)if(n(x)!==null)D=!0,Je(U);else{var me=n(m);me!==null&&pe(M,me.startTime-se)}}function U(se,me){D=!1,k&&(k=!1,N(H),H=-1),T=!0;var ve=E;try{for(I(me),v=n(x);v!==null&&(!(v.expirationTime>me)||se&&!ae());){var Ue=v.callback;if(typeof Ue=="function"){v.callback=null,E=v.priorityLevel;var ze=Ue(v.expirationTime<=me);me=e.unstable_now(),typeof ze=="function"?v.callback=ze:v===n(x)&&i(x),I(me)}else i(x);v=n(x)}if(v!==null)var Hn=!0;else{var gt=n(m);gt!==null&&pe(M,gt.startTime-me),Hn=!1}return Hn}finally{v=null,E=ve,T=!1}}var Z=!1,j=null,H=-1,Y=5,J=-1;function ae(){return!(e.unstable_now()-J<Y)}function ne(){if(j!==null){var se=e.unstable_now();J=se;var me=!0;try{me=j(!0,se)}finally{me?Te():(Z=!1,j=null)}}else Z=!1}var Te;if(typeof _=="function")Te=function(){_(ne)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,K=Me.port2;Me.port1.onmessage=ne,Te=function(){K.postMessage(null)}}else Te=function(){V(ne,0)};function Je(se){j=se,Z||(Z=!0,Te())}function pe(se,me){H=V(function(){se(e.unstable_now())},me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){D||T||(D=!0,Je(U))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(se){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ve=E;E=me;try{return se()}finally{E=ve}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ve=E;E=se;try{return me()}finally{E=ve}},e.unstable_scheduleCallback=function(se,me,ve){var Ue=e.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ue+ve:Ue):ve=Ue,se){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ve+ze,se={id:w++,callback:me,priorityLevel:se,startTime:ve,expirationTime:ze,sortIndex:-1},ve>Ue?(se.sortIndex=ve,t(m,se),n(x)===null&&se===n(m)&&(k?(N(H),H=-1):k=!0,pe(M,ve-Ue))):(se.sortIndex=ze,t(x,se),D||T||(D=!0,Je(U))),se},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(se){var me=E;return function(){var ve=E;E=me;try{return se.apply(this,arguments)}finally{E=ve}}}})(l2);a2.exports=l2;var OC=a2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC=Q,jn=OC;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u2=new Set,ol={};function Hs(e,t){Go(e,t),Go(e+"Capture",t)}function Go(e,t){for(ol[e]=t,e=0;e<t.length;e++)u2.add(t[e])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Id=Object.prototype.hasOwnProperty,DC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cp={},Ep={};function MC(e){return Id.call(Ep,e)?!0:Id.call(Cp,e)?!1:DC.test(e)?Ep[e]=!0:(Cp[e]=!0,!1)}function PC(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LC(e,t,n,i){if(t===null||typeof t>"u"||PC(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yn(e,t,n,i,a,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){en[e]=new yn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];en[t]=new yn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){en[e]=new yn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){en[e]=new yn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){en[e]=new yn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){en[e]=new yn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){en[e]=new yn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){en[e]=new yn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){en[e]=new yn(e,5,!1,e.toLowerCase(),null,!1,!1)});var x0=/[\-:]([a-z])/g;function y0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x0,y0);en[t]=new yn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x0,y0);en[t]=new yn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x0,y0);en[t]=new yn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){en[e]=new yn(e,1,!1,e.toLowerCase(),null,!1,!1)});en.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){en[e]=new yn(e,1,!1,e.toLowerCase(),null,!0,!0)});function w0(e,t,n,i){var a=en.hasOwnProperty(t)?en[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LC(t,n,a,i)&&(n=null),i||a===null?MC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,i=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var li=kC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),oo=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),v0=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),c2=Symbol.for("react.provider"),f2=Symbol.for("react.context"),C0=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),Od=Symbol.for("react.suspense_list"),E0=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),d2=Symbol.for("react.offscreen"),Ap=Symbol.iterator;function Ta(e){return e===null||typeof e!="object"?null:(e=Ap&&e[Ap]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Object.assign,Df;function Fa(e){if(Df===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Df=t&&t[1]||""}return`
`+Df+e}var Mf=!1;function Pf(e,t){if(!e||Mf)return"";Mf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var i=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){i=m}e.call(t.prototype)}else{try{throw Error()}catch(m){i=m}e()}}catch(m){if(m&&i&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),l=i.stack.split(`
`),d=a.length-1,p=l.length-1;1<=d&&0<=p&&a[d]!==l[p];)p--;for(;1<=d&&0<=p;d--,p--)if(a[d]!==l[p]){if(d!==1||p!==1)do if(d--,p--,0>p||a[d]!==l[p]){var x=`
`+a[d].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=d&&0<=p);break}}}finally{Mf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fa(e):""}function BC(e){switch(e.tag){case 5:return Fa(e.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return e=Pf(e.type,!1),e;case 11:return e=Pf(e.type.render,!1),e;case 1:return e=Pf(e.type,!0),e;default:return""}}function kd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ao:return"Fragment";case oo:return"Portal";case Nd:return"Profiler";case v0:return"StrictMode";case Rd:return"Suspense";case Od:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case f2:return(e.displayName||"Context")+".Consumer";case c2:return(e._context.displayName||"Context")+".Provider";case C0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E0:return t=e.displayName||null,t!==null?t:kd(e.type)||"Memo";case Ai:t=e._payload,e=e._init;try{return kd(e(t))}catch{}}return null}function FC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kd(t);case 8:return t===v0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VC(e){var t=h2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){i=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uu(e){e._valueTracker||(e._valueTracker=VC(e))}function p2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=h2(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ku(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dd(e,t){var n=t.checked;return vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sp(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ki(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function g2(e,t){t=t.checked,t!=null&&w0(e,"checked",t,!1)}function Md(e,t){g2(e,t);var n=Ki(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pd(e,t.type,Ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pd(e,t,n){(t!=="number"||Ku(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Va=Array.isArray;function _o(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ki(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ld(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _p(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(Va(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ki(n)}}function m2(e,t){var n=Ki(t.value),i=Ki(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Tp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function x2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?x2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cu,y2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function al(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jC=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(e){jC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Za[t]=Za[e]})});function w2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Za.hasOwnProperty(e)&&Za[e]?(""+t).trim():t+"px"}function v2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=w2(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,a):e[n]=a}}var UC=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fd(e,t){if(t){if(UC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Vd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jd=null;function A0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ud=null,To=null,Io=null;function Ip(e){if(e=Vl(e)){if(typeof Ud!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Wc(t),Ud(e.stateNode,e.type,t))}}function C2(e){To?Io?Io.push(e):Io=[e]:To=e}function E2(){if(To){var e=To,t=Io;if(Io=To=null,Ip(e),t)for(e=0;e<t.length;e++)Ip(t[e])}}function A2(e,t){return e(t)}function S2(){}var Lf=!1;function b2(e,t,n){if(Lf)return e(t,n);Lf=!0;try{return A2(e,t,n)}finally{Lf=!1,(To!==null||Io!==null)&&(S2(),E2())}}function ll(e,t){var n=e.stateNode;if(n===null)return null;var i=Wc(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var zd=!1;if(ti)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){zd=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{zd=!1}function zC(e,t,n,i,a,l,d,p,x){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(w){this.onError(w)}}var Ya=!1,Qu=null,qu=!1,Wd=null,WC={onError:function(e){Ya=!0,Qu=e}};function HC(e,t,n,i,a,l,d,p,x){Ya=!1,Qu=null,zC.apply(WC,arguments)}function GC(e,t,n,i,a,l,d,p,x){if(HC.apply(this,arguments),Ya){if(Ya){var m=Qu;Ya=!1,Qu=null}else throw Error(ee(198));qu||(qu=!0,Wd=m)}}function Gs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Np(e){if(Gs(e)!==e)throw Error(ee(188))}function XC(e){var t=e.alternate;if(!t){if(t=Gs(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Np(a),e;if(l===i)return Np(a),t;l=l.sibling}throw Error(ee(188))}if(n.return!==i.return)n=a,i=l;else{for(var d=!1,p=a.child;p;){if(p===n){d=!0,n=a,i=l;break}if(p===i){d=!0,i=a,n=l;break}p=p.sibling}if(!d){for(p=l.child;p;){if(p===n){d=!0,n=l,i=a;break}if(p===i){d=!0,i=l,n=a;break}p=p.sibling}if(!d)throw Error(ee(189))}}if(n.alternate!==i)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function T2(e){return e=XC(e),e!==null?I2(e):null}function I2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=I2(e);if(t!==null)return t;e=e.sibling}return null}var N2=jn.unstable_scheduleCallback,Rp=jn.unstable_cancelCallback,ZC=jn.unstable_shouldYield,YC=jn.unstable_requestPaint,Rt=jn.unstable_now,KC=jn.unstable_getCurrentPriorityLevel,S0=jn.unstable_ImmediatePriority,R2=jn.unstable_UserBlockingPriority,$u=jn.unstable_NormalPriority,QC=jn.unstable_LowPriority,O2=jn.unstable_IdlePriority,Vc=null,Mr=null;function qC(e){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(Vc,e,void 0,(e.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:eE,$C=Math.log,JC=Math.LN2;function eE(e){return e>>>=0,e===0?32:31-($C(e)/JC|0)|0}var fu=64,du=4194304;function ja(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ju(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,a=e.suspendedLanes,l=e.pingedLanes,d=n&268435455;if(d!==0){var p=d&~a;p!==0?i=ja(p):(l&=d,l!==0&&(i=ja(l)))}else d=n&~a,d!==0?i=ja(d):l!==0&&(i=ja(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&a)&&(a=i&-i,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-mr(t),a=1<<n,i|=e[n],t&=~a;return i}function tE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-mr(l),p=1<<d,x=a[d];x===-1?(!(p&n)||p&i)&&(a[d]=tE(p,t)):x<=t&&(e.expiredLanes|=p),l&=~p}}function Hd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k2(){var e=fu;return fu<<=1,!(fu&4194240)&&(fu=64),e}function Bf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mr(t),e[t]=n}function rE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-mr(n),l=1<<a;t[a]=0,i[a]=-1,e[a]=-1,n&=~l}}function b0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-mr(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}var $e=0;function D2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var M2,_0,P2,L2,B2,Gd=!1,hu=[],Vi=null,ji=null,Ui=null,ul=new Map,cl=new Map,_i=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Op(e,t){switch(e){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":ul.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(t.pointerId)}}function Na(e,t,n,i,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Vl(t),t!==null&&_0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function sE(e,t,n,i,a){switch(t){case"focusin":return Vi=Na(Vi,e,t,n,i,a),!0;case"dragenter":return ji=Na(ji,e,t,n,i,a),!0;case"mouseover":return Ui=Na(Ui,e,t,n,i,a),!0;case"pointerover":var l=a.pointerId;return ul.set(l,Na(ul.get(l)||null,e,t,n,i,a)),!0;case"gotpointercapture":return l=a.pointerId,cl.set(l,Na(cl.get(l)||null,e,t,n,i,a)),!0}return!1}function F2(e){var t=xs(e.target);if(t!==null){var n=Gs(t);if(n!==null){if(t=n.tag,t===13){if(t=_2(n),t!==null){e.blockedOn=t,B2(e.priority,function(){P2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);jd=i,n.target.dispatchEvent(i),jd=null}else return t=Vl(n),t!==null&&_0(t),e.blockedOn=n,!1;t.shift()}return!0}function kp(e,t,n){Mu(e)&&n.delete(t)}function oE(){Gd=!1,Vi!==null&&Mu(Vi)&&(Vi=null),ji!==null&&Mu(ji)&&(ji=null),Ui!==null&&Mu(Ui)&&(Ui=null),ul.forEach(kp),cl.forEach(kp)}function Ra(e,t){e.blockedOn===t&&(e.blockedOn=null,Gd||(Gd=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,oE)))}function fl(e){function t(a){return Ra(a,e)}if(0<hu.length){Ra(hu[0],e);for(var n=1;n<hu.length;n++){var i=hu[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Vi!==null&&Ra(Vi,e),ji!==null&&Ra(ji,e),Ui!==null&&Ra(Ui,e),ul.forEach(t),cl.forEach(t),n=0;n<_i.length;n++)i=_i[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)F2(n),n.blockedOn===null&&_i.shift()}var No=li.ReactCurrentBatchConfig,ec=!0;function aE(e,t,n,i){var a=$e,l=No.transition;No.transition=null;try{$e=1,T0(e,t,n,i)}finally{$e=a,No.transition=l}}function lE(e,t,n,i){var a=$e,l=No.transition;No.transition=null;try{$e=4,T0(e,t,n,i)}finally{$e=a,No.transition=l}}function T0(e,t,n,i){if(ec){var a=Xd(e,t,n,i);if(a===null)Zf(e,t,i,tc,n),Op(e,i);else if(sE(a,e,t,n,i))i.stopPropagation();else if(Op(e,i),t&4&&-1<iE.indexOf(e)){for(;a!==null;){var l=Vl(a);if(l!==null&&M2(l),l=Xd(e,t,n,i),l===null&&Zf(e,t,i,tc,n),l===a)break;a=l}a!==null&&i.stopPropagation()}else Zf(e,t,i,null,n)}}var tc=null;function Xd(e,t,n,i){if(tc=null,e=A0(i),e=xs(e),e!==null)if(t=Gs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tc=e,null}function V2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KC()){case S0:return 1;case R2:return 4;case $u:case QC:return 16;case O2:return 536870912;default:return 16}default:return 16}}var Bi=null,I0=null,Pu=null;function j2(){if(Pu)return Pu;var e,t=I0,n=t.length,i,a="value"in Bi?Bi.value:Bi.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===a[l-i];i++);return Pu=a.slice(e,1<i?1-i:void 0)}function Lu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pu(){return!0}function Dp(){return!1}function Wn(e){function t(n,i,a,l,d){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(l):l[p]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?pu:Dp,this.isPropagationStopped=Dp,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),t}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N0=Wn(ua),Fl=vt({},ua,{view:0,detail:0}),uE=Wn(Fl),Ff,Vf,Oa,jc=vt({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oa&&(Oa&&e.type==="mousemove"?(Ff=e.screenX-Oa.screenX,Vf=e.screenY-Oa.screenY):Vf=Ff=0,Oa=e),Ff)},movementY:function(e){return"movementY"in e?e.movementY:Vf}}),Mp=Wn(jc),cE=vt({},jc,{dataTransfer:0}),fE=Wn(cE),dE=vt({},Fl,{relatedTarget:0}),jf=Wn(dE),hE=vt({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),pE=Wn(hE),gE=vt({},ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mE=Wn(gE),xE=vt({},ua,{data:0}),Pp=Wn(xE),yE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vE[e])?!!t[e]:!1}function R0(){return CE}var EE=vt({},Fl,{key:function(e){if(e.key){var t=yE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R0,charCode:function(e){return e.type==="keypress"?Lu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AE=Wn(EE),SE=vt({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lp=Wn(SE),bE=vt({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R0}),_E=Wn(bE),TE=vt({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),IE=Wn(TE),NE=vt({},jc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RE=Wn(NE),OE=[9,13,27,32],O0=ti&&"CompositionEvent"in window,Ka=null;ti&&"documentMode"in document&&(Ka=document.documentMode);var kE=ti&&"TextEvent"in window&&!Ka,U2=ti&&(!O0||Ka&&8<Ka&&11>=Ka),Bp=" ",Fp=!1;function z2(e,t){switch(e){case"keyup":return OE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lo=!1;function DE(e,t){switch(e){case"compositionend":return W2(t);case"keypress":return t.which!==32?null:(Fp=!0,Bp);case"textInput":return e=t.data,e===Bp&&Fp?null:e;default:return null}}function ME(e,t){if(lo)return e==="compositionend"||!O0&&z2(e,t)?(e=j2(),Pu=I0=Bi=null,lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return U2&&t.locale!=="ko"?null:t.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PE[e.type]:t==="textarea"}function H2(e,t,n,i){C2(i),t=nc(t,"onChange"),0<t.length&&(n=new N0("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Qa=null,dl=null;function LE(e){ty(e,0)}function Uc(e){var t=fo(e);if(p2(t))return e}function BE(e,t){if(e==="change")return t}var G2=!1;if(ti){var Uf;if(ti){var zf="oninput"in document;if(!zf){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),zf=typeof jp.oninput=="function"}Uf=zf}else Uf=!1;G2=Uf&&(!document.documentMode||9<document.documentMode)}function Up(){Qa&&(Qa.detachEvent("onpropertychange",X2),dl=Qa=null)}function X2(e){if(e.propertyName==="value"&&Uc(dl)){var t=[];H2(t,dl,e,A0(e)),b2(LE,t)}}function FE(e,t,n){e==="focusin"?(Up(),Qa=t,dl=n,Qa.attachEvent("onpropertychange",X2)):e==="focusout"&&Up()}function VE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uc(dl)}function jE(e,t){if(e==="click")return Uc(t)}function UE(e,t){if(e==="input"||e==="change")return Uc(t)}function zE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:zE;function hl(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Id.call(t,a)||!yr(e[a],t[a]))return!1}return!0}function zp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wp(e,t){var n=zp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zp(n)}}function Z2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Z2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Y2(){for(var e=window,t=Ku();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ku(e.document)}return t}function k0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WE(e){var t=Y2(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Z2(n.ownerDocument.documentElement,n)){if(i!==null&&k0(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(i.start,a);i=i.end===void 0?l:Math.min(i.end,a),!e.extend&&l>i&&(a=i,i=l,l=a),a=Wp(n,l);var d=Wp(n,i);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HE=ti&&"documentMode"in document&&11>=document.documentMode,uo=null,Zd=null,qa=null,Yd=!1;function Hp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yd||uo==null||uo!==Ku(i)||(i=uo,"selectionStart"in i&&k0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qa&&hl(qa,i)||(qa=i,i=nc(Zd,"onSelect"),0<i.length&&(t=new N0("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=uo)))}function gu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var co={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Wf={},K2={};ti&&(K2=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function zc(e){if(Wf[e])return Wf[e];if(!co[e])return e;var t=co[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in K2)return Wf[e]=t[n];return e}var Q2=zc("animationend"),q2=zc("animationiteration"),$2=zc("animationstart"),J2=zc("transitionend"),ey=new Map,Gp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(e,t){ey.set(e,t),Hs(t,[e])}for(var Hf=0;Hf<Gp.length;Hf++){var Gf=Gp[Hf],GE=Gf.toLowerCase(),XE=Gf[0].toUpperCase()+Gf.slice(1);es(GE,"on"+XE)}es(Q2,"onAnimationEnd");es(q2,"onAnimationIteration");es($2,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(J2,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function Xp(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,GC(i,t,void 0,e),e.currentTarget=null}function ty(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var d=i.length-1;0<=d;d--){var p=i[d],x=p.instance,m=p.currentTarget;if(p=p.listener,x!==l&&a.isPropagationStopped())break e;Xp(a,p,m),l=x}else for(d=0;d<i.length;d++){if(p=i[d],x=p.instance,m=p.currentTarget,p=p.listener,x!==l&&a.isPropagationStopped())break e;Xp(a,p,m),l=x}}}if(qu)throw e=Wd,qu=!1,Wd=null,e}function ut(e,t){var n=t[Jd];n===void 0&&(n=t[Jd]=new Set);var i=e+"__bubble";n.has(i)||(ny(t,e,2,!1),n.add(i))}function Xf(e,t,n){var i=0;t&&(i|=4),ny(n,e,i,t)}var mu="_reactListening"+Math.random().toString(36).slice(2);function pl(e){if(!e[mu]){e[mu]=!0,u2.forEach(function(n){n!=="selectionchange"&&(ZE.has(n)||Xf(n,!1,e),Xf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mu]||(t[mu]=!0,Xf("selectionchange",!1,t))}}function ny(e,t,n,i){switch(V2(t)){case 1:var a=aE;break;case 4:a=lE;break;default:a=T0}n=a.bind(null,t,n,e),a=void 0,!zd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Zf(e,t,n,i,a){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var p=i.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(d===4)for(d=i.return;d!==null;){var x=d.tag;if((x===3||x===4)&&(x=d.stateNode.containerInfo,x===a||x.nodeType===8&&x.parentNode===a))return;d=d.return}for(;p!==null;){if(d=xs(p),d===null)return;if(x=d.tag,x===5||x===6){i=l=d;continue e}p=p.parentNode}}i=i.return}b2(function(){var m=l,w=A0(n),v=[];e:{var E=ey.get(e);if(E!==void 0){var T=N0,D=e;switch(e){case"keypress":if(Lu(n)===0)break e;case"keydown":case"keyup":T=AE;break;case"focusin":D="focus",T=jf;break;case"focusout":D="blur",T=jf;break;case"beforeblur":case"afterblur":T=jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=fE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=_E;break;case Q2:case q2:case $2:T=pE;break;case J2:T=IE;break;case"scroll":T=uE;break;case"wheel":T=RE;break;case"copy":case"cut":case"paste":T=mE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Lp}var k=(t&4)!==0,V=!k&&e==="scroll",N=k?E!==null?E+"Capture":null:E;k=[];for(var _=m,I;_!==null;){I=_;var M=I.stateNode;if(I.tag===5&&M!==null&&(I=M,N!==null&&(M=ll(_,N),M!=null&&k.push(gl(_,M,I)))),V)break;_=_.return}0<k.length&&(E=new T(E,D,null,n,w),v.push({event:E,listeners:k}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",E&&n!==jd&&(D=n.relatedTarget||n.fromElement)&&(xs(D)||D[ni]))break e;if((T||E)&&(E=w.window===w?w:(E=w.ownerDocument)?E.defaultView||E.parentWindow:window,T?(D=n.relatedTarget||n.toElement,T=m,D=D?xs(D):null,D!==null&&(V=Gs(D),D!==V||D.tag!==5&&D.tag!==6)&&(D=null)):(T=null,D=m),T!==D)){if(k=Mp,M="onMouseLeave",N="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(k=Lp,M="onPointerLeave",N="onPointerEnter",_="pointer"),V=T==null?E:fo(T),I=D==null?E:fo(D),E=new k(M,_+"leave",T,n,w),E.target=V,E.relatedTarget=I,M=null,xs(w)===m&&(k=new k(N,_+"enter",D,n,w),k.target=I,k.relatedTarget=V,M=k),V=M,T&&D)t:{for(k=T,N=D,_=0,I=k;I;I=ro(I))_++;for(I=0,M=N;M;M=ro(M))I++;for(;0<_-I;)k=ro(k),_--;for(;0<I-_;)N=ro(N),I--;for(;_--;){if(k===N||N!==null&&k===N.alternate)break t;k=ro(k),N=ro(N)}k=null}else k=null;T!==null&&Zp(v,E,T,k,!1),D!==null&&V!==null&&Zp(v,V,D,k,!0)}}e:{if(E=m?fo(m):window,T=E.nodeName&&E.nodeName.toLowerCase(),T==="select"||T==="input"&&E.type==="file")var U=BE;else if(Vp(E))if(G2)U=UE;else{U=VE;var Z=FE}else(T=E.nodeName)&&T.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(U=jE);if(U&&(U=U(e,m))){H2(v,U,n,w);break e}Z&&Z(e,E,m),e==="focusout"&&(Z=E._wrapperState)&&Z.controlled&&E.type==="number"&&Pd(E,"number",E.value)}switch(Z=m?fo(m):window,e){case"focusin":(Vp(Z)||Z.contentEditable==="true")&&(uo=Z,Zd=m,qa=null);break;case"focusout":qa=Zd=uo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,Hp(v,n,w);break;case"selectionchange":if(HE)break;case"keydown":case"keyup":Hp(v,n,w)}var j;if(O0)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else lo?z2(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(U2&&n.locale!=="ko"&&(lo||H!=="onCompositionStart"?H==="onCompositionEnd"&&lo&&(j=j2()):(Bi=w,I0="value"in Bi?Bi.value:Bi.textContent,lo=!0)),Z=nc(m,H),0<Z.length&&(H=new Pp(H,e,null,n,w),v.push({event:H,listeners:Z}),j?H.data=j:(j=W2(n),j!==null&&(H.data=j)))),(j=kE?DE(e,n):ME(e,n))&&(m=nc(m,"onBeforeInput"),0<m.length&&(w=new Pp("onBeforeInput","beforeinput",null,n,w),v.push({event:w,listeners:m}),w.data=j))}ty(v,t)})}function gl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nc(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=ll(e,n),l!=null&&i.unshift(gl(e,l,a)),l=ll(e,t),l!=null&&i.push(gl(e,l,a))),e=e.return}return i}function ro(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zp(e,t,n,i,a){for(var l=t._reactName,d=[];n!==null&&n!==i;){var p=n,x=p.alternate,m=p.stateNode;if(x!==null&&x===i)break;p.tag===5&&m!==null&&(p=m,a?(x=ll(n,l),x!=null&&d.unshift(gl(n,x,p))):a||(x=ll(n,l),x!=null&&d.push(gl(n,x,p)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var YE=/\r\n?/g,KE=/\u0000|\uFFFD/g;function Yp(e){return(typeof e=="string"?e:""+e).replace(YE,`
`).replace(KE,"")}function xu(e,t,n){if(t=Yp(t),Yp(e)!==t&&n)throw Error(ee(425))}function rc(){}var Kd=null,Qd=null;function qd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $d=typeof setTimeout=="function"?setTimeout:void 0,QE=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,qE=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(e){return Kp.resolve(null).then(e).catch($E)}:$d;function $E(e){setTimeout(function(){throw e})}function Yf(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){e.removeChild(a),fl(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);fl(t)}function zi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ca=Math.random().toString(36).slice(2),Or="__reactFiber$"+ca,ml="__reactProps$"+ca,ni="__reactContainer$"+ca,Jd="__reactEvents$"+ca,JE="__reactListeners$"+ca,eA="__reactHandles$"+ca;function xs(e){var t=e[Or];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ni]||n[Or]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qp(e);e!==null;){if(n=e[Or])return n;e=Qp(e)}return t}e=n,n=e.parentNode}return null}function Vl(e){return e=e[Or]||e[ni],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Wc(e){return e[ml]||null}var eh=[],ho=-1;function ts(e){return{current:e}}function ft(e){0>ho||(e.current=eh[ho],eh[ho]=null,ho--)}function ot(e,t){ho++,eh[ho]=e.current,e.current=t}var Qi={},un=ts(Qi),Rn=ts(!1),Ps=Qi;function Xo(e,t){var n=e.type.contextTypes;if(!n)return Qi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function On(e){return e=e.childContextTypes,e!=null}function ic(){ft(Rn),ft(un)}function qp(e,t,n){if(un.current!==Qi)throw Error(ee(168));ot(un,t),ot(Rn,n)}function ry(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(ee(108,FC(e)||"Unknown",a));return vt({},n,i)}function sc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qi,Ps=un.current,ot(un,e),ot(Rn,Rn.current),!0}function $p(e,t,n){var i=e.stateNode;if(!i)throw Error(ee(169));n?(e=ry(e,t,Ps),i.__reactInternalMemoizedMergedChildContext=e,ft(Rn),ft(un),ot(un,e)):ft(Rn),ot(Rn,n)}var Zr=null,Hc=!1,Kf=!1;function iy(e){Zr===null?Zr=[e]:Zr.push(e)}function tA(e){Hc=!0,iy(e)}function ns(){if(!Kf&&Zr!==null){Kf=!0;var e=0,t=$e;try{var n=Zr;for($e=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Zr=null,Hc=!1}catch(a){throw Zr!==null&&(Zr=Zr.slice(e+1)),N2(S0,ns),a}finally{$e=t,Kf=!1}}return null}var po=[],go=0,oc=null,ac=0,Jn=[],er=0,Ls=null,Qr=1,qr="";function hs(e,t){po[go++]=ac,po[go++]=oc,oc=e,ac=t}function sy(e,t,n){Jn[er++]=Qr,Jn[er++]=qr,Jn[er++]=Ls,Ls=e;var i=Qr;e=qr;var a=32-mr(i)-1;i&=~(1<<a),n+=1;var l=32-mr(t)+a;if(30<l){var d=a-a%5;l=(i&(1<<d)-1).toString(32),i>>=d,a-=d,Qr=1<<32-mr(t)+a|n<<a|i,qr=l+e}else Qr=1<<l|n<<a|i,qr=e}function D0(e){e.return!==null&&(hs(e,1),sy(e,1,0))}function M0(e){for(;e===oc;)oc=po[--go],po[go]=null,ac=po[--go],po[go]=null;for(;e===Ls;)Ls=Jn[--er],Jn[er]=null,qr=Jn[--er],Jn[er]=null,Qr=Jn[--er],Jn[er]=null}var Fn=null,Ln=null,pt=!1,gr=null;function oy(e,t){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=zi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ls!==null?{id:Qr,overflow:qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fn=e,Ln=null,!0):!1;default:return!1}}function th(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nh(e){if(pt){var t=Ln;if(t){var n=t;if(!Jp(e,t)){if(th(e))throw Error(ee(418));t=zi(n.nextSibling);var i=Fn;t&&Jp(e,t)?oy(i,n):(e.flags=e.flags&-4097|2,pt=!1,Fn=e)}}else{if(th(e))throw Error(ee(418));e.flags=e.flags&-4097|2,pt=!1,Fn=e}}}function eg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fn=e}function yu(e){if(e!==Fn)return!1;if(!pt)return eg(e),pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qd(e.type,e.memoizedProps)),t&&(t=Ln)){if(th(e))throw ay(),Error(ee(418));for(;t;)oy(e,t),t=zi(t.nextSibling)}if(eg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ln=zi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ln=null}}else Ln=Fn?zi(e.stateNode.nextSibling):null;return!0}function ay(){for(var e=Ln;e;)e=zi(e.nextSibling)}function Zo(){Ln=Fn=null,pt=!1}function P0(e){gr===null?gr=[e]:gr.push(e)}var nA=li.ReactCurrentBatchConfig;function ka(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var i=n.stateNode}if(!i)throw Error(ee(147,e));var a=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var p=a.refs;d===null?delete p[l]:p[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function wu(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tg(e){var t=e._init;return t(e._payload)}function ly(e){function t(N,_){if(e){var I=N.deletions;I===null?(N.deletions=[_],N.flags|=16):I.push(_)}}function n(N,_){if(!e)return null;for(;_!==null;)t(N,_),_=_.sibling;return null}function i(N,_){for(N=new Map;_!==null;)_.key!==null?N.set(_.key,_):N.set(_.index,_),_=_.sibling;return N}function a(N,_){return N=Xi(N,_),N.index=0,N.sibling=null,N}function l(N,_,I){return N.index=I,e?(I=N.alternate,I!==null?(I=I.index,I<_?(N.flags|=2,_):I):(N.flags|=2,_)):(N.flags|=1048576,_)}function d(N){return e&&N.alternate===null&&(N.flags|=2),N}function p(N,_,I,M){return _===null||_.tag!==6?(_=nd(I,N.mode,M),_.return=N,_):(_=a(_,I),_.return=N,_)}function x(N,_,I,M){var U=I.type;return U===ao?w(N,_,I.props.children,M,I.key):_!==null&&(_.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ai&&tg(U)===_.type)?(M=a(_,I.props),M.ref=ka(N,_,I),M.return=N,M):(M=Wu(I.type,I.key,I.props,null,N.mode,M),M.ref=ka(N,_,I),M.return=N,M)}function m(N,_,I,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=rd(I,N.mode,M),_.return=N,_):(_=a(_,I.children||[]),_.return=N,_)}function w(N,_,I,M,U){return _===null||_.tag!==7?(_=ks(I,N.mode,M,U),_.return=N,_):(_=a(_,I),_.return=N,_)}function v(N,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=nd(""+_,N.mode,I),_.return=N,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lu:return I=Wu(_.type,_.key,_.props,null,N.mode,I),I.ref=ka(N,null,_),I.return=N,I;case oo:return _=rd(_,N.mode,I),_.return=N,_;case Ai:var M=_._init;return v(N,M(_._payload),I)}if(Va(_)||Ta(_))return _=ks(_,N.mode,I,null),_.return=N,_;wu(N,_)}return null}function E(N,_,I,M){var U=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return U!==null?null:p(N,_,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case lu:return I.key===U?x(N,_,I,M):null;case oo:return I.key===U?m(N,_,I,M):null;case Ai:return U=I._init,E(N,_,U(I._payload),M)}if(Va(I)||Ta(I))return U!==null?null:w(N,_,I,M,null);wu(N,I)}return null}function T(N,_,I,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return N=N.get(I)||null,p(_,N,""+M,U);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case lu:return N=N.get(M.key===null?I:M.key)||null,x(_,N,M,U);case oo:return N=N.get(M.key===null?I:M.key)||null,m(_,N,M,U);case Ai:var Z=M._init;return T(N,_,I,Z(M._payload),U)}if(Va(M)||Ta(M))return N=N.get(I)||null,w(_,N,M,U,null);wu(_,M)}return null}function D(N,_,I,M){for(var U=null,Z=null,j=_,H=_=0,Y=null;j!==null&&H<I.length;H++){j.index>H?(Y=j,j=null):Y=j.sibling;var J=E(N,j,I[H],M);if(J===null){j===null&&(j=Y);break}e&&j&&J.alternate===null&&t(N,j),_=l(J,_,H),Z===null?U=J:Z.sibling=J,Z=J,j=Y}if(H===I.length)return n(N,j),pt&&hs(N,H),U;if(j===null){for(;H<I.length;H++)j=v(N,I[H],M),j!==null&&(_=l(j,_,H),Z===null?U=j:Z.sibling=j,Z=j);return pt&&hs(N,H),U}for(j=i(N,j);H<I.length;H++)Y=T(j,N,H,I[H],M),Y!==null&&(e&&Y.alternate!==null&&j.delete(Y.key===null?H:Y.key),_=l(Y,_,H),Z===null?U=Y:Z.sibling=Y,Z=Y);return e&&j.forEach(function(ae){return t(N,ae)}),pt&&hs(N,H),U}function k(N,_,I,M){var U=Ta(I);if(typeof U!="function")throw Error(ee(150));if(I=U.call(I),I==null)throw Error(ee(151));for(var Z=U=null,j=_,H=_=0,Y=null,J=I.next();j!==null&&!J.done;H++,J=I.next()){j.index>H?(Y=j,j=null):Y=j.sibling;var ae=E(N,j,J.value,M);if(ae===null){j===null&&(j=Y);break}e&&j&&ae.alternate===null&&t(N,j),_=l(ae,_,H),Z===null?U=ae:Z.sibling=ae,Z=ae,j=Y}if(J.done)return n(N,j),pt&&hs(N,H),U;if(j===null){for(;!J.done;H++,J=I.next())J=v(N,J.value,M),J!==null&&(_=l(J,_,H),Z===null?U=J:Z.sibling=J,Z=J);return pt&&hs(N,H),U}for(j=i(N,j);!J.done;H++,J=I.next())J=T(j,N,H,J.value,M),J!==null&&(e&&J.alternate!==null&&j.delete(J.key===null?H:J.key),_=l(J,_,H),Z===null?U=J:Z.sibling=J,Z=J);return e&&j.forEach(function(ne){return t(N,ne)}),pt&&hs(N,H),U}function V(N,_,I,M){if(typeof I=="object"&&I!==null&&I.type===ao&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case lu:e:{for(var U=I.key,Z=_;Z!==null;){if(Z.key===U){if(U=I.type,U===ao){if(Z.tag===7){n(N,Z.sibling),_=a(Z,I.props.children),_.return=N,N=_;break e}}else if(Z.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ai&&tg(U)===Z.type){n(N,Z.sibling),_=a(Z,I.props),_.ref=ka(N,Z,I),_.return=N,N=_;break e}n(N,Z);break}else t(N,Z);Z=Z.sibling}I.type===ao?(_=ks(I.props.children,N.mode,M,I.key),_.return=N,N=_):(M=Wu(I.type,I.key,I.props,null,N.mode,M),M.ref=ka(N,_,I),M.return=N,N=M)}return d(N);case oo:e:{for(Z=I.key;_!==null;){if(_.key===Z)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(N,_.sibling),_=a(_,I.children||[]),_.return=N,N=_;break e}else{n(N,_);break}else t(N,_);_=_.sibling}_=rd(I,N.mode,M),_.return=N,N=_}return d(N);case Ai:return Z=I._init,V(N,_,Z(I._payload),M)}if(Va(I))return D(N,_,I,M);if(Ta(I))return k(N,_,I,M);wu(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(N,_.sibling),_=a(_,I),_.return=N,N=_):(n(N,_),_=nd(I,N.mode,M),_.return=N,N=_),d(N)):n(N,_)}return V}var Yo=ly(!0),uy=ly(!1),lc=ts(null),uc=null,mo=null,L0=null;function B0(){L0=mo=uc=null}function F0(e){var t=lc.current;ft(lc),e._currentValue=t}function rh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){uc=e,L0=mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nn=!0),e.firstContext=null)}function rr(e){var t=e._currentValue;if(L0!==e)if(e={context:e,memoizedValue:t,next:null},mo===null){if(uc===null)throw Error(ee(308));mo=e,uc.dependencies={lanes:0,firstContext:e}}else mo=mo.next=e;return t}var ys=null;function V0(e){ys===null?ys=[e]:ys.push(e)}function cy(e,t,n,i){var a=t.interleaved;return a===null?(n.next=n,V0(t)):(n.next=a.next,a.next=n),t.interleaved=n,ri(e,i)}function ri(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Si=!1;function j0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ge&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,ri(e,n)}return a=i.interleaved,a===null?(t.next=t,V0(i)):(t.next=a.next,a.next=t),i.interleaved=t,ri(e,n)}function Bu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,b0(e,n)}}function ng(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=d:l=l.next=d,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function cc(e,t,n,i){var a=e.updateQueue;Si=!1;var l=a.firstBaseUpdate,d=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var x=p,m=x.next;x.next=null,d===null?l=m:d.next=m,d=x;var w=e.alternate;w!==null&&(w=w.updateQueue,p=w.lastBaseUpdate,p!==d&&(p===null?w.firstBaseUpdate=m:p.next=m,w.lastBaseUpdate=x))}if(l!==null){var v=a.baseState;d=0,w=m=x=null,p=l;do{var E=p.lane,T=p.eventTime;if((i&E)===E){w!==null&&(w=w.next={eventTime:T,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var D=e,k=p;switch(E=t,T=n,k.tag){case 1:if(D=k.payload,typeof D=="function"){v=D.call(T,v,E);break e}v=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=k.payload,E=typeof D=="function"?D.call(T,v,E):D,E==null)break e;v=vt({},v,E);break e;case 2:Si=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,E=a.effects,E===null?a.effects=[p]:E.push(p))}else T={eventTime:T,lane:E,tag:p.tag,payload:p.payload,callback:p.callback,next:null},w===null?(m=w=T,x=v):w=w.next=T,d|=E;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;E=p,p=E.next,E.next=null,a.lastBaseUpdate=E,a.shared.pending=null}}while(!0);if(w===null&&(x=v),a.baseState=x,a.firstBaseUpdate=m,a.lastBaseUpdate=w,t=a.shared.interleaved,t!==null){a=t;do d|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Fs|=d,e.lanes=d,e.memoizedState=v}}function rg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(ee(191,a));a.call(i)}}}var jl={},Pr=ts(jl),xl=ts(jl),yl=ts(jl);function ws(e){if(e===jl)throw Error(ee(174));return e}function U0(e,t){switch(ot(yl,t),ot(xl,e),ot(Pr,jl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bd(t,e)}ft(Pr),ot(Pr,t)}function Ko(){ft(Pr),ft(xl),ft(yl)}function dy(e){ws(yl.current);var t=ws(Pr.current),n=Bd(t,e.type);t!==n&&(ot(xl,e),ot(Pr,n))}function z0(e){xl.current===e&&(ft(Pr),ft(xl))}var xt=ts(0);function fc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qf=[];function W0(){for(var e=0;e<Qf.length;e++)Qf[e]._workInProgressVersionPrimary=null;Qf.length=0}var Fu=li.ReactCurrentDispatcher,qf=li.ReactCurrentBatchConfig,Bs=0,wt=null,Bt=null,Ht=null,dc=!1,$a=!1,wl=0,rA=0;function rn(){throw Error(ee(321))}function H0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yr(e[n],t[n]))return!1;return!0}function G0(e,t,n,i,a,l){if(Bs=l,wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fu.current=e===null||e.memoizedState===null?aA:lA,e=n(i,a),$a){l=0;do{if($a=!1,wl=0,25<=l)throw Error(ee(301));l+=1,Ht=Bt=null,t.updateQueue=null,Fu.current=uA,e=n(i,a)}while($a)}if(Fu.current=hc,t=Bt!==null&&Bt.next!==null,Bs=0,Ht=Bt=wt=null,dc=!1,t)throw Error(ee(300));return e}function X0(){var e=wl!==0;return wl=0,e}function Tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?wt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function ir(){if(Bt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var t=Ht===null?wt.memoizedState:Ht.next;if(t!==null)Ht=t,Bt=e;else{if(e===null)throw Error(ee(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Ht===null?wt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function vl(e,t){return typeof t=="function"?t(e):t}function $f(e){var t=ir(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var i=Bt,a=i.baseQueue,l=n.pending;if(l!==null){if(a!==null){var d=a.next;a.next=l.next,l.next=d}i.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,i=i.baseState;var p=d=null,x=null,m=l;do{var w=m.lane;if((Bs&w)===w)x!==null&&(x=x.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),i=m.hasEagerState?m.eagerState:e(i,m.action);else{var v={lane:w,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};x===null?(p=x=v,d=i):x=x.next=v,wt.lanes|=w,Fs|=w}m=m.next}while(m!==null&&m!==l);x===null?d=i:x.next=p,yr(i,t.memoizedState)||(Nn=!0),t.memoizedState=i,t.baseState=d,t.baseQueue=x,n.lastRenderedState=i}if(e=n.interleaved,e!==null){a=e;do l=a.lane,wt.lanes|=l,Fs|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jf(e){var t=ir(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var d=a=a.next;do l=e(l,d.action),d=d.next;while(d!==a);yr(l,t.memoizedState)||(Nn=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function hy(){}function py(e,t){var n=wt,i=ir(),a=t(),l=!yr(i.memoizedState,a);if(l&&(i.memoizedState=a,Nn=!0),i=i.queue,Z0(xy.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,Cl(9,my.bind(null,n,i,a,t),void 0,null),Gt===null)throw Error(ee(349));Bs&30||gy(n,t,a)}return a}function gy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function my(e,t,n,i){t.value=n,t.getSnapshot=i,yy(t)&&wy(e)}function xy(e,t,n){return n(function(){yy(t)&&wy(e)})}function yy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yr(e,n)}catch{return!0}}function wy(e){var t=ri(e,1);t!==null&&xr(t,e,1,-1)}function ig(e){var t=Tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=oA.bind(null,wt,e),[t.memoizedState,e]}function Cl(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function vy(){return ir().memoizedState}function Vu(e,t,n,i){var a=Tr();wt.flags|=e,a.memoizedState=Cl(1|t,n,void 0,i===void 0?null:i)}function Gc(e,t,n,i){var a=ir();i=i===void 0?null:i;var l=void 0;if(Bt!==null){var d=Bt.memoizedState;if(l=d.destroy,i!==null&&H0(i,d.deps)){a.memoizedState=Cl(t,n,l,i);return}}wt.flags|=e,a.memoizedState=Cl(1|t,n,l,i)}function sg(e,t){return Vu(8390656,8,e,t)}function Z0(e,t){return Gc(2048,8,e,t)}function Cy(e,t){return Gc(4,2,e,t)}function Ey(e,t){return Gc(4,4,e,t)}function Ay(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sy(e,t,n){return n=n!=null?n.concat([e]):null,Gc(4,4,Ay.bind(null,t,e),n)}function Y0(){}function by(e,t){var n=ir();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&H0(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function _y(e,t){var n=ir();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&H0(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ty(e,t,n){return Bs&21?(yr(n,t)||(n=k2(),wt.lanes|=n,Fs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nn=!0),e.memoizedState=n)}function iA(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var i=qf.transition;qf.transition={};try{e(!1),t()}finally{$e=n,qf.transition=i}}function Iy(){return ir().memoizedState}function sA(e,t,n){var i=Gi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ny(e))Ry(t,n);else if(n=cy(e,t,n,i),n!==null){var a=gn();xr(n,e,i,a),Oy(n,t,i)}}function oA(e,t,n){var i=Gi(e),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ny(e))Ry(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,p=l(d,n);if(a.hasEagerState=!0,a.eagerState=p,yr(p,d)){var x=t.interleaved;x===null?(a.next=a,V0(t)):(a.next=x.next,x.next=a),t.interleaved=a;return}}catch{}finally{}n=cy(e,t,a,i),n!==null&&(a=gn(),xr(n,e,i,a),Oy(n,t,i))}}function Ny(e){var t=e.alternate;return e===wt||t!==null&&t===wt}function Ry(e,t){$a=dc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Oy(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,b0(e,n)}}var hc={readContext:rr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},aA={readContext:rr,useCallback:function(e,t){return Tr().memoizedState=[e,t===void 0?null:t],e},useContext:rr,useEffect:sg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vu(4194308,4,Ay.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vu(4,2,e,t)},useMemo:function(e,t){var n=Tr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Tr();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=sA.bind(null,wt,e),[i.memoizedState,e]},useRef:function(e){var t=Tr();return e={current:e},t.memoizedState=e},useState:ig,useDebugValue:Y0,useDeferredValue:function(e){return Tr().memoizedState=e},useTransition:function(){var e=ig(!1),t=e[0];return e=iA.bind(null,e[1]),Tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=wt,a=Tr();if(pt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),Gt===null)throw Error(ee(349));Bs&30||gy(i,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,sg(xy.bind(null,i,l,e),[e]),i.flags|=2048,Cl(9,my.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=Tr(),t=Gt.identifierPrefix;if(pt){var n=qr,i=Qr;n=(i&~(1<<32-mr(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=wl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lA={readContext:rr,useCallback:by,useContext:rr,useEffect:Z0,useImperativeHandle:Sy,useInsertionEffect:Cy,useLayoutEffect:Ey,useMemo:_y,useReducer:$f,useRef:vy,useState:function(){return $f(vl)},useDebugValue:Y0,useDeferredValue:function(e){var t=ir();return Ty(t,Bt.memoizedState,e)},useTransition:function(){var e=$f(vl)[0],t=ir().memoizedState;return[e,t]},useMutableSource:hy,useSyncExternalStore:py,useId:Iy,unstable_isNewReconciler:!1},uA={readContext:rr,useCallback:by,useContext:rr,useEffect:Z0,useImperativeHandle:Sy,useInsertionEffect:Cy,useLayoutEffect:Ey,useMemo:_y,useReducer:Jf,useRef:vy,useState:function(){return Jf(vl)},useDebugValue:Y0,useDeferredValue:function(e){var t=ir();return Bt===null?t.memoizedState=e:Ty(t,Bt.memoizedState,e)},useTransition:function(){var e=Jf(vl)[0],t=ir().memoizedState;return[e,t]},useMutableSource:hy,useSyncExternalStore:py,useId:Iy,unstable_isNewReconciler:!1};function fr(e,t){if(e&&e.defaultProps){t=vt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ih(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xc={isMounted:function(e){return(e=e._reactInternals)?Gs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=gn(),a=Gi(e),l=$r(i,a);l.payload=t,n!=null&&(l.callback=n),t=Wi(e,l,a),t!==null&&(xr(t,e,a,i),Bu(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=gn(),a=Gi(e),l=$r(i,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Wi(e,l,a),t!==null&&(xr(t,e,a,i),Bu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gn(),i=Gi(e),a=$r(n,i);a.tag=2,t!=null&&(a.callback=t),t=Wi(e,a,i),t!==null&&(xr(t,e,i,n),Bu(t,e,i))}};function og(e,t,n,i,a,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,d):t.prototype&&t.prototype.isPureReactComponent?!hl(n,i)||!hl(a,l):!0}function ky(e,t,n){var i=!1,a=Qi,l=t.contextType;return typeof l=="object"&&l!==null?l=rr(l):(a=On(t)?Ps:un.current,i=t.contextTypes,l=(i=i!=null)?Xo(e,a):Qi),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function ag(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Xc.enqueueReplaceState(t,t.state,null)}function sh(e,t,n,i){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},j0(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=rr(l):(l=On(t)?Ps:un.current,a.context=Xo(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ih(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Xc.enqueueReplaceState(a,a.state,null),cc(e,n,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Qo(e,t){try{var n="",i=t;do n+=BC(i),i=i.return;while(i);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function ed(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cA=typeof WeakMap=="function"?WeakMap:Map;function Dy(e,t,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){gc||(gc=!0,mh=i),oh(e,t)},n}function My(e,t,n){n=$r(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;n.payload=function(){return i(a)},n.callback=function(){oh(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){oh(e,t),typeof i!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function lg(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new cA;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(a.add(n),e=SA.bind(null,e,t,n),t.then(e,e))}function ug(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cg(e,t,n,i,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$r(-1,1),t.tag=2,Wi(n,t,1))),n.lanes|=1),e)}var fA=li.ReactCurrentOwner,Nn=!1;function pn(e,t,n,i){t.child=e===null?uy(t,null,n,i):Yo(t,e.child,n,i)}function fg(e,t,n,i,a){n=n.render;var l=t.ref;return Ro(t,a),i=G0(e,t,n,i,l,a),n=X0(),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ii(e,t,a)):(pt&&n&&D0(t),t.flags|=1,pn(e,t,i,a),t.child)}function dg(e,t,n,i,a){if(e===null){var l=n.type;return typeof l=="function"&&!n1(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Py(e,t,l,i,a)):(e=Wu(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var d=l.memoizedProps;if(n=n.compare,n=n!==null?n:hl,n(d,i)&&e.ref===t.ref)return ii(e,t,a)}return t.flags|=1,e=Xi(l,i),e.ref=t.ref,e.return=t,t.child=e}function Py(e,t,n,i,a){if(e!==null){var l=e.memoizedProps;if(hl(l,i)&&e.ref===t.ref)if(Nn=!1,t.pendingProps=i=l,(e.lanes&a)!==0)e.flags&131072&&(Nn=!0);else return t.lanes=e.lanes,ii(e,t,a)}return ah(e,t,n,i,a)}function Ly(e,t,n){var i=t.pendingProps,a=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(yo,Pn),Pn|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(yo,Pn),Pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,ot(yo,Pn),Pn|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,ot(yo,Pn),Pn|=i;return pn(e,t,a,n),t.child}function By(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ah(e,t,n,i,a){var l=On(n)?Ps:un.current;return l=Xo(t,l),Ro(t,a),n=G0(e,t,n,i,l,a),i=X0(),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ii(e,t,a)):(pt&&i&&D0(t),t.flags|=1,pn(e,t,n,a),t.child)}function hg(e,t,n,i,a){if(On(n)){var l=!0;sc(t)}else l=!1;if(Ro(t,a),t.stateNode===null)ju(e,t),ky(t,n,i),sh(t,n,i,a),i=!0;else if(e===null){var d=t.stateNode,p=t.memoizedProps;d.props=p;var x=d.context,m=n.contextType;typeof m=="object"&&m!==null?m=rr(m):(m=On(n)?Ps:un.current,m=Xo(t,m));var w=n.getDerivedStateFromProps,v=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function";v||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==i||x!==m)&&ag(t,d,i,m),Si=!1;var E=t.memoizedState;d.state=E,cc(t,i,d,a),x=t.memoizedState,p!==i||E!==x||Rn.current||Si?(typeof w=="function"&&(ih(t,n,w,i),x=t.memoizedState),(p=Si||og(t,n,p,i,E,x,m))?(v||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=x),d.props=i,d.state=x,d.context=m,i=p):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,fy(e,t),p=t.memoizedProps,m=t.type===t.elementType?p:fr(t.type,p),d.props=m,v=t.pendingProps,E=d.context,x=n.contextType,typeof x=="object"&&x!==null?x=rr(x):(x=On(n)?Ps:un.current,x=Xo(t,x));var T=n.getDerivedStateFromProps;(w=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==v||E!==x)&&ag(t,d,i,x),Si=!1,E=t.memoizedState,d.state=E,cc(t,i,d,a);var D=t.memoizedState;p!==v||E!==D||Rn.current||Si?(typeof T=="function"&&(ih(t,n,T,i),D=t.memoizedState),(m=Si||og(t,n,m,i,E,D,x)||!1)?(w||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,D,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,D,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=D),d.props=i,d.state=D,d.context=x,i=m):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),i=!1)}return lh(e,t,n,i,l,a)}function lh(e,t,n,i,a,l){By(e,t);var d=(t.flags&128)!==0;if(!i&&!d)return a&&$p(t,n,!1),ii(e,t,l);i=t.stateNode,fA.current=t;var p=d&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&d?(t.child=Yo(t,e.child,null,l),t.child=Yo(t,null,p,l)):pn(e,t,p,l),t.memoizedState=i.state,a&&$p(t,n,!0),t.child}function Fy(e){var t=e.stateNode;t.pendingContext?qp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qp(e,t.context,!1),U0(e,t.containerInfo)}function pg(e,t,n,i,a){return Zo(),P0(a),t.flags|=256,pn(e,t,n,i),t.child}var uh={dehydrated:null,treeContext:null,retryLane:0};function ch(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vy(e,t,n){var i=t.pendingProps,a=xt.current,l=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(a&2)!==0),p?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ot(xt,a&1),e===null)return nh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=i.children,e=i.fallback,l?(i=t.mode,l=t.child,d={mode:"hidden",children:d},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=Kc(d,i,0,null),e=ks(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ch(n),t.memoizedState=uh,e):K0(t,d));if(a=e.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return dA(e,t,d,i,p,a,n);if(l){l=i.fallback,d=t.mode,a=e.child,p=a.sibling;var x={mode:"hidden",children:i.children};return!(d&1)&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=x,t.deletions=null):(i=Xi(a,x),i.subtreeFlags=a.subtreeFlags&14680064),p!==null?l=Xi(p,l):(l=ks(l,d,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,d=e.child.memoizedState,d=d===null?ch(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~n,t.memoizedState=uh,i}return l=e.child,e=l.sibling,i=Xi(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function K0(e,t){return t=Kc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vu(e,t,n,i){return i!==null&&P0(i),Yo(t,e.child,null,n),e=K0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dA(e,t,n,i,a,l,d){if(n)return t.flags&256?(t.flags&=-257,i=ed(Error(ee(422))),vu(e,t,d,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,a=t.mode,i=Kc({mode:"visible",children:i.children},a,0,null),l=ks(l,a,d,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&Yo(t,e.child,null,d),t.child.memoizedState=ch(d),t.memoizedState=uh,l);if(!(t.mode&1))return vu(e,t,d,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var p=i.dgst;return i=p,l=Error(ee(419)),i=ed(l,i,void 0),vu(e,t,d,i)}if(p=(d&e.childLanes)!==0,Nn||p){if(i=Gt,i!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|d)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,ri(e,a),xr(i,e,a,-1))}return t1(),i=ed(Error(ee(421))),vu(e,t,d,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=bA.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Ln=zi(a.nextSibling),Fn=t,pt=!0,gr=null,e!==null&&(Jn[er++]=Qr,Jn[er++]=qr,Jn[er++]=Ls,Qr=e.id,qr=e.overflow,Ls=t),t=K0(t,i.children),t.flags|=4096,t)}function gg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),rh(e.return,t,n)}function td(e,t,n,i,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=a)}function jy(e,t,n){var i=t.pendingProps,a=i.revealOrder,l=i.tail;if(pn(e,t,i.children,n),i=xt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gg(e,n,t);else if(e.tag===19)gg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ot(xt,i),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&fc(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),td(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&fc(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}td(t,!0,n,null,l);break;case"together":td(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ju(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ii(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Xi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hA(e,t,n){switch(t.tag){case 3:Fy(t),Zo();break;case 5:dy(t);break;case 1:On(t.type)&&sc(t);break;case 4:U0(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;ot(lc,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ot(xt,xt.current&1),t.flags|=128,null):n&t.child.childLanes?Vy(e,t,n):(ot(xt,xt.current&1),e=ii(e,t,n),e!==null?e.sibling:null);ot(xt,xt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return jy(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ot(xt,xt.current),i)break;return null;case 22:case 23:return t.lanes=0,Ly(e,t,n)}return ii(e,t,n)}var Uy,fh,zy,Wy;Uy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fh=function(){};zy=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,ws(Pr.current);var l=null;switch(n){case"input":a=Dd(e,a),i=Dd(e,i),l=[];break;case"select":a=vt({},a,{value:void 0}),i=vt({},i,{value:void 0}),l=[];break;case"textarea":a=Ld(e,a),i=Ld(e,i),l=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=rc)}Fd(n,i);var d;n=null;for(m in a)if(!i.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var p=a[m];for(d in p)p.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ol.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in i){var x=i[m];if(p=a!=null?a[m]:void 0,i.hasOwnProperty(m)&&x!==p&&(x!=null||p!=null))if(m==="style")if(p){for(d in p)!p.hasOwnProperty(d)||x&&x.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in x)x.hasOwnProperty(d)&&p[d]!==x[d]&&(n||(n={}),n[d]=x[d])}else n||(l||(l=[]),l.push(m,n)),n=x;else m==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,p=p?p.__html:void 0,x!=null&&p!==x&&(l=l||[]).push(m,x)):m==="children"?typeof x!="string"&&typeof x!="number"||(l=l||[]).push(m,""+x):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ol.hasOwnProperty(m)?(x!=null&&m==="onScroll"&&ut("scroll",e),l||p===x||(l=[])):(l=l||[]).push(m,x))}n&&(l=l||[]).push("style",n);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};Wy=function(e,t,n,i){n!==i&&(t.flags|=4)};function Da(e,t){if(!pt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function pA(e,t,n){var i=t.pendingProps;switch(M0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return On(t.type)&&ic(),sn(t),null;case 3:return i=t.stateNode,Ko(),ft(Rn),ft(un),W0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(yu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gr!==null&&(wh(gr),gr=null))),fh(e,t),sn(t),null;case 5:z0(t);var a=ws(yl.current);if(n=t.type,e!==null&&t.stateNode!=null)zy(e,t,n,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(ee(166));return sn(t),null}if(e=ws(Pr.current),yu(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[Or]=t,i[ml]=l,e=(t.mode&1)!==0,n){case"dialog":ut("cancel",i),ut("close",i);break;case"iframe":case"object":case"embed":ut("load",i);break;case"video":case"audio":for(a=0;a<Ua.length;a++)ut(Ua[a],i);break;case"source":ut("error",i);break;case"img":case"image":case"link":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"input":Sp(i,l),ut("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},ut("invalid",i);break;case"textarea":_p(i,l),ut("invalid",i)}Fd(n,l),a=null;for(var d in l)if(l.hasOwnProperty(d)){var p=l[d];d==="children"?typeof p=="string"?i.textContent!==p&&(l.suppressHydrationWarning!==!0&&xu(i.textContent,p,e),a=["children",p]):typeof p=="number"&&i.textContent!==""+p&&(l.suppressHydrationWarning!==!0&&xu(i.textContent,p,e),a=["children",""+p]):ol.hasOwnProperty(d)&&p!=null&&d==="onScroll"&&ut("scroll",i)}switch(n){case"input":uu(i),bp(i,l,!0);break;case"textarea":uu(i),Tp(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=rc)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=x2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=d.createElement(n,{is:i.is}):(e=d.createElement(n),n==="select"&&(d=e,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):e=d.createElementNS(e,n),e[Or]=t,e[ml]=i,Uy(e,t,!1,!1),t.stateNode=e;e:{switch(d=Vd(n,i),n){case"dialog":ut("cancel",e),ut("close",e),a=i;break;case"iframe":case"object":case"embed":ut("load",e),a=i;break;case"video":case"audio":for(a=0;a<Ua.length;a++)ut(Ua[a],e);a=i;break;case"source":ut("error",e),a=i;break;case"img":case"image":case"link":ut("error",e),ut("load",e),a=i;break;case"details":ut("toggle",e),a=i;break;case"input":Sp(e,i),a=Dd(e,i),ut("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=vt({},i,{value:void 0}),ut("invalid",e);break;case"textarea":_p(e,i),a=Ld(e,i),ut("invalid",e);break;default:a=i}Fd(n,a),p=a;for(l in p)if(p.hasOwnProperty(l)){var x=p[l];l==="style"?v2(e,x):l==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&y2(e,x)):l==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&al(e,x):typeof x=="number"&&al(e,""+x):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ol.hasOwnProperty(l)?x!=null&&l==="onScroll"&&ut("scroll",e):x!=null&&w0(e,l,x,d))}switch(n){case"input":uu(e),bp(e,i,!1);break;case"textarea":uu(e),Tp(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ki(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?_o(e,!!i.multiple,l,!1):i.defaultValue!=null&&_o(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=rc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)Wy(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ee(166));if(n=ws(yl.current),ws(Pr.current),yu(t)){if(i=t.stateNode,n=t.memoizedProps,i[Or]=t,(l=i.nodeValue!==n)&&(e=Fn,e!==null))switch(e.tag){case 3:xu(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xu(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Or]=t,t.stateNode=i}return sn(t),null;case 13:if(ft(xt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pt&&Ln!==null&&t.mode&1&&!(t.flags&128))ay(),Zo(),t.flags|=98560,l=!1;else if(l=yu(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(ee(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ee(317));l[Or]=t}else Zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),l=!1}else gr!==null&&(wh(gr),gr=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||xt.current&1?Vt===0&&(Vt=3):t1())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return Ko(),fh(e,t),e===null&&pl(t.stateNode.containerInfo),sn(t),null;case 10:return F0(t.type._context),sn(t),null;case 17:return On(t.type)&&ic(),sn(t),null;case 19:if(ft(xt),l=t.memoizedState,l===null)return sn(t),null;if(i=(t.flags&128)!==0,d=l.rendering,d===null)if(i)Da(l,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=fc(e),d!==null){for(t.flags|=128,Da(l,!1),i=d.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ot(xt,xt.current&1|2),t.child}e=e.sibling}l.tail!==null&&Rt()>qo&&(t.flags|=128,i=!0,Da(l,!1),t.lanes=4194304)}else{if(!i)if(e=fc(d),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Da(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!pt)return sn(t),null}else 2*Rt()-l.renderingStartTime>qo&&n!==1073741824&&(t.flags|=128,i=!0,Da(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(n=l.last,n!==null?n.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Rt(),t.sibling=null,n=xt.current,ot(xt,i?n&1|2:n&1),t):(sn(t),null);case 22:case 23:return e1(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Pn&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function gA(e,t){switch(M0(t),t.tag){case 1:return On(t.type)&&ic(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ko(),ft(Rn),ft(un),W0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return z0(t),null;case 13:if(ft(xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(xt),null;case 4:return Ko(),null;case 10:return F0(t.type._context),null;case 22:case 23:return e1(),null;case 24:return null;default:return null}}var Cu=!1,an=!1,mA=typeof WeakSet=="function"?WeakSet:Set,de=null;function xo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Tt(e,t,i)}else n.current=null}function dh(e,t,n){try{n()}catch(i){Tt(e,t,i)}}var mg=!1;function xA(e,t){if(Kd=ec,e=Y2(),k0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var d=0,p=-1,x=-1,m=0,w=0,v=e,E=null;t:for(;;){for(var T;v!==n||a!==0&&v.nodeType!==3||(p=d+a),v!==l||i!==0&&v.nodeType!==3||(x=d+i),v.nodeType===3&&(d+=v.nodeValue.length),(T=v.firstChild)!==null;)E=v,v=T;for(;;){if(v===e)break t;if(E===n&&++m===a&&(p=d),E===l&&++w===i&&(x=d),(T=v.nextSibling)!==null)break;v=E,E=v.parentNode}v=T}n=p===-1||x===-1?null:{start:p,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qd={focusedElem:e,selectionRange:n},ec=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var D=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var k=D.memoizedProps,V=D.memoizedState,N=t.stateNode,_=N.getSnapshotBeforeUpdate(t.elementType===t.type?k:fr(t.type,k),V);N.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(M){Tt(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return D=mg,mg=!1,D}function Ja(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&dh(t,n,l)}a=a.next}while(a!==i)}}function Zc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function hh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hy(e){var t=e.alternate;t!==null&&(e.alternate=null,Hy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Or],delete t[ml],delete t[Jd],delete t[JE],delete t[eA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gy(e){return e.tag===5||e.tag===3||e.tag===4}function xg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ph(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rc));else if(i!==4&&(e=e.child,e!==null))for(ph(e,t,n),e=e.sibling;e!==null;)ph(e,t,n),e=e.sibling}function gh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(gh(e,t,n),e=e.sibling;e!==null;)gh(e,t,n),e=e.sibling}var Qt=null,pr=!1;function xi(e,t,n){for(n=n.child;n!==null;)Xy(e,t,n),n=n.sibling}function Xy(e,t,n){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(Vc,n)}catch{}switch(n.tag){case 5:an||xo(n,t);case 6:var i=Qt,a=pr;Qt=null,xi(e,t,n),Qt=i,pr=a,Qt!==null&&(pr?(e=Qt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(pr?(e=Qt,n=n.stateNode,e.nodeType===8?Yf(e.parentNode,n):e.nodeType===1&&Yf(e,n),fl(e)):Yf(Qt,n.stateNode));break;case 4:i=Qt,a=pr,Qt=n.stateNode.containerInfo,pr=!0,xi(e,t,n),Qt=i,pr=a;break;case 0:case 11:case 14:case 15:if(!an&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var l=a,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&dh(n,t,d),a=a.next}while(a!==i)}xi(e,t,n);break;case 1:if(!an&&(xo(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(p){Tt(n,t,p)}xi(e,t,n);break;case 21:xi(e,t,n);break;case 22:n.mode&1?(an=(i=an)||n.memoizedState!==null,xi(e,t,n),an=i):xi(e,t,n);break;default:xi(e,t,n)}}function yg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mA),t.forEach(function(i){var a=_A.bind(null,e,i);n.has(i)||(n.add(i),i.then(a,a))})}}function ur(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var l=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 5:Qt=p.stateNode,pr=!1;break e;case 3:Qt=p.stateNode.containerInfo,pr=!0;break e;case 4:Qt=p.stateNode.containerInfo,pr=!0;break e}p=p.return}if(Qt===null)throw Error(ee(160));Xy(l,d,a),Qt=null,pr=!1;var x=a.alternate;x!==null&&(x.return=null),a.return=null}catch(m){Tt(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zy(t,e),t=t.sibling}function Zy(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(t,e),_r(e),i&4){try{Ja(3,e,e.return),Zc(3,e)}catch(k){Tt(e,e.return,k)}try{Ja(5,e,e.return)}catch(k){Tt(e,e.return,k)}}break;case 1:ur(t,e),_r(e),i&512&&n!==null&&xo(n,n.return);break;case 5:if(ur(t,e),_r(e),i&512&&n!==null&&xo(n,n.return),e.flags&32){var a=e.stateNode;try{al(a,"")}catch(k){Tt(e,e.return,k)}}if(i&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,d=n!==null?n.memoizedProps:l,p=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{p==="input"&&l.type==="radio"&&l.name!=null&&g2(a,l),Vd(p,d);var m=Vd(p,l);for(d=0;d<x.length;d+=2){var w=x[d],v=x[d+1];w==="style"?v2(a,v):w==="dangerouslySetInnerHTML"?y2(a,v):w==="children"?al(a,v):w0(a,w,v,m)}switch(p){case"input":Md(a,l);break;case"textarea":m2(a,l);break;case"select":var E=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var T=l.value;T!=null?_o(a,!!l.multiple,T,!1):E!==!!l.multiple&&(l.defaultValue!=null?_o(a,!!l.multiple,l.defaultValue,!0):_o(a,!!l.multiple,l.multiple?[]:"",!1))}a[ml]=l}catch(k){Tt(e,e.return,k)}}break;case 6:if(ur(t,e),_r(e),i&4){if(e.stateNode===null)throw Error(ee(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(k){Tt(e,e.return,k)}}break;case 3:if(ur(t,e),_r(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(t.containerInfo)}catch(k){Tt(e,e.return,k)}break;case 4:ur(t,e),_r(e);break;case 13:ur(t,e),_r(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||($0=Rt())),i&4&&yg(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(an=(m=an)||w,ur(t,e),an=m):ur(t,e),_r(e),i&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!w&&e.mode&1)for(de=e,w=e.child;w!==null;){for(v=de=w;de!==null;){switch(E=de,T=E.child,E.tag){case 0:case 11:case 14:case 15:Ja(4,E,E.return);break;case 1:xo(E,E.return);var D=E.stateNode;if(typeof D.componentWillUnmount=="function"){i=E,n=E.return;try{t=i,D.props=t.memoizedProps,D.state=t.memoizedState,D.componentWillUnmount()}catch(k){Tt(i,n,k)}}break;case 5:xo(E,E.return);break;case 22:if(E.memoizedState!==null){vg(v);continue}}T!==null?(T.return=E,de=T):vg(v)}w=w.sibling}e:for(w=null,v=e;;){if(v.tag===5){if(w===null){w=v;try{a=v.stateNode,m?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(p=v.stateNode,x=v.memoizedProps.style,d=x!=null&&x.hasOwnProperty("display")?x.display:null,p.style.display=w2("display",d))}catch(k){Tt(e,e.return,k)}}}else if(v.tag===6){if(w===null)try{v.stateNode.nodeValue=m?"":v.memoizedProps}catch(k){Tt(e,e.return,k)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;w===v&&(w=null),v=v.return}w===v&&(w=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:ur(t,e),_r(e),i&4&&yg(e);break;case 21:break;default:ur(t,e),_r(e)}}function _r(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gy(n)){var i=n;break e}n=n.return}throw Error(ee(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(al(a,""),i.flags&=-33);var l=xg(e);gh(e,l,a);break;case 3:case 4:var d=i.stateNode.containerInfo,p=xg(e);ph(e,p,d);break;default:throw Error(ee(161))}}catch(x){Tt(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yA(e,t,n){de=e,Yy(e)}function Yy(e,t,n){for(var i=(e.mode&1)!==0;de!==null;){var a=de,l=a.child;if(a.tag===22&&i){var d=a.memoizedState!==null||Cu;if(!d){var p=a.alternate,x=p!==null&&p.memoizedState!==null||an;p=Cu;var m=an;if(Cu=d,(an=x)&&!m)for(de=a;de!==null;)d=de,x=d.child,d.tag===22&&d.memoizedState!==null?Cg(a):x!==null?(x.return=d,de=x):Cg(a);for(;l!==null;)de=l,Yy(l),l=l.sibling;de=a,Cu=p,an=m}wg(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,de=l):wg(e)}}function wg(e){for(;de!==null;){var t=de;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||Zc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!an)if(n===null)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:fr(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&rg(t,l,i);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rg(t,d,n)}break;case 5:var p=t.stateNode;if(n===null&&t.flags&4){n=p;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var w=m.memoizedState;if(w!==null){var v=w.dehydrated;v!==null&&fl(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}an||t.flags&512&&hh(t)}catch(E){Tt(t,t.return,E)}}if(t===e){de=null;break}if(n=t.sibling,n!==null){n.return=t.return,de=n;break}de=t.return}}function vg(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var n=t.sibling;if(n!==null){n.return=t.return,de=n;break}de=t.return}}function Cg(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zc(4,t)}catch(x){Tt(t,n,x)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(x){Tt(t,a,x)}}var l=t.return;try{hh(t)}catch(x){Tt(t,l,x)}break;case 5:var d=t.return;try{hh(t)}catch(x){Tt(t,d,x)}}}catch(x){Tt(t,t.return,x)}if(t===e){de=null;break}var p=t.sibling;if(p!==null){p.return=t.return,de=p;break}de=t.return}}var wA=Math.ceil,pc=li.ReactCurrentDispatcher,Q0=li.ReactCurrentOwner,nr=li.ReactCurrentBatchConfig,Ge=0,Gt=null,Dt=null,Jt=0,Pn=0,yo=ts(0),Vt=0,El=null,Fs=0,Yc=0,q0=0,el=null,In=null,$0=0,qo=1/0,Xr=null,gc=!1,mh=null,Hi=null,Eu=!1,Fi=null,mc=0,tl=0,xh=null,Uu=-1,zu=0;function gn(){return Ge&6?Rt():Uu!==-1?Uu:Uu=Rt()}function Gi(e){return e.mode&1?Ge&2&&Jt!==0?Jt&-Jt:nA.transition!==null?(zu===0&&(zu=k2()),zu):(e=$e,e!==0||(e=window.event,e=e===void 0?16:V2(e.type)),e):1}function xr(e,t,n,i){if(50<tl)throw tl=0,xh=null,Error(ee(185));Bl(e,n,i),(!(Ge&2)||e!==Gt)&&(e===Gt&&(!(Ge&2)&&(Yc|=n),Vt===4&&Ti(e,Jt)),kn(e,i),n===1&&Ge===0&&!(t.mode&1)&&(qo=Rt()+500,Hc&&ns()))}function kn(e,t){var n=e.callbackNode;nE(e,t);var i=Ju(e,e===Gt?Jt:0);if(i===0)n!==null&&Rp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Rp(n),t===1)e.tag===0?tA(Eg.bind(null,e)):iy(Eg.bind(null,e)),qE(function(){!(Ge&6)&&ns()}),n=null;else{switch(D2(i)){case 1:n=S0;break;case 4:n=R2;break;case 16:n=$u;break;case 536870912:n=O2;break;default:n=$u}n=nw(n,Ky.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ky(e,t){if(Uu=-1,zu=0,Ge&6)throw Error(ee(327));var n=e.callbackNode;if(Oo()&&e.callbackNode!==n)return null;var i=Ju(e,e===Gt?Jt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=xc(e,i);else{t=i;var a=Ge;Ge|=2;var l=qy();(Gt!==e||Jt!==t)&&(Xr=null,qo=Rt()+500,Os(e,t));do try{EA();break}catch(p){Qy(e,p)}while(!0);B0(),pc.current=l,Ge=a,Dt!==null?t=0:(Gt=null,Jt=0,t=Vt)}if(t!==0){if(t===2&&(a=Hd(e),a!==0&&(i=a,t=yh(e,a))),t===1)throw n=El,Os(e,0),Ti(e,i),kn(e,Rt()),n;if(t===6)Ti(e,i);else{if(a=e.current.alternate,!(i&30)&&!vA(a)&&(t=xc(e,i),t===2&&(l=Hd(e),l!==0&&(i=l,t=yh(e,l))),t===1))throw n=El,Os(e,0),Ti(e,i),kn(e,Rt()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(ee(345));case 2:ps(e,In,Xr);break;case 3:if(Ti(e,i),(i&130023424)===i&&(t=$0+500-Rt(),10<t)){if(Ju(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){gn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$d(ps.bind(null,e,In,Xr),t);break}ps(e,In,Xr);break;case 4:if(Ti(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var d=31-mr(i);l=1<<d,d=t[d],d>a&&(a=d),i&=~l}if(i=a,i=Rt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*wA(i/1960))-i,10<i){e.timeoutHandle=$d(ps.bind(null,e,In,Xr),i);break}ps(e,In,Xr);break;case 5:ps(e,In,Xr);break;default:throw Error(ee(329))}}}return kn(e,Rt()),e.callbackNode===n?Ky.bind(null,e):null}function yh(e,t){var n=el;return e.current.memoizedState.isDehydrated&&(Os(e,t).flags|=256),e=xc(e,t),e!==2&&(t=In,In=n,t!==null&&wh(t)),e}function wh(e){In===null?In=e:In.push.apply(In,e)}function vA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],l=a.getSnapshot;a=a.value;try{if(!yr(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ti(e,t){for(t&=~q0,t&=~Yc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mr(t),i=1<<n;e[n]=-1,t&=~i}}function Eg(e){if(Ge&6)throw Error(ee(327));Oo();var t=Ju(e,0);if(!(t&1))return kn(e,Rt()),null;var n=xc(e,t);if(e.tag!==0&&n===2){var i=Hd(e);i!==0&&(t=i,n=yh(e,i))}if(n===1)throw n=El,Os(e,0),Ti(e,t),kn(e,Rt()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ps(e,In,Xr),kn(e,Rt()),null}function J0(e,t){var n=Ge;Ge|=1;try{return e(t)}finally{Ge=n,Ge===0&&(qo=Rt()+500,Hc&&ns())}}function Vs(e){Fi!==null&&Fi.tag===0&&!(Ge&6)&&Oo();var t=Ge;Ge|=1;var n=nr.transition,i=$e;try{if(nr.transition=null,$e=1,e)return e()}finally{$e=i,nr.transition=n,Ge=t,!(Ge&6)&&ns()}}function e1(){Pn=yo.current,ft(yo)}function Os(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QE(n)),Dt!==null)for(n=Dt.return;n!==null;){var i=n;switch(M0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ic();break;case 3:Ko(),ft(Rn),ft(un),W0();break;case 5:z0(i);break;case 4:Ko();break;case 13:ft(xt);break;case 19:ft(xt);break;case 10:F0(i.type._context);break;case 22:case 23:e1()}n=n.return}if(Gt=e,Dt=e=Xi(e.current,null),Jt=Pn=t,Vt=0,El=null,q0=Yc=Fs=0,In=el=null,ys!==null){for(t=0;t<ys.length;t++)if(n=ys[t],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,l=n.pending;if(l!==null){var d=l.next;l.next=a,i.next=d}n.pending=i}ys=null}return e}function Qy(e,t){do{var n=Dt;try{if(B0(),Fu.current=hc,dc){for(var i=wt.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}dc=!1}if(Bs=0,Ht=Bt=wt=null,$a=!1,wl=0,Q0.current=null,n===null||n.return===null){Vt=1,El=t,Dt=null;break}e:{var l=e,d=n.return,p=n,x=t;if(t=Jt,p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var m=x,w=p,v=w.tag;if(!(w.mode&1)&&(v===0||v===11||v===15)){var E=w.alternate;E?(w.updateQueue=E.updateQueue,w.memoizedState=E.memoizedState,w.lanes=E.lanes):(w.updateQueue=null,w.memoizedState=null)}var T=ug(d);if(T!==null){T.flags&=-257,cg(T,d,p,l,t),T.mode&1&&lg(l,m,t),t=T,x=m;var D=t.updateQueue;if(D===null){var k=new Set;k.add(x),t.updateQueue=k}else D.add(x);break e}else{if(!(t&1)){lg(l,m,t),t1();break e}x=Error(ee(426))}}else if(pt&&p.mode&1){var V=ug(d);if(V!==null){!(V.flags&65536)&&(V.flags|=256),cg(V,d,p,l,t),P0(Qo(x,p));break e}}l=x=Qo(x,p),Vt!==4&&(Vt=2),el===null?el=[l]:el.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var N=Dy(l,x,t);ng(l,N);break e;case 1:p=x;var _=l.type,I=l.stateNode;if(!(l.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Hi===null||!Hi.has(I)))){l.flags|=65536,t&=-t,l.lanes|=t;var M=My(l,p,t);ng(l,M);break e}}l=l.return}while(l!==null)}Jy(n)}catch(U){t=U,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function qy(){var e=pc.current;return pc.current=hc,e===null?hc:e}function t1(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Gt===null||!(Fs&268435455)&&!(Yc&268435455)||Ti(Gt,Jt)}function xc(e,t){var n=Ge;Ge|=2;var i=qy();(Gt!==e||Jt!==t)&&(Xr=null,Os(e,t));do try{CA();break}catch(a){Qy(e,a)}while(!0);if(B0(),Ge=n,pc.current=i,Dt!==null)throw Error(ee(261));return Gt=null,Jt=0,Vt}function CA(){for(;Dt!==null;)$y(Dt)}function EA(){for(;Dt!==null&&!ZC();)$y(Dt)}function $y(e){var t=tw(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,t===null?Jy(e):Dt=t,Q0.current=null}function Jy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gA(n,t),n!==null){n.flags&=32767,Dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Dt=null;return}}else if(n=pA(n,t,Pn),n!==null){Dt=n;return}if(t=t.sibling,t!==null){Dt=t;return}Dt=t=e}while(t!==null);Vt===0&&(Vt=5)}function ps(e,t,n){var i=$e,a=nr.transition;try{nr.transition=null,$e=1,AA(e,t,n,i)}finally{nr.transition=a,$e=i}return null}function AA(e,t,n,i){do Oo();while(Fi!==null);if(Ge&6)throw Error(ee(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(rE(e,l),e===Gt&&(Dt=Gt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eu||(Eu=!0,nw($u,function(){return Oo(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=nr.transition,nr.transition=null;var d=$e;$e=1;var p=Ge;Ge|=4,Q0.current=null,xA(e,n),Zy(n,e),WE(Qd),ec=!!Kd,Qd=Kd=null,e.current=n,yA(n),YC(),Ge=p,$e=d,nr.transition=l}else e.current=n;if(Eu&&(Eu=!1,Fi=e,mc=a),l=e.pendingLanes,l===0&&(Hi=null),qC(n.stateNode),kn(e,Rt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(gc)throw gc=!1,e=mh,mh=null,e;return mc&1&&e.tag!==0&&Oo(),l=e.pendingLanes,l&1?e===xh?tl++:(tl=0,xh=e):tl=0,ns(),null}function Oo(){if(Fi!==null){var e=D2(mc),t=nr.transition,n=$e;try{if(nr.transition=null,$e=16>e?16:e,Fi===null)var i=!1;else{if(e=Fi,Fi=null,mc=0,Ge&6)throw Error(ee(331));var a=Ge;for(Ge|=4,de=e.current;de!==null;){var l=de,d=l.child;if(de.flags&16){var p=l.deletions;if(p!==null){for(var x=0;x<p.length;x++){var m=p[x];for(de=m;de!==null;){var w=de;switch(w.tag){case 0:case 11:case 15:Ja(8,w,l)}var v=w.child;if(v!==null)v.return=w,de=v;else for(;de!==null;){w=de;var E=w.sibling,T=w.return;if(Hy(w),w===m){de=null;break}if(E!==null){E.return=T,de=E;break}de=T}}}var D=l.alternate;if(D!==null){var k=D.child;if(k!==null){D.child=null;do{var V=k.sibling;k.sibling=null,k=V}while(k!==null)}}de=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,de=d;else e:for(;de!==null;){if(l=de,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ja(9,l,l.return)}var N=l.sibling;if(N!==null){N.return=l.return,de=N;break e}de=l.return}}var _=e.current;for(de=_;de!==null;){d=de;var I=d.child;if(d.subtreeFlags&2064&&I!==null)I.return=d,de=I;else e:for(d=_;de!==null;){if(p=de,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Zc(9,p)}}catch(U){Tt(p,p.return,U)}if(p===d){de=null;break e}var M=p.sibling;if(M!==null){M.return=p.return,de=M;break e}de=p.return}}if(Ge=a,ns(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(Vc,e)}catch{}i=!0}return i}finally{$e=n,nr.transition=t}}return!1}function Ag(e,t,n){t=Qo(n,t),t=Dy(e,t,1),e=Wi(e,t,1),t=gn(),e!==null&&(Bl(e,1,t),kn(e,t))}function Tt(e,t,n){if(e.tag===3)Ag(e,e,n);else for(;t!==null;){if(t.tag===3){Ag(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hi===null||!Hi.has(i))){e=Qo(n,e),e=My(t,e,1),t=Wi(t,e,1),e=gn(),t!==null&&(Bl(t,1,e),kn(t,e));break}}t=t.return}}function SA(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=gn(),e.pingedLanes|=e.suspendedLanes&n,Gt===e&&(Jt&n)===n&&(Vt===4||Vt===3&&(Jt&130023424)===Jt&&500>Rt()-$0?Os(e,0):q0|=n),kn(e,t)}function ew(e,t){t===0&&(e.mode&1?(t=du,du<<=1,!(du&130023424)&&(du=4194304)):t=1);var n=gn();e=ri(e,t),e!==null&&(Bl(e,t,n),kn(e,n))}function bA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ew(e,n)}function _A(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ee(314))}i!==null&&i.delete(t),ew(e,n)}var tw;tw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rn.current)Nn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nn=!1,hA(e,t,n);Nn=!!(e.flags&131072)}else Nn=!1,pt&&t.flags&1048576&&sy(t,ac,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ju(e,t),e=t.pendingProps;var a=Xo(t,un.current);Ro(t,n),a=G0(null,t,i,e,a,n);var l=X0();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,On(i)?(l=!0,sc(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,j0(t),a.updater=Xc,t.stateNode=a,a._reactInternals=t,sh(t,i,e,n),t=lh(null,t,i,!0,l,n)):(t.tag=0,pt&&l&&D0(t),pn(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(ju(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=IA(i),e=fr(i,e),a){case 0:t=ah(null,t,i,e,n);break e;case 1:t=hg(null,t,i,e,n);break e;case 11:t=fg(null,t,i,e,n);break e;case 14:t=dg(null,t,i,fr(i.type,e),n);break e}throw Error(ee(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:fr(i,a),ah(e,t,i,a,n);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:fr(i,a),hg(e,t,i,a,n);case 3:e:{if(Fy(t),e===null)throw Error(ee(387));i=t.pendingProps,l=t.memoizedState,a=l.element,fy(e,t),cc(t,i,null,n);var d=t.memoizedState;if(i=d.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Qo(Error(ee(423)),t),t=pg(e,t,i,n,a);break e}else if(i!==a){a=Qo(Error(ee(424)),t),t=pg(e,t,i,n,a);break e}else for(Ln=zi(t.stateNode.containerInfo.firstChild),Fn=t,pt=!0,gr=null,n=uy(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zo(),i===a){t=ii(e,t,n);break e}pn(e,t,i,n)}t=t.child}return t;case 5:return dy(t),e===null&&nh(t),i=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,d=a.children,qd(i,a)?d=null:l!==null&&qd(i,l)&&(t.flags|=32),By(e,t),pn(e,t,d,n),t.child;case 6:return e===null&&nh(t),null;case 13:return Vy(e,t,n);case 4:return U0(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Yo(t,null,i,n):pn(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:fr(i,a),fg(e,t,i,a,n);case 7:return pn(e,t,t.pendingProps,n),t.child;case 8:return pn(e,t,t.pendingProps.children,n),t.child;case 12:return pn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,l=t.memoizedProps,d=a.value,ot(lc,i._currentValue),i._currentValue=d,l!==null)if(yr(l.value,d)){if(l.children===a.children&&!Rn.current){t=ii(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var p=l.dependencies;if(p!==null){d=l.child;for(var x=p.firstContext;x!==null;){if(x.context===i){if(l.tag===1){x=$r(-1,n&-n),x.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var w=m.pending;w===null?x.next=x:(x.next=w.next,w.next=x),m.pending=x}}l.lanes|=n,x=l.alternate,x!==null&&(x.lanes|=n),rh(l.return,n,t),p.lanes|=n;break}x=x.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(ee(341));d.lanes|=n,p=d.alternate,p!==null&&(p.lanes|=n),rh(d,n,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}pn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,Ro(t,n),a=rr(a),i=i(a),t.flags|=1,pn(e,t,i,n),t.child;case 14:return i=t.type,a=fr(i,t.pendingProps),a=fr(i.type,a),dg(e,t,i,a,n);case 15:return Py(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:fr(i,a),ju(e,t),t.tag=1,On(i)?(e=!0,sc(t)):e=!1,Ro(t,n),ky(t,i,a),sh(t,i,a,n),lh(null,t,i,!0,e,n);case 19:return jy(e,t,n);case 22:return Ly(e,t,n)}throw Error(ee(156,t.tag))};function nw(e,t){return N2(e,t)}function TA(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,t,n,i){return new TA(e,t,n,i)}function n1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IA(e){if(typeof e=="function")return n1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===C0)return 11;if(e===E0)return 14}return 2}function Xi(e,t){var n=e.alternate;return n===null?(n=tr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,i,a,l){var d=2;if(i=e,typeof e=="function")n1(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ao:return ks(n.children,a,l,t);case v0:d=8,a|=8;break;case Nd:return e=tr(12,n,t,a|2),e.elementType=Nd,e.lanes=l,e;case Rd:return e=tr(13,n,t,a),e.elementType=Rd,e.lanes=l,e;case Od:return e=tr(19,n,t,a),e.elementType=Od,e.lanes=l,e;case d2:return Kc(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case c2:d=10;break e;case f2:d=9;break e;case C0:d=11;break e;case E0:d=14;break e;case Ai:d=16,i=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=tr(d,n,t,a),t.elementType=e,t.type=i,t.lanes=l,t}function ks(e,t,n,i){return e=tr(7,e,i,t),e.lanes=n,e}function Kc(e,t,n,i){return e=tr(22,e,i,t),e.elementType=d2,e.lanes=n,e.stateNode={isHidden:!1},e}function nd(e,t,n){return e=tr(6,e,null,t),e.lanes=n,e}function rd(e,t,n){return t=tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NA(e,t,n,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function r1(e,t,n,i,a,l,d,p,x){return e=new NA(e,t,n,p,x),t===1?(t=1,l===!0&&(t|=8)):t=0,l=tr(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},j0(l),e}function RA(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function rw(e){if(!e)return Qi;e=e._reactInternals;e:{if(Gs(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(On(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(On(n))return ry(e,n,t)}return t}function iw(e,t,n,i,a,l,d,p,x){return e=r1(n,i,!0,e,a,l,d,p,x),e.context=rw(null),n=e.current,i=gn(),a=Gi(n),l=$r(i,a),l.callback=t??null,Wi(n,l,a),e.current.lanes=a,Bl(e,a,i),kn(e,i),e}function Qc(e,t,n,i){var a=t.current,l=gn(),d=Gi(a);return n=rw(n),t.context===null?t.context=n:t.pendingContext=n,t=$r(l,d),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Wi(a,t,d),e!==null&&(xr(e,a,d,l),Bu(e,a,d)),d}function yc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function i1(e,t){Sg(e,t),(e=e.alternate)&&Sg(e,t)}function OA(){return null}var sw=typeof reportError=="function"?reportError:function(e){console.error(e)};function s1(e){this._internalRoot=e}qc.prototype.render=s1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Qc(e,t,null,null)};qc.prototype.unmount=s1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vs(function(){Qc(null,e,null,null)}),t[ni]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=L2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_i.length&&t!==0&&t<_i[n].priority;n++);_i.splice(n,0,e),n===0&&F2(e)}};function o1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bg(){}function kA(e,t,n,i,a){if(a){if(typeof i=="function"){var l=i;i=function(){var m=yc(d);l.call(m)}}var d=iw(t,i,e,0,null,!1,!1,"",bg);return e._reactRootContainer=d,e[ni]=d.current,pl(e.nodeType===8?e.parentNode:e),Vs(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var p=i;i=function(){var m=yc(x);p.call(m)}}var x=r1(e,0,!1,null,null,!1,!1,"",bg);return e._reactRootContainer=x,e[ni]=x.current,pl(e.nodeType===8?e.parentNode:e),Vs(function(){Qc(t,x,n,i)}),x}function Jc(e,t,n,i,a){var l=n._reactRootContainer;if(l){var d=l;if(typeof a=="function"){var p=a;a=function(){var x=yc(d);p.call(x)}}Qc(t,d,e,a)}else d=kA(n,t,e,a,i);return yc(d)}M2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ja(t.pendingLanes);n!==0&&(b0(t,n|1),kn(t,Rt()),!(Ge&6)&&(qo=Rt()+500,ns()))}break;case 13:Vs(function(){var i=ri(e,1);if(i!==null){var a=gn();xr(i,e,1,a)}}),i1(e,1)}};_0=function(e){if(e.tag===13){var t=ri(e,134217728);if(t!==null){var n=gn();xr(t,e,134217728,n)}i1(e,134217728)}};P2=function(e){if(e.tag===13){var t=Gi(e),n=ri(e,t);if(n!==null){var i=gn();xr(n,e,t,i)}i1(e,t)}};L2=function(){return $e};B2=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};Ud=function(e,t,n){switch(t){case"input":if(Md(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=Wc(i);if(!a)throw Error(ee(90));p2(i),Md(i,a)}}}break;case"textarea":m2(e,n);break;case"select":t=n.value,t!=null&&_o(e,!!n.multiple,t,!1)}};A2=J0;S2=Vs;var DA={usingClientEntryPoint:!1,Events:[Vl,fo,Wc,C2,E2,J0]},Ma={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MA={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=T2(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||OA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Vc=Au.inject(MA),Mr=Au}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DA;zn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o1(t))throw Error(ee(200));return RA(e,t,null,n)};zn.createRoot=function(e,t){if(!o1(e))throw Error(ee(299));var n=!1,i="",a=sw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=r1(e,1,!1,null,null,n,!1,i,a),e[ni]=t.current,pl(e.nodeType===8?e.parentNode:e),new s1(t)};zn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=T2(t),e=e===null?null:e.stateNode,e};zn.flushSync=function(e){return Vs(e)};zn.hydrate=function(e,t,n){if(!$c(t))throw Error(ee(200));return Jc(null,e,t,!0,n)};zn.hydrateRoot=function(e,t,n){if(!o1(e))throw Error(ee(405));var i=n!=null&&n.hydratedSources||null,a=!1,l="",d=sw;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=iw(t,null,e,1,n??null,a,!1,l,d),e[ni]=t.current,pl(e),i)for(e=0;e<i.length;e++)n=i[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new qc(t)};zn.render=function(e,t,n){if(!$c(t))throw Error(ee(200));return Jc(null,e,t,!1,n)};zn.unmountComponentAtNode=function(e){if(!$c(e))throw Error(ee(40));return e._reactRootContainer?(Vs(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[ni]=null})}),!0):!1};zn.unstable_batchedUpdates=J0;zn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!$c(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Jc(e,t,n,!1,i)};zn.version="18.3.1-next-f1338f8080-20240426";function ow(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ow)}catch(e){console.error(e)}}ow(),o2.exports=zn;var PA=o2.exports,_g=PA;Td.createRoot=_g.createRoot,Td.hydrateRoot=_g.hydrateRoot;var Ul=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},LA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ni,f0,Vx,BA=(Vx=class{constructor(){Ae(this,Ni,LA);Ae(this,f0,!1)}setTimeoutProvider(e){ce(this,Ni,e)}setTimeout(e,t){return B(this,Ni).setTimeout(e,t)}clearTimeout(e){B(this,Ni).clearTimeout(e)}setInterval(e,t){return B(this,Ni).setInterval(e,t)}clearInterval(e){B(this,Ni).clearInterval(e)}},Ni=new WeakMap,f0=new WeakMap,Vx),vs=new BA;function FA(e){setTimeout(e,0)}var js=typeof window>"u"||"Deno"in globalThis;function Tn(){}function VA(e,t){return typeof e=="function"?e(t):e}function vh(e){return typeof e=="number"&&e>=0&&e!==1/0}function aw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zi(e,t){return typeof e=="function"?e(t):e}function $n(e,t){return typeof e=="function"?e(t):e}function Tg(e,t){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:d,stale:p}=e;if(d){if(i){if(t.queryHash!==a1(d,t.options))return!1}else if(!Sl(t.queryKey,d))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||a&&a!==t.state.fetchStatus||l&&!l(t))}function Ig(e,t){const{exact:n,status:i,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Al(t.options.mutationKey)!==Al(l))return!1}else if(!Sl(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function a1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Al)(e)}function Al(e){return JSON.stringify(e,(t,n)=>Eh(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function Sl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Sl(e[n],t[n])):!1}var jA=Object.prototype.hasOwnProperty;function lw(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=Ng(e)&&Ng(t);if(!i&&!(Eh(e)&&Eh(t)))return t;const l=(i?e:Object.keys(e)).length,d=i?t:Object.keys(t),p=d.length,x=i?new Array(p):{};let m=0;for(let w=0;w<p;w++){const v=i?w:d[w],E=e[v],T=t[v];if(E===T){x[v]=E,(i?w<l:jA.call(e,v))&&m++;continue}if(E===null||T===null||typeof E!="object"||typeof T!="object"){x[v]=T;continue}const D=lw(E,T,n+1);x[v]=D,D===E&&m++}return l===p&&m===l?e:x}function Ch(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ng(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Eh(e){if(!Rg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Rg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Rg(e){return Object.prototype.toString.call(e)==="[object Object]"}function UA(e){return new Promise(t=>{vs.setTimeout(t,e)})}function Ah(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?lw(e,t):t}function zA(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function WA(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var l1=Symbol();function uw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===l1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function cw(e,t){return typeof e=="function"?e(...t):!!e}function HA(e,t,n){let i=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),i||(i=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),e}var Es,Ri,Do,jx,GA=(jx=class extends Ul{constructor(){super();Ae(this,Es);Ae(this,Ri);Ae(this,Do);ce(this,Do,t=>{if(!js&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Ri)||this.setEventListener(B(this,Do))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Ri))==null||t.call(this),ce(this,Ri,void 0))}setEventListener(t){var n;ce(this,Do,t),(n=B(this,Ri))==null||n.call(this),ce(this,Ri,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){B(this,Es)!==t&&(ce(this,Es,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,Es)=="boolean"?B(this,Es):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Es=new WeakMap,Ri=new WeakMap,Do=new WeakMap,jx),u1=new GA;function Sh(){let e,t;const n=new Promise((a,l)=>{e=a,t=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),e(a)},n.reject=a=>{i({status:"rejected",reason:a}),t(a)},n}var XA=FA;function ZA(){let e=[],t=0,n=p=>{p()},i=p=>{p()},a=XA;const l=p=>{t?e.push(p):a(()=>{n(p)})},d=()=>{const p=e;e=[],p.length&&a(()=>{i(()=>{p.forEach(x=>{n(x)})})})};return{batch:p=>{let x;t++;try{x=p()}finally{t--,t||d()}return x},batchCalls:p=>(...x)=>{l(()=>{p(...x)})},schedule:l,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{i=p},setScheduler:p=>{a=p}}}var $t=ZA(),Mo,Oi,Po,Ux,YA=(Ux=class extends Ul{constructor(){super();Ae(this,Mo,!0);Ae(this,Oi);Ae(this,Po);ce(this,Po,t=>{if(!js&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){B(this,Oi)||this.setEventListener(B(this,Po))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Oi))==null||t.call(this),ce(this,Oi,void 0))}setEventListener(t){var n;ce(this,Po,t),(n=B(this,Oi))==null||n.call(this),ce(this,Oi,t(this.setOnline.bind(this)))}setOnline(t){B(this,Mo)!==t&&(ce(this,Mo,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return B(this,Mo)}},Mo=new WeakMap,Oi=new WeakMap,Po=new WeakMap,Ux),wc=new YA;function KA(e){return Math.min(1e3*2**e,3e4)}function fw(e){return(e??"online")==="online"?wc.isOnline():!0}var bh=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dw(e){let t=!1,n=0,i;const a=Sh(),l=()=>a.status!=="pending",d=k=>{var V;if(!l()){const N=new bh(k);E(N),(V=e.onCancel)==null||V.call(e,N)}},p=()=>{t=!0},x=()=>{t=!1},m=()=>u1.isFocused()&&(e.networkMode==="always"||wc.isOnline())&&e.canRun(),w=()=>fw(e.networkMode)&&e.canRun(),v=k=>{l()||(i==null||i(),a.resolve(k))},E=k=>{l()||(i==null||i(),a.reject(k))},T=()=>new Promise(k=>{var V;i=N=>{(l()||m())&&k(N)},(V=e.onPause)==null||V.call(e)}).then(()=>{var k;i=void 0,l()||(k=e.onContinue)==null||k.call(e)}),D=()=>{if(l())return;let k;const V=n===0?e.initialPromise:void 0;try{k=V??e.fn()}catch(N){k=Promise.reject(N)}Promise.resolve(k).then(v).catch(N=>{var Z;if(l())return;const _=e.retry??(js?0:3),I=e.retryDelay??KA,M=typeof I=="function"?I(n,N):I,U=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,N);if(t||!U){E(N);return}n++,(Z=e.onFail)==null||Z.call(e,n,N),UA(M).then(()=>m()?void 0:T()).then(()=>{t?E(N):D()})})};return{promise:a,status:()=>a.status,cancel:d,continue:()=>(i==null||i(),a),cancelRetry:p,continueRetry:x,canStart:w,start:()=>(w()?D():T().then(D),a)}}var As,zx,hw=(zx=class{constructor(){Ae(this,As)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vh(this.gcTime)&&ce(this,As,vs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(js?1/0:5*60*1e3))}clearGcTimeout(){B(this,As)&&(vs.clearTimeout(B(this,As)),ce(this,As,void 0))}},As=new WeakMap,zx),Ss,Lo,qn,bs,Wt,Ol,_s,dr,Hr,Wx,QA=(Wx=class extends hw{constructor(t){super();Ae(this,dr);Ae(this,Ss);Ae(this,Lo);Ae(this,qn);Ae(this,bs);Ae(this,Wt);Ae(this,Ol);Ae(this,_s);ce(this,_s,!1),ce(this,Ol,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,bs,t.client),ce(this,qn,B(this,bs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,Ss,kg(this.options)),this.state=t.state??B(this,Ss),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Wt))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,Ol),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=kg(this.options);n.data!==void 0&&(this.setState(Og(n.data,n.dataUpdatedAt)),ce(this,Ss,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,qn).remove(this)}setData(t,n){const i=Ah(this.state.data,t,this.options);return Fe(this,dr,Hr).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){Fe(this,dr,Hr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,a;const n=(i=B(this,Wt))==null?void 0:i.promise;return(a=B(this,Wt))==null||a.cancel(t),n?n.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Ss))}isActive(){return this.observers.some(t=>$n(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===l1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!aw(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Wt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Wt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,qn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,Wt)&&(B(this,_s)?B(this,Wt).cancel({revert:!0}):B(this,Wt).cancelRetry()),this.scheduleGc()),B(this,qn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,dr,Hr).call(this,{type:"invalidate"})}async fetch(t,n){var x,m,w,v,E,T,D,k,V,N,_,I;if(this.state.fetchStatus!=="idle"&&((x=B(this,Wt))==null?void 0:x.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Wt))return B(this,Wt).continueRetry(),B(this,Wt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const M=this.observers.find(U=>U.options.queryFn);M&&this.setOptions(M.options)}const i=new AbortController,a=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(ce(this,_s,!0),i.signal)})},l=()=>{const M=uw(this.options,n),Z=(()=>{const j={client:B(this,bs),queryKey:this.queryKey,meta:this.meta};return a(j),j})();return ce(this,_s,!1),this.options.persister?this.options.persister(M,Z,this):M(Z)},p=(()=>{const M={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,bs),state:this.state,fetchFn:l};return a(M),M})();(m=this.options.behavior)==null||m.onFetch(p,this),ce(this,Lo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=p.fetchOptions)==null?void 0:w.meta))&&Fe(this,dr,Hr).call(this,{type:"fetch",meta:(v=p.fetchOptions)==null?void 0:v.meta}),ce(this,Wt,dw({initialPromise:n==null?void 0:n.initialPromise,fn:p.fetchFn,onCancel:M=>{M instanceof bh&&M.revert&&this.setState({...B(this,Lo),fetchStatus:"idle"}),i.abort()},onFail:(M,U)=>{Fe(this,dr,Hr).call(this,{type:"failed",failureCount:M,error:U})},onPause:()=>{Fe(this,dr,Hr).call(this,{type:"pause"})},onContinue:()=>{Fe(this,dr,Hr).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const M=await B(this,Wt).start();if(M===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(M),(T=(E=B(this,qn).config).onSuccess)==null||T.call(E,M,this),(k=(D=B(this,qn).config).onSettled)==null||k.call(D,M,this.state.error,this),M}catch(M){if(M instanceof bh){if(M.silent)return B(this,Wt).promise;if(M.revert){if(this.state.data===void 0)throw M;return this.state.data}}throw Fe(this,dr,Hr).call(this,{type:"error",error:M}),(N=(V=B(this,qn).config).onError)==null||N.call(V,M,this),(I=(_=B(this,qn).config).onSettled)==null||I.call(_,this.state.data,M,this),M}finally{this.scheduleGc()}}},Ss=new WeakMap,Lo=new WeakMap,qn=new WeakMap,bs=new WeakMap,Wt=new WeakMap,Ol=new WeakMap,_s=new WeakMap,dr=new WeakSet,Hr=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...pw(i.data,this.options),fetchMeta:t.meta??null};case"success":const a={...i,...Og(t.data,t.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ce(this,Lo,t.manual?a:void 0),a;case"error":const l=t.error;return{...i,error:l,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),$t.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),B(this,qn).notify({query:this,type:"updated",action:t})})},Wx);function pw(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Og(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function kg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _n,Ve,kl,dn,Ts,Bo,Yr,ki,Dl,Fo,Vo,Is,Ns,Di,jo,qe,za,_h,Th,Ih,Nh,Rh,Oh,kh,gw,Hx,qA=(Hx=class extends Ul{constructor(t,n){super();Ae(this,qe);Ae(this,_n);Ae(this,Ve);Ae(this,kl);Ae(this,dn);Ae(this,Ts);Ae(this,Bo);Ae(this,Yr);Ae(this,ki);Ae(this,Dl);Ae(this,Fo);Ae(this,Vo);Ae(this,Is);Ae(this,Ns);Ae(this,Di);Ae(this,jo,new Set);this.options=n,ce(this,_n,t),ce(this,ki,null),ce(this,Yr,Sh()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,Ve).addObserver(this),Dg(B(this,Ve),this.options)?Fe(this,qe,za).call(this):this.updateResult(),Fe(this,qe,Nh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dh(B(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dh(B(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fe(this,qe,Rh).call(this),Fe(this,qe,Oh).call(this),B(this,Ve).removeObserver(this)}setOptions(t){const n=this.options,i=B(this,Ve);if(this.options=B(this,_n).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $n(this.options.enabled,B(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fe(this,qe,kh).call(this),B(this,Ve).setOptions(this.options),n._defaulted&&!Ch(this.options,n)&&B(this,_n).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,Ve),observer:this});const a=this.hasListeners();a&&Mg(B(this,Ve),i,this.options,n)&&Fe(this,qe,za).call(this),this.updateResult(),a&&(B(this,Ve)!==i||$n(this.options.enabled,B(this,Ve))!==$n(n.enabled,B(this,Ve))||Zi(this.options.staleTime,B(this,Ve))!==Zi(n.staleTime,B(this,Ve)))&&Fe(this,qe,_h).call(this);const l=Fe(this,qe,Th).call(this);a&&(B(this,Ve)!==i||$n(this.options.enabled,B(this,Ve))!==$n(n.enabled,B(this,Ve))||l!==B(this,Di))&&Fe(this,qe,Ih).call(this,l)}getOptimisticResult(t){const n=B(this,_n).getQueryCache().build(B(this,_n),t),i=this.createResult(n,t);return JA(this,i)&&(ce(this,dn,i),ce(this,Bo,this.options),ce(this,Ts,B(this,Ve).state)),i}getCurrentResult(){return B(this,dn)}trackResult(t,n){return new Proxy(t,{get:(i,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,Yr).status==="pending"&&B(this,Yr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,a))})}trackProp(t){B(this,jo).add(t)}getCurrentQuery(){return B(this,Ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=B(this,_n).defaultQueryOptions(t),i=B(this,_n).getQueryCache().build(B(this,_n),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return Fe(this,qe,za).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,dn)))}createResult(t,n){var Y;const i=B(this,Ve),a=this.options,l=B(this,dn),d=B(this,Ts),p=B(this,Bo),m=t!==i?t.state:B(this,kl),{state:w}=t;let v={...w},E=!1,T;if(n._optimisticResults){const J=this.hasListeners(),ae=!J&&Dg(t,n),ne=J&&Mg(t,i,n,a);(ae||ne)&&(v={...v,...pw(w.data,t.options)}),n._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:D,errorUpdatedAt:k,status:V}=v;T=v.data;let N=!1;if(n.placeholderData!==void 0&&T===void 0&&V==="pending"){let J;l!=null&&l.isPlaceholderData&&n.placeholderData===(p==null?void 0:p.placeholderData)?(J=l.data,N=!0):J=typeof n.placeholderData=="function"?n.placeholderData((Y=B(this,Vo))==null?void 0:Y.state.data,B(this,Vo)):n.placeholderData,J!==void 0&&(V="success",T=Ah(l==null?void 0:l.data,J,n),E=!0)}if(n.select&&T!==void 0&&!N)if(l&&T===(d==null?void 0:d.data)&&n.select===B(this,Dl))T=B(this,Fo);else try{ce(this,Dl,n.select),T=n.select(T),T=Ah(l==null?void 0:l.data,T,n),ce(this,Fo,T),ce(this,ki,null)}catch(J){ce(this,ki,J)}B(this,ki)&&(D=B(this,ki),T=B(this,Fo),k=Date.now(),V="error");const _=v.fetchStatus==="fetching",I=V==="pending",M=V==="error",U=I&&_,Z=T!==void 0,H={status:V,fetchStatus:v.fetchStatus,isPending:I,isSuccess:V==="success",isError:M,isInitialLoading:U,isLoading:U,data:T,dataUpdatedAt:v.dataUpdatedAt,error:D,errorUpdatedAt:k,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>m.dataUpdateCount||v.errorUpdateCount>m.errorUpdateCount,isFetching:_,isRefetching:_&&!I,isLoadingError:M&&!Z,isPaused:v.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:M&&Z,isStale:c1(t,n),refetch:this.refetch,promise:B(this,Yr),isEnabled:$n(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const J=H.data!==void 0,ae=H.status==="error"&&!J,ne=K=>{ae?K.reject(H.error):J&&K.resolve(H.data)},Te=()=>{const K=ce(this,Yr,H.promise=Sh());ne(K)},Me=B(this,Yr);switch(Me.status){case"pending":t.queryHash===i.queryHash&&ne(Me);break;case"fulfilled":(ae||H.data!==Me.value)&&Te();break;case"rejected":(!ae||H.error!==Me.reason)&&Te();break}}return H}updateResult(){const t=B(this,dn),n=this.createResult(B(this,Ve),this.options);if(ce(this,Ts,B(this,Ve).state),ce(this,Bo,this.options),B(this,Ts).data!==void 0&&ce(this,Vo,B(this,Ve)),Ch(n,t))return;ce(this,dn,n);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!B(this,jo).size)return!0;const d=new Set(l??B(this,jo));return this.options.throwOnError&&d.add("error"),Object.keys(B(this,dn)).some(p=>{const x=p;return B(this,dn)[x]!==t[x]&&d.has(x)})};Fe(this,qe,gw).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fe(this,qe,Nh).call(this)}},_n=new WeakMap,Ve=new WeakMap,kl=new WeakMap,dn=new WeakMap,Ts=new WeakMap,Bo=new WeakMap,Yr=new WeakMap,ki=new WeakMap,Dl=new WeakMap,Fo=new WeakMap,Vo=new WeakMap,Is=new WeakMap,Ns=new WeakMap,Di=new WeakMap,jo=new WeakMap,qe=new WeakSet,za=function(t){Fe(this,qe,kh).call(this);let n=B(this,Ve).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Tn)),n},_h=function(){Fe(this,qe,Rh).call(this);const t=Zi(this.options.staleTime,B(this,Ve));if(js||B(this,dn).isStale||!vh(t))return;const i=aw(B(this,dn).dataUpdatedAt,t)+1;ce(this,Is,vs.setTimeout(()=>{B(this,dn).isStale||this.updateResult()},i))},Th=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,Ve)):this.options.refetchInterval)??!1},Ih=function(t){Fe(this,qe,Oh).call(this),ce(this,Di,t),!(js||$n(this.options.enabled,B(this,Ve))===!1||!vh(B(this,Di))||B(this,Di)===0)&&ce(this,Ns,vs.setInterval(()=>{(this.options.refetchIntervalInBackground||u1.isFocused())&&Fe(this,qe,za).call(this)},B(this,Di)))},Nh=function(){Fe(this,qe,_h).call(this),Fe(this,qe,Ih).call(this,Fe(this,qe,Th).call(this))},Rh=function(){B(this,Is)&&(vs.clearTimeout(B(this,Is)),ce(this,Is,void 0))},Oh=function(){B(this,Ns)&&(vs.clearInterval(B(this,Ns)),ce(this,Ns,void 0))},kh=function(){const t=B(this,_n).getQueryCache().build(B(this,_n),this.options);if(t===B(this,Ve))return;const n=B(this,Ve);ce(this,Ve,t),ce(this,kl,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},gw=function(t){$t.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(B(this,dn))}),B(this,_n).getQueryCache().notify({query:B(this,Ve),type:"observerResultsUpdated"})})},Hx);function $A(e,t){return $n(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Dg(e,t){return $A(e,t)||e.state.data!==void 0&&Dh(e,t,t.refetchOnMount)}function Dh(e,t,n){if($n(t.enabled,e)!==!1&&Zi(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&c1(e,t)}return!1}function Mg(e,t,n,i){return(e!==t||$n(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&c1(e,n)}function c1(e,t){return $n(t.enabled,e)!==!1&&e.isStaleByTime(Zi(t.staleTime,e))}function JA(e,t){return!Ch(e.getCurrentResult(),t)}function Pg(e){return{onFetch:(t,n)=>{var w,v,E,T,D;const i=t.options,a=(E=(v=(w=t.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:E.direction,l=((T=t.state.data)==null?void 0:T.pages)||[],d=((D=t.state.data)==null?void 0:D.pageParams)||[];let p={pages:[],pageParams:[]},x=0;const m=async()=>{let k=!1;const V=I=>{HA(I,()=>t.signal,()=>k=!0)},N=uw(t.options,t.fetchOptions),_=async(I,M,U)=>{if(k)return Promise.reject();if(M==null&&I.pages.length)return Promise.resolve(I);const j=(()=>{const ae={client:t.client,queryKey:t.queryKey,pageParam:M,direction:U?"backward":"forward",meta:t.options.meta};return V(ae),ae})(),H=await N(j),{maxPages:Y}=t.options,J=U?WA:zA;return{pages:J(I.pages,H,Y),pageParams:J(I.pageParams,M,Y)}};if(a&&l.length){const I=a==="backward",M=I?e4:Lg,U={pages:l,pageParams:d},Z=M(i,U);p=await _(U,Z,I)}else{const I=e??l.length;do{const M=x===0?d[0]??i.initialPageParam:Lg(i,p);if(x>0&&M==null)break;p=await _(p,M),x++}while(x<I)}return p};t.options.persister?t.fetchFn=()=>{var k,V;return(V=(k=t.options).persister)==null?void 0:V.call(k,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function Lg(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function e4(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var Ml,Ir,hn,Rs,Nr,vi,Gx,t4=(Gx=class extends hw{constructor(t){super();Ae(this,Nr);Ae(this,Ml);Ae(this,Ir);Ae(this,hn);Ae(this,Rs);ce(this,Ml,t.client),this.mutationId=t.mutationId,ce(this,hn,t.mutationCache),ce(this,Ir,[]),this.state=t.state||n4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Ir).includes(t)||(B(this,Ir).push(t),this.clearGcTimeout(),B(this,hn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,Ir,B(this,Ir).filter(n=>n!==t)),this.scheduleGc(),B(this,hn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Ir).length||(this.state.status==="pending"?this.scheduleGc():B(this,hn).remove(this))}continue(){var t;return((t=B(this,Rs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var d,p,x,m,w,v,E,T,D,k,V,N,_,I,M,U,Z,j,H,Y;const n=()=>{Fe(this,Nr,vi).call(this,{type:"continue"})},i={client:B(this,Ml),meta:this.options.meta,mutationKey:this.options.mutationKey};ce(this,Rs,dw({fn:()=>this.options.mutationFn?this.options.mutationFn(t,i):Promise.reject(new Error("No mutationFn found")),onFail:(J,ae)=>{Fe(this,Nr,vi).call(this,{type:"failed",failureCount:J,error:ae})},onPause:()=>{Fe(this,Nr,vi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,hn).canRun(this)}));const a=this.state.status==="pending",l=!B(this,Rs).canStart();try{if(a)n();else{Fe(this,Nr,vi).call(this,{type:"pending",variables:t,isPaused:l}),await((p=(d=B(this,hn).config).onMutate)==null?void 0:p.call(d,t,this,i));const ae=await((m=(x=this.options).onMutate)==null?void 0:m.call(x,t,i));ae!==this.state.context&&Fe(this,Nr,vi).call(this,{type:"pending",context:ae,variables:t,isPaused:l})}const J=await B(this,Rs).start();return await((v=(w=B(this,hn).config).onSuccess)==null?void 0:v.call(w,J,t,this.state.context,this,i)),await((T=(E=this.options).onSuccess)==null?void 0:T.call(E,J,t,this.state.context,i)),await((k=(D=B(this,hn).config).onSettled)==null?void 0:k.call(D,J,null,this.state.variables,this.state.context,this,i)),await((N=(V=this.options).onSettled)==null?void 0:N.call(V,J,null,t,this.state.context,i)),Fe(this,Nr,vi).call(this,{type:"success",data:J}),J}catch(J){try{await((I=(_=B(this,hn).config).onError)==null?void 0:I.call(_,J,t,this.state.context,this,i))}catch(ae){Promise.reject(ae)}try{await((U=(M=this.options).onError)==null?void 0:U.call(M,J,t,this.state.context,i))}catch(ae){Promise.reject(ae)}try{await((j=(Z=B(this,hn).config).onSettled)==null?void 0:j.call(Z,void 0,J,this.state.variables,this.state.context,this,i))}catch(ae){Promise.reject(ae)}try{await((Y=(H=this.options).onSettled)==null?void 0:Y.call(H,void 0,J,t,this.state.context,i))}catch(ae){Promise.reject(ae)}throw Fe(this,Nr,vi).call(this,{type:"error",error:J}),J}finally{B(this,hn).runNext(this)}}},Ml=new WeakMap,Ir=new WeakMap,hn=new WeakMap,Rs=new WeakMap,Nr=new WeakSet,vi=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$t.batch(()=>{B(this,Ir).forEach(i=>{i.onMutationUpdate(t)}),B(this,hn).notify({mutation:this,type:"updated",action:t})})},Gx);function n4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kr,hr,Pl,Xx,r4=(Xx=class extends Ul{constructor(t={}){super();Ae(this,Kr);Ae(this,hr);Ae(this,Pl);this.config=t,ce(this,Kr,new Set),ce(this,hr,new Map),ce(this,Pl,0)}build(t,n,i){const a=new t4({client:t,mutationCache:this,mutationId:++ou(this,Pl)._,options:t.defaultMutationOptions(n),state:i});return this.add(a),a}add(t){B(this,Kr).add(t);const n=Su(t);if(typeof n=="string"){const i=B(this,hr).get(n);i?i.push(t):B(this,hr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,Kr).delete(t)){const n=Su(t);if(typeof n=="string"){const i=B(this,hr).get(n);if(i)if(i.length>1){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}else i[0]===t&&B(this,hr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Su(t);if(typeof n=="string"){const i=B(this,hr).get(n),a=i==null?void 0:i.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var i;const n=Su(t);if(typeof n=="string"){const a=(i=B(this,hr).get(n))==null?void 0:i.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$t.batch(()=>{B(this,Kr).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,Kr).clear(),B(this,hr).clear()})}getAll(){return Array.from(B(this,Kr))}find(t){const n={exact:!0,...t};return this.getAll().find(i=>Ig(n,i))}findAll(t={}){return this.getAll().filter(n=>Ig(t,n))}notify(t){$t.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $t.batch(()=>Promise.all(t.map(n=>n.continue().catch(Tn))))}},Kr=new WeakMap,hr=new WeakMap,Pl=new WeakMap,Xx);function Su(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Rr,Zx,i4=(Zx=class extends Ul{constructor(t={}){super();Ae(this,Rr);this.config=t,ce(this,Rr,new Map)}build(t,n,i){const a=n.queryKey,l=n.queryHash??a1(a,n);let d=this.get(l);return d||(d=new QA({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(a)}),this.add(d)),d}add(t){B(this,Rr).has(t.queryHash)||(B(this,Rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,Rr).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,Rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Rr).get(t)}getAll(){return[...B(this,Rr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>Tg(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>Tg(t,i)):n}notify(t){$t.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$t.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$t.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Rr=new WeakMap,Zx),St,Mi,Pi,Uo,zo,Li,Wo,Ho,Yx,s4=(Yx=class{constructor(e={}){Ae(this,St);Ae(this,Mi);Ae(this,Pi);Ae(this,Uo);Ae(this,zo);Ae(this,Li);Ae(this,Wo);Ae(this,Ho);ce(this,St,e.queryCache||new i4),ce(this,Mi,e.mutationCache||new r4),ce(this,Pi,e.defaultOptions||{}),ce(this,Uo,new Map),ce(this,zo,new Map),ce(this,Li,0)}mount(){ou(this,Li)._++,B(this,Li)===1&&(ce(this,Wo,u1.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,St).onFocus())})),ce(this,Ho,wc.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,St).onOnline())})))}unmount(){var e,t;ou(this,Li)._--,B(this,Li)===0&&((e=B(this,Wo))==null||e.call(this),ce(this,Wo,void 0),(t=B(this,Ho))==null||t.call(this),ce(this,Ho,void 0))}isFetching(e){return B(this,St).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Mi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,St).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=B(this,St).build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Zi(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return B(this,St).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),a=B(this,St).get(i.queryHash),l=a==null?void 0:a.state.data,d=VA(t,l);if(d!==void 0)return B(this,St).build(this,i).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return $t.batch(()=>B(this,St).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,St).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,St);$t.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,St);return $t.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=$t.batch(()=>B(this,St).findAll(e).map(a=>a.cancel(n)));return Promise.all(i).then(Tn).catch(Tn)}invalidateQueries(e,t={}){return $t.batch(()=>(B(this,St).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=$t.batch(()=>B(this,St).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(Tn)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,St).build(this,t);return n.isStaleByTime(Zi(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=Pg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=Pg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wc.isOnline()?B(this,Mi).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,St)}getMutationCache(){return B(this,Mi)}getDefaultOptions(){return B(this,Pi)}setDefaultOptions(e){ce(this,Pi,e)}setQueryDefaults(e,t){B(this,Uo).set(Al(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Uo).values()],n={};return t.forEach(i=>{Sl(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){B(this,zo).set(Al(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,zo).values()],n={};return t.forEach(i=>{Sl(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,Pi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=a1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===l1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,Pi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,St).clear(),B(this,Mi).clear()}},St=new WeakMap,Mi=new WeakMap,Pi=new WeakMap,Uo=new WeakMap,zo=new WeakMap,Li=new WeakMap,Wo=new WeakMap,Ho=new WeakMap,Yx),mw=Q.createContext(void 0),o4=e=>{const t=Q.useContext(mw);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},a4=({client:e,children:t})=>(Q.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),F.jsx(mw.Provider,{value:e,children:t})),xw=Q.createContext(!1),l4=()=>Q.useContext(xw);xw.Provider;function u4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var c4=Q.createContext(u4()),f4=()=>Q.useContext(c4),d4=(e,t,n)=>{const i=n!=null&&n.state.error&&typeof e.throwOnError=="function"?cw(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},h4=e=>{Q.useEffect(()=>{e.clearReset()},[e])},p4=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(a&&e.data===void 0||cw(n,[e.error,i])),g4=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...a)=>n(i(...a)):n(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},m4=(e,t)=>e.isLoading&&e.isFetching&&!t,x4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Bg=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function y4(e,t,n){var E,T,D,k;const i=l4(),a=f4(),l=o4(),d=l.defaultQueryOptions(e);(T=(E=l.getDefaultOptions().queries)==null?void 0:E._experimental_beforeQuery)==null||T.call(E,d);const p=l.getQueryCache().get(d.queryHash);d._optimisticResults=i?"isRestoring":"optimistic",g4(d),d4(d,a,p),h4(a);const x=!l.getQueryCache().get(d.queryHash),[m]=Q.useState(()=>new t(l,d)),w=m.getOptimisticResult(d),v=!i&&e.subscribed!==!1;if(Q.useSyncExternalStore(Q.useCallback(V=>{const N=v?m.subscribe($t.batchCalls(V)):Tn;return m.updateResult(),N},[m,v]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),Q.useEffect(()=>{m.setOptions(d)},[d,m]),x4(d,w))throw Bg(d,m,a);if(p4({result:w,errorResetBoundary:a,throwOnError:d.throwOnError,query:p,suspense:d.suspense}))throw w.error;if((k=(D=l.getDefaultOptions().queries)==null?void 0:D._experimental_afterQuery)==null||k.call(D,d,w),d.experimental_prefetchInRender&&!js&&m4(w,i)){const V=x?Bg(d,m,a):p==null?void 0:p.promise;V==null||V.catch(Tn).finally(()=>{m.updateResult()})}return d.notifyOnChangeProps?w:m.trackResult(w)}function yw(e,t){return y4(e,qA)}const w4=new s4({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*60*24,retry:1,networkMode:"offlineFirst"}}});let v4={data:""},C4=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||v4},E4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,A4=/\/\*[^]*?\*\/|  +/g,Fg=/\n+/g,Ii=(e,t)=>{let n="",i="",a="";for(let l in e){let d=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+d+";":i+=l[1]=="f"?Ii(d,l):l+"{"+Ii(d,l[1]=="k"?"":t)+"}":typeof d=="object"?i+=Ii(d,t?t.replace(/([^,])+/g,p=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,x=>/&/.test(x)?x.replace(/&/g,p):p?p+" "+x:x)):l):d!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ii.p?Ii.p(l,d):l+":"+d+";")}return n+(t&&a?t+"{"+a+"}":a)+i},Ur={},ww=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+ww(e[n]);return t}return e},S4=(e,t,n,i,a)=>{let l=ww(e),d=Ur[l]||(Ur[l]=(x=>{let m=0,w=11;for(;m<x.length;)w=101*w+x.charCodeAt(m++)>>>0;return"go"+w})(l));if(!Ur[d]){let x=l!==e?e:(m=>{let w,v,E=[{}];for(;w=E4.exec(m.replace(A4,""));)w[4]?E.shift():w[3]?(v=w[3].replace(Fg," ").trim(),E.unshift(E[0][v]=E[0][v]||{})):E[0][w[1]]=w[2].replace(Fg," ").trim();return E[0]})(e);Ur[d]=Ii(a?{["@keyframes "+d]:x}:x,n?"":"."+d)}let p=n&&Ur.g?Ur.g:null;return n&&(Ur.g=Ur[d]),((x,m,w,v)=>{v?m.data=m.data.replace(v,x):m.data.indexOf(x)===-1&&(m.data=w?x+m.data:m.data+x)})(Ur[d],t,i,p),d},b4=(e,t,n)=>e.reduce((i,a,l)=>{let d=t[l];if(d&&d.call){let p=d(n),x=p&&p.props&&p.props.className||/^go/.test(p)&&p;d=x?"."+x:p&&typeof p=="object"?p.props?"":Ii(p,""):p===!1?"":p}return i+a+(d??"")},"");function ef(e){let t=this||{},n=e.call?e(t.p):e;return S4(n.unshift?n.raw?b4(n,[].slice.call(arguments,1),t.p):n.reduce((i,a)=>Object.assign(i,a&&a.call?a(t.p):a),{}):n,C4(t.target),t.g,t.o,t.k)}let vw,Mh,Ph;ef.bind({g:1});let si=ef.bind({k:1});function _4(e,t,n,i){Ii.p=t,vw=e,Mh=n,Ph=i}function rs(e,t){let n=this||{};return function(){let i=arguments;function a(l,d){let p=Object.assign({},l),x=p.className||a.className;n.p=Object.assign({theme:Mh&&Mh()},p),n.o=/ *go\d+/.test(x),p.className=ef.apply(n,i)+(x?" "+x:"");let m=e;return e[0]&&(m=p.as||e,delete p.as),Ph&&m[0]&&Ph(p),vw(m,p)}return a}}var T4=e=>typeof e=="function",vc=(e,t)=>T4(e)?e(t):e,I4=(()=>{let e=0;return()=>(++e).toString()})(),Cw=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),N4=20,f1="default",Ew=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(d=>d.id===t.toast.id?{...d,...t.toast}:d)};case 2:let{toast:i}=t;return Ew(e,{type:e.toasts.find(d=>d.id===i.id)?1:0,toast:i});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(d=>d.id===a||a===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(d=>d.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+l}))}}},Hu=[],Aw={toasts:[],pausedAt:void 0,settings:{toastLimit:N4}},kr={},Sw=(e,t=f1)=>{kr[t]=Ew(kr[t]||Aw,e),Hu.forEach(([n,i])=>{n===t&&i(kr[t])})},bw=e=>Object.keys(kr).forEach(t=>Sw(e,t)),R4=e=>Object.keys(kr).find(t=>kr[t].toasts.some(n=>n.id===e)),tf=(e=f1)=>t=>{Sw(t,e)},O4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},k4=(e={},t=f1)=>{let[n,i]=Q.useState(kr[t]||Aw),a=Q.useRef(kr[t]);Q.useEffect(()=>(a.current!==kr[t]&&i(kr[t]),Hu.push([t,i]),()=>{let d=Hu.findIndex(([p])=>p===t);d>-1&&Hu.splice(d,1)}),[t]);let l=n.toasts.map(d=>{var p,x,m;return{...e,...e[d.type],...d,removeDelay:d.removeDelay||((p=e[d.type])==null?void 0:p.removeDelay)||(e==null?void 0:e.removeDelay),duration:d.duration||((x=e[d.type])==null?void 0:x.duration)||(e==null?void 0:e.duration)||O4[d.type],style:{...e.style,...(m=e[d.type])==null?void 0:m.style,...d.style}}});return{...n,toasts:l}},D4=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||I4()}),zl=e=>(t,n)=>{let i=D4(t,e,n);return tf(i.toasterId||R4(i.id))({type:2,toast:i}),i.id},Ft=(e,t)=>zl("blank")(e,t);Ft.error=zl("error");Ft.success=zl("success");Ft.loading=zl("loading");Ft.custom=zl("custom");Ft.dismiss=(e,t)=>{let n={type:3,toastId:e};t?tf(t)(n):bw(n)};Ft.dismissAll=e=>Ft.dismiss(void 0,e);Ft.remove=(e,t)=>{let n={type:4,toastId:e};t?tf(t)(n):bw(n)};Ft.removeAll=e=>Ft.remove(void 0,e);Ft.promise=(e,t,n)=>{let i=Ft.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?vc(t.success,a):void 0;return l?Ft.success(l,{id:i,...n,...n==null?void 0:n.success}):Ft.dismiss(i),a}).catch(a=>{let l=t.error?vc(t.error,a):void 0;l?Ft.error(l,{id:i,...n,...n==null?void 0:n.error}):Ft.dismiss(i)}),e};var M4=1e3,P4=(e,t="default")=>{let{toasts:n,pausedAt:i}=k4(e,t),a=Q.useRef(new Map).current,l=Q.useCallback((v,E=M4)=>{if(a.has(v))return;let T=setTimeout(()=>{a.delete(v),d({type:4,toastId:v})},E);a.set(v,T)},[]);Q.useEffect(()=>{if(i)return;let v=Date.now(),E=n.map(T=>{if(T.duration===1/0)return;let D=(T.duration||0)+T.pauseDuration-(v-T.createdAt);if(D<0){T.visible&&Ft.dismiss(T.id);return}return setTimeout(()=>Ft.dismiss(T.id,t),D)});return()=>{E.forEach(T=>T&&clearTimeout(T))}},[n,i,t]);let d=Q.useCallback(tf(t),[t]),p=Q.useCallback(()=>{d({type:5,time:Date.now()})},[d]),x=Q.useCallback((v,E)=>{d({type:1,toast:{id:v,height:E}})},[d]),m=Q.useCallback(()=>{i&&d({type:6,time:Date.now()})},[i,d]),w=Q.useCallback((v,E)=>{let{reverseOrder:T=!1,gutter:D=8,defaultPosition:k}=E||{},V=n.filter(I=>(I.position||k)===(v.position||k)&&I.height),N=V.findIndex(I=>I.id===v.id),_=V.filter((I,M)=>M<N&&I.visible).length;return V.filter(I=>I.visible).slice(...T?[_+1]:[0,_]).reduce((I,M)=>I+(M.height||0)+D,0)},[n]);return Q.useEffect(()=>{n.forEach(v=>{if(v.dismissed)l(v.id,v.removeDelay);else{let E=a.get(v.id);E&&(clearTimeout(E),a.delete(v.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:x,startPause:p,endPause:m,calculateOffset:w}}},L4=si`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,B4=si`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,F4=si`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,V4=rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${L4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${B4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${F4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,j4=si`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,U4=rs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${j4} 1s linear infinite;
`,z4=si`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,W4=si`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,H4=rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${W4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,G4=rs("div")`
  position: absolute;
`,X4=rs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Z4=si`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Y4=rs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Z4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,K4=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?Q.createElement(Y4,null,t):t:n==="blank"?null:Q.createElement(X4,null,Q.createElement(U4,{...i}),n!=="loading"&&Q.createElement(G4,null,n==="error"?Q.createElement(V4,{...i}):Q.createElement(H4,{...i})))},Q4=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,q4=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,$4="0%{opacity:0;} 100%{opacity:1;}",J4="0%{opacity:1;} 100%{opacity:0;}",e8=rs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,t8=rs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,n8=(e,t)=>{let n=e.includes("top")?1:-1,[i,a]=Cw()?[$4,J4]:[Q4(n),q4(n)];return{animation:t?`${si(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${si(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},r8=Q.memo(({toast:e,position:t,style:n,children:i})=>{let a=e.height?n8(e.position||t||"top-center",e.visible):{opacity:0},l=Q.createElement(K4,{toast:e}),d=Q.createElement(t8,{...e.ariaProps},vc(e.message,e));return Q.createElement(e8,{className:e.className,style:{...a,...n,...e.style}},typeof i=="function"?i({icon:l,message:d}):Q.createElement(Q.Fragment,null,l,d))});_4(Q.createElement);var i8=({id:e,className:t,style:n,onHeightUpdate:i,children:a})=>{let l=Q.useCallback(d=>{if(d){let p=()=>{let x=d.getBoundingClientRect().height;i(e,x)};p(),new MutationObserver(p).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return Q.createElement("div",{ref:l,className:t,style:n},a)},s8=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Cw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...a}},o8=ef`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bu=16,a8=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:a,toasterId:l,containerStyle:d,containerClassName:p})=>{let{toasts:x,handlers:m}=P4(n,l);return Q.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:bu,left:bu,right:bu,bottom:bu,pointerEvents:"none",...d},className:p,onMouseEnter:m.startPause,onMouseLeave:m.endPause},x.map(w=>{let v=w.position||t,E=m.calculateOffset(w,{reverseOrder:e,gutter:i,defaultPosition:t}),T=s8(v,E);return Q.createElement(i8,{id:w.id,key:w.id,onHeightUpdate:m.updateHeight,className:w.visible?o8:"",style:T},w.type==="custom"?vc(w.message,w):a?a(w):Q.createElement(r8,{toast:w,position:v}))}))},io=Ft;/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=(e,t)=>{const n=Q.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:p="",children:x,...m},w)=>Q.createElement("svg",{ref:w,...l8,width:a,height:a,stroke:i,strokeWidth:d?Number(l)*24/Number(a):l,className:["lucide",`lucide-${u8(e)}`,p].join(" "),...m},[...t.map(([v,E])=>Q.createElement(v,E)),...Array.isArray(x)?x:[x]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=wn("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=wn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=wn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=wn("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=wn("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=wn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=wn("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=wn("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=wn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=wn("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=wn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=wn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=wn("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=wn("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=wn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lh=(e,t)=>t.some(n=>e instanceof n);let Ug,zg;function y8(){return Ug||(Ug=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w8(){return zg||(zg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bh=new WeakMap,od=new WeakMap,nf=new WeakMap;function v8(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",d)},l=()=>{n(Ds(e.result)),a()},d=()=>{i(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",d)});return nf.set(t,e),t}function C8(e){if(Bh.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",d),e.removeEventListener("abort",d)},l=()=>{n(),a()},d=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",d),e.addEventListener("abort",d)});Bh.set(e,t)}let Fh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Bh.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Iw(e){Fh=e(Fh)}function E8(e){return w8().includes(e)?function(...t){return e.apply(Vh(this),t),Ds(this.request)}:function(...t){return Ds(e.apply(Vh(this),t))}}function A8(e){return typeof e=="function"?E8(e):(e instanceof IDBTransaction&&C8(e),Lh(e,y8())?new Proxy(e,Fh):e)}function Ds(e){if(e instanceof IDBRequest)return v8(e);if(od.has(e))return od.get(e);const t=A8(e);return t!==e&&(od.set(e,t),nf.set(t,e)),t}const Vh=e=>nf.get(e);function Nw(e,t,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const d=indexedDB.open(e,t),p=Ds(d);return i&&d.addEventListener("upgradeneeded",x=>{i(Ds(d.result),x.oldVersion,x.newVersion,Ds(d.transaction),x)}),n&&d.addEventListener("blocked",x=>n(x.oldVersion,x.newVersion,x)),p.then(x=>{l&&x.addEventListener("close",()=>l()),a&&x.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const S8=["get","getKey","getAll","getAllKeys","count"],b8=["put","add","delete","clear"],ad=new Map;function Wg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ad.get(t))return ad.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=b8.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||S8.includes(n)))return;const l=async function(d,...p){const x=this.transaction(d,a?"readwrite":"readonly");let m=x.store;return i&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),a&&x.done]))[0]};return ad.set(t,l),l}Iw(e=>({...e,get:(t,n,i)=>Wg(t,n)||e.get(t,n,i),has:(t,n)=>!!Wg(t,n)||e.has(t,n)}));const _8=["continue","continuePrimaryKey","advance"],Hg={},jh=new WeakMap,Rw=new WeakMap,T8={get(e,t){if(!_8.includes(t))return e[t];let n=Hg[t];return n||(n=Hg[t]=function(...i){jh.set(this,Rw.get(this)[t](...i))}),n}};async function*I8(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,T8);for(Rw.set(n,t),nf.set(n,Vh(t));t;)yield n,t=await(jh.get(n)||t.continue()),jh.delete(n)}function Gg(e,t){return t===Symbol.asyncIterator&&Lh(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Lh(e,[IDBIndex,IDBObjectStore])}Iw(e=>({...e,get(t,n,i){return Gg(t,n)?I8:e.get(t,n,i)},has(t,n){return Gg(t,n)||e.has(t,n)}}));const N8="foodscan_v1",$o="products",R8=1;let _u=null;function d1(){return _u||(_u=Nw(N8,R8,{upgrade(e){e.objectStoreNames.contains($o)||(console.log("Creating products object store..."),e.createObjectStore($o,{keyPath:"code"}))},blocked(){console.warn("DB initialization blocked")},blocking(){console.warn("DB initialization blocking")},terminated(){console.error("DB terminated"),_u=null}})),_u}async function O8(e){try{return await(await d1()).get($o,e)||null}catch(t){return console.error("Local IDB lookup failed",t),null}}async function k8(){try{return{items_count:await(await d1()).count($o),last_updated:Date.now()}}catch(e){return console.error("Failed to get stats",e),{items_count:0,last_updated:0}}}async function D8(e,t){var D;console.log(`Starting import from ${e}`);const n=await fetch(e);if(!n.body)throw new Error("ReadableStream not supported or no body");let i=n.body;if(e.endsWith(".gz")&&!((D=n.headers.get("Content-Encoding"))!=null&&D.includes("gzip"))){console.log("Manual decompression triggered");const k=new DecompressionStream("gzip");i=i.pipeThrough(k)}let a=0;const l=i.getReader(),d=new TextDecoder("utf-8");let{value:p,done:x}=await l.read(),m="";const w=500;let v=[],E=0;const T=await d1();try{for(;!x||m.length>0;){p?(a+=p.byteLength,m+=d.decode(p,{stream:!0})):m+=d.decode();const k=m.split(`
`);x?m="":m=k.pop()||"";for(const V of k){const N=V.trim();if(N){try{let _=JSON.parse(N);_.c&&(_={code:_.c,name:_.n,ingredients:_.i,palm_oil_tags:_.pt,palm_oil_may_be_tags:_.pmt,nutriscore_grade:_.ns,nova_group:_.ng,nutrient_levels:_.nl,additives_tags:_.at,last_updated:_.l});const I=["nutrient_levels","palm_oil_tags","palm_oil_may_be_tags","additives_tags"];for(const M of I)if(typeof _[M]=="string")try{_[M]=JSON.parse(_[M])}catch{}v.push(_)}catch(_){console.warn("Failed to parse line:",V.substring(0,50),_)}v.length>=w&&(await Xg(T,v),E+=v.length,v=[],t&&(t(E),await new Promise(_=>setTimeout(_,0))))}}if(x)break;({value:p,done:x}=await l.read())}return v.length>0&&(await Xg(T,v),E+=v.length),console.log(`Import complete! Total records: ${E}`),E}catch(k){throw console.error("Stream Import Failed",k),k}}async function Xg(e,t){const n=e.transaction($o,"readwrite"),i=n.objectStore($o);await Promise.all([...t.map(a=>i.put(a)),n.done])}const Ow="/ingredients-finder/data",kw=async()=>{try{const e=await fetch(`${Ow}/version.json?t=${Date.now()}`);if(!e.ok)return null;const t=e.headers.get("content-type");return!t||!t.includes("application/json")?(console.warn("Version check returned non-JSON response. Check if public/data/version.json exists."),null):(await e.json()).last_updated}catch(e){return console.error("Failed to check remote version",e),null}},M8=async e=>{try{e&&e("Checking for updates...");const t=await kw();if(!t)throw new Error("Could not fetch version info");const n=localStorage.getItem("db_version");if(n&&Number(n)>=t)return!1;e&&e("Downloading database...");const i=`${Ow}/products.jsonl.gz`;return await D8(i,a=>{e&&e(`Imported ${a} items...`)}),localStorage.setItem("db_version",String(t)),!0}catch(t){throw console.error("Sync failed",t),e&&e("Sync failed: "+t.message),t}},P8={},Zg=e=>{let t;const n=new Set,i=(w,v)=>{const E=typeof w=="function"?w(t):w;if(!Object.is(E,t)){const T=t;t=v??(typeof E!="object"||E===null)?E:Object.assign({},t,E),n.forEach(D=>D(t,T))}},a=()=>t,x={setState:i,getState:a,getInitialState:()=>m,subscribe:w=>(n.add(w),()=>n.delete(w)),destroy:()=>{(P8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},m=t=e(i,a,x);return x},L8=e=>e?Zg(e):Zg;var Dw={exports:{}},Mw={},Pw={exports:{}},Lw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jo=Q;function B8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var F8=typeof Object.is=="function"?Object.is:B8,V8=Jo.useState,j8=Jo.useEffect,U8=Jo.useLayoutEffect,z8=Jo.useDebugValue;function W8(e,t){var n=t(),i=V8({inst:{value:n,getSnapshot:t}}),a=i[0].inst,l=i[1];return U8(function(){a.value=n,a.getSnapshot=t,ld(a)&&l({inst:a})},[e,n,t]),j8(function(){return ld(a)&&l({inst:a}),e(function(){ld(a)&&l({inst:a})})},[e]),z8(n),n}function ld(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!F8(e,n)}catch{return!0}}function H8(e,t){return t()}var G8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?H8:W8;Lw.useSyncExternalStore=Jo.useSyncExternalStore!==void 0?Jo.useSyncExternalStore:G8;Pw.exports=Lw;var X8=Pw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=Q,Z8=X8;function Y8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var K8=typeof Object.is=="function"?Object.is:Y8,Q8=Z8.useSyncExternalStore,q8=rf.useRef,$8=rf.useEffect,J8=rf.useMemo,eS=rf.useDebugValue;Mw.useSyncExternalStoreWithSelector=function(e,t,n,i,a){var l=q8(null);if(l.current===null){var d={hasValue:!1,value:null};l.current=d}else d=l.current;l=J8(function(){function x(T){if(!m){if(m=!0,w=T,T=i(T),a!==void 0&&d.hasValue){var D=d.value;if(a(D,T))return v=D}return v=T}if(D=v,K8(w,T))return D;var k=i(T);return a!==void 0&&a(D,k)?(w=T,D):(w=T,v=k)}var m=!1,w,v,E=n===void 0?null:n;return[function(){return x(t())},E===null?void 0:function(){return x(E())}]},[t,n,i,a]);var p=Q8(e,l[0],l[1]);return $8(function(){d.hasValue=!0,d.value=p},[p]),eS(p),p};Dw.exports=Mw;var tS=Dw.exports;const nS=d0(tS),Bw={},{useDebugValue:rS}=bo,{useSyncExternalStoreWithSelector:iS}=nS;let Yg=!1;const sS=e=>e;function oS(e,t=sS,n){(Bw?"production":void 0)!=="production"&&n&&!Yg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Yg=!0);const i=iS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return rS(i),i}const Kg=e=>{(Bw?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?L8(e):e,n=(i,a)=>oS(t,i,a);return Object.assign(n,t),n},aS=e=>e?Kg(e):Kg,Bn=aS(e=>({currentView:"home",setView:t=>e({currentView:t}),toasts:[],addToast:t=>{const n=Math.random().toString(36).substring(7);e({toasts:[{...t,id:n}]}),t.type!=="percentage"&&setTimeout(()=>{e(i=>({toasts:i.toasts.filter(a=>a.id!==n)}))},3e3)},removeToast:t=>e(n=>({toasts:n.toasts.filter(i=>i.id!==t)})),activeCode:null,setActiveCode:t=>e({activeCode:t}),isOnline:navigator.onLine,setOnlineStatus:t=>e({isOnline:t})})),lS=()=>{const e=Bn(T=>T.isOnline),t=Bn(T=>T.setOnlineStatus),[n,i]=Q.useState(null),[a,l]=Q.useState(!1),[d,p]=Q.useState(!1),[x,m]=Q.useState(!1);Q.useEffect(()=>{const T=async()=>{if(!navigator.onLine){t(!1);return}try{let V=0;for(;V<2;)try{V++;const N=new AbortController,_=setTimeout(()=>N.abort(),3e3);await fetch(`/ingredients-finder/vite.svg?t=${Date.now()}`,{method:"HEAD",signal:N.signal,cache:"no-store"}),clearTimeout(_),t(!0);return}catch(N){if(V<2&&N.name!=="AbortError"){console.log(`[Connection] Ping attempt ${V} failed, retrying...`),await new Promise(_=>setTimeout(_,1e3));continue}throw N}}catch{console.log("[Connection] Ping failed, setting global Offline."),t(!1)}},D=()=>{navigator.onLine?T():t(!1)};window.addEventListener("online",D),window.addEventListener("offline",D);const k=setInterval(T,1e4);return w(),T(),v(),()=>{window.removeEventListener("online",D),window.removeEventListener("offline",D),clearInterval(k)}},[]),Q.useEffect(()=>{e&&d&&!x&&(console.log("Auto-syncing on WiFi..."),m(!0),E())},[e,d,x]);const w=async()=>{const T=await k8();if(T&&T.last_updated){const D=new Date(Number(T.last_updated));T.last_updated>0?i(D.toLocaleDateString()):i("Basic")}else i("Empty")},v=async()=>{if(!navigator.onLine)return;const T=await kw(),D=localStorage.getItem("db_version");T&&(!D||Number(D)<T)&&p(!0)},E=async()=>{if(!e){io.error("You are offline.");return}l(!0);const T=io.loading("Updating Database...");try{await M8(k=>{io.loading(k,{id:T})})?(io.success("Update Complete!",{id:T}),await w(),p(!1)):io.success("Already up to date",{id:T})}catch(D){console.error(D),io.error("Update Failed",{id:T})}finally{l(!1)}};return F.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 px-4 py-2 flex items-center justify-between text-[10px] sm:text-xs text-slate-500 z-50 pb-[env(safe-area-inset-bottom)]",children:F.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[F.jsxs("div",{className:`flex items-center gap-1.5 ${e?"text-emerald-500":"text-slate-400"}`,children:[e?F.jsx(x8,{size:14}):F.jsx(m8,{size:14}),F.jsx("span",{className:"font-semibold hidden sm:inline",children:e?"Online":"Offline"})]}),F.jsx("div",{className:"h-3 w-[1px] bg-slate-200"}),F.jsxs("button",{onClick:E,disabled:a,className:`flex items-center gap-1.5 transition-colors ${d||a?"text-blue-600 font-bold animate-pulse":"text-slate-500 hover:text-slate-700"}`,children:[a?F.jsx(Vg,{size:14,className:"animate-spin"}):d?F.jsx(Vg,{size:14}):F.jsx(f8,{size:14}),!a&&F.jsx("span",{children:d?"Update Now":n?`${n}`:"No Data"})]})]})})},h1=Q.createContext({});function p1(e){const t=Q.useRef(null);return t.current===null&&(t.current=e()),t.current}const sf=Q.createContext(null),g1=Q.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class uS extends Q.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cS({children:e,isPresent:t}){const n=Q.useId(),i=Q.useRef(null),a=Q.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=Q.useContext(g1);return Q.useInsertionEffect(()=>{const{width:d,height:p,top:x,left:m}=a.current;if(t||!i.current||!d||!p)return;i.current.dataset.motionPopId=n;const w=document.createElement("style");return l&&(w.nonce=l),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            top: ${x}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[t]),F.jsx(uS,{isPresent:t,childRef:i,sizeRef:a,children:Q.cloneElement(e,{ref:i})})}const fS=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:d})=>{const p=p1(dS),x=Q.useId(),m=Q.useCallback(v=>{p.set(v,!0);for(const E of p.values())if(!E)return;i&&i()},[p,i]),w=Q.useMemo(()=>({id:x,initial:t,isPresent:n,custom:a,onExitComplete:m,register:v=>(p.set(v,!1),()=>p.delete(v))}),l?[Math.random(),m]:[n,m]);return Q.useMemo(()=>{p.forEach((v,E)=>p.set(E,!1))},[n]),Q.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),d==="popLayout"&&(e=F.jsx(cS,{isPresent:n,children:e})),F.jsx(sf.Provider,{value:w,children:e})};function dS(){return new Map}function Fw(e=!0){const t=Q.useContext(sf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,l=Q.useId();Q.useEffect(()=>{e&&a(l)},[e]);const d=Q.useCallback(()=>e&&i&&i(l),[l,i,e]);return!n&&i?[!1,d]:[!0]}const Tu=e=>e.key||"";function Qg(e){const t=[];return Q.Children.forEach(e,n=>{Q.isValidElement(n)&&t.push(n)}),t}const m1=typeof window<"u",Vw=m1?Q.useLayoutEffect:Q.useEffect,Gu=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:d=!1})=>{const[p,x]=Fw(d),m=Q.useMemo(()=>Qg(e),[e]),w=d&&!p?[]:m.map(Tu),v=Q.useRef(!0),E=Q.useRef(m),T=p1(()=>new Map),[D,k]=Q.useState(m),[V,N]=Q.useState(m);Vw(()=>{v.current=!1,E.current=m;for(let M=0;M<V.length;M++){const U=Tu(V[M]);w.includes(U)?T.delete(U):T.get(U)!==!0&&T.set(U,!1)}},[V,w.length,w.join("-")]);const _=[];if(m!==D){let M=[...m];for(let U=0;U<V.length;U++){const Z=V[U],j=Tu(Z);w.includes(j)||(M.splice(U,0,Z),_.push(Z))}l==="wait"&&_.length&&(M=_),N(Qg(M)),k(m);return}const{forceRender:I}=Q.useContext(h1);return F.jsx(F.Fragment,{children:V.map(M=>{const U=Tu(M),Z=d&&!p?!1:m===V||w.includes(U),j=()=>{if(T.has(U))T.set(U,!0);else return;let H=!0;T.forEach(Y=>{Y||(H=!1)}),H&&(I==null||I(),N(E.current),d&&(x==null||x()),i&&i())};return F.jsx(fS,{isPresent:Z,initial:!v.current||n?void 0:!1,custom:Z?void 0:t,presenceAffectsLayout:a,mode:l,onExitComplete:Z?void 0:j,children:M},U)})})},Vn=e=>e;let jw=Vn;function x1(e){let t;return()=>(t===void 0&&(t=e()),t)}const ea=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},Jr=e=>e*1e3,ei=e=>e/1e3,hS={useManualTiming:!1};function pS(e){let t=new Set,n=new Set,i=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(m){l.has(m)&&(x.schedule(m),e()),m(d)}const x={schedule:(m,w=!1,v=!1)=>{const T=v&&i?t:n;return w&&l.add(m),T.has(m)||T.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(d=m,i){a=!0;return}i=!0,[t,n]=[n,t],t.forEach(p),t.clear(),i=!1,a&&(a=!1,x.process(m))}};return x}const Iu=["read","resolveKeyframes","update","preRender","render","postRender"],gS=40;function Uw(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,d=Iu.reduce((N,_)=>(N[_]=pS(l),N),{}),{read:p,resolveKeyframes:x,update:m,preRender:w,render:v,postRender:E}=d,T=()=>{const N=performance.now();n=!1,a.delta=i?1e3/60:Math.max(Math.min(N-a.timestamp,gS),1),a.timestamp=N,a.isProcessing=!0,p.process(a),x.process(a),m.process(a),w.process(a),v.process(a),E.process(a),a.isProcessing=!1,n&&t&&(i=!1,e(T))},D=()=>{n=!0,i=!0,a.isProcessing||e(T)};return{schedule:Iu.reduce((N,_)=>{const I=d[_];return N[_]=(M,U=!1,Z=!1)=>(n||D(),I.schedule(M,U,Z)),N},{}),cancel:N=>{for(let _=0;_<Iu.length;_++)d[Iu[_]].cancel(N)},state:a,steps:d}}const{schedule:dt,cancel:qi,state:qt,steps:ud}=Uw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0),zw=Q.createContext({strict:!1}),qg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ta={};for(const e in qg)ta[e]={isEnabled:t=>qg[e].some(n=>!!t[n])};function mS(e){for(const t in e)ta[t]={...ta[t],...e[t]}}const xS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ec(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xS.has(e)}let Ww=e=>!Ec(e);function yS(e){e&&(Ww=t=>t.startsWith("on")?!Ec(t):e(t))}try{yS(require("@emotion/is-prop-valid").default)}catch{}function wS(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(Ww(a)||n===!0&&Ec(a)||!t&&!Ec(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}function vS(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const of=Q.createContext({});function bl(e){return typeof e=="string"||Array.isArray(e)}function af(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const y1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],w1=["initial",...y1];function lf(e){return af(e.animate)||w1.some(t=>bl(e[t]))}function Hw(e){return!!(lf(e)||e.variants)}function CS(e,t){if(lf(e)){const{initial:n,animate:i}=e;return{initial:n===!1||bl(n)?n:void 0,animate:bl(i)?i:void 0}}return e.inherit!==!1?t:{}}function ES(e){const{initial:t,animate:n}=CS(e,Q.useContext(of));return Q.useMemo(()=>({initial:t,animate:n}),[$g(t),$g(n)])}function $g(e){return Array.isArray(e)?e.join(" "):e}const AS=Symbol.for("motionComponentSymbol");function wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function SS(e,t,n){return Q.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):wo(n)&&(n.current=i))},[t])}const v1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bS="framerAppearId",Gw="data-"+v1(bS),{schedule:C1}=Uw(queueMicrotask,!1),Xw=Q.createContext({});function _S(e,t,n,i,a){var l,d;const{visualElement:p}=Q.useContext(of),x=Q.useContext(zw),m=Q.useContext(sf),w=Q.useContext(g1).reducedMotion,v=Q.useRef(null);i=i||x.renderer,!v.current&&i&&(v.current=i(e,{visualState:t,parent:p,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:w}));const E=v.current,T=Q.useContext(Xw);E&&!E.projection&&a&&(E.type==="html"||E.type==="svg")&&TS(v.current,n,a,T);const D=Q.useRef(!1);Q.useInsertionEffect(()=>{E&&D.current&&E.update(n,m)});const k=n[Gw],V=Q.useRef(!!k&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,k))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,k)));return Vw(()=>{E&&(D.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),C1.render(E.render),V.current&&E.animationState&&E.animationState.animateChanges())}),Q.useEffect(()=>{E&&(!V.current&&E.animationState&&E.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,k)}),V.current=!1))}),E}function TS(e,t,n,i){const{layoutId:a,layout:l,drag:d,dragConstraints:p,layoutScroll:x,layoutRoot:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Zw(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!d||p&&wo(p),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:x,layoutRoot:m})}function Zw(e){if(e)return e.options.allowProjection!==!1?e.projection:Zw(e.parent)}function IS({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:a}){var l,d;e&&mS(e);function p(m,w){let v;const E={...Q.useContext(g1),...m,layoutId:NS(m)},{isStatic:T}=E,D=ES(m),k=i(m,T);if(!T&&m1){RS();const V=OS(E);v=V.MeasureLayout,D.visualElement=_S(a,k,E,t,V.ProjectionNode)}return F.jsxs(of.Provider,{value:D,children:[v&&D.visualElement?F.jsx(v,{visualElement:D.visualElement,...E}):null,n(a,m,SS(k,D.visualElement,w),k,T,D.visualElement)]})}p.displayName=`motion.${typeof a=="string"?a:`create(${(d=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&d!==void 0?d:""})`}`;const x=Q.forwardRef(p);return x[AS]=a,x}function NS({layoutId:e}){const t=Q.useContext(h1).id;return t&&e!==void 0?t+"-"+e:e}function RS(e,t){Q.useContext(zw).strict}function OS(e){const{drag:t,layout:n}=ta;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const kS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E1(e){return typeof e!="string"||e.includes("-")?!1:!!(kS.indexOf(e)>-1||/[A-Z]/u.test(e))}function Jg(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function A1(e,t,n,i){if(typeof t=="function"){const[a,l]=Jg(i);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=Jg(i);t=t(n!==void 0?n:e.custom,a,l)}return t}const Uh=e=>Array.isArray(e),DS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),MS=e=>Uh(e)?e[e.length-1]||0:e,ln=e=>!!(e&&e.getVelocity);function Xu(e){const t=ln(e)?e.get():e;return DS(t)?t.toValue():t}function PS({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,a,l){const d={latestValues:LS(i,a,l,e),renderState:t()};return n&&(d.onMount=p=>n({props:i,current:p,...d}),d.onUpdate=p=>n(p)),d}const Yw=e=>(t,n)=>{const i=Q.useContext(of),a=Q.useContext(sf),l=()=>PS(e,t,i,a);return n?l():p1(l)};function LS(e,t,n,i){const a={},l=i(e,{});for(const E in l)a[E]=Xu(l[E]);let{initial:d,animate:p}=e;const x=lf(e),m=Hw(e);t&&m&&!x&&e.inherit!==!1&&(d===void 0&&(d=t.initial),p===void 0&&(p=t.animate));let w=n?n.initial===!1:!1;w=w||d===!1;const v=w?p:d;if(v&&typeof v!="boolean"&&!af(v)){const E=Array.isArray(v)?v:[v];for(let T=0;T<E.length;T++){const D=A1(e,E[T]);if(D){const{transitionEnd:k,transition:V,...N}=D;for(const _ in N){let I=N[_];if(Array.isArray(I)){const M=w?I.length-1:0;I=I[M]}I!==null&&(a[_]=I)}for(const _ in k)a[_]=k[_]}}}return a}const fa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xs=new Set(fa),Kw=e=>t=>typeof t=="string"&&t.startsWith(e),Qw=Kw("--"),BS=Kw("var(--"),S1=e=>BS(e)?FS.test(e.split("/*")[0].trim()):!1,FS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,oi=(e,t,n)=>n>t?t:n<e?e:n,da={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_l={...da,transform:e=>oi(0,1,e)},Nu={...da,default:1},Wl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ci=Wl("deg"),Lr=Wl("%"),Se=Wl("px"),VS=Wl("vh"),jS=Wl("vw"),em={...Lr,parse:e=>Lr.parse(e)/100,transform:e=>Lr.transform(e*100)},US={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},zS={rotate:Ci,rotateX:Ci,rotateY:Ci,rotateZ:Ci,scale:Nu,scaleX:Nu,scaleY:Nu,scaleZ:Nu,skew:Ci,skewX:Ci,skewY:Ci,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:_l,originX:em,originY:em,originZ:Se},tm={...da,transform:Math.round},b1={...US,...zS,zIndex:tm,size:Se,fillOpacity:_l,strokeOpacity:_l,numOctaves:tm},WS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HS=fa.length;function GS(e,t,n){let i="",a=!0;for(let l=0;l<HS;l++){const d=fa[l],p=e[d];if(p===void 0)continue;let x=!0;if(typeof p=="number"?x=p===(d.startsWith("scale")?1:0):x=parseFloat(p)===0,!x||n){const m=qw(p,b1[d]);if(!x){a=!1;const w=WS[d]||d;i+=`${w}(${m}) `}n&&(t[d]=m)}}return i=i.trim(),n?i=n(t,a?"":i):a&&(i="none"),i}function _1(e,t,n){const{style:i,vars:a,transformOrigin:l}=e;let d=!1,p=!1;for(const x in t){const m=t[x];if(Xs.has(x)){d=!0;continue}else if(Qw(x)){a[x]=m;continue}else{const w=qw(m,b1[x]);x.startsWith("origin")?(p=!0,l[x]=w):i[x]=w}}if(t.transform||(d||n?i.transform=GS(t,e.transform,n):i.transform&&(i.transform="none")),p){const{originX:x="50%",originY:m="50%",originZ:w=0}=l;i.transformOrigin=`${x} ${m} ${w}`}}const XS={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZS={offset:"strokeDashoffset",array:"strokeDasharray"};function YS(e,t,n=1,i=0,a=!0){e.pathLength=1;const l=a?XS:ZS;e[l.offset]=Se.transform(-i);const d=Se.transform(t),p=Se.transform(n);e[l.array]=`${d} ${p}`}function nm(e,t,n){return typeof e=="string"?e:Se.transform(t+n*e)}function KS(e,t,n){const i=nm(t,e.x,e.width),a=nm(n,e.y,e.height);return`${i} ${a}`}function T1(e,{attrX:t,attrY:n,attrScale:i,originX:a,originY:l,pathLength:d,pathSpacing:p=1,pathOffset:x=0,...m},w,v){if(_1(e,m,v),w){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:T,dimensions:D}=e;E.transform&&(D&&(T.transform=E.transform),delete E.transform),D&&(a!==void 0||l!==void 0||T.transform)&&(T.transformOrigin=KS(D,a!==void 0?a:.5,l!==void 0?l:.5)),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),i!==void 0&&(E.scale=i),d!==void 0&&YS(E,d,p,x,!1)}const I1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),$w=()=>({...I1(),attrs:{}}),N1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Jw(e,{style:t,vars:n},i,a){Object.assign(e.style,t,a&&a.getProjectionStyles(i));for(const l in n)e.style.setProperty(l,n[l])}const ev=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tv(e,t,n,i){Jw(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(ev.has(a)?a:v1(a),t.attrs[a])}const Ac={};function QS(e){Object.assign(Ac,e)}function nv(e,{layout:t,layoutId:n}){return Xs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ac[e]||e==="opacity")}function R1(e,t,n){var i;const{style:a}=e,l={};for(const d in a)(ln(a[d])||t.style&&ln(t.style[d])||nv(d,e)||((i=n==null?void 0:n.getValue(d))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[d]=a[d]);return l}function rv(e,t,n){const i=R1(e,t,n);for(const a in e)if(ln(e[a])||ln(t[a])){const l=fa.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=e[a]}return i}function qS(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const rm=["x","y","width","height","cx","cy","r"],$S={useVisualState:Yw({scrapeMotionValuesFromProps:rv,createRenderState:$w,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:a})=>{if(!n)return;let l=!!e.drag;if(!l){for(const p in a)if(Xs.has(p)){l=!0;break}}if(!l)return;let d=!t;if(t)for(let p=0;p<rm.length;p++){const x=rm[p];e[x]!==t[x]&&(d=!0)}d&&dt.read(()=>{qS(n,i),dt.render(()=>{T1(i,a,N1(n.tagName),e.transformTemplate),tv(n,i)})})}})},JS={useVisualState:Yw({scrapeMotionValuesFromProps:R1,createRenderState:I1})};function iv(e,t,n){for(const i in t)!ln(t[i])&&!nv(i,n)&&(e[i]=t[i])}function eb({transformTemplate:e},t){return Q.useMemo(()=>{const n=I1();return _1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function tb(e,t){const n=e.style||{},i={};return iv(i,n,e),Object.assign(i,eb(e,t)),i}function nb(e,t){const n={},i=tb(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}function rb(e,t,n,i){const a=Q.useMemo(()=>{const l=$w();return T1(l,t,N1(i),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};iv(l,e.style,e),a.style={...l,...a.style}}return a}function ib(e=!1){return(n,i,a,{latestValues:l},d)=>{const x=(E1(n)?rb:nb)(i,l,d,n),m=wS(i,typeof n=="string",e),w=n!==Q.Fragment?{...m,...x,ref:a}:{},{children:v}=i,E=Q.useMemo(()=>ln(v)?v.get():v,[v]);return Q.createElement(n,{...w,children:E})}}function sb(e,t){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const d={...E1(i)?$S:JS,preloadedFeatures:e,useRender:ib(a),createVisualElement:t,Component:i};return IS(d)}}function sv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function uf(e,t,n){const i=e.getProps();return A1(i,t,n!==void 0?n:i.custom,e)}const ob=x1(()=>window.ScrollTimeline!==void 0);class ab{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(a=>{if(ob()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{i.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class lb extends ab{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function O1(e,t){return e?e[t]||e.default||e:void 0}const zh=2e4;function ov(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<zh;)t+=n,i=e.next(t);return t>=zh?1/0:t}function k1(e){return typeof e=="function"}function im(e,t){e.timeline=t,e.onfinish=null}const D1=e=>Array.isArray(e)&&typeof e[0]=="number",ub={linearEasing:void 0};function cb(e,t){const n=x1(e);return()=>{var i;return(i=ub[t])!==null&&i!==void 0?i:n()}}const Sc=cb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),av=(e,t,n=10)=>{let i="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)i+=e(ea(0,a-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function lv(e){return!!(typeof e=="function"&&Sc()||!e||typeof e=="string"&&(e in Wh||Sc())||D1(e)||Array.isArray(e)&&e.every(lv))}const Wa=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Wh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wa([0,.65,.55,1]),circOut:Wa([.55,0,1,.45]),backIn:Wa([.31,.01,.66,-.59]),backOut:Wa([.33,1.53,.69,.99])};function uv(e,t){if(e)return typeof e=="function"&&Sc()?av(e,t):D1(e)?Wa(e):Array.isArray(e)?e.map(n=>uv(n,t)||Wh.easeOut):Wh[e]}const cr={x:!1,y:!1};function cv(){return cr.x||cr.y}function fb(e,t,n){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const l=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}function fv(e,t){const n=fb(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[n,a,()=>i.abort()]}function sm(e){return t=>{t.pointerType==="touch"||cv()||e(t)}}function db(e,t,n={}){const[i,a,l]=fv(e,n),d=sm(p=>{const{target:x}=p,m=t(p);if(typeof m!="function"||!x)return;const w=sm(v=>{m(v),x.removeEventListener("pointerleave",w)});x.addEventListener("pointerleave",w,a)});return i.forEach(p=>{p.addEventListener("pointerenter",d,a)}),l}const dv=(e,t)=>t?e===t?!0:dv(e,t.parentElement):!1,M1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pb(e){return hb.has(e.tagName)||e.tabIndex!==-1}const Ha=new WeakSet;function om(e){return t=>{t.key==="Enter"&&e(t)}}function cd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gb=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=om(()=>{if(Ha.has(n))return;cd(n,"down");const a=om(()=>{cd(n,"up")}),l=()=>cd(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function am(e){return M1(e)&&!cv()}function mb(e,t,n={}){const[i,a,l]=fv(e,n),d=p=>{const x=p.currentTarget;if(!am(p)||Ha.has(x))return;Ha.add(x);const m=t(p),w=(T,D)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),!(!am(T)||!Ha.has(x))&&(Ha.delete(x),typeof m=="function"&&m(T,{success:D}))},v=T=>{w(T,n.useGlobalTarget||dv(x,T.target))},E=T=>{w(T,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return i.forEach(p=>{!pb(p)&&p.getAttribute("tabindex")===null&&(p.tabIndex=0),(n.useGlobalTarget?window:p).addEventListener("pointerdown",d,a),p.addEventListener("focus",m=>gb(m,a),a)}),l}function xb(e){return e==="x"||e==="y"?cr[e]?null:(cr[e]=!0,()=>{cr[e]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}const hv=new Set(["width","height","top","left","right","bottom",...fa]);let Zu;function yb(){Zu=void 0}const Br={now:()=>(Zu===void 0&&Br.set(qt.isProcessing||hS.useManualTiming?qt.timestamp:performance.now()),Zu),set:e=>{Zu=e,queueMicrotask(yb)}};function P1(e,t){e.indexOf(t)===-1&&e.push(t)}function L1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class B1{constructor(){this.subscriptions=[]}add(t){return P1(this.subscriptions,t),()=>L1(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let l=0;l<a;l++){const d=this.subscriptions[l];d&&d(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pv(e,t){return t?e*(1e3/t):0}const lm=30,wb=e=>!isNaN(parseFloat(e));class vb{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const l=Br.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Br.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wb(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new B1);const i=this.events[t].add(n);return t==="change"?()=>{i(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lm);return pv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(e,t){return new vb(e,t)}function Cb(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Tl(n))}function Eb(e,t){const n=uf(e,t);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const d in l){const p=MS(l[d]);Cb(e,d,p)}}function Ab(e){return!!(ln(e)&&e.add)}function Hh(e,t){const n=e.getValue("willChange");if(Ab(n))return n.add(t)}function gv(e){return e.props[Gw]}const mv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Sb=1e-7,bb=12;function _b(e,t,n,i,a){let l,d,p=0;do d=t+(n-t)/2,l=mv(d,i,a)-e,l>0?n=d:t=d;while(Math.abs(l)>Sb&&++p<bb);return d}function Hl(e,t,n,i){if(e===t&&n===i)return Vn;const a=l=>_b(l,0,1,e,n);return l=>l===0||l===1?l:mv(a(l),t,i)}const xv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yv=e=>t=>1-e(1-t),wv=Hl(.33,1.53,.69,.99),F1=yv(wv),vv=xv(F1),Cv=e=>(e*=2)<1?.5*F1(e):.5*(2-Math.pow(2,-10*(e-1))),V1=e=>1-Math.sin(Math.acos(e)),Ev=yv(V1),Av=xv(V1),Sv=e=>/^0[^.\s]+$/u.test(e);function Tb(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Sv(e):!0}const nl=e=>Math.round(e*1e5)/1e5,j1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ib(e){return e==null}const Nb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,U1=(e,t)=>n=>!!(typeof n=="string"&&Nb.test(n)&&n.startsWith(e)||t&&!Ib(n)&&Object.prototype.hasOwnProperty.call(n,t)),bv=(e,t,n)=>i=>{if(typeof i!="string")return i;const[a,l,d,p]=i.match(j1);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(d),alpha:p!==void 0?parseFloat(p):1}},Rb=e=>oi(0,255,e),fd={...da,transform:e=>Math.round(Rb(e))},Cs={test:U1("rgb","red"),parse:bv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+fd.transform(e)+", "+fd.transform(t)+", "+fd.transform(n)+", "+nl(_l.transform(i))+")"};function Ob(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Gh={test:U1("#"),parse:Ob,transform:Cs.transform},vo={test:U1("hsl","hue"),parse:bv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Lr.transform(nl(t))+", "+Lr.transform(nl(n))+", "+nl(_l.transform(i))+")"},on={test:e=>Cs.test(e)||Gh.test(e)||vo.test(e),parse:e=>Cs.test(e)?Cs.parse(e):vo.test(e)?vo.parse(e):Gh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cs.transform(e):vo.transform(e)},kb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Db(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(j1))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(kb))===null||n===void 0?void 0:n.length)||0)>0}const _v="number",Tv="color",Mb="var",Pb="var(",um="${}",Lb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Il(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const p=t.replace(Lb,x=>(on.test(x)?(i.color.push(l),a.push(Tv),n.push(on.parse(x))):x.startsWith(Pb)?(i.var.push(l),a.push(Mb),n.push(x)):(i.number.push(l),a.push(_v),n.push(parseFloat(x))),++l,um)).split(um);return{values:n,split:p,indexes:i,types:a}}function Iv(e){return Il(e).values}function Nv(e){const{split:t,types:n}=Il(e),i=t.length;return a=>{let l="";for(let d=0;d<i;d++)if(l+=t[d],a[d]!==void 0){const p=n[d];p===_v?l+=nl(a[d]):p===Tv?l+=on.transform(a[d]):l+=a[d]}return l}}const Bb=e=>typeof e=="number"?0:e;function Fb(e){const t=Iv(e);return Nv(e)(t.map(Bb))}const $i={test:Db,parse:Iv,createTransformer:Nv,getAnimatableNone:Fb},Vb=new Set(["brightness","contrast","saturate","opacity"]);function jb(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(j1)||[];if(!i)return e;const a=n.replace(i,"");let l=Vb.has(t)?1:0;return i!==n&&(l*=100),t+"("+l+a+")"}const Ub=/\b([a-z-]*)\(.*?\)/gu,Xh={...$i,getAnimatableNone:e=>{const t=e.match(Ub);return t?t.map(jb).join(" "):e}},zb={...b1,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:Xh,WebkitFilter:Xh},z1=e=>zb[e];function Rv(e,t){let n=z1(e);return n!==Xh&&(n=$i),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Wb=new Set(["auto","none","0"]);function Hb(e,t,n){let i=0,a;for(;i<e.length&&!a;){const l=e[i];typeof l=="string"&&!Wb.has(l)&&Il(l).values.length&&(a=e[i]),i++}if(a&&n)for(const l of t)e[l]=Rv(n,a)}const cm=e=>e===da||e===Se,fm=(e,t)=>parseFloat(e.split(", ")[t]),dm=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return fm(a[1],t);{const l=i.match(/^matrix\((.+)\)$/u);return l?fm(l[1],e):0}},Gb=new Set(["x","y","z"]),Xb=fa.filter(e=>!Gb.has(e));function Zb(e){const t=[];return Xb.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const na={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:dm(4,13),y:dm(5,14)};na.translateX=na.x;na.translateY=na.y;const Ms=new Set;let Zh=!1,Yh=!1;function Ov(){if(Yh){const e=Array.from(Ms).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const a=Zb(i);a.length&&(n.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,d])=>{var p;(p=i.getValue(l))===null||p===void 0||p.set(d)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Yh=!1,Zh=!1,Ms.forEach(e=>e.complete()),Ms.clear()}function kv(){Ms.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Yh=!0)})}function Yb(){kv(),Ov()}class W1{constructor(t,n,i,a,l,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ms.add(this),Zh||(Zh=!0,dt.read(kv),dt.resolveKeyframes(Ov))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:a}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const d=a==null?void 0:a.get(),p=t[t.length-1];if(d!==void 0)t[0]=d;else if(i&&n){const x=i.readValue(n,p);x!=null&&(t[0]=x)}t[0]===void 0&&(t[0]=p),a&&d===void 0&&a.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ms.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ms.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Dv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Kb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qb(e){const t=Kb.exec(e);if(!t)return[,];const[,n,i,a]=t;return[`--${n??i}`,a]}function Mv(e,t,n=1){const[i,a]=Qb(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const d=l.trim();return Dv(d)?parseFloat(d):d}return S1(a)?Mv(a,t,n+1):a}const Pv=e=>t=>t.test(e),qb={test:e=>e==="auto",parse:e=>e},Lv=[da,Se,Lr,Ci,jS,VS,qb],hm=e=>Lv.find(Pv(e));class Bv extends W1{constructor(t,n,i,a,l){super(t,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let x=0;x<t.length;x++){let m=t[x];if(typeof m=="string"&&(m=m.trim(),S1(m))){const w=Mv(m,n.current);w!==void 0&&(t[x]=w),x===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!hv.has(i)||t.length!==2)return;const[a,l]=t,d=hm(a),p=hm(l);if(d!==p)if(cm(d)&&cm(p))for(let x=0;x<t.length;x++){const m=t[x];typeof m=="string"&&(t[x]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let a=0;a<t.length;a++)Tb(t[a])&&i.push(a);i.length&&Hb(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=na[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:i,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(i);l&&l.jump(this.measuredOrigin,!1);const d=a.length-1,p=a[d];a[d]=na[i](n.measureViewportBox(),window.getComputedStyle(n.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([x,m])=>{n.getValue(x).set(m)}),this.resolveNoneKeyframes()}}const pm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($i.test(e)||e==="0")&&!e.startsWith("url("));function $b(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Jb(e,t,n,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],d=pm(a,t),p=pm(l,t);return!d||!p?!1:$b(e)||(n==="spring"||k1(n))&&i}const e_=e=>e!==null;function cf(e,{repeat:t,repeatType:n="loop"},i){const a=e.filter(e_),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const t_=40;class Fv{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:d="loop",...p}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Br.now(),this.options={autoplay:t,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:d,...p},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>t_?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Yb(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Br.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:l,delay:d,onComplete:p,onUpdate:x,isGenerator:m}=this.options;if(!m&&!Jb(t,i,a,l))if(d)this.options.duration=0;else{x&&x(cf(t,this.options,n)),p&&p(),this.resolveFinishedPromise();return}const w=this.initPlayback(t,n);w!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...w},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const yt=(e,t,n)=>e+(t-e)*n;function dd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n_({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,l=0,d=0;if(!t)a=l=d=n;else{const p=n<.5?n*(1+t):n+t-n*t,x=2*n-p;a=dd(x,p,e+1/3),l=dd(x,p,e),d=dd(x,p,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(d*255),alpha:i}}function bc(e,t){return n=>n>0?t:e}const hd=(e,t,n)=>{const i=e*e,a=n*(t*t-i)+i;return a<0?0:Math.sqrt(a)},r_=[Gh,Cs,vo],i_=e=>r_.find(t=>t.test(e));function gm(e){const t=i_(e);if(!t)return!1;let n=t.parse(e);return t===vo&&(n=n_(n)),n}const mm=(e,t)=>{const n=gm(e),i=gm(t);if(!n||!i)return bc(e,t);const a={...n};return l=>(a.red=hd(n.red,i.red,l),a.green=hd(n.green,i.green,l),a.blue=hd(n.blue,i.blue,l),a.alpha=yt(n.alpha,i.alpha,l),Cs.transform(a))},s_=(e,t)=>n=>t(e(n)),Gl=(...e)=>e.reduce(s_),Kh=new Set(["none","hidden"]);function o_(e,t){return Kh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function a_(e,t){return n=>yt(e,t,n)}function H1(e){return typeof e=="number"?a_:typeof e=="string"?S1(e)?bc:on.test(e)?mm:c_:Array.isArray(e)?Vv:typeof e=="object"?on.test(e)?mm:l_:bc}function Vv(e,t){const n=[...e],i=n.length,a=e.map((l,d)=>H1(l)(l,t[d]));return l=>{for(let d=0;d<i;d++)n[d]=a[d](l);return n}}function l_(e,t){const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=H1(e[a])(e[a],t[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function u_(e,t){var n;const i=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const d=t.types[l],p=e.indexes[d][a[d]],x=(n=e.values[p])!==null&&n!==void 0?n:0;i[l]=x,a[d]++}return i}const c_=(e,t)=>{const n=$i.createTransformer(t),i=Il(e),a=Il(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Kh.has(e)&&!a.values.length||Kh.has(t)&&!i.values.length?o_(e,t):Gl(Vv(u_(i,a),a.values),n):bc(e,t)};function jv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?yt(e,t,n):H1(e)(e,t)}const f_=5;function Uv(e,t,n){const i=Math.max(t-f_,0);return pv(n-e(i),t-i)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pd=.001;function d_({duration:e=_t.duration,bounce:t=_t.bounce,velocity:n=_t.velocity,mass:i=_t.mass}){let a,l,d=1-t;d=oi(_t.minDamping,_t.maxDamping,d),e=oi(_t.minDuration,_t.maxDuration,ei(e)),d<1?(a=m=>{const w=m*d,v=w*e,E=w-n,T=Qh(m,d),D=Math.exp(-v);return pd-E/T*D},l=m=>{const v=m*d*e,E=v*n+n,T=Math.pow(d,2)*Math.pow(m,2)*e,D=Math.exp(-v),k=Qh(Math.pow(m,2),d);return(-a(m)+pd>0?-1:1)*((E-T)*D)/k}):(a=m=>{const w=Math.exp(-m*e),v=(m-n)*e+1;return-pd+w*v},l=m=>{const w=Math.exp(-m*e),v=(n-m)*(e*e);return w*v});const p=5/e,x=p_(a,l,p);if(e=Jr(e),isNaN(x))return{stiffness:_t.stiffness,damping:_t.damping,duration:e};{const m=Math.pow(x,2)*i;return{stiffness:m,damping:d*2*Math.sqrt(i*m),duration:e}}}const h_=12;function p_(e,t,n){let i=n;for(let a=1;a<h_;a++)i=i-e(i)/t(i);return i}function Qh(e,t){return e*Math.sqrt(1-t*t)}const g_=["duration","bounce"],m_=["stiffness","damping","mass"];function xm(e,t){return t.some(n=>e[n]!==void 0)}function x_(e){let t={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...e};if(!xm(e,m_)&&xm(e,g_))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*oi(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:_t.mass,stiffness:a,damping:l}}else{const n=d_(e);t={...t,...n,mass:_t.mass},t.isResolvedFromDuration=!0}return t}function zv(e=_t.visualDuration,t=_t.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],p={done:!1,value:l},{stiffness:x,damping:m,mass:w,duration:v,velocity:E,isResolvedFromDuration:T}=x_({...n,velocity:-ei(n.velocity||0)}),D=E||0,k=m/(2*Math.sqrt(x*w)),V=d-l,N=ei(Math.sqrt(x/w)),_=Math.abs(V)<5;i||(i=_?_t.restSpeed.granular:_t.restSpeed.default),a||(a=_?_t.restDelta.granular:_t.restDelta.default);let I;if(k<1){const U=Qh(N,k);I=Z=>{const j=Math.exp(-k*N*Z);return d-j*((D+k*N*V)/U*Math.sin(U*Z)+V*Math.cos(U*Z))}}else if(k===1)I=U=>d-Math.exp(-N*U)*(V+(D+N*V)*U);else{const U=N*Math.sqrt(k*k-1);I=Z=>{const j=Math.exp(-k*N*Z),H=Math.min(U*Z,300);return d-j*((D+k*N*V)*Math.sinh(H)+U*V*Math.cosh(H))/U}}const M={calculatedDuration:T&&v||null,next:U=>{const Z=I(U);if(T)p.done=U>=v;else{let j=0;k<1&&(j=U===0?Jr(D):Uv(I,U,Z));const H=Math.abs(j)<=i,Y=Math.abs(d-Z)<=a;p.done=H&&Y}return p.value=p.done?d:Z,p},toString:()=>{const U=Math.min(ov(M),zh),Z=av(j=>M.next(U*j).value,U,30);return U+"ms "+Z}};return M}function ym({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:d,min:p,max:x,restDelta:m=.5,restSpeed:w}){const v=e[0],E={done:!1,value:v},T=H=>p!==void 0&&H<p||x!==void 0&&H>x,D=H=>p===void 0?x:x===void 0||Math.abs(p-H)<Math.abs(x-H)?p:x;let k=n*t;const V=v+k,N=d===void 0?V:d(V);N!==V&&(k=N-v);const _=H=>-k*Math.exp(-H/i),I=H=>N+_(H),M=H=>{const Y=_(H),J=I(H);E.done=Math.abs(Y)<=m,E.value=E.done?N:J};let U,Z;const j=H=>{T(E.value)&&(U=H,Z=zv({keyframes:[E.value,D(E.value)],velocity:Uv(I,H,E.value),damping:a,stiffness:l,restDelta:m,restSpeed:w}))};return j(0),{calculatedDuration:null,next:H=>{let Y=!1;return!Z&&U===void 0&&(Y=!0,M(H),j(H)),U!==void 0&&H>=U?Z.next(H-U):(!Y&&M(H),E)}}}const y_=Hl(.42,0,1,1),w_=Hl(0,0,.58,1),Wv=Hl(.42,0,.58,1),v_=e=>Array.isArray(e)&&typeof e[0]!="number",C_={linear:Vn,easeIn:y_,easeInOut:Wv,easeOut:w_,circIn:V1,circInOut:Av,circOut:Ev,backIn:F1,backInOut:vv,backOut:wv,anticipate:Cv},wm=e=>{if(D1(e)){jw(e.length===4);const[t,n,i,a]=e;return Hl(t,n,i,a)}else if(typeof e=="string")return C_[e];return e};function E_(e,t,n){const i=[],a=n||jv,l=e.length-1;for(let d=0;d<l;d++){let p=a(e[d],e[d+1]);if(t){const x=Array.isArray(t)?t[d]||Vn:t;p=Gl(x,p)}i.push(p)}return i}function A_(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const l=e.length;if(jw(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const p=E_(t,i,a),x=p.length,m=w=>{if(d&&w<e[0])return t[0];let v=0;if(x>1)for(;v<e.length-2&&!(w<e[v+1]);v++);const E=ea(e[v],e[v+1],w);return p[v](E)};return n?w=>m(oi(e[0],e[l-1],w)):m}function S_(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=ea(0,t,i);e.push(yt(n,1,a))}}function b_(e){const t=[0];return S_(t,e.length-1),t}function __(e,t){return e.map(n=>n*t)}function T_(e,t){return e.map(()=>t||Wv).splice(0,e.length-1)}function _c({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=v_(i)?i.map(wm):wm(i),l={done:!1,value:t[0]},d=__(n&&n.length===t.length?n:b_(t),e),p=A_(d,t,{ease:Array.isArray(a)?a:T_(t,a)});return{calculatedDuration:e,next:x=>(l.value=p(x),l.done=x>=e,l)}}const I_=e=>{const t=({timestamp:n})=>e(n);return{start:()=>dt.update(t,!0),stop:()=>qi(t),now:()=>qt.isProcessing?qt.timestamp:Br.now()}},N_={decay:ym,inertia:ym,tween:_c,keyframes:_c,spring:zv},R_=e=>e/100;class G1 extends Fv{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:x}=this.options;x&&x()};const{name:n,motionValue:i,element:a,keyframes:l}=this.options,d=(a==null?void 0:a.KeyframeResolver)||W1,p=(x,m)=>this.onKeyframesResolved(x,m);this.resolver=new d(l,p,n,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:d=0}=this.options,p=k1(n)?n:N_[n]||_c;let x,m;p!==_c&&typeof t[0]!="number"&&(x=Gl(R_,jv(t[0],t[1])),t=[0,100]);const w=p({...this.options,keyframes:t});l==="mirror"&&(m=p({...this.options,keyframes:[...t].reverse(),velocity:-d})),w.calculatedDuration===null&&(w.calculatedDuration=ov(w));const{calculatedDuration:v}=w,E=v+a,T=E*(i+1)-a;return{generator:w,mirroredGenerator:m,mapPercentToKeyframes:x,calculatedDuration:v,resolvedDuration:E,totalDuration:T}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:H}=this.options;return{done:!0,value:H[H.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:d,mapPercentToKeyframes:p,keyframes:x,calculatedDuration:m,totalDuration:w,resolvedDuration:v}=i;if(this.startTime===null)return l.next(0);const{delay:E,repeat:T,repeatType:D,repeatDelay:k,onUpdate:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-w/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const N=this.currentTime-E*(this.speed>=0?1:-1),_=this.speed>=0?N<0:N>w;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=w);let I=this.currentTime,M=l;if(T){const H=Math.min(this.currentTime,w)/v;let Y=Math.floor(H),J=H%1;!J&&H>=1&&(J=1),J===1&&Y--,Y=Math.min(Y,T+1),!!(Y%2)&&(D==="reverse"?(J=1-J,k&&(J-=k/v)):D==="mirror"&&(M=d)),I=oi(0,1,J)*v}const U=_?{done:!1,value:x[0]}:M.next(I);p&&(U.value=p(U.value));let{done:Z}=U;!_&&m!==null&&(Z=this.speed>=0?this.currentTime>=w:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return j&&a!==void 0&&(U.value=cf(x,this.options,a)),V&&V(U.value),j&&this.finish(),U}get duration(){const{resolved:t}=this;return t?ei(t.calculatedDuration):0}get time(){return ei(this.currentTime)}set time(t){t=Jr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ei(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=I_,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const O_=new Set(["opacity","clipPath","filter","transform"]);function k_(e,t,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:d="loop",ease:p="easeInOut",times:x}={}){const m={[t]:n};x&&(m.offset=x);const w=uv(p,a);return Array.isArray(w)&&(m.easing=w),e.animate(m,{delay:i,duration:a,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:l+1,direction:d==="reverse"?"alternate":"normal"})}const D_=x1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Tc=10,M_=2e4;function P_(e){return k1(e.type)||e.type==="spring"||!lv(e.ease)}function L_(e,t){const n=new G1({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const a=[];let l=0;for(;!i.done&&l<M_;)i=n.sample(l),a.push(i.value),l+=Tc;return{times:void 0,keyframes:a,duration:l-Tc,ease:"linear"}}const Hv={anticipate:Cv,backInOut:vv,circInOut:Av};function B_(e){return e in Hv}class vm extends Fv{constructor(t){super(t);const{name:n,motionValue:i,element:a,keyframes:l}=this.options;this.resolver=new Bv(l,(d,p)=>this.onKeyframesResolved(d,p),n,i,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:a,ease:l,type:d,motionValue:p,name:x,startTime:m}=this.options;if(!p.owner||!p.owner.current)return!1;if(typeof l=="string"&&Sc()&&B_(l)&&(l=Hv[l]),P_(this.options)){const{onComplete:v,onUpdate:E,motionValue:T,element:D,...k}=this.options,V=L_(t,k);t=V.keyframes,t.length===1&&(t[1]=t[0]),i=V.duration,a=V.times,l=V.ease,d="keyframes"}const w=k_(p.owner.current,x,t,{...this.options,duration:i,times:a,ease:l});return w.startTime=m??this.calcStartTime(),this.pendingTimeline?(im(w,this.pendingTimeline),this.pendingTimeline=void 0):w.onfinish=()=>{const{onComplete:v}=this.options;p.set(cf(t,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:w,duration:i,times:a,type:d,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return ei(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return ei(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Jr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Vn;const{animation:i}=n;im(i,t)}return Vn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:a,type:l,ease:d,times:p}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:w,onComplete:v,element:E,...T}=this.options,D=new G1({...T,keyframes:i,duration:a,type:l,ease:d,times:p,isGenerator:!0}),k=Jr(this.time);m.setWithVelocity(D.sample(k-Tc).value,D.sample(k).value,Tc)}const{onStop:x}=this.options;x&&x(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:a,repeatType:l,damping:d,type:p}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:x,transformTemplate:m}=n.owner.getProps();return D_()&&i&&O_.has(i)&&!x&&!m&&!a&&l!=="mirror"&&d!==0&&p!=="inertia"}}const F_={type:"spring",stiffness:500,damping:25,restSpeed:10},V_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),j_={type:"keyframes",duration:.8},U_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z_=(e,{keyframes:t})=>t.length>2?j_:Xs.has(e)?e.startsWith("scale")?V_(t[1]):F_:U_;function W_({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:d,repeatDelay:p,from:x,elapsed:m,...w}){return!!Object.keys(w).length}const X1=(e,t,n,i={},a,l)=>d=>{const p=O1(i,e)||{},x=p.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Jr(x);let w={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-m,onUpdate:E=>{t.set(E),p.onUpdate&&p.onUpdate(E)},onComplete:()=>{d(),p.onComplete&&p.onComplete()},name:e,motionValue:t,element:l?void 0:a};W_(p)||(w={...w,...z_(e,w)}),w.duration&&(w.duration=Jr(w.duration)),w.repeatDelay&&(w.repeatDelay=Jr(w.repeatDelay)),w.from!==void 0&&(w.keyframes[0]=w.from);let v=!1;if((w.type===!1||w.duration===0&&!w.repeatDelay)&&(w.duration=0,w.delay===0&&(v=!0)),v&&!l&&t.get()!==void 0){const E=cf(w.keyframes,p);if(E!==void 0)return dt.update(()=>{w.onUpdate(E),w.onComplete()}),new lb([])}return!l&&vm.supports(w)?new vm(w):new G1(w)};function H_({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function Gv(e,t,{delay:n=0,transitionOverride:i,type:a}={}){var l;let{transition:d=e.getDefaultTransition(),transitionEnd:p,...x}=t;i&&(d=i);const m=[],w=a&&e.animationState&&e.animationState.getState()[a];for(const v in x){const E=e.getValue(v,(l=e.latestValues[v])!==null&&l!==void 0?l:null),T=x[v];if(T===void 0||w&&H_(w,v))continue;const D={delay:n,...O1(d||{},v)};let k=!1;if(window.MotionHandoffAnimation){const N=gv(e);if(N){const _=window.MotionHandoffAnimation(N,v,dt);_!==null&&(D.startTime=_,k=!0)}}Hh(e,v),E.start(X1(v,E,T,e.shouldReduceMotion&&hv.has(v)?{type:!1}:D,e,k));const V=E.animation;V&&m.push(V)}return p&&Promise.all(m).then(()=>{dt.update(()=>{p&&Eb(e,p)})}),m}function qh(e,t,n={}){var i;const a=uf(e,t,n.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const d=a?()=>Promise.all(Gv(e,a,n)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:w=0,staggerChildren:v,staggerDirection:E}=l;return G_(e,t,w+m,v,E,n)}:()=>Promise.resolve(),{when:x}=l;if(x){const[m,w]=x==="beforeChildren"?[d,p]:[p,d];return m().then(()=>w())}else return Promise.all([d(),p(n.delay)])}function G_(e,t,n=0,i=0,a=1,l){const d=[],p=(e.variantChildren.size-1)*i,x=a===1?(m=0)=>m*i:(m=0)=>p-m*i;return Array.from(e.variantChildren).sort(X_).forEach((m,w)=>{m.notify("AnimationStart",t),d.push(qh(m,t,{...l,delay:n+x(w)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(d)}function X_(e,t){return e.sortNodePosition(t)}function Z_(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>qh(e,l,n));i=Promise.all(a)}else if(typeof t=="string")i=qh(e,t,n);else{const a=typeof t=="function"?uf(e,t,n.custom):t;i=Promise.all(Gv(e,a,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const Y_=w1.length;function Xv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Xv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Y_;n++){const i=w1[n],a=e.props[i];(bl(a)||a===!1)&&(t[i]=a)}return t}const K_=[...y1].reverse(),Q_=y1.length;function q_(e){return t=>Promise.all(t.map(({animation:n,options:i})=>Z_(e,n,i)))}function $_(e){let t=q_(e),n=Cm(),i=!0;const a=x=>(m,w)=>{var v;const E=uf(e,w,x==="exit"?(v=e.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(E){const{transition:T,transitionEnd:D,...k}=E;m={...m,...k,...D}}return m};function l(x){t=x(e)}function d(x){const{props:m}=e,w=Xv(e.parent)||{},v=[],E=new Set;let T={},D=1/0;for(let V=0;V<Q_;V++){const N=K_[V],_=n[N],I=m[N]!==void 0?m[N]:w[N],M=bl(I),U=N===x?_.isActive:null;U===!1&&(D=V);let Z=I===w[N]&&I!==m[N]&&M;if(Z&&i&&e.manuallyAnimateOnMount&&(Z=!1),_.protectedKeys={...T},!_.isActive&&U===null||!I&&!_.prevProp||af(I)||typeof I=="boolean")continue;const j=J_(_.prevProp,I);let H=j||N===x&&_.isActive&&!Z&&M||V>D&&M,Y=!1;const J=Array.isArray(I)?I:[I];let ae=J.reduce(a(N),{});U===!1&&(ae={});const{prevResolvedValues:ne={}}=_,Te={...ne,...ae},Me=pe=>{H=!0,E.has(pe)&&(Y=!0,E.delete(pe)),_.needsAnimating[pe]=!0;const se=e.getValue(pe);se&&(se.liveStyle=!1)};for(const pe in Te){const se=ae[pe],me=ne[pe];if(T.hasOwnProperty(pe))continue;let ve=!1;Uh(se)&&Uh(me)?ve=!sv(se,me):ve=se!==me,ve?se!=null?Me(pe):E.add(pe):se!==void 0&&E.has(pe)?Me(pe):_.protectedKeys[pe]=!0}_.prevProp=I,_.prevResolvedValues=ae,_.isActive&&(T={...T,...ae}),i&&e.blockInitialAnimation&&(H=!1),H&&(!(Z&&j)||Y)&&v.push(...J.map(pe=>({animation:pe,options:{type:N}})))}if(E.size){const V={};E.forEach(N=>{const _=e.getBaseTarget(N),I=e.getValue(N);I&&(I.liveStyle=!0),V[N]=_??null}),v.push({animation:V})}let k=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(k=!1),i=!1,k?t(v):Promise.resolve()}function p(x,m){var w;if(n[x].isActive===m)return Promise.resolve();(w=e.variantChildren)===null||w===void 0||w.forEach(E=>{var T;return(T=E.animationState)===null||T===void 0?void 0:T.setActive(x,m)}),n[x].isActive=m;const v=d(x);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:d,setActive:p,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Cm(),i=!0}}}function J_(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sv(t,e):!1}function ds(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cm(){return{animate:ds(!0),whileInView:ds(),whileHover:ds(),whileTap:ds(),whileDrag:ds(),whileFocus:ds(),exit:ds()}}class is{constructor(t){this.isMounted=!1,this.node=t}update(){}}class eT extends is{constructor(t){super(t),t.animationState||(t.animationState=$_(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();af(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let tT=0;class nT extends is{constructor(){super(...arguments),this.id=tT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const rT={animation:{Feature:eT},exit:{Feature:nT}};function Nl(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Xl(e){return{point:{x:e.pageX,y:e.pageY}}}const iT=e=>t=>M1(t)&&e(t,Xl(t));function rl(e,t,n,i){return Nl(e,t,iT(n),i)}const Em=(e,t)=>Math.abs(e-t);function sT(e,t){const n=Em(e.x,t.x),i=Em(e.y,t.y);return Math.sqrt(n**2+i**2)}class Zv{constructor(t,n,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=md(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,T=sT(v.offset,{x:0,y:0})>=3;if(!E&&!T)return;const{point:D}=v,{timestamp:k}=qt;this.history.push({...D,timestamp:k});const{onStart:V,onMove:N}=this.handlers;E||(V&&V(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,E)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=gd(E,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(v,E)=>{this.end();const{onEnd:T,onSessionEnd:D,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=md(v.type==="pointercancel"?this.lastMoveEventInfo:gd(E,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,V),D&&D(v,V)},!M1(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=a||window;const d=Xl(t),p=gd(d,this.transformPagePoint),{point:x}=p,{timestamp:m}=qt;this.history=[{...x,timestamp:m}];const{onSessionStart:w}=n;w&&w(t,md(p,this.history)),this.removeListeners=Gl(rl(this.contextWindow,"pointermove",this.handlePointerMove),rl(this.contextWindow,"pointerup",this.handlePointerUp),rl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qi(this.updatePoint)}}function gd(e,t){return t?{point:t(e.point)}:e}function Am(e,t){return{x:e.x-t.x,y:e.y-t.y}}function md({point:e},t){return{point:e,delta:Am(e,Yv(t)),offset:Am(e,oT(t)),velocity:aT(t,.1)}}function oT(e){return e[0]}function Yv(e){return e[e.length-1]}function aT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=Yv(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>Jr(t)));)n--;if(!i)return{x:0,y:0};const l=ei(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const d={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const Kv=1e-4,lT=1-Kv,uT=1+Kv,Qv=.01,cT=0-Qv,fT=0+Qv;function Un(e){return e.max-e.min}function dT(e,t,n){return Math.abs(e-t)<=n}function Sm(e,t,n,i=.5){e.origin=i,e.originPoint=yt(t.min,t.max,e.origin),e.scale=Un(n)/Un(t),e.translate=yt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=lT&&e.scale<=uT||isNaN(e.scale))&&(e.scale=1),(e.translate>=cT&&e.translate<=fT||isNaN(e.translate))&&(e.translate=0)}function il(e,t,n,i){Sm(e.x,t.x,n.x,i?i.originX:void 0),Sm(e.y,t.y,n.y,i?i.originY:void 0)}function bm(e,t,n){e.min=n.min+t.min,e.max=e.min+Un(t)}function hT(e,t,n){bm(e.x,t.x,n.x),bm(e.y,t.y,n.y)}function _m(e,t,n){e.min=t.min-n.min,e.max=e.min+Un(t)}function sl(e,t,n){_m(e.x,t.x,n.x),_m(e.y,t.y,n.y)}function pT(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?yt(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?yt(n,e,i.max):Math.min(e,n)),e}function Tm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function gT(e,{top:t,left:n,bottom:i,right:a}){return{x:Tm(e.x,n,a),y:Tm(e.y,t,i)}}function Im(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function mT(e,t){return{x:Im(e.x,t.x),y:Im(e.y,t.y)}}function xT(e,t){let n=.5;const i=Un(e),a=Un(t);return a>i?n=ea(t.min,t.max-i,e.min):i>a&&(n=ea(e.min,e.max-a,t.min)),oi(0,1,n)}function yT(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const $h=.35;function wT(e=$h){return e===!1?e=0:e===!0&&(e=$h),{x:Nm(e,"left","right"),y:Nm(e,"top","bottom")}}function Nm(e,t,n){return{min:Rm(e,t),max:Rm(e,n)}}function Rm(e,t){return typeof e=="number"?e:e[t]||0}const Om=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:Om(),y:Om()}),km=()=>({min:0,max:0}),Nt=()=>({x:km(),y:km()});function Qn(e){return[e("x"),e("y")]}function qv({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function vT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function CT(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function xd(e){return e===void 0||e===1}function Jh({scale:e,scaleX:t,scaleY:n}){return!xd(e)||!xd(t)||!xd(n)}function gs(e){return Jh(e)||$v(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $v(e){return Dm(e.x)||Dm(e.y)}function Dm(e){return e&&e!=="0%"}function Ic(e,t,n){const i=e-n,a=t*i;return n+a}function Mm(e,t,n,i,a){return a!==void 0&&(e=Ic(e,a,i)),Ic(e,n,i)+t}function e0(e,t=0,n=1,i,a){e.min=Mm(e.min,t,n,i,a),e.max=Mm(e.max,t,n,i,a)}function Jv(e,{x:t,y:n}){e0(e.x,t.translate,t.scale,t.originPoint),e0(e.y,n.translate,n.scale,n.originPoint)}const Pm=.999999999999,Lm=1.0000000000001;function ET(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,d;for(let p=0;p<a;p++){l=n[p],d=l.projectionDelta;const{visualElement:x}=l.options;x&&x.props.style&&x.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ao(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,Jv(e,d)),i&&gs(l.latestValues)&&Ao(e,l.latestValues))}t.x<Lm&&t.x>Pm&&(t.x=1),t.y<Lm&&t.y>Pm&&(t.y=1)}function Eo(e,t){e.min=e.min+t,e.max=e.max+t}function Bm(e,t,n,i,a=.5){const l=yt(e.min,e.max,a);e0(e,t,n,l,i)}function Ao(e,t){Bm(e.x,t.x,t.scaleX,t.scale,t.originX),Bm(e.y,t.y,t.scaleY,t.scale,t.originY)}function e3(e,t){return qv(CT(e.getBoundingClientRect(),t))}function AT(e,t,n){const i=e3(e,n),{scroll:a}=t;return a&&(Eo(i.x,a.offset.x),Eo(i.y,a.offset.y)),i}const t3=({current:e})=>e?e.ownerDocument.defaultView:null,ST=new WeakMap;class bT{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xl(w).point)},l=(w,v)=>{const{drag:E,dragPropagation:T,onDragStart:D}=this.getProps();if(E&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xb(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(V=>{let N=this.getAxisMotionValue(V).get()||0;if(Lr.test(N)){const{projection:_}=this.visualElement;if(_&&_.layout){const I=_.layout.layoutBox[V];I&&(N=Un(I)*(parseFloat(N)/100))}}this.originPoint[V]=N}),D&&dt.postRender(()=>D(w,v)),Hh(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(w,v)=>{const{dragPropagation:E,dragDirectionLock:T,onDirectionLock:D,onDrag:k}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:V}=v;if(T&&this.currentDirection===null){this.currentDirection=_T(V),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",v.point,V),this.updateAxis("y",v.point,V),this.visualElement.render(),k&&k(w,v)},p=(w,v)=>this.stop(w,v),x=()=>Qn(w=>{var v;return this.getAnimationState(w)==="paused"&&((v=this.getAxisMotionValue(w).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Zv(t,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:p,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:t3(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&dt.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!Ru(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let d=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(d=pT(d,this.constraints[t],this.elastic[t])),l.set(d)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;n&&wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=gT(a.layoutBox,n):this.constraints=!1,this.elastic=wT(i),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Qn(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=yT(a.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!wo(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=AT(i,a.root,this.visualElement.getTransformPagePoint());let d=mT(a.layout.layoutBox,l);if(n){const p=n(vT(d));this.hasMutatedConstraints=!!p,p&&(d=qv(p))}return d}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:d,onDragTransitionEnd:p}=this.getProps(),x=this.constraints||{},m=Qn(w=>{if(!Ru(w,n,this.currentDirection))return;let v=x&&x[w]||{};d&&(v={min:0,max:0});const E=a?200:1e6,T=a?40:1e7,D={type:"inertia",velocity:i?t[w]:0,bounceStiffness:E,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(w,D)});return Promise.all(m).then(p)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Hh(this.visualElement,t),i.start(X1(t,i,0,n,this.visualElement,!1))}stopAnimation(){Qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Qn(n=>{const{drag:i}=this.getProps();if(!Ru(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:d,max:p}=a.layout.layoutBox[n];l.set(t[n]-yt(d,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!wo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qn(d=>{const p=this.getAxisMotionValue(d);if(p&&this.constraints!==!1){const x=p.get();a[d]=xT({min:x,max:x},this.constraints[d])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Qn(d=>{if(!Ru(d,t,null))return;const p=this.getAxisMotionValue(d),{min:x,max:m}=this.constraints[d];p.set(yt(x,m,a[d]))})}addListeners(){if(!this.visualElement.current)return;ST.set(this.visualElement,this);const t=this.visualElement.current,n=rl(t,"pointerdown",x=>{const{drag:m,dragListener:w=!0}=this.getProps();m&&w&&this.start(x)}),i=()=>{const{dragConstraints:x}=this.getProps();wo(x)&&x.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(i);const d=Nl(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",({delta:x,hasLayoutChanged:m})=>{this.isDragging&&m&&(Qn(w=>{const v=this.getAxisMotionValue(w);v&&(this.originPoint[w]+=x[w].translate,v.set(v.get()+x[w].translate))}),this.visualElement.render())});return()=>{d(),n(),l(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:d=$h,dragMomentum:p=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:d,dragMomentum:p}}}function Ru(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _T(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class TT extends is{constructor(t){super(t),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new bT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fm=e=>(t,n)=>{e&&dt.postRender(()=>e(t,n))};class IT extends is{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(t){this.session=new Zv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:t3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Fm(t),onStart:Fm(n),onMove:i,onEnd:(l,d)=>{delete this.session,a&&dt.postRender(()=>a(l,d))}}}mount(){this.removePointerDownListener=rl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Pa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Se.test(e))e=parseFloat(e);else return e;const n=Vm(e,t.target.x),i=Vm(e,t.target.y);return`${n}% ${i}%`}},NT={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=$i.parse(e);if(a.length>5)return i;const l=$i.createTransformer(e),d=typeof a[0]!="number"?1:0,p=n.x.scale*t.x,x=n.y.scale*t.y;a[0+d]/=p,a[1+d]/=x;const m=yt(p,x,.5);return typeof a[2+d]=="number"&&(a[2+d]/=m),typeof a[3+d]=="number"&&(a[3+d]/=m),l(a)}};class RT extends Q.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;QS(OT),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Yu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,d=i.projection;return d&&(d.isPresent=l,a||t.layoutDependency!==n||n===void 0?d.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?d.promote():d.relegate()||dt.postRender(()=>{const p=d.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),C1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function n3(e){const[t,n]=Fw(),i=Q.useContext(h1);return F.jsx(RT,{...e,layoutGroup:i,switchLayoutGroup:Q.useContext(Xw),isPresent:t,safeToRemove:n})}const OT={borderRadius:{...Pa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pa,borderTopRightRadius:Pa,borderBottomLeftRadius:Pa,borderBottomRightRadius:Pa,boxShadow:NT};function kT(e,t,n){const i=ln(e)?e:Tl(e);return i.start(X1("",i,t,n)),i.animation}function DT(e){return e instanceof SVGElement&&e.tagName!=="svg"}const MT=(e,t)=>e.depth-t.depth;class PT{constructor(){this.children=[],this.isDirty=!1}add(t){P1(this.children,t),this.isDirty=!0}remove(t){L1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(MT),this.isDirty=!1,this.children.forEach(t)}}function LT(e,t){const n=Br.now(),i=({timestamp:a})=>{const l=a-n;l>=t&&(qi(i),e(l-t))};return dt.read(i,!0),()=>qi(i)}const r3=["TopLeft","TopRight","BottomLeft","BottomRight"],BT=r3.length,jm=e=>typeof e=="string"?parseFloat(e):e,Um=e=>typeof e=="number"||Se.test(e);function FT(e,t,n,i,a,l){a?(e.opacity=yt(0,n.opacity!==void 0?n.opacity:1,VT(i)),e.opacityExit=yt(t.opacity!==void 0?t.opacity:1,0,jT(i))):l&&(e.opacity=yt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let d=0;d<BT;d++){const p=`border${r3[d]}Radius`;let x=zm(t,p),m=zm(n,p);if(x===void 0&&m===void 0)continue;x||(x=0),m||(m=0),x===0||m===0||Um(x)===Um(m)?(e[p]=Math.max(yt(jm(x),jm(m),i),0),(Lr.test(m)||Lr.test(x))&&(e[p]+="%")):e[p]=m}(t.rotate||n.rotate)&&(e.rotate=yt(t.rotate||0,n.rotate||0,i))}function zm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const VT=i3(0,.5,Ev),jT=i3(.5,.95,Vn);function i3(e,t,n){return i=>i<e?0:i>t?1:n(ea(e,t,i))}function Wm(e,t){e.min=t.min,e.max=t.max}function Kn(e,t){Wm(e.x,t.x),Wm(e.y,t.y)}function Hm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Gm(e,t,n,i,a){return e-=t,e=Ic(e,1/n,i),a!==void 0&&(e=Ic(e,1/a,i)),e}function UT(e,t=0,n=1,i=.5,a,l=e,d=e){if(Lr.test(t)&&(t=parseFloat(t),t=yt(d.min,d.max,t/100)-d.min),typeof t!="number")return;let p=yt(l.min,l.max,i);e===l&&(p-=t),e.min=Gm(e.min,t,n,p,a),e.max=Gm(e.max,t,n,p,a)}function Xm(e,t,[n,i,a],l,d){UT(e,t[n],t[i],t[a],t.scale,l,d)}const zT=["x","scaleX","originX"],WT=["y","scaleY","originY"];function Zm(e,t,n,i){Xm(e.x,t,zT,n?n.x:void 0,i?i.x:void 0),Xm(e.y,t,WT,n?n.y:void 0,i?i.y:void 0)}function Ym(e){return e.translate===0&&e.scale===1}function s3(e){return Ym(e.x)&&Ym(e.y)}function Km(e,t){return e.min===t.min&&e.max===t.max}function HT(e,t){return Km(e.x,t.x)&&Km(e.y,t.y)}function Qm(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function o3(e,t){return Qm(e.x,t.x)&&Qm(e.y,t.y)}function qm(e){return Un(e.x)/Un(e.y)}function $m(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class GT{constructor(){this.members=[]}add(t){P1(this.members,t),t.scheduleRender()}remove(t){if(L1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XT(e,t,n){let i="";const a=e.x.translate/t.x,l=e.y.translate/t.y,d=(n==null?void 0:n.z)||0;if((a||l||d)&&(i=`translate3d(${a}px, ${l}px, ${d}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:w,rotateX:v,rotateY:E,skewX:T,skewY:D}=n;m&&(i=`perspective(${m}px) ${i}`),w&&(i+=`rotate(${w}deg) `),v&&(i+=`rotateX(${v}deg) `),E&&(i+=`rotateY(${E}deg) `),T&&(i+=`skewX(${T}deg) `),D&&(i+=`skewY(${D}deg) `)}const p=e.x.scale*t.x,x=e.y.scale*t.y;return(p!==1||x!==1)&&(i+=`scale(${p}, ${x})`),i||"none"}const ms={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ga=typeof window<"u"&&window.MotionDebug!==void 0,yd=["","X","Y","Z"],ZT={visibility:"hidden"},Jm=1e3;let YT=0;function wd(e,t,n,i){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function a3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=gv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&a3(i)}function l3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(d={},p=t==null?void 0:t()){this.id=YT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ga&&(ms.totalNodes=ms.resolvedTargetDeltas=ms.recalculatedProjection=0),this.nodes.forEach(qT),this.nodes.forEach(n6),this.nodes.forEach(r6),this.nodes.forEach($T),Ga&&window.MotionDebug.record(ms)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new PT)}addEventListener(d,p){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new B1),this.eventHandlers.get(d).add(p)}notifyListeners(d,...p){const x=this.eventHandlers.get(d);x&&x.notify(...p)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,p=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DT(d),this.instance=d;const{layoutId:x,layout:m,visualElement:w}=this.options;if(w&&!w.current&&w.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),p&&(m||x)&&(this.isLayoutDirty=!0),e){let v;const E=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=LT(E,250),Yu.hasAnimatedSinceResize&&(Yu.hasAnimatedSinceResize=!1,this.nodes.forEach(tx))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&w&&(x||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeTargetChanged:T,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||w.getDefaultTransition()||l6,{onLayoutAnimationStart:V,onLayoutAnimationComplete:N}=w.getProps(),_=!this.targetLayout||!o3(this.targetLayout,D)||T,I=!E&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||E&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,I);const M={...O1(k,"layout"),onPlay:V,onComplete:N};(w.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else E||tx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(i6),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&a3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let w=0;w<this.path.length;w++){const v=this.path[w];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:p,layout:x}=this.options;if(p===void 0&&!x)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ex);return}this.isUpdating||this.nodes.forEach(e6),this.isUpdating=!1,this.nodes.forEach(t6),this.nodes.forEach(KT),this.nodes.forEach(QT),this.clearAllSnapshots();const p=Br.now();qt.delta=oi(0,1e3/60,p-qt.timestamp),qt.timestamp=p,qt.isProcessing=!0,ud.update.process(qt),ud.preRender.process(qt),ud.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,C1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JT),this.sharedNodes.forEach(s6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(p=!1),p){const x=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:x,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!a)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!s3(this.projectionDelta),x=this.getTransformTemplate(),m=x?x(this.latestValues,""):void 0,w=m!==this.prevTransformTemplateValue;d&&(p||gs(this.latestValues)||w)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const p=this.measurePageBox();let x=this.removeElementScroll(p);return d&&(x=this.removeTransform(x)),u6(x),{animationId:this.root.animationId,measuredBox:p,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:p}=this.options;if(!p)return Nt();const x=p.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(c6))){const{scroll:w}=this.root;w&&(Eo(x.x,w.offset.x),Eo(x.y,w.offset.y))}return x}removeElementScroll(d){var p;const x=Nt();if(Kn(x,d),!((p=this.scroll)===null||p===void 0)&&p.wasRoot)return x;for(let m=0;m<this.path.length;m++){const w=this.path[m],{scroll:v,options:E}=w;w!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Kn(x,d),Eo(x.x,v.offset.x),Eo(x.y,v.offset.y))}return x}applyTransform(d,p=!1){const x=Nt();Kn(x,d);for(let m=0;m<this.path.length;m++){const w=this.path[m];!p&&w.options.layoutScroll&&w.scroll&&w!==w.root&&Ao(x,{x:-w.scroll.offset.x,y:-w.scroll.offset.y}),gs(w.latestValues)&&Ao(x,w.latestValues)}return gs(this.latestValues)&&Ao(x,this.latestValues),x}removeTransform(d){const p=Nt();Kn(p,d);for(let x=0;x<this.path.length;x++){const m=this.path[x];if(!m.instance||!gs(m.latestValues))continue;Jh(m.latestValues)&&m.updateSnapshot();const w=Nt(),v=m.measurePageBox();Kn(w,v),Zm(p,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,w)}return gs(this.latestValues)&&Zm(p,this.latestValues),p}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var p;const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==x;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),sl(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),Jv(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),sl(this.relativeTargetOrigin,this.target,T.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ga&&ms.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jh(this.parent.latestValues)||$v(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const p=this.getLead(),x=!!this.resumingFrom||this!==p;let m=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(m=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(m=!1),m)return;const{layout:w,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||v))return;Kn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,T=this.treeScale.y;ET(this.layoutCorrected,this.treeScale,this.path,x),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=Nt());const{target:D}=p;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hm(this.prevProjectionDelta.x,this.projectionDelta.x),Hm(this.prevProjectionDelta.y,this.projectionDelta.y)),il(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==T||!$m(this.projectionDelta.x,this.prevProjectionDelta.x)||!$m(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D)),Ga&&ms.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var p;if((p=this.options.visualElement)===null||p===void 0||p.scheduleRender(),d){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(d,p=!1){const x=this.snapshot,m=x?x.latestValues:{},w={...this.latestValues},v=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const E=Nt(),T=x?x.source:void 0,D=this.layout?this.layout.source:void 0,k=T!==D,V=this.getStack(),N=!V||V.members.length<=1,_=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(a6));this.animationProgress=0;let I;this.mixTargetDelta=M=>{const U=M/1e3;nx(v.x,d.x,U),nx(v.y,d.y,U),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o6(this.relativeTarget,this.relativeTargetOrigin,E,U),I&&HT(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Nt()),Kn(I,this.relativeTarget)),k&&(this.animationValues=w,FT(w,m,this.latestValues,U,_,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Yu.hasAnimatedSinceResize=!0,this.currentAnimation=kT(0,Jm,{...d,onUpdate:p=>{this.mixTargetDelta(p),d.onUpdate&&d.onUpdate(p)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:p,target:x,layout:m,latestValues:w}=d;if(!(!p||!x||!m)){if(this!==d&&this.layout&&m&&u3(this.options.animationType,this.layout.layoutBox,m.layoutBox)){x=this.target||Nt();const v=Un(this.layout.layoutBox.x);x.x.min=d.target.x.min,x.x.max=x.x.min+v;const E=Un(this.layout.layoutBox.y);x.y.min=d.target.y.min,x.y.max=x.y.min+E}Kn(p,x),Ao(p,w),il(this.projectionDeltaWithTransform,this.layoutCorrected,p,w)}}registerSharedNode(d,p){this.sharedNodes.has(d)||this.sharedNodes.set(d,new GT),this.sharedNodes.get(d).add(p);const m=p.options.initialPromotionConfig;p.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(p):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:p}=this.options;return p?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:p}=this.options;return p?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:p,preserveFollowOpacity:x}={}){const m=this.getStack();m&&m.promote(this,x),d&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let p=!1;const{latestValues:x}=d;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(p=!0),!p)return;const m={};x.z&&wd("z",d,m,this.animationValues);for(let w=0;w<yd.length;w++)wd(`rotate${yd[w]}`,d,m,this.animationValues),wd(`skew${yd[w]}`,d,m,this.animationValues);d.render();for(const w in m)d.setStaticValue(w,m[w]),this.animationValues&&(this.animationValues[w]=m[w]);d.scheduleRender()}getProjectionStyles(d){var p,x;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZT;const m={visibility:""},w=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Xu(d==null?void 0:d.pointerEvents)||"",m.transform=w?w(this.latestValues,""):"none",m;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Xu(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!gs(this.latestValues)&&(k.transform=w?w({},""):"none",this.hasProjected=!1),k}const E=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=XT(this.projectionDeltaWithTransform,this.treeScale,E),w&&(m.transform=w(E,m.transform));const{x:T,y:D}=this.projectionDelta;m.transformOrigin=`${T.origin*100}% ${D.origin*100}% 0`,v.animationValues?m.opacity=v===this?(x=(p=E.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&x!==void 0?x:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:m.opacity=v===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const k in Ac){if(E[k]===void 0)continue;const{correct:V,applyTo:N}=Ac[k],_=m.transform==="none"?E[k]:V(E[k],v);if(N){const I=N.length;for(let M=0;M<I;M++)m[N[M]]=_}else m[k]=_}return this.options.layoutId&&(m.pointerEvents=v===this?Xu(d==null?void 0:d.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var p;return(p=d.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(ex),this.root.sharedNodes.clear()}}}function KT(e){e.updateLayout()}function QT(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=e.layout,{animationType:l}=e.options,d=n.source!==e.layout.source;l==="size"?Qn(v=>{const E=d?n.measuredBox[v]:n.layoutBox[v],T=Un(E);E.min=i[v].min,E.max=E.min+T}):u3(l,n.layoutBox,i)&&Qn(v=>{const E=d?n.measuredBox[v]:n.layoutBox[v],T=Un(i[v]);E.max=E.min+T,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+T)});const p=Co();il(p,i,n.layoutBox);const x=Co();d?il(x,e.applyTransform(a,!0),n.measuredBox):il(x,i,n.layoutBox);const m=!s3(p);let w=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:T}=v;if(E&&T){const D=Nt();sl(D,n.layoutBox,E.layoutBox);const k=Nt();sl(k,i,T.layoutBox),o3(D,k)||(w=!0),v.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=D,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:x,layoutDelta:p,hasLayoutChanged:m,hasRelativeTargetChanged:w})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function qT(e){Ga&&ms.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $T(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JT(e){e.clearSnapshot()}function ex(e){e.clearMeasurements()}function e6(e){e.isLayoutDirty=!1}function t6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function n6(e){e.resolveTargetDelta()}function r6(e){e.calcProjection()}function i6(e){e.resetSkewAndRotation()}function s6(e){e.removeLeadSnapshot()}function nx(e,t,n){e.translate=yt(t.translate,0,n),e.scale=yt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rx(e,t,n,i){e.min=yt(t.min,n.min,i),e.max=yt(t.max,n.max,i)}function o6(e,t,n,i){rx(e.x,t.x,n.x,i),rx(e.y,t.y,n.y,i)}function a6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const l6={duration:.45,ease:[.4,0,.1,1]},ix=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),sx=ix("applewebkit/")&&!ix("chrome/")?Math.round:Vn;function ox(e){e.min=sx(e.min),e.max=sx(e.max)}function u6(e){ox(e.x),ox(e.y)}function u3(e,t,n){return e==="position"||e==="preserve-aspect"&&!dT(qm(t),qm(n),.2)}function c6(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const f6=l3({attachResizeListener:(e,t)=>Nl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vd={current:void 0},c3=l3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vd.current){const e=new f6({});e.mount(window),e.setOptions({layoutScroll:!0}),vd.current=e}return vd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),d6={pan:{Feature:IT},drag:{Feature:TT,ProjectionNode:c3,MeasureLayout:n3}};function ax(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&dt.postRender(()=>l(t,Xl(t)))}class h6 extends is{mount(){const{current:t}=this.node;t&&(this.unmount=db(t,n=>(ax(this.node,n,"Start"),i=>ax(this.node,i,"End"))))}unmount(){}}class p6 extends is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gl(Nl(this.node.current,"focus",()=>this.onFocus()),Nl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lx(e,t,n){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&dt.postRender(()=>l(t,Xl(t)))}class g6 extends is{mount(){const{current:t}=this.node;t&&(this.unmount=mb(t,n=>(lx(this.node,n,"Start"),(i,{success:a})=>lx(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const t0=new WeakMap,Cd=new WeakMap,m6=e=>{const t=t0.get(e.target);t&&t(e)},x6=e=>{e.forEach(m6)};function y6({root:e,...t}){const n=e||document;Cd.has(n)||Cd.set(n,{});const i=Cd.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(x6,{root:e,...t})),i[a]}function w6(e,t,n){const i=y6(t);return t0.set(e,n),i.observe(e),()=>{t0.delete(e),i.unobserve(e)}}const v6={some:0,all:1};class C6 extends is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=t,d={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:v6[a]},p=x=>{const{isIntersecting:m}=x;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:w,onViewportLeave:v}=this.node.getProps(),E=m?w:v;E&&E(x)};return w6(this.node.current,d,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(E6(t,n))&&this.startObserver()}unmount(){}}function E6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const A6={inView:{Feature:C6},tap:{Feature:g6},focus:{Feature:p6},hover:{Feature:h6}},S6={layout:{ProjectionNode:c3,MeasureLayout:n3}},n0={current:null},f3={current:!1};function b6(){if(f3.current=!0,!!m1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>n0.current=e.matches;e.addListener(t),t()}else n0.current=!1}const _6=[...Lv,on,$i],T6=e=>_6.find(Pv(e)),ux=new WeakMap;function I6(e,t,n){for(const i in t){const a=t[i],l=n[i];if(ln(a))e.addValue(i,a);else if(ln(l))e.addValue(i,Tl(a,{owner:e}));else if(l!==a)if(e.hasValue(i)){const d=e.getValue(i);d.liveStyle===!0?d.jump(a):d.hasAnimated||d.set(a)}else{const d=e.getStaticValue(i);e.addValue(i,Tl(d!==void 0?d:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const cx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class N6{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:d},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=W1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Br.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,dt.render(this.render,!1,!0))};const{latestValues:x,renderState:m,onUpdate:w}=d;this.onUpdate=w,this.latestValues=x,this.baseTarget={...x},this.initialValues=n.initial?{...x}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=p,this.blockInitialAnimation=!!l,this.isControllingVariants=lf(n),this.isVariantNode=Hw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in E){const D=E[T];x[T]!==void 0&&ln(D)&&D.set(x[T],!1)}}mount(t){this.current=t,ux.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),f3.current||b6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:n0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ux.delete(this.current),this.projection&&this.projection.unmount(),qi(this.notifyUpdate),qi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Xs.has(t),a=n.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&dt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),d&&d(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ta){const n=ta[t];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<cx.length;i++){const a=cx[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,d=t[l];d&&(this.propEventSubscriptions[a]=this.on(a,d))}this.prevMotionValues=I6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Tl(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){var i;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(Dv(a)||Sv(a))?a=parseFloat(a):!T6(a)&&$i.test(n)&&(a=Rv(t,n)),this.setBaseTarget(t,ln(a)?a.get():a)),ln(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const d=A1(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);d&&(a=d[t])}if(i&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!ln(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new B1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class d3 extends N6{constructor(){super(...arguments),this.KeyframeResolver=Bv}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function R6(e){return window.getComputedStyle(e)}class O6 extends d3{constructor(){super(...arguments),this.type="html",this.renderInstance=Jw}readValueFromInstance(t,n){if(Xs.has(n)){const i=z1(n);return i&&i.default||0}else{const i=R6(t),a=(Qw(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return e3(t,n)}build(t,n,i){_1(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return R1(t,n,i)}}class k6 extends d3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Xs.has(n)){const i=z1(n);return i&&i.default||0}return n=ev.has(n)?n:v1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return rv(t,n,i)}build(t,n,i){T1(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,a){tv(t,n,i,a)}mount(t){this.isSVGTag=N1(t.tagName),super.mount(t)}}const D6=(e,t)=>E1(e)?new k6(t):new O6(t,{allowProjection:e!==Q.Fragment}),M6=sb({...rT,...A6,...d6,...S6},D6),Ei=vS(M6);function h3(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=h3(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function P6(){for(var e,t,n=0,i="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=h3(e))&&(i&&(i+=" "),i+=t);return i}const Z1="-",L6=e=>{const t=F6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:d=>{const p=d.split(Z1);return p[0]===""&&p.length!==1&&p.shift(),p3(p,t)||B6(d)},getConflictingClassGroupIds:(d,p)=>{const x=n[d]||[];return p&&i[d]?[...x,...i[d]]:x}}},p3=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),a=i?p3(e.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const l=e.join(Z1);return(d=t.validators.find(({validator:p})=>p(l)))==null?void 0:d.classGroupId},fx=/^\[(.+)\]$/,B6=e=>{if(fx.test(e)){const t=fx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},F6=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return j6(Object.entries(e.classGroups),n).forEach(([l,d])=>{r0(d,i,l,t)}),i},r0=(e,t,n,i)=>{e.forEach(a=>{if(typeof a=="string"){const l=a===""?t:dx(t,a);l.classGroupId=n;return}if(typeof a=="function"){if(V6(a)){r0(a(i),t,n,i);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,d])=>{r0(d,dx(t,l),n,i)})})},dx=(e,t)=>{let n=e;return t.split(Z1).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},V6=e=>e.isThemeGetter,j6=(e,t)=>t?e.map(([n,i])=>{const a=i.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,p])=>[t+d,p])):l);return[n,a]}):e,U6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const a=(l,d)=>{n.set(l,d),t++,t>e&&(t=0,i=n,n=new Map)};return{get(l){let d=n.get(l);if(d!==void 0)return d;if((d=i.get(l))!==void 0)return a(l,d),d},set(l,d){n.has(l)?n.set(l,d):a(l,d)}}},g3="!",z6=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,a=t[0],l=t.length,d=p=>{const x=[];let m=0,w=0,v;for(let V=0;V<p.length;V++){let N=p[V];if(m===0){if(N===a&&(i||p.slice(V,V+l)===t)){x.push(p.slice(w,V)),w=V+l;continue}if(N==="/"){v=V;continue}}N==="["?m++:N==="]"&&m--}const E=x.length===0?p:p.substring(w),T=E.startsWith(g3),D=T?E.substring(1):E,k=v&&v>w?v-w:void 0;return{modifiers:x,hasImportantModifier:T,baseClassName:D,maybePostfixModifierPosition:k}};return n?p=>n({className:p,parseClassName:d}):d},W6=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},H6=e=>({cache:U6(e.cacheSize),parseClassName:z6(e),...L6(e)}),G6=/\s+/,X6=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a}=t,l=[],d=e.trim().split(G6);let p="";for(let x=d.length-1;x>=0;x-=1){const m=d[x],{modifiers:w,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:T}=n(m);let D=!!T,k=i(D?E.substring(0,T):E);if(!k){if(!D){p=m+(p.length>0?" "+p:p);continue}if(k=i(E),!k){p=m+(p.length>0?" "+p:p);continue}D=!1}const V=W6(w).join(":"),N=v?V+g3:V,_=N+k;if(l.includes(_))continue;l.push(_);const I=a(k,D);for(let M=0;M<I.length;++M){const U=I[M];l.push(N+U)}p=m+(p.length>0?" "+p:p)}return p};function Z6(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=m3(t))&&(i&&(i+=" "),i+=n);return i}const m3=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=m3(e[i]))&&(n&&(n+=" "),n+=t);return n};function Y6(e,...t){let n,i,a,l=d;function d(x){const m=t.reduce((w,v)=>v(w),e());return n=H6(m),i=n.cache.get,a=n.cache.set,l=p,p(x)}function p(x){const m=i(x);if(m)return m;const w=X6(x,n);return a(x,w),w}return function(){return l(Z6.apply(null,arguments))}}const lt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},x3=/^\[(?:([a-z-]+):)?(.+)\]$/i,K6=/^\d+\/\d+$/,Q6=new Set(["px","full","screen"]),q6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,J6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zr=e=>ko(e)||Q6.has(e)||K6.test(e),yi=e=>ha(e,"length",uI),ko=e=>!!e&&!Number.isNaN(Number(e)),Ed=e=>ha(e,"number",ko),La=e=>!!e&&Number.isInteger(Number(e)),nI=e=>e.endsWith("%")&&ko(e.slice(0,-1)),Re=e=>x3.test(e),wi=e=>q6.test(e),rI=new Set(["length","size","percentage"]),iI=e=>ha(e,rI,y3),sI=e=>ha(e,"position",y3),oI=new Set(["image","url"]),aI=e=>ha(e,oI,fI),lI=e=>ha(e,"",cI),Ba=()=>!0,ha=(e,t,n)=>{const i=x3.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},uI=e=>$6.test(e)&&!J6.test(e),y3=()=>!1,cI=e=>eI.test(e),fI=e=>tI.test(e),dI=()=>{const e=lt("colors"),t=lt("spacing"),n=lt("blur"),i=lt("brightness"),a=lt("borderColor"),l=lt("borderRadius"),d=lt("borderSpacing"),p=lt("borderWidth"),x=lt("contrast"),m=lt("grayscale"),w=lt("hueRotate"),v=lt("invert"),E=lt("gap"),T=lt("gradientColorStops"),D=lt("gradientColorStopPositions"),k=lt("inset"),V=lt("margin"),N=lt("opacity"),_=lt("padding"),I=lt("saturate"),M=lt("scale"),U=lt("sepia"),Z=lt("skew"),j=lt("space"),H=lt("translate"),Y=()=>["auto","contain","none"],J=()=>["auto","hidden","clip","visible","scroll"],ae=()=>["auto",Re,t],ne=()=>[Re,t],Te=()=>["",zr,yi],Me=()=>["auto",ko,Re],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Je=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],me=()=>["","0",Re],ve=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ue=()=>[ko,Re];return{cacheSize:500,separator:":",theme:{colors:[Ba],spacing:[zr,yi],blur:["none","",wi,Re],brightness:Ue(),borderColor:[e],borderRadius:["none","","full",wi,Re],borderSpacing:ne(),borderWidth:Te(),contrast:Ue(),grayscale:me(),hueRotate:Ue(),invert:me(),gap:ne(),gradientColorStops:[e],gradientColorStopPositions:[nI,yi],inset:ae(),margin:ae(),opacity:Ue(),padding:ne(),saturate:Ue(),scale:Ue(),sepia:me(),skew:Ue(),space:ne(),translate:ne()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[wi]}],"break-after":[{"break-after":ve()}],"break-before":[{"break-before":ve()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Re]}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",La,Re]}],basis:[{basis:ae()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",La,Re]}],"grid-cols":[{"grid-cols":[Ba]}],"col-start-end":[{col:["auto",{span:["full",La,Re]},Re]}],"col-start":[{"col-start":Me()}],"col-end":[{"col-end":Me()}],"grid-rows":[{"grid-rows":[Ba]}],"row-start-end":[{row:["auto",{span:[La,Re]},Re]}],"row-start":[{"row-start":Me()}],"row-end":[{"row-end":Me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[V]}],mx:[{mx:[V]}],my:[{my:[V]}],ms:[{ms:[V]}],me:[{me:[V]}],mt:[{mt:[V]}],mr:[{mr:[V]}],mb:[{mb:[V]}],ml:[{ml:[V]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,t]}],"min-w":[{"min-w":[Re,t,"min","max","fit"]}],"max-w":[{"max-w":[Re,t,"none","full","min","max","fit","prose",{screen:[wi]},wi]}],h:[{h:[Re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",wi,yi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ed]}],"font-family":[{font:[Ba]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",ko,Ed]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zr,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Je(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zr,yi]}],"underline-offset":[{"underline-offset":["auto",zr,Re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ne()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),sI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[D]}],"gradient-via-pos":[{via:[D]}],"gradient-to-pos":[{to:[D]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...Je(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:Je()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Je()]}],"outline-offset":[{"outline-offset":[zr,Re]}],"outline-w":[{outline:[zr,yi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[zr,yi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",wi,lI]}],"shadow-color":[{shadow:[Ba]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",wi,Re]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[v]}],saturate:[{saturate:[I]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:Ue()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:Ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[La,Re]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ne()}],"scroll-mx":[{"scroll-mx":ne()}],"scroll-my":[{"scroll-my":ne()}],"scroll-ms":[{"scroll-ms":ne()}],"scroll-me":[{"scroll-me":ne()}],"scroll-mt":[{"scroll-mt":ne()}],"scroll-mr":[{"scroll-mr":ne()}],"scroll-mb":[{"scroll-mb":ne()}],"scroll-ml":[{"scroll-ml":ne()}],"scroll-p":[{"scroll-p":ne()}],"scroll-px":[{"scroll-px":ne()}],"scroll-py":[{"scroll-py":ne()}],"scroll-ps":[{"scroll-ps":ne()}],"scroll-pe":[{"scroll-pe":ne()}],"scroll-pt":[{"scroll-pt":ne()}],"scroll-pr":[{"scroll-pr":ne()}],"scroll-pb":[{"scroll-pb":ne()}],"scroll-pl":[{"scroll-pl":ne()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[zr,yi,Ed]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hI=Y6(dI);function pI(...e){return hI(P6(e))}const gI=()=>{const e=Bn(n=>n.toasts);return Bn(n=>n.currentView)==="scanner"?null:F.jsx("div",{className:"fixed bottom-4 left-0 right-0 z-50 flex flex-col items-center gap-2 pointer-events-none p-4",children:F.jsx(Gu,{children:e.map(n=>F.jsxs(Ei.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:pI("bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] pointer-events-auto",n.type==="error"&&"bg-red-600",n.type==="success"&&"bg-green-600"),children:[F.jsx("div",{className:"flex-1 font-medium",children:n.message}),n.type==="percentage"&&F.jsxs("div",{className:"font-mono text-sm bg-white/20 px-2 py-0.5 rounded",children:[n.value,"%"]})]},n.id))})})},Ad="foodscan_debug_logs",mI=()=>{const[e,t]=Q.useState([]),[n,i]=Q.useState(!1),a=Q.useRef(null);Q.useEffect(()=>{try{const E=localStorage.getItem(Ad);E&&t(JSON.parse(E))}catch(E){console.error("Failed to load logs",E)}const d=console.log,p=console.warn,x=console.error,m=(E,T)=>{const D={ts:new Date().toISOString().split("T")[1].slice(0,8),type:E,args:T.map(k=>{try{return k instanceof Error?k.toString():typeof k=="object"?JSON.stringify(k,null,2):String(k)}catch{return"[Circular/Unserializable]"}})};t(k=>{const V=[...k,D].slice(-50);try{localStorage.setItem(Ad,JSON.stringify(V))}catch{}return V})};console.log=(...E)=>{m("log",E),d.apply(console,E)},console.warn=(...E)=>{m("warn",E),p.apply(console,E)},console.error=(...E)=>{m("error",E),x.apply(console,E)};const w=E=>{m("error",["[Global Error]",E.message,E.filename,E.lineno])},v=E=>{m("error",["[Unhandled Rejection]",E.reason])};return window.addEventListener("error",w),window.addEventListener("unhandledrejection",v),()=>{console.log=d,console.warn=p,console.error=x,window.removeEventListener("error",w),window.removeEventListener("unhandledrejection",v)}},[]),Q.useEffect(()=>{n&&a.current&&(a.current.scrollTop=a.current.scrollHeight)},[e,n]);const l=()=>{t([]),localStorage.removeItem(Ad)};return n?F.jsxs("div",{className:"fixed inset-x-0 bottom-0 h-[50vh] bg-slate-900 z-[9999] flex flex-col shadow-2xl border-t border-slate-700 animate-in slide-in-from-bottom duration-200",children:[F.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-slate-800 border-b border-slate-700",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx(p8,{size:16,className:"text-slate-400"}),F.jsx("span",{className:"text-xs font-bold text-slate-200",children:"Debug Console"})]}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("button",{onClick:l,className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-red-400",children:F.jsx(g8,{size:16})}),F.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-white",children:F.jsx(Cc,{size:16})})]})]}),F.jsxs("div",{ref:a,className:"flex-1 overflow-auto p-4 font-mono text-[10px] space-y-1",children:[e.length===0&&F.jsx("span",{className:"text-slate-500 italic",children:"No logs..."}),e.map((d,p)=>F.jsxs("div",{className:`flex gap-2 break-all ${d.type==="error"?"text-red-400":d.type==="warn"?"text-amber-400":"text-slate-300"}`,children:[F.jsxs("span",{className:"opacity-50 shrink-0",children:["[",d.ts,"]"]}),F.jsx("span",{children:d.args.join(" ")})]},p))]})]}):F.jsx("button",{onClick:()=>i(!0),className:"fixed bottom-20 right-4 z-[9999] w-10 h-10 bg-black/80 text-white rounded-full flex items-center justify-center shadow-lg backdrop-blur",children:F.jsx(c8,{size:20})})},xI=({children:e})=>F.jsx(a4,{client:w4,children:F.jsxs("div",{className:"min-h-screen bg-neutral-100 text-neutral-900 font-sans antialiased overflow-hidden relative pb-12",children:[e,F.jsx(lS,{}),F.jsx(a8,{position:"bottom-center",toastOptions:{duration:4e3,style:{fontSize:"13px"}}}),F.jsx(gI,{}),F.jsx(mI,{})]})}),yI=e=>{if(!e)return null;const t=e.padStart(13,"0"),n=/^(\d{3})(\d{3})(\d{3})(.*)$/,i=t.match(n);if(!i)return null;const[a,l,d,p,x]=i;return`https://images.openfoodfacts.org/images/products/${l}/${d}/${p}/${x}/front_en.400.jpg`},Ou=(e,t)=>{if(!e)return t;if(typeof e=="string")try{return JSON.parse(e)}catch{return t}return e},w3=({isLoading:e,isPaused:t,error:n,data:i,code:a,onReset:l})=>{bo.useEffect(()=>{console.log("[ResultCard] Render:",{isLoading:e,isPaused:t,error:n,data:i,code:a})},[e,t,n,i,a]);const[d,p]=Q.useState(!1),[x,m]=Q.useState(!1),[w,v]=Q.useState(!1);if(e||t)return F.jsxs(Ei.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center min-h-[200px]",children:[F.jsx("div",{className:`w-8 h-8 border-4 border-t-transparent rounded-full animate-spin mb-4 ${t?"border-amber-500":"border-blue-600"}`}),F.jsxs("div",{className:"text-center",children:[F.jsx("p",{className:"text-neutral-500 font-medium",children:t?"Waiting for connection...":"Analyzing product..."}),a&&F.jsxs("p",{className:"text-[10px] font-mono text-neutral-400 mt-2 uppercase tracking-widest",children:["Code: ",a]})]})]});if(n)return F.jsxs(Ei.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center min-h-[200px] border-l-8 border-amber-500",children:[F.jsx(jg,{size:32,className:"text-amber-500 mb-3"}),F.jsxs("div",{className:"text-center",children:[F.jsx("p",{className:"text-neutral-800 font-bold",children:"Network Error"}),F.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:n.message}),F.jsx("p",{className:"text-xs text-neutral-400 mt-3",children:"We'll try again automatically."})]})]});if(!i||i.source==="none")return F.jsxs(Ei.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-neutral-50 rounded-2xl p-6 border-2 border-dashed border-neutral-200 text-center relative",children:[l&&F.jsx("button",{onClick:l,className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-full transition-colors",children:F.jsx(Cc,{size:16})}),F.jsx("p",{className:"text-neutral-600 font-medium mb-2",children:"Product Not Found"}),F.jsx("p",{className:"text-sm text-neutral-400 mb-4",children:"This barcode is not yet in our databases."}),a&&F.jsx("div",{className:"inline-block px-3 py-1 bg-white border border-neutral-200 rounded text-xs font-mono text-neutral-500 tracking-wider shadow-sm",children:a})]});const E=i.data,T=Ou(E.palm_oil_tags,[]),D=Ou(E.palm_oil_may_be_tags,[]),k=T.length>0,V=D.length>0;let N="border-green-500",_="bg-emerald-50",I="text-green-900",M="text-emerald-600",U="No Palm Oil Detected";k?(N="border-red-500",_="bg-red-50",I="text-red-900",M="text-red-600",U="Contains Palm Oil"):V&&(N="border-orange-500",_="bg-orange-50",I="text-orange-900",M="text-orange-600",U="May Contain Palm Oil");const Z=Ou(E.nutrient_levels,{}),j=Ou(E.additives_tags,[]),H=ae=>{switch(ae==null?void 0:ae.toLowerCase()){case"a":return"bg-emerald-600";case"b":return"bg-emerald-400";case"c":return"bg-yellow-400";case"d":return"bg-orange-500";case"e":return"bg-red-600";default:return"bg-neutral-300"}},Y=Object.entries(Z).filter(([ae,ne])=>ne==="high"),J=yI(E.code);return F.jsxs(Ei.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-2xl shadow-lg border-l-8 ${N} overflow-hidden`,children:[F.jsxs("div",{className:"p-4",children:[F.jsxs("div",{className:"flex gap-4 mb-3",children:[F.jsx("div",{className:"w-20 h-20 shrink-0 bg-neutral-100 rounded-xl overflow-hidden border border-neutral-100 shadow-sm flex items-center justify-center",children:J?F.jsx("img",{src:J,alt:E.name,className:"w-full h-full object-cover",onError:ae=>{var Te,Me;ae.currentTarget.style.display="none",(Te=ae.currentTarget.parentElement)==null||Te.classList.add("flex","items-center","justify-center");const ne=document.createElement("div");ne.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-neutral-300"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>',(Me=ae.currentTarget.parentElement)==null||Me.appendChild(ne.firstChild)}}):F.jsx(d8,{className:"text-neutral-300",size:24})}),F.jsxs("div",{className:"flex-1 min-w-0",children:[F.jsx("div",{className:"flex items-start justify-between gap-2",children:F.jsxs("div",{children:[F.jsx("h3",{className:"text-lg font-bold text-neutral-800 leading-tight mb-1",children:E.name||"Unknown Product"}),F.jsx("p",{className:"text-[10px] font-mono text-neutral-400 uppercase tracking-widest",children:E.code})]})}),F.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[E.nutriscore_grade&&F.jsxs("span",{className:`px-2.5 py-1 rounded-md text-xs font-black uppercase text-white shadow-sm ${H(E.nutriscore_grade)}`,children:["Nutri-Score: ",F.jsx("span",{className:"text-sm",children:E.nutriscore_grade.toUpperCase()})]}),E.nova_group&&F.jsxs("span",{className:"px-2.5 py-1 rounded-md text-xs font-black uppercase bg-neutral-800 text-white shadow-sm",children:["NOVA: ",F.jsx("span",{className:"text-sm",children:E.nova_group})]})]})]}),l&&F.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center bg-neutral-100 hover:bg-neutral-200 text-neutral-500 hover:text-neutral-700 rounded-full transition-colors shrink-0","aria-label":"Close",children:F.jsx(Cc,{size:18})})]}),F.jsxs("div",{className:`rounded-xl mb-3 overflow-hidden ${_} ${I}`,children:[F.jsxs("button",{onClick:()=>v(!w),disabled:!k&&!V,className:"w-full py-2 px-4 flex items-center justify-between text-left transition-colors",children:[F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsx(jg,{size:20,className:M}),F.jsx("span",{className:"font-bold text-sm leading-tight",children:U})]}),(k||V)&&(w?F.jsx(sd,{size:16}):F.jsx(id,{size:16}))]}),F.jsx(Gu,{children:w&&(k||V)&&F.jsxs(Ei.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4",children:[k&&F.jsxs("div",{className:"text-xs opacity-80",children:[F.jsx("strong",{children:"Detected:"})," ",T.map(ae=>ae.replace("en:","").replace(/-/g," ")).join(", ")]}),!k&&V&&F.jsxs("div",{className:"text-xs opacity-80",children:[F.jsx("strong",{children:"Potential:"})," ",D.map(ae=>ae.replace("en:","").replace(/-/g," ")).join(", ")]})]})})]}),Y.length>0&&F.jsxs("div",{className:"mb-3",children:[F.jsx("h4",{className:"text-xs font-bold text-neutral-400 uppercase tracking-wider mb-2",children:"High Levels"}),F.jsxs("div",{className:"flex flex-wrap gap-2",children:[Y.map(([ae])=>F.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-xs font-bold rounded-full capitalize",children:["High ",ae]},ae)),E.nova_group===4&&F.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-xs font-bold rounded-full",children:"Ultra-Processed"})]})]}),j.length>0&&F.jsxs("div",{className:"border-t border-neutral-100",children:[F.jsxs("button",{onClick:()=>m(!x),className:"w-full flex items-center justify-between py-2 text-sm font-bold text-neutral-600 hover:text-blue-600 transition-colors",children:[F.jsxs("span",{children:["Additives (",j.length,")"]}),x?F.jsx(sd,{size:16}):F.jsx(id,{size:16})]}),F.jsx(Gu,{children:x&&F.jsx(Ei.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:F.jsx("div",{className:"flex flex-wrap gap-2 pb-4",children:j.map(ae=>F.jsx("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-600 border border-neutral-200 text-[10px] font-bold rounded uppercase",children:ae.replace("en:","").toUpperCase()},ae))})})})]}),F.jsxs("button",{onClick:()=>p(!d),className:"w-full flex items-center justify-between py-3 border-t border-neutral-100 text-sm font-bold text-neutral-600 hover:text-blue-600 transition-colors",children:[F.jsx("span",{children:"Full Ingredients List"}),d?F.jsx(sd,{size:16}):F.jsx(id,{size:16})]}),F.jsx(Gu,{children:d&&F.jsx(Ei.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:F.jsx("p",{className:"text-xs text-neutral-500 leading-relaxed pb-4 capitalize",children:E.ingredients||"No ingredient list available."})})})]}),F.jsx("div",{className:"bg-neutral-50 px-6 py-3 border-t text-xs text-neutral-400 flex justify-between",children:F.jsxs("span",{children:["Source: ",i.source==="local"?"Local DB":"Open Food Facts"]})})]})},v3=({history:e,onSelect:t,activeCode:n})=>{const i=n?e.filter(a=>a.code!==n):e;return!i||i.length===0?F.jsx("div",{className:"bg-white/50 border-2 border-dashed border-slate-200 rounded-3xl p-10 text-center text-slate-300 text-sm italic",children:"No recent scans found"}):F.jsx("div",{className:"space-y-2.5",children:i.map(a=>F.jsxs("button",{onClick:()=>t(a.code),className:"w-full bg-white px-5 py-4 rounded-3xl shadow-sm border border-slate-200/60 flex items-center justify-between hover:bg-slate-50 transition-all text-left group overflow-hidden",children:[F.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[F.jsx("div",{className:`flex-shrink-0 w-2.5 h-2.5 rounded-full ${a.status==="green"?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]":a.status==="red"?"bg-rose-500 shadow-[0_0_10px_rgba(244,63,94,0.3)]":"bg-orange-500 shadow-[0_0_10px_rgba(249,115,22,0.3)]"}`}),F.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[F.jsx("span",{className:"font-bold text-slate-800 truncate group-hover:text-blue-600 transition-colors",children:a.productName||"Unknown Product"}),F.jsx("div",{className:"flex items-center gap-2",children:F.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a.status==="red"?"text-rose-500":"text-emerald-500"}`,children:a.palmOilText})})]}),F.jsx("div",{className:"flex-shrink-0 text-[10px] text-slate-400 font-bold bg-slate-100 px-2 py-1 rounded-full uppercase tracking-tighter",children:new Date(a.scannedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),F.jsx(Tw,{size:16,className:"text-slate-200 group-hover:text-blue-400 ml-3 transition-colors"})]},a.scannedAt))})};var Xe;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const l={};for(const d of a)l[d]=d;return l},e.getValidEnumValues=a=>{const l=e.objectKeys(a).filter(p=>typeof a[a[p]]!="number"),d={};for(const p of l)d[p]=a[p];return e.objectValues(d)},e.objectValues=a=>e.objectKeys(a).map(function(l){return a[l]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const d in a)Object.prototype.hasOwnProperty.call(a,d)&&l.push(d);return l},e.find=(a,l)=>{for(const d of a)if(l(d))return d},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function i(a,l=" | "){return a.map(d=>typeof d=="string"?`'${d}'`:d).join(l)}e.joinValues=i,e.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(Xe||(Xe={}));var hx;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(hx||(hx={}));const he=Xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bi=e=>{switch(typeof e){case"undefined":return he.undefined;case"string":return he.string;case"number":return Number.isNaN(e)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(e)?he.array:e===null?he.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?he.promise:typeof Map<"u"&&e instanceof Map?he.map:typeof Set<"u"&&e instanceof Set?he.set:typeof Date<"u"&&e instanceof Date?he.date:he.object;default:return he.unknown}},ie=Xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ai extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(l){return l.message},i={_errors:[]},a=l=>{for(const d of l.issues)if(d.code==="invalid_union")d.unionErrors.map(a);else if(d.code==="invalid_return_type")a(d.returnTypeError);else if(d.code==="invalid_arguments")a(d.argumentsError);else if(d.path.length===0)i._errors.push(n(d));else{let p=i,x=0;for(;x<d.path.length;){const m=d.path[x];x===d.path.length-1?(p[m]=p[m]||{_errors:[]},p[m]._errors.push(n(d))):p[m]=p[m]||{_errors:[]},p=p[m],x++}}};return a(this),i}static assert(t){if(!(t instanceof ai))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const a of this.issues)if(a.path.length>0){const l=a.path[0];n[l]=n[l]||[],n[l].push(t(a))}else i.push(t(a));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}ai.create=e=>new ai(e);const i0=(e,t)=>{let n;switch(e.code){case ie.invalid_type:e.received===he.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ie.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Xe.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:n=`Unrecognized key(s) in object: ${Xe.joinValues(e.keys,", ")}`;break;case ie.invalid_union:n="Invalid input";break;case ie.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Xe.joinValues(e.options)}`;break;case ie.invalid_enum_value:n=`Invalid enum value. Expected ${Xe.joinValues(e.options)}, received '${e.received}'`;break;case ie.invalid_arguments:n="Invalid function arguments";break;case ie.invalid_return_type:n="Invalid function return type";break;case ie.invalid_date:n="Invalid date";break;case ie.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Xe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ie.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ie.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ie.custom:n="Invalid input";break;case ie.invalid_intersection_types:n="Intersection results could not be merged";break;case ie.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ie.not_finite:n="Number must be finite";break;default:n=t.defaultError,Xe.assertNever(e)}return{message:n}};let wI=i0;function vI(){return wI}const CI=e=>{const{data:t,path:n,errorMaps:i,issueData:a}=e,l=[...n,...a.path||[]],d={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let p="";const x=i.filter(m=>!!m).slice().reverse();for(const m of x)p=m(d,{data:t,defaultError:p}).message;return{...a,path:l,message:p}};function le(e,t){const n=vI(),i=CI({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===i0?void 0:i0].filter(a=>!!a)});e.common.issues.push(i)}class mn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const a of n){if(a.status==="aborted")return Ie;a.status==="dirty"&&t.dirty(),i.push(a.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const a of n){const l=await a.key,d=await a.value;i.push({key:l,value:d})}return mn.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const a of n){const{key:l,value:d}=a;if(l.status==="aborted"||d.status==="aborted")return Ie;l.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),l.value!=="__proto__"&&(typeof d.value<"u"||a.alwaysSet)&&(i[l.value]=d.value)}return{status:t.value,value:i}}}const Ie=Object.freeze({status:"aborted"}),Xa=e=>({status:"dirty",value:e}),sr=e=>({status:"valid",value:e}),px=e=>e.status==="aborted",gx=e=>e.status==="dirty",ra=e=>e.status==="valid",Nc=e=>typeof Promise<"u"&&e instanceof Promise;var xe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xe||(xe={}));class Vr{constructor(t,n,i,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mx=(e,t)=>{if(ra(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ai(e.common.issues);return this._error=n,this._error}}};function ke(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:a}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(d,p)=>{const{message:x}=e;return d.code==="invalid_enum_value"?{message:x??p.defaultError}:typeof p.data>"u"?{message:x??i??p.defaultError}:d.code!=="invalid_type"?{message:p.defaultError}:{message:x??n??p.defaultError}},description:a}}class je{get description(){return this._def.description}_getType(t){return bi(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:bi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new mn,ctx:{common:t.parent.common,data:t.data,parsedType:bi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Nc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bi(t)},a=this._parseSync({data:t,path:i.path,parent:i});return mx(i,a)}"~validate"(t){var i,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bi(t)};if(!this["~standard"].async)try{const l=this._parseSync({data:t,path:[],parent:n});return ra(l)?{value:l.value}:{issues:n.common.issues}}catch(l){(a=(i=l==null?void 0:l.message)==null?void 0:i.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(l=>ra(l)?{value:l.value}:{issues:n.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bi(t)},a=this._parse({data:t,path:i.path,parent:i}),l=await(Nc(a)?a:Promise.resolve(a));return mx(i,l)}refine(t,n){const i=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,l)=>{const d=t(a),p=()=>l.addIssue({code:ie.custom,...i(a)});return typeof Promise<"u"&&d instanceof Promise?d.then(x=>x?!0:(p(),!1)):d?!0:(p(),!1)})}refinement(t,n){return this._refinement((i,a)=>t(i)?!0:(a.addIssue(typeof n=="function"?n(i,a):n),!1))}_refinement(t){return new oa({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Yi.create(this,this._def)}nullable(){return aa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fr.create(this)}promise(){return Mc.create(this,this._def)}or(t){return Oc.create([this,t],this._def)}and(t){return kc.create(this,t,this._def)}transform(t){return new oa({...ke(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new o0({...ke(this._def),innerType:this,defaultValue:n,typeName:_e.ZodDefault})}brand(){return new HI({typeName:_e.ZodBranded,type:this,...ke(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new a0({...ke(this._def),innerType:this,catchValue:n,typeName:_e.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Y1.create(this,t)}readonly(){return l0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const EI=/^c[^\s-]{8,}$/i,AI=/^[0-9a-z]+$/,SI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_I=/^[a-z0-9_-]{21}$/i,TI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,II=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,NI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sd;const OI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,MI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,PI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,C3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BI=new RegExp(`^${C3}$`);function E3(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function FI(e){return new RegExp(`^${E3(e)}$`)}function VI(e){let t=`${C3}T${E3(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function jI(e,t){return!!((t==="v4"||!t)&&OI.test(e)||(t==="v6"||!t)&&DI.test(e))}function UI(e,t){if(!TI.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(i));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function zI(e,t){return!!((t==="v4"||!t)&&kI.test(e)||(t==="v6"||!t)&&MI.test(e))}class Dr extends je{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==he.string){const l=this._getOrReturnCtx(t);return le(l,{code:ie.invalid_type,expected:he.string,received:l.parsedType}),Ie}const i=new mn;let a;for(const l of this._def.checks)if(l.kind==="min")t.data.length<l.value&&(a=this._getOrReturnCtx(t,a),le(a,{code:ie.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")t.data.length>l.value&&(a=this._getOrReturnCtx(t,a),le(a,{code:ie.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const d=t.data.length>l.value,p=t.data.length<l.value;(d||p)&&(a=this._getOrReturnCtx(t,a),d?le(a,{code:ie.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):p&&le(a,{code:ie.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")NI.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"email",code:ie.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")Sd||(Sd=new RegExp(RI,"u")),Sd.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"emoji",code:ie.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")bI.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"uuid",code:ie.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")_I.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"nanoid",code:ie.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")EI.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"cuid",code:ie.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")AI.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"cuid2",code:ie.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")SI.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"ulid",code:ie.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),le(a,{validation:"url",code:ie.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"regex",code:ie.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?t.data=t.data.trim():l.kind==="includes"?t.data.includes(l.value,l.position)||(a=this._getOrReturnCtx(t,a),le(a,{code:ie.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?t.data=t.data.toLowerCase():l.kind==="toUpperCase"?t.data=t.data.toUpperCase():l.kind==="startsWith"?t.data.startsWith(l.value)||(a=this._getOrReturnCtx(t,a),le(a,{code:ie.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?t.data.endsWith(l.value)||(a=this._getOrReturnCtx(t,a),le(a,{code:ie.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?VI(l).test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{code:ie.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?BI.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{code:ie.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?FI(l).test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{code:ie.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?II.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"duration",code:ie.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?jI(t.data,l.version)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"ip",code:ie.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?UI(t.data,l.alg)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"jwt",code:ie.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?zI(t.data,l.version)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"cidr",code:ie.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?PI.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"base64",code:ie.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?LI.test(t.data)||(a=this._getOrReturnCtx(t,a),le(a,{validation:"base64url",code:ie.invalid_string,message:l.message}),i.dirty()):Xe.assertNever(l);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(a=>t.test(a),{validation:n,code:ie.invalid_string,...xe.errToObj(i)})}_addCheck(t){return new Dr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...xe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...xe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...xe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...xe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...xe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...xe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...xe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...xe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...xe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...xe.errToObj(n)})}nonempty(t){return this.min(1,xe.errToObj(t))}trim(){return new Dr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Dr.create=e=>new Dr({checks:[],typeName:_e.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ke(e)});function WI(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=n>i?n:i,l=Number.parseInt(e.toFixed(a).replace(".","")),d=Number.parseInt(t.toFixed(a).replace(".",""));return l%d/10**a}class Us extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==he.number){const l=this._getOrReturnCtx(t);return le(l,{code:ie.invalid_type,expected:he.number,received:l.parsedType}),Ie}let i;const a=new mn;for(const l of this._def.checks)l.kind==="int"?Xe.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{code:ie.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(i=this._getOrReturnCtx(t,i),le(i,{code:ie.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(i=this._getOrReturnCtx(t,i),le(i,{code:ie.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="multipleOf"?WI(t.data,l.value)!==0&&(i=this._getOrReturnCtx(t,i),le(i,{code:ie.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):l.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{code:ie.not_finite,message:l.message}),a.dirty()):Xe.assertNever(l);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xe.toString(n))}setLimit(t,n,i,a){return new Us({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:xe.toString(a)}]})}_addCheck(t){return new Us({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:xe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Xe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Us.create=e=>new Us({checks:[],typeName:_e.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ke(e)});class zs extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==he.bigint)return this._getInvalidInput(t);let i;const a=new mn;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(i=this._getOrReturnCtx(t,i),le(i,{code:ie.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(i=this._getOrReturnCtx(t,i),le(i,{code:ie.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?t.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),le(i,{code:ie.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):Xe.assertNever(l);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return le(n,{code:ie.invalid_type,expected:he.bigint,received:n.parsedType}),Ie}gte(t,n){return this.setLimit("min",t,!0,xe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xe.toString(n))}setLimit(t,n,i,a){return new zs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:xe.toString(a)}]})}_addCheck(t){return new zs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}zs.create=e=>new zs({checks:[],typeName:_e.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ke(e)});class Rc extends je{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==he.boolean){const i=this._getOrReturnCtx(t);return le(i,{code:ie.invalid_type,expected:he.boolean,received:i.parsedType}),Ie}return sr(t.data)}}Rc.create=e=>new Rc({typeName:_e.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ke(e)});class ia extends je{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==he.date){const l=this._getOrReturnCtx(t);return le(l,{code:ie.invalid_type,expected:he.date,received:l.parsedType}),Ie}if(Number.isNaN(t.data.getTime())){const l=this._getOrReturnCtx(t);return le(l,{code:ie.invalid_date}),Ie}const i=new mn;let a;for(const l of this._def.checks)l.kind==="min"?t.data.getTime()<l.value&&(a=this._getOrReturnCtx(t,a),le(a,{code:ie.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?t.data.getTime()>l.value&&(a=this._getOrReturnCtx(t,a),le(a,{code:ie.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):Xe.assertNever(l);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ia({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:xe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:xe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ia.create=e=>new ia({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:_e.ZodDate,...ke(e)});class xx extends je{_parse(t){if(this._getType(t)!==he.symbol){const i=this._getOrReturnCtx(t);return le(i,{code:ie.invalid_type,expected:he.symbol,received:i.parsedType}),Ie}return sr(t.data)}}xx.create=e=>new xx({typeName:_e.ZodSymbol,...ke(e)});class yx extends je{_parse(t){if(this._getType(t)!==he.undefined){const i=this._getOrReturnCtx(t);return le(i,{code:ie.invalid_type,expected:he.undefined,received:i.parsedType}),Ie}return sr(t.data)}}yx.create=e=>new yx({typeName:_e.ZodUndefined,...ke(e)});class wx extends je{_parse(t){if(this._getType(t)!==he.null){const i=this._getOrReturnCtx(t);return le(i,{code:ie.invalid_type,expected:he.null,received:i.parsedType}),Ie}return sr(t.data)}}wx.create=e=>new wx({typeName:_e.ZodNull,...ke(e)});class vx extends je{constructor(){super(...arguments),this._any=!0}_parse(t){return sr(t.data)}}vx.create=e=>new vx({typeName:_e.ZodAny,...ke(e)});class Cx extends je{constructor(){super(...arguments),this._unknown=!0}_parse(t){return sr(t.data)}}Cx.create=e=>new Cx({typeName:_e.ZodUnknown,...ke(e)});class Ji extends je{_parse(t){const n=this._getOrReturnCtx(t);return le(n,{code:ie.invalid_type,expected:he.never,received:n.parsedType}),Ie}}Ji.create=e=>new Ji({typeName:_e.ZodNever,...ke(e)});class Ex extends je{_parse(t){if(this._getType(t)!==he.undefined){const i=this._getOrReturnCtx(t);return le(i,{code:ie.invalid_type,expected:he.void,received:i.parsedType}),Ie}return sr(t.data)}}Ex.create=e=>new Ex({typeName:_e.ZodVoid,...ke(e)});class Fr extends je{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),a=this._def;if(n.parsedType!==he.array)return le(n,{code:ie.invalid_type,expected:he.array,received:n.parsedType}),Ie;if(a.exactLength!==null){const d=n.data.length>a.exactLength.value,p=n.data.length<a.exactLength.value;(d||p)&&(le(n,{code:d?ie.too_big:ie.too_small,minimum:p?a.exactLength.value:void 0,maximum:d?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(le(n,{code:ie.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(le(n,{code:ie.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((d,p)=>a.type._parseAsync(new Vr(n,d,n.path,p)))).then(d=>mn.mergeArray(i,d));const l=[...n.data].map((d,p)=>a.type._parseSync(new Vr(n,d,n.path,p)));return mn.mergeArray(i,l)}get element(){return this._def.type}min(t,n){return new Fr({...this._def,minLength:{value:t,message:xe.toString(n)}})}max(t,n){return new Fr({...this._def,maxLength:{value:t,message:xe.toString(n)}})}length(t,n){return new Fr({...this._def,exactLength:{value:t,message:xe.toString(n)}})}nonempty(t){return this.min(1,t)}}Fr.create=(e,t)=>new Fr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...ke(t)});function so(e){if(e instanceof kt){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=Yi.create(so(i))}return new kt({...e._def,shape:()=>t})}else return e instanceof Fr?new Fr({...e._def,type:so(e.element)}):e instanceof Yi?Yi.create(so(e.unwrap())):e instanceof aa?aa.create(so(e.unwrap())):e instanceof Ws?Ws.create(e.items.map(t=>so(t))):e}class kt extends je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Xe.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==he.object){const m=this._getOrReturnCtx(t);return le(m,{code:ie.invalid_type,expected:he.object,received:m.parsedType}),Ie}const{status:i,ctx:a}=this._processInputParams(t),{shape:l,keys:d}=this._getCached(),p=[];if(!(this._def.catchall instanceof Ji&&this._def.unknownKeys==="strip"))for(const m in a.data)d.includes(m)||p.push(m);const x=[];for(const m of d){const w=l[m],v=a.data[m];x.push({key:{status:"valid",value:m},value:w._parse(new Vr(a,v,a.path,m)),alwaysSet:m in a.data})}if(this._def.catchall instanceof Ji){const m=this._def.unknownKeys;if(m==="passthrough")for(const w of p)x.push({key:{status:"valid",value:w},value:{status:"valid",value:a.data[w]}});else if(m==="strict")p.length>0&&(le(a,{code:ie.unrecognized_keys,keys:p}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const w of p){const v=a.data[w];x.push({key:{status:"valid",value:w},value:m._parse(new Vr(a,v,a.path,w)),alwaysSet:w in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const m=[];for(const w of x){const v=await w.key,E=await w.value;m.push({key:v,value:E,alwaysSet:w.alwaysSet})}return m}).then(m=>mn.mergeObjectSync(i,m)):mn.mergeObjectSync(i,x)}get shape(){return this._def.shape()}strict(t){return xe.errToObj,new kt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var l,d;const a=((d=(l=this._def).errorMap)==null?void 0:d.call(l,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:xe.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new kt({...this._def,unknownKeys:"strip"})}passthrough(){return new kt({...this._def,unknownKeys:"passthrough"})}extend(t){return new kt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new kt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:_e.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new kt({...this._def,catchall:t})}pick(t){const n={};for(const i of Xe.objectKeys(t))t[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new kt({...this._def,shape:()=>n})}omit(t){const n={};for(const i of Xe.objectKeys(this.shape))t[i]||(n[i]=this.shape[i]);return new kt({...this._def,shape:()=>n})}deepPartial(){return so(this)}partial(t){const n={};for(const i of Xe.objectKeys(this.shape)){const a=this.shape[i];t&&!t[i]?n[i]=a:n[i]=a.optional()}return new kt({...this._def,shape:()=>n})}required(t){const n={};for(const i of Xe.objectKeys(this.shape))if(t&&!t[i])n[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof Yi;)l=l._def.innerType;n[i]=l}return new kt({...this._def,shape:()=>n})}keyof(){return A3(Xe.objectKeys(this.shape))}}kt.create=(e,t)=>new kt({shape:()=>e,unknownKeys:"strip",catchall:Ji.create(),typeName:_e.ZodObject,...ke(t)});kt.strictCreate=(e,t)=>new kt({shape:()=>e,unknownKeys:"strict",catchall:Ji.create(),typeName:_e.ZodObject,...ke(t)});kt.lazycreate=(e,t)=>new kt({shape:e,unknownKeys:"strip",catchall:Ji.create(),typeName:_e.ZodObject,...ke(t)});class Oc extends je{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function a(l){for(const p of l)if(p.result.status==="valid")return p.result;for(const p of l)if(p.result.status==="dirty")return n.common.issues.push(...p.ctx.common.issues),p.result;const d=l.map(p=>new ai(p.ctx.common.issues));return le(n,{code:ie.invalid_union,unionErrors:d}),Ie}if(n.common.async)return Promise.all(i.map(async l=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(a);{let l;const d=[];for(const x of i){const m={...n,common:{...n.common,issues:[]},parent:null},w=x._parseSync({data:n.data,path:n.path,parent:m});if(w.status==="valid")return w;w.status==="dirty"&&!l&&(l={result:w,ctx:m}),m.common.issues.length&&d.push(m.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const p=d.map(x=>new ai(x));return le(n,{code:ie.invalid_union,unionErrors:p}),Ie}}get options(){return this._def.options}}Oc.create=(e,t)=>new Oc({options:e,typeName:_e.ZodUnion,...ke(t)});function s0(e,t){const n=bi(e),i=bi(t);if(e===t)return{valid:!0,data:e};if(n===he.object&&i===he.object){const a=Xe.objectKeys(t),l=Xe.objectKeys(e).filter(p=>a.indexOf(p)!==-1),d={...e,...t};for(const p of l){const x=s0(e[p],t[p]);if(!x.valid)return{valid:!1};d[p]=x.data}return{valid:!0,data:d}}else if(n===he.array&&i===he.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let l=0;l<e.length;l++){const d=e[l],p=t[l],x=s0(d,p);if(!x.valid)return{valid:!1};a.push(x.data)}return{valid:!0,data:a}}else return n===he.date&&i===he.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class kc extends je{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),a=(l,d)=>{if(px(l)||px(d))return Ie;const p=s0(l.value,d.value);return p.valid?((gx(l)||gx(d))&&n.dirty(),{status:n.value,value:p.data}):(le(i,{code:ie.invalid_intersection_types}),Ie)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,d])=>a(l,d)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}kc.create=(e,t,n)=>new kc({left:e,right:t,typeName:_e.ZodIntersection,...ke(n)});class Ws extends je{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==he.array)return le(i,{code:ie.invalid_type,expected:he.array,received:i.parsedType}),Ie;if(i.data.length<this._def.items.length)return le(i,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ie;!this._def.rest&&i.data.length>this._def.items.length&&(le(i,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...i.data].map((d,p)=>{const x=this._def.items[p]||this._def.rest;return x?x._parse(new Vr(i,d,i.path,p)):null}).filter(d=>!!d);return i.common.async?Promise.all(l).then(d=>mn.mergeArray(n,d)):mn.mergeArray(n,l)}get items(){return this._def.items}rest(t){return new Ws({...this._def,rest:t})}}Ws.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ws({items:e,typeName:_e.ZodTuple,rest:null,...ke(t)})};class Dc extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==he.object)return le(i,{code:ie.invalid_type,expected:he.object,received:i.parsedType}),Ie;const a=[],l=this._def.keyType,d=this._def.valueType;for(const p in i.data)a.push({key:l._parse(new Vr(i,p,i.path,p)),value:d._parse(new Vr(i,i.data[p],i.path,p)),alwaysSet:p in i.data});return i.common.async?mn.mergeObjectAsync(n,a):mn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof je?new Dc({keyType:t,valueType:n,typeName:_e.ZodRecord,...ke(i)}):new Dc({keyType:Dr.create(),valueType:t,typeName:_e.ZodRecord,...ke(n)})}}class Ax extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==he.map)return le(i,{code:ie.invalid_type,expected:he.map,received:i.parsedType}),Ie;const a=this._def.keyType,l=this._def.valueType,d=[...i.data.entries()].map(([p,x],m)=>({key:a._parse(new Vr(i,p,i.path,[m,"key"])),value:l._parse(new Vr(i,x,i.path,[m,"value"]))}));if(i.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const x of d){const m=await x.key,w=await x.value;if(m.status==="aborted"||w.status==="aborted")return Ie;(m.status==="dirty"||w.status==="dirty")&&n.dirty(),p.set(m.value,w.value)}return{status:n.value,value:p}})}else{const p=new Map;for(const x of d){const m=x.key,w=x.value;if(m.status==="aborted"||w.status==="aborted")return Ie;(m.status==="dirty"||w.status==="dirty")&&n.dirty(),p.set(m.value,w.value)}return{status:n.value,value:p}}}}Ax.create=(e,t,n)=>new Ax({valueType:t,keyType:e,typeName:_e.ZodMap,...ke(n)});class Rl extends je{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==he.set)return le(i,{code:ie.invalid_type,expected:he.set,received:i.parsedType}),Ie;const a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(le(i,{code:ie.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(le(i,{code:ie.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const l=this._def.valueType;function d(x){const m=new Set;for(const w of x){if(w.status==="aborted")return Ie;w.status==="dirty"&&n.dirty(),m.add(w.value)}return{status:n.value,value:m}}const p=[...i.data.values()].map((x,m)=>l._parse(new Vr(i,x,i.path,m)));return i.common.async?Promise.all(p).then(x=>d(x)):d(p)}min(t,n){return new Rl({...this._def,minSize:{value:t,message:xe.toString(n)}})}max(t,n){return new Rl({...this._def,maxSize:{value:t,message:xe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Rl.create=(e,t)=>new Rl({valueType:e,minSize:null,maxSize:null,typeName:_e.ZodSet,...ke(t)});class Sx extends je{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Sx.create=(e,t)=>new Sx({getter:e,typeName:_e.ZodLazy,...ke(t)});class bx extends je{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return le(n,{received:n.data,code:ie.invalid_literal,expected:this._def.value}),Ie}return{status:"valid",value:t.data}}get value(){return this._def.value}}bx.create=(e,t)=>new bx({value:e,typeName:_e.ZodLiteral,...ke(t)});function A3(e,t){return new sa({values:e,typeName:_e.ZodEnum,...ke(t)})}class sa extends je{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return le(n,{expected:Xe.joinValues(i),received:n.parsedType,code:ie.invalid_type}),Ie}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return le(n,{received:n.data,code:ie.invalid_enum_value,options:i}),Ie}return sr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return sa.create(t,{...this._def,...n})}exclude(t,n=this._def){return sa.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}sa.create=A3;class _x extends je{_parse(t){const n=Xe.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==he.string&&i.parsedType!==he.number){const a=Xe.objectValues(n);return le(i,{expected:Xe.joinValues(a),received:i.parsedType,code:ie.invalid_type}),Ie}if(this._cache||(this._cache=new Set(Xe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Xe.objectValues(n);return le(i,{received:i.data,code:ie.invalid_enum_value,options:a}),Ie}return sr(t.data)}get enum(){return this._def.values}}_x.create=(e,t)=>new _x({values:e,typeName:_e.ZodNativeEnum,...ke(t)});class Mc extends je{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==he.promise&&n.common.async===!1)return le(n,{code:ie.invalid_type,expected:he.promise,received:n.parsedType}),Ie;const i=n.parsedType===he.promise?n.data:Promise.resolve(n.data);return sr(i.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Mc.create=(e,t)=>new Mc({type:e,typeName:_e.ZodPromise,...ke(t)});class oa extends je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),a=this._def.effect||null,l={addIssue:d=>{le(i,d),d.fatal?n.abort():n.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const d=a.transform(i.data,l);if(i.common.async)return Promise.resolve(d).then(async p=>{if(n.value==="aborted")return Ie;const x=await this._def.schema._parseAsync({data:p,path:i.path,parent:i});return x.status==="aborted"?Ie:x.status==="dirty"||n.value==="dirty"?Xa(x.value):x});{if(n.value==="aborted")return Ie;const p=this._def.schema._parseSync({data:d,path:i.path,parent:i});return p.status==="aborted"?Ie:p.status==="dirty"||n.value==="dirty"?Xa(p.value):p}}if(a.type==="refinement"){const d=p=>{const x=a.refinement(p,l);if(i.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(i.common.async===!1){const p=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return p.status==="aborted"?Ie:(p.status==="dirty"&&n.dirty(),d(p.value),{status:n.value,value:p.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(p=>p.status==="aborted"?Ie:(p.status==="dirty"&&n.dirty(),d(p.value).then(()=>({status:n.value,value:p.value}))))}if(a.type==="transform")if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!ra(d))return Ie;const p=a.transform(d.value,l);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:p}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>ra(d)?Promise.resolve(a.transform(d.value,l)).then(p=>({status:n.value,value:p})):Ie);Xe.assertNever(a)}}oa.create=(e,t,n)=>new oa({schema:e,typeName:_e.ZodEffects,effect:t,...ke(n)});oa.createWithPreprocess=(e,t,n)=>new oa({schema:t,effect:{type:"preprocess",transform:e},typeName:_e.ZodEffects,...ke(n)});class Yi extends je{_parse(t){return this._getType(t)===he.undefined?sr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yi.create=(e,t)=>new Yi({innerType:e,typeName:_e.ZodOptional,...ke(t)});class aa extends je{_parse(t){return this._getType(t)===he.null?sr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}aa.create=(e,t)=>new aa({innerType:e,typeName:_e.ZodNullable,...ke(t)});class o0 extends je{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===he.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}o0.create=(e,t)=>new o0({innerType:e,typeName:_e.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ke(t)});class a0 extends je{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Nc(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ai(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ai(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}a0.create=(e,t)=>new a0({innerType:e,typeName:_e.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ke(t)});class Tx extends je{_parse(t){if(this._getType(t)!==he.nan){const i=this._getOrReturnCtx(t);return le(i,{code:ie.invalid_type,expected:he.nan,received:i.parsedType}),Ie}return{status:"valid",value:t.data}}}Tx.create=e=>new Tx({typeName:_e.ZodNaN,...ke(e)});class HI extends je{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Y1 extends je{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Ie:l.status==="dirty"?(n.dirty(),Xa(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Ie:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(t,n){return new Y1({in:t,out:n,typeName:_e.ZodPipeline})}}class l0 extends je{_parse(t){const n=this._def.innerType._parse(t),i=a=>(ra(a)&&(a.value=Object.freeze(a.value)),a);return Nc(n)?n.then(a=>i(a)):i(n)}unwrap(){return this._def.innerType}}l0.create=(e,t)=>new l0({innerType:e,typeName:_e.ZodReadonly,...ke(t)});var _e;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(_e||(_e={}));const Wr=Dr.create,GI=Us.create;zs.create;Rc.create;ia.create;Ji.create;const bd=Fr.create,Ix=kt.create;Oc.create;kc.create;Ws.create;const XI=Dc.create;sa.create;Mc.create;Yi.create;aa.create;const ZI={string:e=>Dr.create({...e,coerce:!0}),number:e=>Us.create({...e,coerce:!0}),boolean:e=>Rc.create({...e,coerce:!0}),bigint:e=>zs.create({...e,coerce:!0}),date:e=>ia.create({...e,coerce:!0})},YI=Ix({code:Wr().optional(),product:Ix({product_name:Wr().optional(),ingredients_text:Wr().optional(),ingredients_from_palm_oil_tags:bd(Wr()).optional(),ingredients_that_may_be_from_palm_oil_tags:bd(Wr()).optional(),image_front_small_url:Wr().optional(),nutriscore_grade:Wr().optional(),nova_group:GI().optional(),nutrient_levels:XI(Wr()).optional(),additives_tags:bd(Wr()).optional()}).passthrough().optional(),status:ZI.number().optional()}).passthrough(),KI="FoodScan/1.0 (GramTV; +https://github.com/GramTV/foodscan)";async function QI(e){try{const t=`https://world.openfoodfacts.org/api/v2/product/${e}?fields=code,product_name,ingredients_text,ingredients_from_palm_oil_tags,ingredients_that_may_be_from_palm_oil_tags,image_front_small_url,nutriscore_grade,nova_group,nutrient_levels,additives_tags`,n=await fetch(t,{headers:{"User-Agent":KI,Accept:"application/json"}});if(!n.ok){if(n.status===404)return null;throw new Error(`OFF API Error: ${n.status}`)}const i=await n.json();console.log("OFF API Raw Data:",i);const a=YI.safeParse(i);return a.success?(console.log("OFF API Parsed Status:",a.data.status),a.data.status===0?null:a.data):(console.warn("OFF API Schema Mismatch",a.error),null)}catch(t){throw console.error("Fetch Product Failed",t),t}}const qI="foodscan-history";async function S3(){return Nw(qI,3,{upgrade(e){e.objectStoreNames.contains("history")&&e.deleteObjectStore("history"),e.createObjectStore("history",{keyPath:"code"}).createIndex("by-date","scannedAt")}})}async function _d(e,t){const n=await S3();let i="",a="unknown";if(t){const l=Array.isArray(t.palm_oil_tags)?t.palm_oil_tags:JSON.parse(t.palm_oil_tags||"[]"),d=Array.isArray(t.palm_oil_may_be_tags)?t.palm_oil_may_be_tags:JSON.parse(t.palm_oil_may_be_tags||"[]"),p=l.length>0,x=d.length>0;p?(a="red",i="Palm Oil"):x?(a="yellow",i="May Contain Palm Oil"):(a="green",i="No Palm Oil")}await n.put("history",{code:e,scannedAt:Date.now(),synced:!!t,productName:(t==null?void 0:t.name)||(t==null?void 0:t.product_name)||"Unknown Product",palmOilText:i,status:a})}async function $I(e=50){let n=await(await S3()).transaction("history").store.index("by-date").openCursor(null,"prev");const i=[];for(;n&&i.length<e;)i.push(n.value),n=await n.continue();return i}function b3(e){const t=Bn(n=>n.isOnline);return yw({queryKey:["product",e,{isOnline:t}],queryFn:async()=>{if(!e)return null;try{console.log(`[useProduct] Checking local DB for ${e}...`);const n=await Promise.race([O8(e),new Promise((i,a)=>setTimeout(()=>a(new Error("DB Timeout")),2e3))]);if(console.log(`[useProduct] Local result for ${e}:`,n?"FOUND":"MISSING"),n)return await _d(e,n),{source:"local",data:n}}catch(n){console.warn("[useProduct] Local DB skipped:",n)}if(!navigator.onLine||!t)throw new Error("Offline: Waiting for connection...");try{const n=await QI(e);if(n&&n.product){const i={code:e,name:n.product.product_name,ingredients:n.product.ingredients_text,palm_oil_tags:n.product.ingredients_from_palm_oil_tags||[],palm_oil_may_be_tags:n.product.ingredients_that_may_be_from_palm_oil_tags||[],image_url:n.product.image_front_small_url,nutriscore_grade:n.product.nutriscore_grade,nova_group:n.product.nova_group,nutrient_levels:n.product.nutrient_levels||{},additives_tags:n.product.additives_tags||[]};return await _d(e,i),{source:"api",data:i}}}catch(n){throw n.message==="Failed to fetch"||n.name==="TypeError"?(console.log("[useProduct] Fetch failed (Network), retrying..."),new Error("Network request failed")):(console.warn("[useProduct] API Fetch failed:",n),n)}return await _d(e,null),{source:"none",data:null}},enabled:!!e,retry:(n,i)=>i.message.includes("Offline")?!1:n<3,networkMode:"offlineFirst",staleTime:1e3*60*60})}function _3(e=10){return yw({queryKey:["scan-history",e],queryFn:()=>$I(e),staleTime:1e3*30,refetchInterval:1e3*5})}const JI=()=>{const e=Bn(x=>x.setView),t=Bn(x=>x.activeCode),n=Bn(x=>x.setActiveCode),{data:i,isLoading:a,fetchStatus:l,error:d}=b3(t),{data:p}=_3(5);return F.jsx("div",{className:"min-h-screen flex flex-col bg-slate-50",children:F.jsxs("main",{className:"flex-1 p-6 flex flex-col max-w-md mx-auto w-full pt-12 gap-10",children:[F.jsx("div",{className:"space-y-8",children:i||a||l==="paused"||d?F.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:F.jsx(w3,{data:i,isLoading:a,isPaused:l==="paused",error:d,onReset:()=>n(null),code:t})}):F.jsxs("div",{className:"flex flex-col items-center text-center space-y-12 py-8",children:[F.jsxs("div",{className:"space-y-2",children:[F.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"FoodScan"}),F.jsx("p",{className:"text-slate-500 font-medium",children:"Ingredients Finder"})]}),F.jsxs("button",{onClick:()=>e("scanner"),className:"group relative w-48 h-48 bg-white rounded-full shadow-2xl flex flex-col items-center justify-center border-8 border-blue-50 transition-all hover:scale-105 active:scale-95 hover:border-blue-100",children:[F.jsx("div",{className:"absolute inset-0 bg-blue-500/5 rounded-full animate-pulse group-hover:bg-blue-500/10"}),F.jsx(h8,{size:64,className:"text-blue-600 mb-2 group-hover:text-blue-700 transition-colors"}),F.jsx("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:"Tap to Scan"})]}),F.jsx("div",{className:"w-full",children:F.jsx("p",{className:"text-sm text-slate-400",children:"Food Ingredients Finder for your groceries"})})]})}),F.jsxs("section",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:[F.jsx("div",{className:"flex items-center justify-between mb-4 px-2",children:F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx(_w,{size:18,className:"text-slate-400"}),F.jsx("h3",{className:"font-bold text-slate-600 text-xs uppercase tracking-wider",children:"Recent History"})]})}),F.jsx("div",{className:"space-y-2.5",children:F.jsx(v3,{history:p||[],onSelect:n})})]})]})})};var ue;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ue||(ue={}));var Nx=new Map([[ue.QR_CODE,"QR_CODE"],[ue.AZTEC,"AZTEC"],[ue.CODABAR,"CODABAR"],[ue.CODE_39,"CODE_39"],[ue.CODE_93,"CODE_93"],[ue.CODE_128,"CODE_128"],[ue.DATA_MATRIX,"DATA_MATRIX"],[ue.MAXICODE,"MAXICODE"],[ue.ITF,"ITF"],[ue.EAN_13,"EAN_13"],[ue.EAN_8,"EAN_8"],[ue.PDF_417,"PDF_417"],[ue.RSS_14,"RSS_14"],[ue.RSS_EXPANDED,"RSS_EXPANDED"],[ue.UPC_A,"UPC_A"],[ue.UPC_E,"UPC_E"],[ue.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Rx;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Rx||(Rx={}));function eN(e){return Object.values(ue).includes(e)}var Pc;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Pc||(Pc={}));var tN=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Pc.SCAN_TYPE_CAMERA,Pc.SCAN_TYPE_FILE],e}(),T3=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Nx.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Nx.get(t))},e}(),Ox=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),u0;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(u0||(u0={}));var nN=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:u0.UNKWOWN_ERROR}},e}(),rN=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Gr(e){return typeof e>"u"||e===null}var So=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),I3=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),d=Object.keys(t),p=0,x=d;p<x.length;p++){var m=x[p];if(l.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),c0={exports:{}};(function(e,t){(function(n,i){i(t)})(_a,function(n){function i(A){return A==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,r){A.__proto__=r}||function(A,r){for(var s in r)r.hasOwnProperty(s)&&(A[s]=r[s])};function l(A,r){a(A,r);function s(){this.constructor=A}A.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}function d(A,r){var s=Object.setPrototypeOf;s?s(A,r):A.__proto__=r}function p(A,r){r===void 0&&(r=A.constructor);var s=Error.captureStackTrace;s&&s(A,r)}var x=function(A){l(r,A);function r(s){var o=this.constructor,u=A.call(this,s)||this;return Object.defineProperty(u,"name",{value:o.name,enumerable:!1}),d(u,o.prototype),p(u),u}return r}(Error);class m extends x{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}m.kind="Exception";class w extends m{}w.kind="ArgumentException";class v extends m{}v.kind="IllegalArgumentException";class E{constructor(r){if(this.binarizer=r,r===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,s){return this.binarizer.getBlackRow(r,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,s,o,u){const c=this.binarizer.getLuminanceSource().crop(r,s,o,u);return new E(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends m{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class D{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(r,s,o,u,c){for(;c--;)o[u++]=r[s++]}static currentTimeMillis(){return Date.now()}}class V extends m{}V.kind="IndexOutOfBoundsException";class N extends V{constructor(r=void 0,s=void 0){super(s),this.index=r,this.message=s}}N.kind="ArrayIndexOutOfBoundsException";class _{static fill(r,s){for(let o=0,u=r.length;o<u;o++)r[o]=s}static fillWithin(r,s,o,u){_.rangeCheck(r.length,s,o);for(let c=s;c<o;c++)r[c]=u}static rangeCheck(r,s,o){if(s>o)throw new v("fromIndex("+s+") > toIndex("+o+")");if(s<0)throw new N(s);if(o>r)throw new N(o)}static asList(...r){return r}static create(r,s,o){return Array.from({length:r}).map(c=>Array.from({length:s}).fill(o))}static createInt32Array(r,s,o){return Array.from({length:r}).map(c=>Int32Array.from({length:s}).fill(o))}static equals(r,s){if(!r||!s||!r.length||!s.length||r.length!==s.length)return!1;for(let o=0,u=r.length;o<u;o++)if(r[o]!==s[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let s=1;for(const o of r)s=31*s+o;return s}static fillUint8Array(r,s){for(let o=0;o!==r.length;o++)r[o]=s}static copyOf(r,s){return r.slice(0,s)}static copyOfUint8Array(r,s){if(r.length<=s){const o=new Uint8Array(s);return o.set(r),o}return r.slice(0,s)}static copyOfRange(r,s,o){const u=o-s,c=new Int32Array(u);return k.arraycopy(r,s,c,0,u),c}static binarySearch(r,s,o){o===void 0&&(o=_.numberComparator);let u=0,c=r.length-1;for(;u<=c;){const f=c+u>>1,h=o(s,r[f]);if(h>0)u=f+1;else if(h<0)c=f-1;else return f}return-u-1}static numberComparator(r,s){return r-s}}class I{static numberOfTrailingZeros(r){let s;if(r===0)return 32;let o=31;return s=r<<16,s!==0&&(o-=16,r=s),s=r<<8,s!==0&&(o-=8,r=s),s=r<<4,s!==0&&(o-=4,r=s),s=r<<2,s!==0&&(o-=2,r=s),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let s=1;return r>>>16||(s+=16,r<<=16),r>>>24||(s+=8,r<<=8),r>>>28||(s+=4,r<<=4),r>>>30||(s+=2,r<<=2),s-=r>>>31,s}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,s){return Math.trunc(r/s)}static parseInt(r,s=void 0){return parseInt(r,s)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(r,s){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,s==null?this.bits=M.makeArray(r):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const s=M.makeArray(r);k.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const s=this.size;if(r>=s)return s;const o=this.bits;let u=Math.floor(r/32),c=o[u];c&=~((1<<(r&31))-1);const f=o.length;for(;c===0;){if(++u===f)return s;c=o[u]}const h=u*32+I.numberOfTrailingZeros(c);return h>s?s:h}getNextUnset(r){const s=this.size;if(r>=s)return s;const o=this.bits;let u=Math.floor(r/32),c=~o[u];c&=~((1<<(r&31))-1);const f=o.length;for(;c===0;){if(++u===f)return s;c=~o[u]}const h=u*32+I.numberOfTrailingZeros(c);return h>s?s:h}setBulk(r,s){this.bits[Math.floor(r/32)]=s}setRange(r,s){if(s<r||r<0||s>this.size)throw new v;if(s===r)return;s--;const o=Math.floor(r/32),u=Math.floor(s/32),c=this.bits;for(let f=o;f<=u;f++){const h=f>o?0:r&31,y=(2<<(f<u?31:s&31))-(1<<h);c[f]|=y}}clear(){const r=this.bits.length,s=this.bits;for(let o=0;o<r;o++)s[o]=0}isRange(r,s,o){if(s<r||r<0||s>this.size)throw new v;if(s===r)return!0;s--;const u=Math.floor(r/32),c=Math.floor(s/32),f=this.bits;for(let h=u;h<=c;h++){const g=h>u?0:r&31,C=(2<<(h<c?31:s&31))-(1<<g)&4294967295;if((f[h]&C)!==(o?C:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,s){if(s<0||s>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let o=s;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const s=r.size;this.ensureCapacity(this.size+s);for(let o=0;o<s;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new v("Sizes don't match");const s=this.bits;for(let o=0,u=s.length;o<u;o++)s[o]^=r.bits[o]}toBytes(r,s,o,u){for(let c=0;c<u;c++){let f=0;for(let h=0;h<8;h++)this.get(r)&&(f|=1<<7-h),r++;s[o+c]=f}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),o=s+1,u=this.bits;for(let c=0;c<o;c++){let f=u[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,r[s-c]=f}if(this.size!==o*32){const c=o*32-this.size;let f=r[0]>>>c;for(let h=1;h<o;h++){const g=r[h];f|=g<<32-c,r[h-1]=f,f=g>>>c}r[o-1]=f}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof M))return!1;const s=r;return this.size===s.size&&_.equals(this.bits,s.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let r="";for(let s=0,o=this.size;s<o;s++)s&7||(r+=" "),r+=this.get(s)?"X":".";return r}clone(){return new M(this.size,this.bits.slice())}}var U;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(U||(U={}));var Z=U;class j extends m{static getFormatInstance(){return new j}}j.kind="FormatException";var H;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(H||(H={}));class Y{constructor(r,s,o,...u){this.valueIdentifier=r,this.name=o,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=u,Y.VALUE_IDENTIFIER_TO_ECI.set(r,this),Y.NAME_TO_ECI.set(o,this);const c=this.values;for(let f=0,h=c.length;f!==h;f++){const g=c[f];Y.VALUES_TO_ECI.set(g,this)}for(const f of u)Y.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new j("incorect value");const s=Y.VALUES_TO_ECI.get(r);if(s===void 0)throw new j("incorect value");return s}static getCharacterSetECIByName(r){const s=Y.NAME_TO_ECI.get(r);if(s===void 0)throw new j("incorect value");return s}equals(r){if(!(r instanceof Y))return!1;const s=r;return this.getName()===s.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(H.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(H.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(H.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(H.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(H.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(H.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(H.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(H.Big5,28,"Big5"),Y.GB18030=new Y(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(H.EUC_KR,30,"EUC_KR","EUC-KR");class J extends m{}J.kind="UnsupportedOperationException";class ae{static decode(r,s){const o=this.encodingName(s);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!ae.isBrowser()&&r==="ISO-8859-1"}static encode(r,s){const o=this.encodingName(s);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof Y?r:Y.getCharacterSetECIByName(r)}static decodeFallback(r,s){const o=this.encodingCharacterSet(s);if(ae.isDecodeFallbackSupported(o)){let u="";for(let c=0,f=r.length;c<f;c++){let h=r[c].toString(16);h.length<2&&(h="0"+h),u+="%"+h}return decodeURIComponent(u)}if(o.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new J(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(Y.UTF8)||r.equals(Y.ISO8859_1)||r.equals(Y.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),u=[];for(let c=0;c<o.length;c++)u.push(o[c].charCodeAt(0));return new Uint8Array(u)}}class ne{static castAsNonUtf8Char(r,s=null){const o=s?s.getName():this.ISO88591;return ae.decode(new Uint8Array([r]),o)}static guessEncoding(r,s){if(s!=null&&s.get(Z.CHARACTER_SET)!==void 0)return s.get(Z.CHARACTER_SET).toString();const o=r.length;let u=!0,c=!0,f=!0,h=0,g=0,y=0,C=0,S=0,b=0,O=0,P=0,L=0,z=0,X=0;const te=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let re=0;re<o&&(u||c||f);re++){const $=r[re]&255;f&&(h>0?$&128?h--:f=!1:$&128&&($&64?(h++,$&32?(h++,$&16?(h++,$&8?f=!1:C++):y++):g++):f=!1)),u&&($>127&&$<160?u=!1:$>159&&($<192||$===215||$===247)&&X++),c&&(S>0?$<64||$===127||$>252?c=!1:S--:$===128||$===160||$>239?c=!1:$>160&&$<224?(b++,P=0,O++,O>L&&(L=O)):$>127?(S++,O=0,P++,P>z&&(z=P)):(O=0,P=0))}return f&&h>0&&(f=!1),c&&S>0&&(c=!1),f&&(te||g+y+C>0)?ne.UTF8:c&&(ne.ASSUME_SHIFT_JIS||L>=3||z>=3)?ne.SHIFT_JIS:u&&c?L===2&&b===2||X*10>=o?ne.SHIFT_JIS:ne.ISO88591:u?ne.ISO88591:c?ne.SHIFT_JIS:f?ne.UTF8:ne.PLATFORM_DEFAULT_ENCODING}static format(r,...s){let o=-1;function u(f,h,g,y,C,S){if(f==="%%")return"%";if(s[++o]===void 0)return;f=y?parseInt(y.substr(1)):void 0;let b=C?parseInt(C.substr(1)):void 0,O;switch(S){case"s":O=s[o];break;case"c":O=s[o][0];break;case"f":O=parseFloat(s[o]).toFixed(f);break;case"p":O=parseFloat(s[o]).toPrecision(f);break;case"e":O=parseFloat(s[o]).toExponential(f);break;case"x":O=parseInt(s[o]).toString(b||16);break;case"d":O=parseFloat(parseInt(s[o],b||10).toPrecision(f)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(b);let P=parseInt(g),L=g&&g[0]+""=="0"?"0":" ";for(;O.length<P;)O=h!==void 0?O+L:L+O;return O}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}static getBytes(r,s){return ae.encode(r,s)}static getCharCode(r,s=0){return r.charCodeAt(s)}static getCharAt(r){return String.fromCharCode(r)}}ne.SHIFT_JIS=Y.SJIS.getName(),ne.GB2312="GB2312",ne.ISO88591=Y.ISO8859_1.getName(),ne.EUC_JP="EUC_JP",ne.UTF8=Y.UTF8.getName(),ne.PLATFORM_DEFAULT_ENCODING=ne.UTF8,ne.ASSUME_SHIFT_JIS=!1;class Te{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=ne.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,s,o){for(let u=s;s<s+o;u++)this.append(r[u]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+1)}substring(r,s){return this.value.substring(r,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+s.length)}}class Me{constructor(r,s,o,u){if(this.width=r,this.height=s,this.rowSize=o,this.bits=u,s==null&&(s=r),this.height=s,r<1||s<1)throw new v("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const s=r.length,o=r[0].length,u=new Me(o,s);for(let c=0;c<s;c++){const f=r[c];for(let h=0;h<o;h++)f[h]&&u.set(h,c)}return u}static parseFromString(r,s,o){if(r===null)throw new v("stringRepresentation cannot be null");const u=new Array(r.length);let c=0,f=0,h=-1,g=0,y=0;for(;y<r.length;)if(r.charAt(y)===`
`||r.charAt(y)==="\r"){if(c>f){if(h===-1)h=c-f;else if(c-f!==h)throw new v("row lengths do not match");f=c,g++}y++}else if(r.substring(y,y+s.length)===s)y+=s.length,u[c]=!0,c++;else if(r.substring(y,y+o.length)===o)y+=o.length,u[c]=!1,c++;else throw new v("illegal character encountered: "+r.substring(y));if(c>f){if(h===-1)h=c-f;else if(c-f!==h)throw new v("row lengths do not match");g++}const C=new Me(h,g);for(let S=0;S<c;S++)u[S]&&C.set(Math.floor(S%h),Math.floor(S/h));return C}get(r,s){const o=s*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new v("input matrix dimensions do not match");const s=new M(Math.floor(this.width/32)+1),o=this.rowSize,u=this.bits;for(let c=0,f=this.height;c<f;c++){const h=c*o,g=r.getRow(c,s).getBitArray();for(let y=0;y<o;y++)u[h+y]^=g[y]}}clear(){const r=this.bits,s=r.length;for(let o=0;o<s;o++)r[o]=0}setRegion(r,s,o,u){if(s<0||r<0)throw new v("Left and top must be nonnegative");if(u<1||o<1)throw new v("Height and width must be at least 1");const c=r+o,f=s+u;if(f>this.height||c>this.width)throw new v("The region must fit inside the matrix");const h=this.rowSize,g=this.bits;for(let y=s;y<f;y++){const C=y*h;for(let S=r;S<c;S++)g[C+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(r,s){s==null||s.getSize()<this.width?s=new M(this.width):s.clear();const o=this.rowSize,u=this.bits,c=r*o;for(let f=0;f<o;f++)s.setBulk(f*32,u[c+f]);return s}setRow(r,s){k.arraycopy(s.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),s=this.getHeight();let o=new M(r),u=new M(r);for(let c=0,f=Math.floor((s+1)/2);c<f;c++)o=this.getRow(c,o),u=this.getRow(s-1-c,u),o.reverse(),u.reverse(),this.setRow(c,u),this.setRow(s-1-c,o)}getEnclosingRectangle(){const r=this.width,s=this.height,o=this.rowSize,u=this.bits;let c=r,f=s,h=-1,g=-1;for(let y=0;y<s;y++)for(let C=0;C<o;C++){const S=u[y*o+C];if(S!==0){if(y<f&&(f=y),y>g&&(g=y),C*32<c){let b=0;for(;!(S<<31-b&4294967295);)b++;C*32+b<c&&(c=C*32+b)}if(C*32+31>h){let b=31;for(;!(S>>>b);)b--;C*32+b>h&&(h=C*32+b)}}}return h<c||g<f?null:Int32Array.from([c,f,h-c+1,g-f+1])}getTopLeftOnBit(){const r=this.rowSize,s=this.bits;let o=0;for(;o<s.length&&s[o]===0;)o++;if(o===s.length)return null;const u=o/r;let c=o%r*32;const f=s[o];let h=0;for(;!(f<<31-h&4294967295);)h++;return c+=h,Int32Array.from([c,u])}getBottomRightOnBit(){const r=this.rowSize,s=this.bits;let o=s.length-1;for(;o>=0&&s[o]===0;)o--;if(o<0)return null;const u=Math.floor(o/r);let c=Math.floor(o%r)*32;const f=s[o];let h=31;for(;!(f>>>h);)h--;return c+=h,Int32Array.from([c,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof Me))return!1;const s=r;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&_.equals(this.bits,s.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+_.hashCode(this.bits),r}toString(r="X ",s="  ",o=`
`){return this.buildToString(r,s,o)}buildToString(r,s,o){let u=new Te;for(let c=0,f=this.height;c<f;c++){for(let h=0,g=this.width;h<g;h++)u.append(this.get(h,c)?r:s);u.append(o)}return u.toString()}clone(){return new Me(this.width,this.height,this.rowSize,this.bits.slice())}}class K extends m{static getNotFoundInstance(){return new K}}K.kind="NotFoundException";class Je extends D{constructor(r){super(r),this.luminances=Je.EMPTY,this.buckets=new Int32Array(Je.LUMINANCE_BUCKETS)}getBlackRow(r,s){const o=this.getLuminanceSource(),u=o.getWidth();s==null||s.getSize()<u?s=new M(u):s.clear(),this.initArrays(u);const c=o.getRow(r,this.luminances),f=this.buckets;for(let g=0;g<u;g++)f[(c[g]&255)>>Je.LUMINANCE_SHIFT]++;const h=Je.estimateBlackPoint(f);if(u<3)for(let g=0;g<u;g++)(c[g]&255)<h&&s.set(g);else{let g=c[0]&255,y=c[1]&255;for(let C=1;C<u-1;C++){const S=c[C+1]&255;(y*4-g-S)/2<h&&s.set(C),g=y,y=S}}return s}getBlackMatrix(){const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight(),u=new Me(s,o);this.initArrays(s);const c=this.buckets;for(let g=1;g<5;g++){const y=Math.floor(o*g/5),C=r.getRow(y,this.luminances),S=Math.floor(s*4/5);for(let b=Math.floor(s/5);b<S;b++){const O=C[b]&255;c[O>>Je.LUMINANCE_SHIFT]++}}const f=Je.estimateBlackPoint(c),h=r.getMatrix();for(let g=0;g<o;g++){const y=g*s;for(let C=0;C<s;C++)(h[y+C]&255)<f&&u.set(C,g)}return u}createBinarizer(r){return new Je(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const s=this.buckets;for(let o=0;o<Je.LUMINANCE_BUCKETS;o++)s[o]=0}static estimateBlackPoint(r){const s=r.length;let o=0,u=0,c=0;for(let C=0;C<s;C++)r[C]>c&&(u=C,c=r[C]),r[C]>o&&(o=r[C]);let f=0,h=0;for(let C=0;C<s;C++){const S=C-u,b=r[C]*S*S;b>h&&(f=C,h=b)}if(u>f){const C=u;u=f,f=C}if(f-u<=s/16)throw new K;let g=f-1,y=-1;for(let C=f-1;C>u;C--){const S=C-u,b=S*S*(f-C)*(o-r[C]);b>y&&(g=C,y=b)}return g<<Je.LUMINANCE_SHIFT}}Je.LUMINANCE_BITS=5,Je.LUMINANCE_SHIFT=8-Je.LUMINANCE_BITS,Je.LUMINANCE_BUCKETS=1<<Je.LUMINANCE_BITS,Je.EMPTY=Uint8ClampedArray.from([0]);class pe extends Je{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight();if(s>=pe.MINIMUM_DIMENSION&&o>=pe.MINIMUM_DIMENSION){const u=r.getMatrix();let c=s>>pe.BLOCK_SIZE_POWER;s&pe.BLOCK_SIZE_MASK&&c++;let f=o>>pe.BLOCK_SIZE_POWER;o&pe.BLOCK_SIZE_MASK&&f++;const h=pe.calculateBlackPoints(u,c,f,s,o),g=new Me(s,o);pe.calculateThresholdForBlock(u,c,f,s,o,h,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new pe(r)}static calculateThresholdForBlock(r,s,o,u,c,f,h){const g=c-pe.BLOCK_SIZE,y=u-pe.BLOCK_SIZE;for(let C=0;C<o;C++){let S=C<<pe.BLOCK_SIZE_POWER;S>g&&(S=g);const b=pe.cap(C,2,o-3);for(let O=0;O<s;O++){let P=O<<pe.BLOCK_SIZE_POWER;P>y&&(P=y);const L=pe.cap(O,2,s-3);let z=0;for(let te=-2;te<=2;te++){const re=f[b+te];z+=re[L-2]+re[L-1]+re[L]+re[L+1]+re[L+2]}const X=z/25;pe.thresholdBlock(r,P,S,X,u,h)}}}static cap(r,s,o){return r<s?s:r>o?o:r}static thresholdBlock(r,s,o,u,c,f){for(let h=0,g=o*c+s;h<pe.BLOCK_SIZE;h++,g+=c)for(let y=0;y<pe.BLOCK_SIZE;y++)(r[g+y]&255)<=u&&f.set(s+y,o+h)}static calculateBlackPoints(r,s,o,u,c){const f=c-pe.BLOCK_SIZE,h=u-pe.BLOCK_SIZE,g=new Array(o);for(let y=0;y<o;y++){g[y]=new Int32Array(s);let C=y<<pe.BLOCK_SIZE_POWER;C>f&&(C=f);for(let S=0;S<s;S++){let b=S<<pe.BLOCK_SIZE_POWER;b>h&&(b=h);let O=0,P=255,L=0;for(let X=0,te=C*u+b;X<pe.BLOCK_SIZE;X++,te+=u){for(let re=0;re<pe.BLOCK_SIZE;re++){const $=r[te+re]&255;O+=$,$<P&&(P=$),$>L&&(L=$)}if(L-P>pe.MIN_DYNAMIC_RANGE)for(X++,te+=u;X<pe.BLOCK_SIZE;X++,te+=u)for(let re=0;re<pe.BLOCK_SIZE;re++)O+=r[te+re]&255}let z=O>>pe.BLOCK_SIZE_POWER*2;if(L-P<=pe.MIN_DYNAMIC_RANGE&&(z=P/2,y>0&&S>0)){const X=(g[y-1][S]+2*g[y][S-1]+g[y-1][S-1])/4;P<X&&(z=X)}g[y][S]=z}}return g}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class se{constructor(r,s){this.width=r,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,s,o,u){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let s=new Te;for(let o=0;o<this.height;o++){const u=this.getRow(o,r);for(let c=0;c<this.width;c++){const f=u[c]&255;let h;f<64?h="#":f<128?h="+":f<192?h=".":h=" ",s.append(h)}s.append(`
`)}return s.toString()}}class me extends se{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,s){const o=this.delegate.getRow(r,s),u=this.getWidth();for(let c=0;c<u;c++)o[c]=255-(o[c]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(s);for(let u=0;u<s;u++)o[u]=255-(r[u]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,s,o,u){return new me(this.delegate.crop(r,s,o,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new me(this.delegate.rotateCounterClockwise45())}}class ve extends se{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ve.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const s=r.getContext("2d").getImageData(0,0,r.width,r.height);return ve.toGrayscaleBuffer(s.data,r.width,r.height)}static toGrayscaleBuffer(r,s,o){const u=new Uint8ClampedArray(s*o);for(let c=0,f=0,h=r.length;c<h;c+=4,f++){let g;if(r[c+3]===0)g=255;else{const C=r[c],S=r[c+1],b=r[c+2];g=306*C+601*S+117*b+512>>10}u[f]=g}return u}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth(),u=r*o;return s===null?s=this.buffer.slice(u,u+o):(s.length<o&&(s=new Uint8ClampedArray(o)),s.set(this.buffer.slice(u,u+o))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,s,o,u){return super.crop(r,s,o,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const s=this.getTempCanvasElement(),o=s.getContext("2d"),u=r*ve.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(u))*c+Math.abs(Math.sin(u))*f),g=Math.ceil(Math.abs(Math.sin(u))*c+Math.abs(Math.cos(u))*f);return s.width=h,s.height=g,o.translate(h/2,g/2),o.rotate(u),o.drawImage(this.canvas,c/-2,f/-2),this.buffer=ve.makeBufferFromCanvasImageData(s),this}invert(){return new me(this)}}ve.DEGREE_TO_RADIANS=Math.PI/180;class Ue{constructor(r,s,o){this.deviceId=r,this.label=s,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ze=(globalThis||_a||self||window||void 0)&&(globalThis||_a||self||window||void 0).__awaiter||function(A,r,s,o){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(C){try{y(o.next(C))}catch(S){f(S)}}function g(C){try{y(o.throw(C))}catch(S){f(S)}}function y(C){C.done?c(C.value):u(C.value).then(h,g)}y((o=o.apply(A,r||[])).next())})};class Hn{constructor(r,s=500,o){this.reader=r,this.timeBetweenScansMillis=s,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return ze(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const o of r){const u=o.kind==="video"?"videoinput":o.kind;if(u!=="videoinput")continue;const c=o.deviceId||o.id,f=o.label||`Video device ${s.length+1}`,h=o.groupId,g={deviceId:c,label:f,kind:u,groupId:h};s.push(g)}return s})}getVideoInputDevices(){return ze(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Ue(s.deviceId,s.label))})}findDeviceById(r){return ze(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,s){return ze(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,s)})}decodeOnceFromVideoDevice(r,s){return ze(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeOnceFromConstraints(u,s)})}decodeOnceFromConstraints(r,s){return ze(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,s)})}decodeOnceFromStream(r,s){return ze(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,s);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,s,o){return ze(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,s,o)})}decodeFromVideoDevice(r,s,o){return ze(this,void 0,void 0,function*(){let u;r?u={deviceId:{exact:r}}:u={facingMode:"environment"};const c={video:u};return yield this.decodeFromConstraints(c,s,o)})}decodeFromConstraints(r,s,o){return ze(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(u,s,o)})}decodeFromStream(r,s,o){return ze(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(r,s);return yield this.decodeContinuously(u,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,s){return ze(this,void 0,void 0,function*(){const o=this.prepareVideoElement(s);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((s,o)=>this.playVideoOnLoad(r,()=>s()))}playVideoOnLoad(r,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",s),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return ze(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,s){const o=document.getElementById(r);if(!o)throw new w(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==s.toLowerCase())throw new w(`element with id '${r}' must be an ${s} element`);return o}decodeFromImage(r,s){if(!r&&!s)throw new w("either imageElement with a src set or an url must be provided");return s&&!r?this.decodeFromImageUrl(s):this.decodeFromImageElement(r)}decodeFromVideo(r,s){if(!r&&!s)throw new w("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,s,o){if(r===void 0&&s===void 0)throw new w("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrlContinuously(s,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new w("An image element must be provided.");this.reset();const s=this.prepareImageElement(r);this.imageElement=s;let o;return this.isImageLoaded(s)?o=this.decodeOnce(s,!1,!0):o=this._decodeOnLoadImage(s),o}decodeFromVideoElement(r){const s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(r,s){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,s)}_decodeFromVideoElementSetup(r){if(!r)throw new w("A video element must be provided.");this.reset();const s=this.prepareVideoElement(r);return this.videoElement=s,s}decodeFromImageUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const o=this._decodeOnLoadImage(s);return s.src=r,o}decodeFromVideoUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElement(s);return s.src=r,o}decodeFromVideoUrlContinuously(r,s){if(!r)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(o,s);return o.src=r,u}_decodeOnLoadImage(r){return new Promise((s,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(s,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return ze(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,s){return ze(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,s)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let s;return typeof r>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(s=r),s}prepareVideoElement(r){let s;return!r&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(s=r),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(r,s=!0,o=!0){this._stopAsyncDecode=!1;const u=(c,f)=>{if(this._stopAsyncDecode){f(new K("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(r);c(h)}catch(h){const g=s&&h instanceof K,C=(h instanceof T||h instanceof j)&&o;if(g||C)return setTimeout(u,this._timeBetweenDecodingAttempts,c,f);f(h)}};return new Promise((c,f)=>u(c,f))}decodeContinuously(r,s){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(r);s(u,null),setTimeout(o,this.timeBetweenScansMillis)}catch(u){s(null,u);const c=u instanceof T||u instanceof j,f=u instanceof K;(c||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const s=this.createBinaryBitmap(r);return this.decodeBitmap(s)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,s,o){s||(s={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(r,s,o=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const s=this.getCaptureCanvas(r),o=new ve(s),u=new pe(o);return new E(u)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const s=this.createCaptureCanvas(r);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let o,u;return typeof r<"u"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,u=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,u=r.naturalHeight||r.height)),s.style.width=o+"px",s.style.height=u+"px",s.width=o,s.height=u,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,s){try{r.srcObject=s}catch{r.src=URL.createObjectURL(s)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class gt{constructor(r,s,o=s==null?0:8*s.length,u,c,f=k.currentTimeMillis()){this.text=r,this.rawBytes=s,this.numBits=o,this.resultPoints=u,this.format=c,this.timestamp=f,this.text=r,this.rawBytes=s,o==null?this.numBits=s==null?0:8*s.length:this.numBits=o,this.resultPoints=u,this.format=c,this.resultMetadata=null,f==null?this.timestamp=k.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,s)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const s=this.resultPoints;if(s===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(s.length+r.length);k.arraycopy(s,0,o,0,s.length),k.arraycopy(r,0,o,s.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ss;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ss||(ss={}));var ye=ss,ui;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ui||(ui={}));var jt=ui;class pa{constructor(r,s,o,u,c=-1,f=-1){this.rawBytes=r,this.text=s,this.byteSegments=o,this.ecLevel=u,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ga{exp(r){return this.expTable[r]}log(r){if(r===0)throw new v;return this.logTable[r]}static addOrSubtract(r,s){return r^s}}class vn{constructor(r,s){if(s.length===0)throw new v;this.field=r;const o=s.length;if(o>1&&s[0]===0){let u=1;for(;u<o&&s[u]===0;)u++;u===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-u),k.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const s=this.coefficients;let o;if(r===1){o=0;for(let f=0,h=s.length;f!==h;f++){const g=s[f];o=ga.addOrSubtract(o,g)}return o}o=s[0];const u=s.length,c=this.field;for(let f=1;f<u;f++)o=ga.addOrSubtract(c.multiply(r,o),s[f]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){const f=s;s=o,o=f}let u=new Int32Array(o.length);const c=o.length-s.length;k.arraycopy(o,0,u,0,c);for(let f=c;f<o.length;f++)u[f]=ga.addOrSubtract(s[f-c],o[f]);return new vn(this.field,u)}multiply(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const s=this.coefficients,o=s.length,u=r.coefficients,c=u.length,f=new Int32Array(o+c-1),h=this.field;for(let g=0;g<o;g++){const y=s[g];for(let C=0;C<c;C++)f[g+C]=ga.addOrSubtract(f[g+C],h.multiply(y,u[C]))}return new vn(h,f)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const s=this.coefficients.length,o=this.field,u=new Int32Array(s),c=this.coefficients;for(let f=0;f<s;f++)u[f]=o.multiply(c[f],r);return new vn(o,u)}multiplyByMonomial(r,s){if(r<0)throw new v;if(s===0)return this.field.getZero();const o=this.coefficients,u=o.length,c=new Int32Array(u+r),f=this.field;for(let h=0;h<u;h++)c[h]=f.multiply(o[h],s);return new vn(f,c)}divide(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new v("Divide by 0");const s=this.field;let o=s.getZero(),u=this;const c=r.getCoefficient(r.getDegree()),f=s.inverse(c);for(;u.getDegree()>=r.getDegree()&&!u.isZero();){const h=u.getDegree()-r.getDegree(),g=s.multiply(u.getCoefficient(u.getDegree()),f),y=r.multiplyByMonomial(h,g),C=s.buildMonomial(h,g);o=o.addOrSubtract(C),u=u.addOrSubtract(y)}return[o,u]}toString(){let r="";for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),s===0||o!==1){const u=this.field.log(o);u===0?r+="1":u===1?r+="a":(r+="a^",r+=u)}s!==0&&(s===1?r+="x":(r+="x^",r+=s))}}return r}}class Zl extends m{}Zl.kind="ArithmeticException";class Ze extends ga{constructor(r,s,o){super(),this.primitive=r,this.size=s,this.generatorBase=o;const u=new Int32Array(s);let c=1;for(let h=0;h<s;h++)u[h]=c,c*=2,c>=s&&(c^=r,c&=s-1);this.expTable=u;const f=new Int32Array(s);for(let h=0;h<s-1;h++)f[u[h]]=h;this.logTable=f,this.zero=new vn(this,Int32Array.from([0])),this.one=new vn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new v;if(s===0)return this.zero;const o=new Int32Array(r+1);return o[0]=s,new vn(this,o)}inverse(r){if(r===0)throw new Zl;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}Ze.AZTEC_DATA_12=new Ze(4201,4096,1),Ze.AZTEC_DATA_10=new Ze(1033,1024,1),Ze.AZTEC_DATA_6=new Ze(67,64,1),Ze.AZTEC_PARAM=new Ze(19,16,1),Ze.QR_CODE_FIELD_256=new Ze(285,256,0),Ze.DATA_MATRIX_FIELD_256=new Ze(301,256,1),Ze.AZTEC_DATA_8=Ze.DATA_MATRIX_FIELD_256,Ze.MAXICODE_FIELD_64=Ze.AZTEC_DATA_6;class Zs extends m{}Zs.kind="ReedSolomonException";class wr extends m{}wr.kind="IllegalStateException";class ma{constructor(r){this.field=r}decode(r,s){const o=this.field,u=new vn(o,r),c=new Int32Array(s);let f=!0;for(let O=0;O<s;O++){const P=u.evaluateAt(o.exp(O+o.getGeneratorBase()));c[c.length-1-O]=P,P!==0&&(f=!1)}if(f)return;const h=new vn(o,c),g=this.runEuclideanAlgorithm(o.buildMonomial(s,1),h,s),y=g[0],C=g[1],S=this.findErrorLocations(y),b=this.findErrorMagnitudes(C,S);for(let O=0;O<S.length;O++){const P=r.length-1-o.log(S[O]);if(P<0)throw new Zs("Bad error location");r[P]=Ze.addOrSubtract(r[P],b[O])}}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){const O=r;r=s,s=O}const u=this.field;let c=r,f=s,h=u.getZero(),g=u.getOne();for(;f.getDegree()>=(o/2|0);){let O=c,P=h;if(c=f,h=g,c.isZero())throw new Zs("r_{i-1} was zero");f=O;let L=u.getZero();const z=c.getCoefficient(c.getDegree()),X=u.inverse(z);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const te=f.getDegree()-c.getDegree(),re=u.multiply(f.getCoefficient(f.getDegree()),X);L=L.addOrSubtract(u.buildMonomial(te,re)),f=f.addOrSubtract(c.multiplyByMonomial(te,re))}if(g=L.multiply(h).addOrSubtract(P),f.getDegree()>=c.getDegree())throw new wr("Division algorithm failed to reduce polynomial?")}const y=g.getCoefficient(0);if(y===0)throw new Zs("sigmaTilde(0) was zero");const C=u.inverse(y),S=g.multiplyScalar(C),b=f.multiplyScalar(C);return[S,b]}findErrorLocations(r){const s=r.getDegree();if(s===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(s);let u=0;const c=this.field;for(let f=1;f<c.getSize()&&u<s;f++)r.evaluateAt(f)===0&&(o[u]=c.inverse(f),u++);if(u!==s)throw new Zs("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,s){const o=s.length,u=new Int32Array(o),c=this.field;for(let f=0;f<o;f++){const h=c.inverse(s[f]);let g=1;for(let y=0;y<o;y++)if(f!==y){const C=c.multiply(s[y],h),S=C&1?C&-2:C|1;g=c.multiply(g,S)}u[f]=c.multiply(r.evaluateAt(h),c.inverse(g)),c.getGeneratorBase()!==0&&(u[f]=c.multiply(u[f],h))}return u}}var Xt;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(Xt||(Xt={}));class it{decode(r){this.ddata=r;let s=r.getBits(),o=this.extractBits(s),u=this.correctBits(o),c=it.convertBoolArrayToByteArray(u),f=it.getEncodedData(u),h=new pa(c,f,null,null);return h.setNumBits(u.length),h}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let s=r.length,o=Xt.UPPER,u=Xt.UPPER,c="",f=0;for(;f<s;)if(u===Xt.BINARY){if(s-f<5)break;let h=it.readCode(r,f,5);if(f+=5,h===0){if(s-f<11)break;h=it.readCode(r,f,11)+31,f+=11}for(let g=0;g<h;g++){if(s-f<8){f=s;break}const y=it.readCode(r,f,8);c+=ne.castAsNonUtf8Char(y),f+=8}u=o}else{let h=u===Xt.DIGIT?4:5;if(s-f<h)break;let g=it.readCode(r,f,h);f+=h;let y=it.getCharacter(u,g);y.startsWith("CTRL_")?(o=u,u=it.getTable(y.charAt(5)),y.charAt(6)==="L"&&(o=u)):(c+=y,u=o)}return c}static getTable(r){switch(r){case"L":return Xt.LOWER;case"P":return Xt.PUNCT;case"M":return Xt.MIXED;case"D":return Xt.DIGIT;case"B":return Xt.BINARY;case"U":default:return Xt.UPPER}}static getCharacter(r,s){switch(r){case Xt.UPPER:return it.UPPER_TABLE[s];case Xt.LOWER:return it.LOWER_TABLE[s];case Xt.MIXED:return it.MIXED_TABLE[s];case Xt.PUNCT:return it.PUNCT_TABLE[s];case Xt.DIGIT:return it.DIGIT_TABLE[s];default:throw new wr("Bad table")}}correctBits(r){let s,o;this.ddata.getNbLayers()<=2?(o=6,s=Ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,s=Ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,s=Ze.AZTEC_DATA_10):(o=12,s=Ze.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),c=r.length/o;if(c<u)throw new j;let f=r.length%o,h=new Int32Array(c);for(let b=0;b<c;b++,f+=o)h[b]=it.readCode(r,f,o);try{new ma(s).decode(h,c-u)}catch(b){throw new j(b)}let g=(1<<o)-1,y=0;for(let b=0;b<u;b++){let O=h[b];if(O===0||O===g)throw new j;(O===1||O===g-1)&&y++}let C=new Array(u*o-y),S=0;for(let b=0;b<u;b++){let O=h[b];if(O===1||O===g-1)C.fill(O>1,S,S+o-1),S+=o-1;else for(let P=o-1;P>=0;--P)C[S++]=(O&1<<P)!==0}return C}extractBits(r){let s=this.ddata.isCompact(),o=this.ddata.getNbLayers(),u=(s?11:14)+o*4,c=new Int32Array(u),f=new Array(this.totalBitsInLayer(o,s));if(s)for(let h=0;h<c.length;h++)c[h]=h;else{let h=u+1+2*I.truncDivision(I.truncDivision(u,2)-1,15),g=u/2,y=I.truncDivision(h,2);for(let C=0;C<g;C++){let S=C+I.truncDivision(C,15);c[g-C-1]=y-S-1,c[g+C]=y+S+1}}for(let h=0,g=0;h<o;h++){let y=(o-h)*4+(s?9:12),C=h*2,S=u-1-C;for(let b=0;b<y;b++){let O=b*2;for(let P=0;P<2;P++)f[g+O+P]=r.get(c[C+P],c[C+b]),f[g+2*y+O+P]=r.get(c[C+b],c[S-P]),f[g+4*y+O+P]=r.get(c[S-P],c[S-b]),f[g+6*y+O+P]=r.get(c[S-b],c[C+P])}g+=y*8}return f}static readCode(r,s,o){let u=0;for(let c=s;c<s+o;c++)u<<=1,r[c]&&(u|=1);return u}static readByte(r,s){let o=r.length-s;return o>=8?it.readCode(r,s,8):it.readCode(r,s,o)<<8-o}static convertBoolArrayToByteArray(r){let s=new Uint8Array((r.length+7)/8);for(let o=0;o<s.length;o++)s[o]=it.readByte(r,8*o);return s}totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}it.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],it.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],it.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],it.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],it.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class We{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,s,o,u){const c=r-o,f=s-u;return Math.sqrt(c*c+f*f)}static sum(r){let s=0;for(let o=0,u=r.length;o!==u;o++){const c=r[o];s+=c}return s}}class Yl{static floatToIntBits(r){return r}}Yl.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ge{constructor(r,s){this.x=r,this.y=s}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof ge){const s=r;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Yl.floatToIntBits(this.x)+Yl.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const s=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),u=this.distance(r[0],r[2]);let c,f,h;if(o>=s&&o>=u?(f=r[0],c=r[1],h=r[2]):u>=o&&u>=s?(f=r[1],c=r[0],h=r[2]):(f=r[2],c=r[0],h=r[1]),this.crossProductZ(c,f,h)<0){const g=c;c=h,h=g}r[0]=c,r[1]=f,r[2]=h}static distance(r,s){return We.distance(r.x,r.y,s.x,s.y)}static crossProductZ(r,s,o){const u=s.x,c=s.y;return(o.x-u)*(r.y-c)-(o.y-c)*(r.x-u)}}class Kl{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Q1 extends Kl{constructor(r,s,o,u,c){super(r,s),this.compact=o,this.nbDatablocks=u,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class jr{constructor(r,s,o,u){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),s==null&&(s=jr.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),u==null&&(u=r.getHeight()/2|0);const c=s/2|0;if(this.leftInit=o-c,this.rightInit=o+c,this.upInit=u-c,this.downInit=u+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new K}detect(){let r=this.leftInit,s=this.rightInit,o=this.upInit,u=this.downInit,c=!1,f=!0,h=!1,g=!1,y=!1,C=!1,S=!1;const b=this.width,O=this.height;for(;f;){f=!1;let P=!0;for(;(P||!g)&&s<b;)P=this.containsBlackPoint(o,u,s,!1),P?(s++,f=!0,g=!0):g||s++;if(s>=b){c=!0;break}let L=!0;for(;(L||!y)&&u<O;)L=this.containsBlackPoint(r,s,u,!0),L?(u++,f=!0,y=!0):y||u++;if(u>=O){c=!0;break}let z=!0;for(;(z||!C)&&r>=0;)z=this.containsBlackPoint(o,u,r,!1),z?(r--,f=!0,C=!0):C||r--;if(r<0){c=!0;break}let X=!0;for(;(X||!S)&&o>=0;)X=this.containsBlackPoint(r,s,o,!0),X?(o--,f=!0,S=!0):S||o--;if(o<0){c=!0;break}f&&(h=!0)}if(!c&&h){const P=s-r;let L=null;for(let re=1;L===null&&re<P;re++)L=this.getBlackPointOnSegment(r,u-re,r+re,u);if(L==null)throw new K;let z=null;for(let re=1;z===null&&re<P;re++)z=this.getBlackPointOnSegment(r,o+re,r+re,o);if(z==null)throw new K;let X=null;for(let re=1;X===null&&re<P;re++)X=this.getBlackPointOnSegment(s,o+re,s-re,o);if(X==null)throw new K;let te=null;for(let re=1;te===null&&re<P;re++)te=this.getBlackPointOnSegment(s,u-re,s-re,u);if(te==null)throw new K;return this.centerEdges(te,L,X,z)}else throw new K}getBlackPointOnSegment(r,s,o,u){const c=We.round(We.distance(r,s,o,u)),f=(o-r)/c,h=(u-s)/c,g=this.image;for(let y=0;y<c;y++){const C=We.round(r+y*f),S=We.round(s+y*h);if(g.get(C,S))return new ge(C,S)}return null}centerEdges(r,s,o,u){const c=r.getX(),f=r.getY(),h=s.getX(),g=s.getY(),y=o.getX(),C=o.getY(),S=u.getX(),b=u.getY(),O=jr.CORR;return c<this.width/2?[new ge(S-O,b+O),new ge(h+O,g+O),new ge(y-O,C-O),new ge(c+O,f-O)]:[new ge(S+O,b+O),new ge(h+O,g-O),new ge(y-O,C+O),new ge(c-O,f-O)]}containsBlackPoint(r,s,o,u){const c=this.image;if(u){for(let f=r;f<=s;f++)if(c.get(f,o))return!0}else for(let f=r;f<=s;f++)if(c.get(o,f))return!0;return!1}}jr.INIT_SIZE=10,jr.CORR=1;class ff{static checkAndNudgePoints(r,s){const o=r.getWidth(),u=r.getHeight();let c=!0;for(let f=0;f<s.length&&c;f+=2){const h=Math.floor(s[f]),g=Math.floor(s[f+1]);if(h<-1||h>o||g<-1||g>u)throw new K;c=!1,h===-1?(s[f]=0,c=!0):h===o&&(s[f]=o-1,c=!0),g===-1?(s[f+1]=0,c=!0):g===u&&(s[f+1]=u-1,c=!0)}c=!0;for(let f=s.length-2;f>=0&&c;f-=2){const h=Math.floor(s[f]),g=Math.floor(s[f+1]);if(h<-1||h>o||g<-1||g>u)throw new K;c=!1,h===-1?(s[f]=0,c=!0):h===o&&(s[f]=o-1,c=!0),g===-1?(s[f+1]=0,c=!0):g===u&&(s[f+1]=u-1,c=!0)}}}class or{constructor(r,s,o,u,c,f,h,g,y){this.a11=r,this.a21=s,this.a31=o,this.a12=u,this.a22=c,this.a32=f,this.a13=h,this.a23=g,this.a33=y}static quadrilateralToQuadrilateral(r,s,o,u,c,f,h,g,y,C,S,b,O,P,L,z){const X=or.quadrilateralToSquare(r,s,o,u,c,f,h,g);return or.squareToQuadrilateral(y,C,S,b,O,P,L,z).times(X)}transformPoints(r){const s=r.length,o=this.a11,u=this.a12,c=this.a13,f=this.a21,h=this.a22,g=this.a23,y=this.a31,C=this.a32,S=this.a33;for(let b=0;b<s;b+=2){const O=r[b],P=r[b+1],L=c*O+g*P+S;r[b]=(o*O+f*P+y)/L,r[b+1]=(u*O+h*P+C)/L}}transformPointsWithValues(r,s){const o=this.a11,u=this.a12,c=this.a13,f=this.a21,h=this.a22,g=this.a23,y=this.a31,C=this.a32,S=this.a33,b=r.length;for(let O=0;O<b;O++){const P=r[O],L=s[O],z=c*P+g*L+S;r[O]=(o*P+f*L+y)/z,s[O]=(u*P+h*L+C)/z}}static squareToQuadrilateral(r,s,o,u,c,f,h,g){const y=r-o+c-h,C=s-u+f-g;if(y===0&&C===0)return new or(o-r,c-o,r,u-s,f-u,s,0,0,1);{const S=o-c,b=h-c,O=u-f,P=g-f,L=S*P-b*O,z=(y*P-b*C)/L,X=(S*C-y*O)/L;return new or(o-r+z*o,h-r+X*h,r,u-s+z*u,g-s+X*g,s,z,X,1)}}static quadrilateralToSquare(r,s,o,u,c,f,h,g){return or.squareToQuadrilateral(r,s,o,u,c,f,h,g).buildAdjoint()}buildAdjoint(){return new or(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new or(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class q1 extends ff{sampleGrid(r,s,o,u,c,f,h,g,y,C,S,b,O,P,L,z,X,te,re){const $=or.quadrilateralToQuadrilateral(u,c,f,h,g,y,C,S,b,O,P,L,z,X,te,re);return this.sampleGridWithTransform(r,s,o,$)}sampleGridWithTransform(r,s,o,u){if(s<=0||o<=0)throw new K;const c=new Me(s,o),f=new Float32Array(2*s);for(let h=0;h<o;h++){const g=f.length,y=h+.5;for(let C=0;C<g;C+=2)f[C]=C/2+.5,f[C+1]=y;u.transformPoints(f),ff.checkAndNudgePoints(r,f);try{for(let C=0;C<g;C+=2)r.get(Math.floor(f[C]),Math.floor(f[C+1]))&&c.set(C/2,h)}catch{throw new K}}return c}}class ci{static setGridSampler(r){ci.gridSampler=r}static getInstance(){return ci.gridSampler}}ci.gridSampler=new q1;class cn{constructor(r,s){this.x=r,this.y=s}toResultPoint(){return new ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class $1{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let s=this.getMatrixCenter(),o=this.getBullsEyeCorners(s);if(r){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let u=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),c=this.getMatrixCornerPoints(o);return new Q1(u,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new K;let s=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],s),this.sampleLine(r[1],r[2],s),this.sampleLine(r[2],r[3],s),this.sampleLine(r[3],r[0],s)]);this.shift=this.getRotation(o,s);let u=0;for(let f=0;f<4;f++){let h=o[(this.shift+f)%4];this.compact?(u<<=7,u+=h>>1&127):(u<<=10,u+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(r,s){let o=0;r.forEach((u,c,f)=>{let h=(u>>s-2<<1)+(u&1);o=(o<<3)+h}),o=((o&1)<<11)+(o>>1);for(let u=0;u<4;u++)if(I.bitCount(o^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new K}getCorrectedParameterData(r,s){let o,u;s?(o=7,u=2):(o=10,u=4);let c=o-u,f=new Int32Array(o);for(let g=o-1;g>=0;--g)f[g]=r&15,r>>=4;try{new ma(Ze.AZTEC_PARAM).decode(f,c)}catch{throw new K}let h=0;for(let g=0;g<u;g++)h=(h<<4)+f[g];return h}getBullsEyeCorners(r){let s=r,o=r,u=r,c=r,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(s,f,1,-1),b=this.getFirstDifferent(o,f,1,1),O=this.getFirstDifferent(u,f,-1,1),P=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(P,S)*this.nbCenterLayers/(this.distancePoint(c,s)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(S,b,O,P))break}s=S,o=b,u=O,c=P,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new K;this.compact=this.nbCenterLayers===5;let h=new ge(s.getX()+.5,s.getY()-.5),g=new ge(o.getX()+.5,o.getY()+.5),y=new ge(u.getX()-.5,u.getY()+.5),C=new ge(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,g,y,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,s,o,u;try{let h=new jr(this.image).detect();r=h[0],s=h[1],o=h[2],u=h[3]}catch{let g=this.image.getWidth()/2,y=this.image.getHeight()/2;r=this.getFirstDifferent(new cn(g+7,y-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new cn(g+7,y+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new cn(g-7,y+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new cn(g-7,y-7),!1,-1,-1).toResultPoint()}let c=We.round((r.getX()+u.getX()+s.getX()+o.getX())/4),f=We.round((r.getY()+u.getY()+s.getY()+o.getY())/4);try{let h=new jr(this.image,15,c,f).detect();r=h[0],s=h[1],o=h[2],u=h[3]}catch{r=this.getFirstDifferent(new cn(c+7,f-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new cn(c+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new cn(c-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new cn(c-7,f-7),!1,-1,-1).toResultPoint()}return c=We.round((r.getX()+u.getX()+s.getX()+o.getX())/4),f=We.round((r.getY()+u.getY()+s.getY()+o.getY())/4),new cn(c,f)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,s,o,u,c){let f=ci.getInstance(),h=this.getDimension(),g=h/2-this.nbCenterLayers,y=h/2+this.nbCenterLayers;return f.sampleGrid(r,h,h,g,g,y,g,y,y,g,y,s.getX(),s.getY(),o.getX(),o.getY(),u.getX(),u.getY(),c.getX(),c.getY())}sampleLine(r,s,o){let u=0,c=this.distanceResultPoint(r,s),f=c/o,h=r.getX(),g=r.getY(),y=f*(s.getX()-r.getX())/c,C=f*(s.getY()-r.getY())/c;for(let S=0;S<o;S++)this.image.get(We.round(h+S*y),We.round(g+S*C))&&(u|=1<<o-S-1);return u}isWhiteOrBlackRectangle(r,s,o,u){let c=3;r=new cn(r.getX()-c,r.getY()+c),s=new cn(s.getX()-c,s.getY()-c),o=new cn(o.getX()+c,o.getY()-c),u=new cn(u.getX()+c,u.getY()+c);let f=this.getColor(u,r);if(f===0)return!1;let h=this.getColor(r,s);return h!==f||(h=this.getColor(s,o),h!==f)?!1:(h=this.getColor(o,u),h===f)}getColor(r,s){let o=this.distancePoint(r,s),u=(s.getX()-r.getX())/o,c=(s.getY()-r.getY())/o,f=0,h=r.getX(),g=r.getY(),y=this.image.get(r.getX(),r.getY()),C=Math.ceil(o);for(let b=0;b<C;b++)h+=u,g+=c,this.image.get(We.round(h),We.round(g))!==y&&f++;let S=f/o;return S>.1&&S<.9?0:S<=.1===y?1:-1}getFirstDifferent(r,s,o,u){let c=r.getX()+o,f=r.getY()+u;for(;this.isValid(c,f)&&this.image.get(c,f)===s;)c+=o,f+=u;for(c-=o,f-=u;this.isValid(c,f)&&this.image.get(c,f)===s;)c+=o;for(c-=o;this.isValid(c,f)&&this.image.get(c,f)===s;)f+=u;return f-=u,new cn(c,f)}expandSquare(r,s,o){let u=o/(2*s),c=r[0].getX()-r[2].getX(),f=r[0].getY()-r[2].getY(),h=(r[0].getX()+r[2].getX())/2,g=(r[0].getY()+r[2].getY())/2,y=new ge(h+u*c,g+u*f),C=new ge(h-u*c,g-u*f);c=r[1].getX()-r[3].getX(),f=r[1].getY()-r[3].getY(),h=(r[1].getX()+r[3].getX())/2,g=(r[1].getY()+r[3].getY())/2;let S=new ge(h+u*c,g+u*f),b=new ge(h-u*c,g-u*f);return[y,S,C,b]}isValid(r,s){return r>=0&&r<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(r){let s=We.round(r.getX()),o=We.round(r.getY());return this.isValid(s,o)}distancePoint(r,s){return We.distance(r.getX(),r.getY(),s.getX(),s.getY())}distanceResultPoint(r,s){return We.distance(r.getX(),r.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class Ql{decode(r,s=null){let o=null,u=new $1(r.getBlackMatrix()),c=null,f=null;try{let C=u.detectMirror(!1);c=C.getPoints(),this.reportFoundResultPoints(s,c),f=new it().decode(C)}catch(C){o=C}if(f==null)try{let C=u.detectMirror(!0);c=C.getPoints(),this.reportFoundResultPoints(s,c),f=new it().decode(C)}catch(C){throw o??C}let h=new gt(f.getText(),f.getRawBytes(),f.getNumBits(),c,ye.AZTEC,k.currentTimeMillis()),g=f.getByteSegments();g!=null&&h.putMetadata(jt.BYTE_SEGMENTS,g);let y=f.getECLevel();return y!=null&&h.putMetadata(jt.ERROR_CORRECTION_LEVEL,y),h}reportFoundResultPoints(r,s){if(r!=null){let o=r.get(Z.NEED_RESULT_POINT_CALLBACK);o!=null&&s.forEach((u,c,f)=>{o.foundPossibleResultPoint(u)})}}reset(){}}class R3 extends Hn{constructor(r=500){super(new Ql,r)}}class Ot{decode(r,s){try{return this.doDecode(r,s)}catch{if(s&&s.get(Z.TRY_HARDER)===!0&&r.isRotateSupported()){const c=r.rotateCounterClockwise(),f=this.doDecode(c,s),h=f.getResultMetadata();let g=270;h!==null&&h.get(jt.ORIENTATION)===!0&&(g=g+h.get(jt.ORIENTATION)%360),f.putMetadata(jt.ORIENTATION,g);const y=f.getResultPoints();if(y!==null){const C=c.getHeight();for(let S=0;S<y.length;S++)y[S]=new ge(C-y[S].getY()-1,y[S].getX())}return f}else throw new K}}reset(){}doDecode(r,s){const o=r.getWidth(),u=r.getHeight();let c=new M(o);const f=s&&s.get(Z.TRY_HARDER)===!0,h=Math.max(1,u>>(f?8:5));let g;f?g=u:g=15;const y=Math.trunc(u/2);for(let C=0;C<g;C++){const S=Math.trunc((C+1)/2),b=(C&1)===0,O=y+h*(b?S:-S);if(O<0||O>=u)break;try{c=r.getBlackRow(O,c)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(c.reverse(),s&&s.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;s.forEach((z,X)=>L.set(X,z)),L.delete(Z.NEED_RESULT_POINT_CALLBACK),s=L}try{const L=this.decodeRow(O,c,s);if(P===1){L.putMetadata(jt.ORIENTATION,180);const z=L.getResultPoints();z!==null&&(z[0]=new ge(o-z[0].getX()-1,z[0].getY()),z[1]=new ge(o-z[1].getX()-1,z[1].getY()))}return L}catch{}}}throw new K}static recordPattern(r,s,o){const u=o.length;for(let y=0;y<u;y++)o[y]=0;const c=r.getSize();if(s>=c)throw new K;let f=!r.get(s),h=0,g=s;for(;g<c;){if(r.get(g)!==f)o[h]++;else{if(++h===u)break;o[h]=1,f=!f}g++}if(!(h===u||h===u-1&&g===c))throw new K}static recordPatternInReverse(r,s,o){let u=o.length,c=r.get(s);for(;s>0&&u>=0;)r.get(--s)!==c&&(u--,c=!c);if(u>=0)throw new K;Ot.recordPattern(r,s+1,o)}static patternMatchVariance(r,s,o){const u=r.length;let c=0,f=0;for(let y=0;y<u;y++)c+=r[y],f+=s[y];if(c<f)return Number.POSITIVE_INFINITY;const h=c/f;o*=h;let g=0;for(let y=0;y<u;y++){const C=r[y],S=s[y]*h,b=C>S?C-S:S-C;if(b>o)return Number.POSITIVE_INFINITY;g+=b}return g/c}}class oe extends Ot{static findStartPattern(r){const s=r.getSize(),o=r.getNextSet(0);let u=0,c=Int32Array.from([0,0,0,0,0,0]),f=o,h=!1;const g=6;for(let y=o;y<s;y++)if(r.get(y)!==h)c[u]++;else{if(u===g-1){let C=oe.MAX_AVG_VARIANCE,S=-1;for(let b=oe.CODE_START_A;b<=oe.CODE_START_C;b++){const O=Ot.patternMatchVariance(c,oe.CODE_PATTERNS[b],oe.MAX_INDIVIDUAL_VARIANCE);O<C&&(C=O,S=b)}if(S>=0&&r.isRange(Math.max(0,f-(y-f)/2),f,!1))return Int32Array.from([f,y,S]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,h=!h}throw new K}static decodeCode(r,s,o){Ot.recordPattern(r,o,s);let u=oe.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<oe.CODE_PATTERNS.length;f++){const h=oe.CODE_PATTERNS[f],g=this.patternMatchVariance(s,h,oe.MAX_INDIVIDUAL_VARIANCE);g<u&&(u=g,c=f)}if(c>=0)return c;throw new K}decodeRow(r,s,o){const u=o&&o.get(Z.ASSUME_GS1)===!0,c=oe.findStartPattern(s),f=c[2];let h=0;const g=new Uint8Array(20);g[h++]=f;let y;switch(f){case oe.CODE_START_A:y=oe.CODE_CODE_A;break;case oe.CODE_START_B:y=oe.CODE_CODE_B;break;case oe.CODE_START_C:y=oe.CODE_CODE_C;break;default:throw new j}let C=!1,S=!1,b="",O=c[0],P=c[1];const L=Int32Array.from([0,0,0,0,0,0]);let z=0,X=0,te=f,re=0,$=!0,Le=!1,Ne=!1;for(;!C;){const no=S;switch(S=!1,z=X,X=oe.decodeCode(s,L,P),g[h++]=X,X!==oe.CODE_STOP&&($=!0),X!==oe.CODE_STOP&&(re++,te+=re*X),O=P,P+=L.reduce((sC,oC)=>sC+oC,0),X){case oe.CODE_START_A:case oe.CODE_START_B:case oe.CODE_START_C:throw new j}switch(y){case oe.CODE_CODE_A:if(X<64)Ne===Le?b+=String.fromCharCode(32+X):b+=String.fromCharCode(32+X+128),Ne=!1;else if(X<96)Ne===Le?b+=String.fromCharCode(X-64):b+=String.fromCharCode(X+64),Ne=!1;else switch(X!==oe.CODE_STOP&&($=!1),X){case oe.CODE_FNC_1:u&&(b.length===0?b+="]C1":b+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_A:!Le&&Ne?(Le=!0,Ne=!1):Le&&Ne?(Le=!1,Ne=!1):Ne=!0;break;case oe.CODE_SHIFT:S=!0,y=oe.CODE_CODE_B;break;case oe.CODE_CODE_B:y=oe.CODE_CODE_B;break;case oe.CODE_CODE_C:y=oe.CODE_CODE_C;break;case oe.CODE_STOP:C=!0;break}break;case oe.CODE_CODE_B:if(X<96)Ne===Le?b+=String.fromCharCode(32+X):b+=String.fromCharCode(32+X+128),Ne=!1;else switch(X!==oe.CODE_STOP&&($=!1),X){case oe.CODE_FNC_1:u&&(b.length===0?b+="]C1":b+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_B:!Le&&Ne?(Le=!0,Ne=!1):Le&&Ne?(Le=!1,Ne=!1):Ne=!0;break;case oe.CODE_SHIFT:S=!0,y=oe.CODE_CODE_A;break;case oe.CODE_CODE_A:y=oe.CODE_CODE_A;break;case oe.CODE_CODE_C:y=oe.CODE_CODE_C;break;case oe.CODE_STOP:C=!0;break}break;case oe.CODE_CODE_C:if(X<100)X<10&&(b+="0"),b+=X;else switch(X!==oe.CODE_STOP&&($=!1),X){case oe.CODE_FNC_1:u&&(b.length===0?b+="]C1":b+="");break;case oe.CODE_CODE_A:y=oe.CODE_CODE_A;break;case oe.CODE_CODE_B:y=oe.CODE_CODE_B;break;case oe.CODE_STOP:C=!0;break}break}no&&(y=y===oe.CODE_CODE_A?oe.CODE_CODE_B:oe.CODE_CODE_A)}const Sn=P-O;if(P=s.getNextUnset(P),!s.isRange(P,Math.min(s.getSize(),P+(P-O)/2),!1))throw new K;if(te-=re*z,te%103!==z)throw new T;const lr=b.length;if(lr===0)throw new K;lr>0&&$&&(y===oe.CODE_CODE_C?b=b.substring(0,lr-2):b=b.substring(0,lr-1));const bn=(c[1]+c[0])/2,rt=O+Sn/2,Kt=g.length,Dn=new Uint8Array(Kt);for(let no=0;no<Kt;no++)Dn[no]=g[no];const to=[new ge(bn,r),new ge(rt,r)];return new gt(b,Dn,0,to,ye.CODE_128,new Date().getTime())}}oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],oe.MAX_AVG_VARIANCE=.25,oe.MAX_INDIVIDUAL_VARIANCE=.7,oe.CODE_SHIFT=98,oe.CODE_CODE_C=99,oe.CODE_CODE_B=100,oe.CODE_CODE_A=101,oe.CODE_FNC_1=102,oe.CODE_FNC_2=97,oe.CODE_FNC_3=96,oe.CODE_FNC_4_A=101,oe.CODE_FNC_4_B=100,oe.CODE_START_A=103,oe.CODE_START_B=104,oe.CODE_START_C=105,oe.CODE_STOP=106;class Mt extends Ot{constructor(r=!1,s=!1){super(),this.usingCheckDigit=r,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,s,o){let u=this.counters;u.fill(0),this.decodeRowResult="";let c=Mt.findAsteriskPattern(s,u),f=s.getNextSet(c[1]),h=s.getSize(),g,y;do{Mt.recordPattern(s,f,u);let L=Mt.toNarrowWidePattern(u);if(L<0)throw new K;g=Mt.patternToChar(L),this.decodeRowResult+=g,y=f;for(let z of u)f+=z;f=s.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let L of u)C+=L;let S=f-y-C;if(f!==h&&S*2<C)throw new K;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,z=0;for(let X=0;X<L;X++)z+=Mt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(X));if(this.decodeRowResult.charAt(L)!==Mt.ALPHABET_STRING.charAt(z%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new K;let b;this.extendedMode?b=Mt.decodeExtended(this.decodeRowResult):b=this.decodeRowResult;let O=(c[1]+c[0])/2,P=y+C/2;return new gt(b,null,0,[new ge(O,r),new ge(P,r)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(r,s){let o=r.getSize(),u=r.getNextSet(0),c=0,f=u,h=!1,g=s.length;for(let y=u;y<o;y++)if(r.get(y)!==h)s[c]++;else{if(c===g-1){if(this.toNarrowWidePattern(s)===Mt.ASTERISK_ENCODING&&r.isRange(Math.max(0,f-Math.floor((y-f)/2)),f,!1))return[f,y];f+=s[0]+s[1],s.copyWithin(0,2,2+c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,h=!h}throw new K}static toNarrowWidePattern(r){let s=r.length,o=0,u;do{let c=2147483647;for(let g of r)g<c&&g>o&&(c=g);o=c,u=0;let f=0,h=0;for(let g=0;g<s;g++){let y=r[g];y>o&&(h|=1<<s-1-g,u++,f+=y)}if(u===3){for(let g=0;g<s&&u>0;g++){let y=r[g];if(y>o&&(u--,y*2>=f))return-1}return h}}while(u>3);return-1}static patternToChar(r){for(let s=0;s<Mt.CHARACTER_ENCODINGS.length;s++)if(Mt.CHARACTER_ENCODINGS[s]===r)return Mt.ALPHABET_STRING.charAt(s);if(r===Mt.ASTERISK_ENCODING)return"*";throw new K}static decodeExtended(r){let s=r.length,o="";for(let u=0;u<s;u++){let c=r.charAt(u);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=r.charAt(u+1),h="\0";switch(c){case"+":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)+32);else throw new j;break;case"$":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)-64);else throw new j;break;case"%":if(f>="A"&&f<="E")h=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")h=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")h=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")h="\0";else if(f==="V")h="@";else if(f==="W")h="`";else if(f==="X"||f==="Y"||f==="Z")h="";else throw new j;break;case"/":if(f>="A"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")h=":";else throw new j;break}o+=h,u++}else o+=c}return o}}Mt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Mt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Mt.ASTERISK_ENCODING=148;class tt extends Ot{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,s,o){let u=this.decodeStart(s),c=this.decodeEnd(s),f=new Te;tt.decodeMiddle(s,u[1],c[0],f);let h=f.toString(),g=null;o!=null&&(g=o.get(Z.ALLOWED_LENGTHS)),g==null&&(g=tt.DEFAULT_ALLOWED_LENGTHS);let y=h.length,C=!1,S=0;for(let P of g){if(y===P){C=!0;break}P>S&&(S=P)}if(!C&&y>S&&(C=!0),!C)throw new j;const b=[new ge(u[1],r),new ge(c[0],r)];return new gt(h,null,0,b,ye.ITF,new Date().getTime())}static decodeMiddle(r,s,o,u){let c=new Int32Array(10),f=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),f.fill(0),h.fill(0);s<o;){Ot.recordPattern(r,s,c);for(let y=0;y<5;y++){let C=2*y;f[y]=c[C],h[y]=c[C+1]}let g=tt.decodeDigit(f);u.append(g.toString()),g=this.decodeDigit(h),u.append(g.toString()),c.forEach(function(y){s+=y})}}decodeStart(r){let s=tt.skipWhiteSpace(r),o=tt.findGuardPattern(r,s,tt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,s){let o=this.narrowLineWidth*10;o=o<s?o:s;for(let u=s-1;o>0&&u>=0&&!r.get(u);u--)o--;if(o!==0)throw new K}static skipWhiteSpace(r){const s=r.getSize(),o=r.getNextSet(0);if(o===s)throw new K;return o}decodeEnd(r){r.reverse();try{let s=tt.skipWhiteSpace(r),o;try{o=tt.findGuardPattern(r,s,tt.END_PATTERN_REVERSED[0])}catch(c){c instanceof K&&(o=tt.findGuardPattern(r,s,tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let u=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-u,o}finally{r.reverse()}}static findGuardPattern(r,s,o){let u=o.length,c=new Int32Array(u),f=r.getSize(),h=!1,g=0,y=s;c.fill(0);for(let C=s;C<f;C++)if(r.get(C)!==h)c[g]++;else{if(g===u-1){if(Ot.patternMatchVariance(c,o,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return[y,C];y+=c[0]+c[1],k.arraycopy(c,2,c,0,g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,h=!h}throw new K}static decodeDigit(r){let s=tt.MAX_AVG_VARIANCE,o=-1,u=tt.PATTERNS.length;for(let c=0;c<u;c++){let f=tt.PATTERNS[c],h=Ot.patternMatchVariance(r,f,tt.MAX_INDIVIDUAL_VARIANCE);h<s?(s=h,o=c):h===s&&(o=-1)}if(o>=0)return o%10;throw new K}}tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],tt.MAX_AVG_VARIANCE=.38,tt.MAX_INDIVIDUAL_VARIANCE=.5,tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],tt.START_PATTERN=Int32Array.from([1,1,1,1]),tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ct extends Ot{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let s=!1,o,u=0,c=Int32Array.from([0,0,0]);for(;!s;){c=Int32Array.from([0,0,0]),o=Ct.findGuardPattern(r,u,!1,this.START_END_PATTERN,c);let f=o[0];u=o[1];let h=f-(u-f);h>=0&&(s=r.isRange(h,f,!1))}return o}static checkChecksum(r){return Ct.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return Ct.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let u=s-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new j;o+=c}o*=3;for(let u=s-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new j;o+=c}return(1e3-o)%10}static decodeEnd(r,s){return Ct.findGuardPattern(r,s,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,s,o,u){return this.findGuardPattern(r,s,o,u,new Int32Array(u.length))}static findGuardPattern(r,s,o,u,c){let f=r.getSize();s=o?r.getNextUnset(s):r.getNextSet(s);let h=0,g=s,y=u.length,C=o;for(let S=s;S<f;S++)if(r.get(S)!==C)c[h]++;else{if(h===y-1){if(Ot.patternMatchVariance(c,u,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return Int32Array.from([g,S]);g+=c[0]+c[1];let b=c.slice(2,c.length-1);for(let O=0;O<h-1;O++)c[O]=b[O];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,C=!C}throw new K}static decodeDigit(r,s,o,u){this.recordPattern(r,o,s);let c=this.MAX_AVG_VARIANCE,f=-1,h=u.length;for(let g=0;g<h;g++){let y=u[g],C=Ot.patternMatchVariance(s,y,Ct.MAX_INDIVIDUAL_VARIANCE);C<c&&(c=C,f=g)}if(f>=0)return f;throw new K}}Ct.MAX_AVG_VARIANCE=.48,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.START_END_PATTERN=Int32Array.from([1,1,1]),Ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class xa{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(s,o,u),f=u.toString(),h=xa.parseExtensionString(f),g=[new ge((o[0]+o[1])/2,r),new ge(c,r)],y=new gt(f,null,0,g,ye.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(r,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1],h=0;for(let y=0;y<5&&f<c;y++){let C=Ct.decodeDigit(r,u,f,Ct.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let S of u)f+=S;C>=10&&(h|=1<<4-y),y!==4&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==5)throw new K;let g=this.determineCheckDigit(h);if(xa.extensionChecksum(o.toString())!==g)throw new K;return f}static extensionChecksum(r){let s=r.length,o=0;for(let u=s-2;u>=0;u-=2)o+=r.charAt(u).charCodeAt(0)-48;o*=3;for(let u=s-1;u>=0;u-=2)o+=r.charAt(u).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(r){for(let s=0;s<10;s++)if(r===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new K}static parseExtensionString(r){if(r.length!==5)return null;let s=xa.parseExtension5String(r);return s==null?null:new Map([[jt.SUGGESTED_PRICE,s]])}static parseExtension5String(r){let s;switch(r.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let o=parseInt(r.substring(1)),u=(o/100).toString(),c=o%100,f=c<10?"0"+c:c.toString();return s+u+"."+f}}class df{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(s,o,u),f=u.toString(),h=df.parseExtensionString(f),g=[new ge((o[0]+o[1])/2,r),new ge(c,r)],y=new gt(f,null,0,g,ye.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(r,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1],h=0;for(let g=0;g<2&&f<c;g++){let y=Ct.decodeDigit(r,u,f,Ct.L_AND_G_PATTERNS);o+=String.fromCharCode(48+y%10);for(let C of u)f+=C;y>=10&&(h|=1<<1-g),g!==1&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==2)throw new K;if(parseInt(o.toString())%4!==h)throw new K;return f}static parseExtensionString(r){return r.length!==2?null:new Map([[jt.ISSUE_NUMBER,parseInt(r)]])}}class J1{static decodeRow(r,s,o){let u=Ct.findGuardPattern(s,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new xa().decodeRow(r,s,u)}catch{return new df().decodeRow(r,s,u)}}}J1.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ye extends Ct{constructor(){super(),this.decodeRowStringBuffer="",Ye.L_AND_G_PATTERNS=Ye.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let s=Ye.L_PATTERNS[r-10],o=new Int32Array(s.length);for(let u=0;u<s.length;u++)o[u]=s[s.length-u-1];Ye.L_AND_G_PATTERNS[r]=o}}decodeRow(r,s,o){let u=Ye.findStartGuardPattern(s),c=o==null?null:o.get(Z.NEED_RESULT_POINT_CALLBACK);if(c!=null){const $=new ge((u[0]+u[1])/2,r);c.foundPossibleResultPoint($)}let f=this.decodeMiddle(s,u,this.decodeRowStringBuffer),h=f.rowOffset,g=f.resultString;if(c!=null){const $=new ge(h,r);c.foundPossibleResultPoint($)}let y=this.decodeEnd(s,h);if(c!=null){const $=new ge((y[0]+y[1])/2,r);c.foundPossibleResultPoint($)}let C=y[1],S=C+(C-y[0]);if(S>=s.getSize()||!s.isRange(C,S,!1))throw new K;let b=g.toString();if(b.length<8)throw new j;if(!Ye.checkChecksum(b))throw new T;let O=(u[1]+u[0])/2,P=(y[1]+y[0])/2,L=this.getBarcodeFormat(),z=[new ge(O,r),new ge(P,r)],X=new gt(b,null,0,z,L,new Date().getTime()),te=0;try{let $=J1.decodeRow(r,s,y[1]);X.putMetadata(jt.UPC_EAN_EXTENSION,$.getText()),X.putAllMetadata($.getResultMetadata()),X.addResultPoints($.getResultPoints()),te=$.getText().length}catch{}let re=o==null?null:o.get(Z.ALLOWED_EAN_EXTENSIONS);if(re!=null){let $=!1;for(let Le in re)if(te.toString()===Le){$=!0;break}if(!$)throw new K}return X}decodeEnd(r,s){return Ye.findGuardPattern(r,s,!1,Ye.START_END_PATTERN,new Int32Array(Ye.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Ye.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return Ye.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let u=s-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new j;o+=c}o*=3;for(let u=s-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new j;o+=c}return(1e3-o)%10}}class os extends Ye{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1],h=0;for(let y=0;y<6&&f<c;y++){let C=Ye.decodeDigit(r,u,f,Ye.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let S of u)f+=S;C>=10&&(h|=1<<5-y)}o=os.determineFirstDigit(o,h),f=Ye.findGuardPattern(r,f,!0,Ye.MIDDLE_PATTERN,new Int32Array(Ye.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&f<c;y++){let C=Ye.decodeDigit(r,u,f,Ye.L_PATTERNS);o+=String.fromCharCode(48+C);for(let S of u)f+=S}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(r,s){for(let o=0;o<10;o++)if(s===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode(48+o)+r,r;throw new K}}os.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ep extends Ye{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1];for(let g=0;g<4&&f<c;g++){let y=Ye.decodeDigit(r,u,f,Ye.L_PATTERNS);o+=String.fromCharCode(48+y);for(let C of u)f+=C}f=Ye.findGuardPattern(r,f,!0,Ye.MIDDLE_PATTERN,new Int32Array(Ye.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&f<c;g++){let y=Ye.decodeDigit(r,u,f,Ye.L_PATTERNS);o+=String.fromCharCode(48+y);for(let C of u)f+=C}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ye.EAN_8}}class tp extends Ye{constructor(){super(...arguments),this.ean13Reader=new os}getBarcodeFormat(){return ye.UPC_A}decode(r,s){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,s,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,s,o))}decodeMiddle(r,s,o){return this.ean13Reader.decodeMiddle(r,s,o)}maybeReturnResult(r){let s=r.getText();if(s.charAt(0)==="0"){let o=new gt(s.substring(1),null,null,r.getResultPoints(),ye.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new K}reset(){this.ean13Reader.reset()}}class ar extends Ye{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,s,o){const u=this.decodeMiddleCounters.map(y=>y);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const c=r.getSize();let f=s[1],h=0;for(let y=0;y<6&&f<c;y++){const C=ar.decodeDigit(r,u,f,ar.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let S of u)f+=S;C>=10&&(h|=1<<5-y)}let g=ar.determineNumSysAndCheckDigit(o,h);return{rowOffset:f,resultString:g}}decodeEnd(r,s){return ar.findGuardPatternWithoutCounters(r,s,!0,ar.MIDDLE_END_PATTERN)}checkChecksum(r){return Ye.checkChecksum(ar.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,s){for(let o=0;o<=1;o++)for(let u=0;u<10;u++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][u]){let c=String.fromCharCode(48+o),f=String.fromCharCode(48+u);return c+r+f}throw K.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(r){const s=r.slice(1,7).split("").map(c=>c.charCodeAt(0)),o=new Te;o.append(r.charAt(0));let u=s[5];switch(u){case 0:case 1:case 2:o.appendChars(s,0,2),o.append(u),o.append("0000"),o.appendChars(s,2,3);break;case 3:o.appendChars(s,0,3),o.append("00000"),o.appendChars(s,3,2);break;case 4:o.appendChars(s,0,4),o.append("00000"),o.append(s[4]);break;default:o.appendChars(s,0,5),o.append("0000"),o.append(u);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}ar.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ar.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class hf extends Ot{constructor(r){super();let s=r==null?null:r.get(Z.POSSIBLE_FORMATS),o=[];i(s)?(o.push(new os),o.push(new tp),o.push(new ep),o.push(new ar)):(s.indexOf(ye.EAN_13)>-1&&o.push(new os),s.indexOf(ye.UPC_A)>-1&&o.push(new tp),s.indexOf(ye.EAN_8)>-1&&o.push(new ep),s.indexOf(ye.UPC_E)>-1&&o.push(new ar)),this.readers=o}decodeRow(r,s,o){for(let u of this.readers)try{const c=u.decodeRow(r,s,o),f=c.getBarcodeFormat()===ye.EAN_13&&c.getText().charAt(0)==="0",h=o==null?null:o.get(Z.POSSIBLE_FORMATS),g=h==null||h.includes(ye.UPC_A);if(f&&g){const y=c.getRawBytes(),C=new gt(c.getText().substring(1),y,y?y.length:null,c.getResultPoints(),ye.UPC_A);return C.putAllMetadata(c.getResultMetadata()),C}return c}catch{}throw new K}reset(){for(let r of this.readers)r.reset()}}class tn extends Ot{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,s){for(let o=0;o<s.length;o++)if(Ot.patternMatchVariance(r,s[o],tn.MAX_INDIVIDUAL_VARIANCE)<tn.MAX_AVG_VARIANCE)return o;throw new K}static count(r){return We.sum(new Int32Array(r))}static increment(r,s){let o=0,u=s[0];for(let c=1;c<r.length;c++)s[c]>u&&(u=s[c],o=c);r[o]++}static decrement(r,s){let o=0,u=s[0];for(let c=1;c<r.length;c++)s[c]<u&&(u=s[c],o=c);r[o]--}static isFinderPattern(r){let s=r[0]+r[1],o=s+r[2]+r[3],u=s/o;if(u>=tn.MIN_FINDER_PATTERN_RATIO&&u<=tn.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let h of r)h>f&&(f=h),h<c&&(c=h);return f<10*c}return!1}}tn.MAX_AVG_VARIANCE=.2,tn.MAX_INDIVIDUAL_VARIANCE=.45,tn.MIN_FINDER_PATTERN_RATIO=9.5/12,tn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ys{constructor(r,s){this.value=r,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Ys))return!1;const s=r;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ql{constructor(r,s,o,u,c){this.value=r,this.startEnd=s,this.value=r,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new ge(o,c)),this.resultPoints.push(new ge(u,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof ql))return!1;const s=r;return this.value===s.value}hashCode(){return this.value}}class vr{constructor(){}static getRSSvalue(r,s,o){let u=0;for(let g of r)u+=g;let c=0,f=0,h=r.length;for(let g=0;g<h-1;g++){let y;for(y=1,f|=1<<g;y<r[g];y++,f&=~(1<<g)){let C=vr.combins(u-y-1,h-g-2);if(o&&f===0&&u-y-(h-g-1)>=h-g-1&&(C-=vr.combins(u-y-(h-g),h-g-2)),h-g-1>1){let S=0;for(let b=u-y-(h-g-2);b>s;b--)S+=vr.combins(u-y-b-1,h-g-3);C-=S*(h-1-g)}else u-y>s&&C--;c+=C}u-=y}return c}static combins(r,s){let o,u;r-s>s?(u=s,o=r-s):(u=r-s,o=s);let c=1,f=1;for(let h=r;h>o;h--)c*=h,f<=u&&(c/=f,f++);for(;f<=u;)c/=f,f++;return c}}class O3{static buildBitArray(r){let s=r.length*2-1;r[r.length-1].getRightChar()==null&&(s-=1);let o=12*s,u=new M(o),c=0,h=r[0].getRightChar().getValue();for(let g=11;g>=0;--g)h&1<<g&&u.set(c),c++;for(let g=1;g<r.length;++g){let y=r[g],C=y.getLeftChar().getValue();for(let S=11;S>=0;--S)C&1<<S&&u.set(c),c++;if(y.getRightChar()!=null){let S=y.getRightChar().getValue();for(let b=11;b>=0;--b)S&1<<b&&u.set(c),c++}}return u}}class as{constructor(r,s){s?this.decodedInformation=null:(this.finished=r,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class pf{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Cn extends pf{constructor(r,s){super(r),this.value=s}getValue(){return this.value}isFNC1(){return this.value===Cn.FNC1}}Cn.FNC1="$";class ls extends pf{constructor(r,s,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Gn extends pf{constructor(r,s,o){if(super(r),s<0||s>10||o<0||o>10)throw new j;this.firstDigit=s,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Gn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Gn.FNC1}isAnyFNC1(){return this.firstDigit===Gn.FNC1||this.secondDigit===Gn.FNC1}}Gn.FNC1=10;class fe{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new K;let s=r.substring(0,2);for(let c of fe.TWO_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===fe.VARIABLE_LENGTH?fe.processVariableAI(2,c[2],r):fe.processFixedAI(2,c[1],r);if(r.length<3)throw new K;let o=r.substring(0,3);for(let c of fe.THREE_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===fe.VARIABLE_LENGTH?fe.processVariableAI(3,c[2],r):fe.processFixedAI(3,c[1],r);for(let c of fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===fe.VARIABLE_LENGTH?fe.processVariableAI(4,c[2],r):fe.processFixedAI(4,c[1],r);if(r.length<4)throw new K;let u=r.substring(0,4);for(let c of fe.FOUR_DIGIT_DATA_LENGTH)if(c[0]===u)return c[1]===fe.VARIABLE_LENGTH?fe.processVariableAI(4,c[2],r):fe.processFixedAI(4,c[1],r);throw new K}static processFixedAI(r,s,o){if(o.length<r)throw new K;let u=o.substring(0,r);if(o.length<r+s)throw new K;let c=o.substring(r,r+s),f=o.substring(r+s),h="("+u+")"+c,g=fe.parseFieldsInGeneralPurpose(f);return g==null?h:h+g}static processVariableAI(r,s,o){let u=o.substring(0,r),c;o.length<r+s?c=o.length:c=r+s;let f=o.substring(r,c),h=o.substring(c),g="("+u+")"+f,y=fe.parseFieldsInGeneralPurpose(h);return y==null?g:g+y}}fe.VARIABLE_LENGTH=[],fe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",fe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",fe.VARIABLE_LENGTH,20],["22",fe.VARIABLE_LENGTH,29],["30",fe.VARIABLE_LENGTH,8],["37",fe.VARIABLE_LENGTH,8],["90",fe.VARIABLE_LENGTH,30],["91",fe.VARIABLE_LENGTH,30],["92",fe.VARIABLE_LENGTH,30],["93",fe.VARIABLE_LENGTH,30],["94",fe.VARIABLE_LENGTH,30],["95",fe.VARIABLE_LENGTH,30],["96",fe.VARIABLE_LENGTH,30],["97",fe.VARIABLE_LENGTH,3],["98",fe.VARIABLE_LENGTH,30],["99",fe.VARIABLE_LENGTH,30]],fe.THREE_DIGIT_DATA_LENGTH=[["240",fe.VARIABLE_LENGTH,30],["241",fe.VARIABLE_LENGTH,30],["242",fe.VARIABLE_LENGTH,6],["250",fe.VARIABLE_LENGTH,30],["251",fe.VARIABLE_LENGTH,30],["253",fe.VARIABLE_LENGTH,17],["254",fe.VARIABLE_LENGTH,20],["400",fe.VARIABLE_LENGTH,30],["401",fe.VARIABLE_LENGTH,30],["402",17],["403",fe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",fe.VARIABLE_LENGTH,20],["421",fe.VARIABLE_LENGTH,15],["422",3],["423",fe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",fe.VARIABLE_LENGTH,15],["391",fe.VARIABLE_LENGTH,18],["392",fe.VARIABLE_LENGTH,15],["393",fe.VARIABLE_LENGTH,18],["703",fe.VARIABLE_LENGTH,30]],fe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",fe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",fe.VARIABLE_LENGTH,20],["8003",fe.VARIABLE_LENGTH,30],["8004",fe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",fe.VARIABLE_LENGTH,30],["8008",fe.VARIABLE_LENGTH,12],["8018",18],["8020",fe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",fe.VARIABLE_LENGTH,70],["8200",fe.VARIABLE_LENGTH,70]];class Ks{constructor(r){this.buffer=new Te,this.information=r}decodeAllCodes(r,s){let o=s,u=null;do{let c=this.decodeGeneralPurposeField(o,u),f=fe.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&r.append(f),c.isRemaining()?u=""+c.getRemainingValue():u=null,o===c.getNewPosition())break;o=c.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let s=r;s<r+3;++s)if(this.information.get(s))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(r,4);return c===0?new Gn(this.information.getSize(),Gn.FNC1,Gn.FNC1):new Gn(this.information.getSize(),c-1,Gn.FNC1)}let s=this.extractNumericValueFromBitArray(r,7),o=(s-8)/11,u=(s-8)%11;return new Gn(r+7,o,u)}extractNumericValueFromBitArray(r,s){return Ks.extractNumericValueFromBitArray(this.information,r,s)}static extractNumericValueFromBitArray(r,s,o){let u=0;for(let c=0;c<o;++c)r.get(s+c)&&(u|=1<<o-c-1);return u}decodeGeneralPurposeField(r,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new ls(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new ls(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,s;do{let o=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),r=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),r=s.isFinished()):(s=this.parseNumericBlock(),r=s.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let s;return r.isSecondDigitFNC1()?s=new ls(this.current.getPosition(),this.buffer.toString()):s=new ls(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new as(!0,s)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let s=new ls(this.current.getPosition(),this.buffer.toString());return new as(!0,s)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new as(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new ls(this.current.getPosition(),this.buffer.toString());return new as(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new as(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new ls(this.current.getPosition(),this.buffer.toString());return new as(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new as(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,8);return u>=232&&u<253}decodeIsoIec646(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new Cn(r+5,Cn.FNC1);if(s>=5&&s<15)return new Cn(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new Cn(r+7,""+(o+1));if(o>=90&&o<116)return new Cn(r+7,""+(o+7));let u=this.extractNumericValueFromBitArray(r,8),c;switch(u){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new j}return new Cn(r+8,c)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new Cn(r+5,Cn.FNC1);if(s>=5&&s<15)return new Cn(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new Cn(r+6,""+(o+33));let u;switch(o){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new wr("Decoding invalid alphanumeric value: "+o)}return new Cn(r+6,u)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<5&&s+r<this.information.getSize();++s)if(s===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+s))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let s=r;s<r+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<4&&s+r<this.information.getSize();++s)if(this.information.get(r+s))return!1;return!0}}class gf{constructor(r){this.information=r,this.generalDecoder=new Ks(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class En extends gf{constructor(r){super(r)}encodeCompressedGtin(r,s){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,s,o)}encodeCompressedGtinWithoutAI(r,s,o){for(let u=0;u<4;++u){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*u,10);c/100===0&&r.append("0"),c/10===0&&r.append("0"),r.append(c)}En.appendCheckDigit(r,o)}static appendCheckDigit(r,s){let o=0;for(let u=0;u<13;u++){let c=r.charAt(u+s).charCodeAt(0)-48;o+=u&1?c:3*c}o=10-o%10,o===10&&(o=0),r.append(o)}}En.GTIN_SIZE=40;class Qs extends En{constructor(r){super(r)}parseInformation(){let r=new Te;r.append("(01)");let s=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Qs.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,Qs.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(r,Qs.HEADER_SIZE+44)}}Qs.HEADER_SIZE=4;class $l extends gf{constructor(r){super(r)}parseInformation(){let r=new Te;return this.getGeneralDecoder().decodeAllCodes(r,$l.HEADER_SIZE)}}$l.HEADER_SIZE=5;class Jl extends En{constructor(r){super(r)}encodeCompressedWeight(r,s,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s,o);this.addWeightCode(r,u);let c=this.checkWeight(u),f=1e5;for(let h=0;h<5;++h)c/f===0&&r.append("0"),f/=10;r.append(c)}}class Cr extends Jl{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=Cr.HEADER_SIZE+Jl.GTIN_SIZE+Cr.WEIGHT_SIZE)throw new K;let r=new Te;return this.encodeCompressedGtin(r,Cr.HEADER_SIZE),this.encodeCompressedWeight(r,Cr.HEADER_SIZE+Jl.GTIN_SIZE,Cr.WEIGHT_SIZE),r.toString()}}Cr.HEADER_SIZE=5,Cr.WEIGHT_SIZE=15;class k3 extends Cr{constructor(r){super(r)}addWeightCode(r,s){r.append("(3103)")}checkWeight(r){return r}}class D3 extends Cr{constructor(r){super(r)}addWeightCode(r,s){s<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Er extends En{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Er.HEADER_SIZE+En.GTIN_SIZE)throw new K;let r=new Te;this.encodeCompressedGtin(r,Er.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Er.HEADER_SIZE+En.GTIN_SIZE,Er.LAST_DIGIT_SIZE);r.append("(392"),r.append(s),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Er.HEADER_SIZE+En.GTIN_SIZE+Er.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}Er.HEADER_SIZE=8,Er.LAST_DIGIT_SIZE=2;class fn extends En{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<fn.HEADER_SIZE+En.GTIN_SIZE)throw new K;let r=new Te;this.encodeCompressedGtin(r,fn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE+En.GTIN_SIZE,fn.LAST_DIGIT_SIZE);r.append("(393"),r.append(s),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE+En.GTIN_SIZE+fn.LAST_DIGIT_SIZE,fn.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let u=this.getGeneralDecoder().decodeGeneralPurposeField(fn.HEADER_SIZE+En.GTIN_SIZE+fn.LAST_DIGIT_SIZE+fn.FIRST_THREE_DIGITS_SIZE,null);return r.append(u.getNewString()),r.toString()}}fn.HEADER_SIZE=8,fn.LAST_DIGIT_SIZE=2,fn.FIRST_THREE_DIGITS_SIZE=10;class ht extends Jl{constructor(r,s,o){super(r),this.dateCode=o,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=ht.HEADER_SIZE+ht.GTIN_SIZE+ht.WEIGHT_SIZE+ht.DATE_SIZE)throw new K;let r=new Te;return this.encodeCompressedGtin(r,ht.HEADER_SIZE),this.encodeCompressedWeight(r,ht.HEADER_SIZE+ht.GTIN_SIZE,ht.WEIGHT_SIZE),this.encodeCompressedDate(r,ht.HEADER_SIZE+ht.GTIN_SIZE+ht.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s,ht.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let u=o%32;o/=32;let c=o%12+1;o/=12;let f=o;f/10==0&&r.append("0"),r.append(f),c/10==0&&r.append("0"),r.append(c),u/10==0&&r.append("0"),r.append(u)}addWeightCode(r,s){r.append("("),r.append(this.firstAIdigits),r.append(s/1e5),r.append(")")}checkWeight(r){return r%1e5}}ht.HEADER_SIZE=8,ht.WEIGHT_SIZE=20,ht.DATE_SIZE=16;function np(A){try{if(A.get(1))return new Qs(A);if(!A.get(2))return new $l(A);switch(Ks.extractNumericValueFromBitArray(A,1,4)){case 4:return new k3(A);case 5:return new D3(A)}switch(Ks.extractNumericValueFromBitArray(A,1,5)){case 12:return new Er(A);case 13:return new fn(A)}switch(Ks.extractNumericValueFromBitArray(A,1,7)){case 56:return new ht(A,"310","11");case 57:return new ht(A,"320","11");case 58:return new ht(A,"310","13");case 59:return new ht(A,"320","13");case 60:return new ht(A,"310","15");case 61:return new ht(A,"320","15");case 62:return new ht(A,"310","17");case 63:return new ht(A,"320","17")}}catch(r){throw console.log(r),new wr("unknown decoder: "+A)}}class fi{constructor(r,s,o,u){this.leftchar=r,this.rightchar=s,this.finderpattern=o,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,s){return r instanceof fi?fi.equalsOrNull(r.leftchar,s.leftchar)&&fi.equalsOrNull(r.rightchar,s.rightchar)&&fi.equalsOrNull(r.finderpattern,s.finderpattern):!1}static equalsOrNull(r,s){return r===null?s===null:fi.equals(r,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class mf{constructor(r,s,o){this.pairs=r,this.rowNumber=s,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,s){return r instanceof mf?this.checkEqualitity(r,s)&&r.wasReversed===s.wasReversed:!1}checkEqualitity(r,s){if(!r||!s)return;let o;return r.forEach((u,c)=>{s.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class q extends tn{constructor(r){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,s,o){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(r,s))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(r,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,s){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,r))}catch(c){if(c instanceof K){if(!this.pairs.length)throw new K;o=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(r,!1),u){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new K}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),s}checkRows(r,s){for(let o=s;o<this.rows.length;o++){let u=this.rows[o];this.pairs.length=0;for(let f of r)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(r);c.push(u);try{return this.checkRows(c,o+1)}catch(f){this.verbose&&console.log(f)}}throw new K}static isValidSequence(r){for(let s of q.FINDER_PATTERN_SEQUENCES){if(r.length>s.length)continue;let o=!0;for(let u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!=s[u]){o=!1;break}if(o)return!0}return!1}storeRow(r,s){let o=0,u=!1,c=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>r){c=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),o++}c||u||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new mf(this.pairs,r,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,s){for(let o of s)if(o.getPairs().length!==r.length){for(let u of o.getPairs())for(let c of r)if(fi.equals(u,c))break}}static isPartialRow(r,s){for(let o of s){let u=!0;for(let c of r){let f=!1;for(let h of o.getPairs())if(c.equals(h)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(r){let s=O3.buildBitArray(r),u=np(s).parseInformation(),c=r[0].getFinderPattern().getResultPoints(),f=r[r.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],f[0],f[1]];return new gt(u,null,null,h,ye.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),s=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let u=o.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let g=this.pairs.get(h);u+=g.getLeftChar().getChecksumPortion(),c++;let y=g.getRightChar();y!=null&&(u+=y.getChecksumPortion(),c++)}return u%=211,211*(c-4)+u==s.getValue()}static getNextSecondBar(r,s){let o;return r.get(s)?(o=r.getNextUnset(s),o=r.getNextSet(o)):(o=r.getNextSet(s),o=r.getNextUnset(o)),o}retrieveNextPair(r,s,o){let u=s.length%2==0;this.startFromEven&&(u=!u);let c,f=!0,h=-1;do this.findNextPair(r,s,h),c=this.parseFoundFinderPattern(r,o,u),c==null?h=q.getNextSecondBar(r,this.startEnd[0]):f=!1;while(f);let g=this.decodeDataCharacter(r,c,u,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new K;let y;try{y=this.decodeDataCharacter(r,c,u,!1)}catch(C){y=null,this.verbose&&console.log(C)}return new fi(g,y,c,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,s,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f;o>=0?f=o:this.isEmptyPair(s)?f=0:f=s[s.length-1].getFinderPattern().getStartEnd()[1];let h=s.length%2!=0;this.startFromEven&&(h=!h);let g=!1;for(;f<c&&(g=!r.get(f),!!g);)f++;let y=0,C=f;for(let S=f;S<c;S++)if(r.get(S)!=g)u[y]++;else{if(y==3){if(h&&q.reverseCounters(u),q.isFinderPattern(u)){this.startEnd[0]=C,this.startEnd[1]=S;return}h&&q.reverseCounters(u),C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,y--}else y++;u[y]=1,g=!g}throw new K}static reverseCounters(r){let s=r.length;for(let o=0;o<s/2;++o){let u=r[o];r[o]=r[s-o-1],r[s-o-1]=u}}parseFoundFinderPattern(r,s,o){let u,c,f;if(o){let y=this.startEnd[0]-1;for(;y>=0&&!r.get(y);)y--;y++,u=this.startEnd[0]-y,c=y,f=this.startEnd[1]}else c=this.startEnd[0],f=r.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let h=this.getDecodeFinderCounters();k.arraycopy(h,0,h,1,h.length-1),h[0]=u;let g;try{g=this.parseFinderValue(h,q.FINDER_PATTERNS)}catch{return null}return new ql(g,[c,f],c,f,s)}decodeDataCharacter(r,s,o,u){let c=this.getDataCharacterCounters();for(let rt=0;rt<c.length;rt++)c[rt]=0;if(u)q.recordPatternInReverse(r,s.getStartEnd()[0],c);else{q.recordPattern(r,s.getStartEnd()[1],c);for(let rt=0,Kt=c.length-1;rt<Kt;rt++,Kt--){let Dn=c[rt];c[rt]=c[Kt],c[Kt]=Dn}}let f=17,h=We.sum(new Int32Array(c))/f,g=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(h-g)/g>.3)throw new K;let y=this.getOddCounts(),C=this.getEvenCounts(),S=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let rt=0;rt<c.length;rt++){let Kt=1*c[rt]/h,Dn=Kt+.5;if(Dn<1){if(Kt<.3)throw new K;Dn=1}else if(Dn>8){if(Kt>8.7)throw new K;Dn=8}let to=rt/2;rt&1?(C[to]=Dn,b[to]=Kt-Dn):(y[to]=Dn,S[to]=Kt-Dn)}this.adjustOddEvenCounts(f);let O=4*s.getValue()+(o?0:2)+(u?0:1)-1,P=0,L=0;for(let rt=y.length-1;rt>=0;rt--){if(q.isNotA1left(s,o,u)){let Kt=q.WEIGHTS[O][2*rt];L+=y[rt]*Kt}P+=y[rt]}let z=0;for(let rt=C.length-1;rt>=0;rt--)if(q.isNotA1left(s,o,u)){let Kt=q.WEIGHTS[O][2*rt+1];z+=C[rt]*Kt}let X=L+z;if(P&1||P>13||P<4)throw new K;let te=(13-P)/2,re=q.SYMBOL_WIDEST[te],$=9-re,Le=vr.getRSSvalue(y,re,!0),Ne=vr.getRSSvalue(C,$,!1),Sn=q.EVEN_TOTAL_SUBSET[te],lr=q.GSUM[te],bn=Le*Sn+Ne+lr;return new Ys(bn,X)}static isNotA1left(r,s,o){return!(r.getValue()==0&&s&&o)}adjustOddEvenCounts(r){let s=We.sum(new Int32Array(this.getOddCounts())),o=We.sum(new Int32Array(this.getEvenCounts())),u=!1,c=!1;s>13?c=!0:s<4&&(u=!0);let f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let g=s+o-r,y=(s&1)==1,C=(o&1)==0;if(g==1)if(y){if(C)throw new K;c=!0}else{if(!C)throw new K;h=!0}else if(g==-1)if(y){if(C)throw new K;u=!0}else{if(!C)throw new K;f=!0}else if(g==0){if(y){if(!C)throw new K;s<o?(u=!0,h=!0):(c=!0,f=!0)}else if(C)throw new K}else throw new K;if(u){if(c)throw new K;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new K;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class M3 extends Ys{constructor(r,s,o){super(r,s),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Et extends tn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,s,o){const u=this.decodePair(s,!1,r,o);Et.addOrTally(this.possibleLeftPairs,u),s.reverse();let c=this.decodePair(s,!0,r,o);Et.addOrTally(this.possibleRightPairs,c),s.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Et.checkChecksum(f,h))return Et.constructResult(f,h)}throw new K}static addOrTally(r,s){if(s==null)return;let o=!1;for(let u of r)if(u.getValue()===s.getValue()){u.incrementCount(),o=!0;break}o||r.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,s){let o=4537077*r.getValue()+s.getValue(),u=new String(o).toString(),c=new Te;for(let y=13-u.length;y>0;y--)c.append("0");c.append(u);let f=0;for(let y=0;y<13;y++){let C=c.charAt(y).charCodeAt(0)-48;f+=y&1?C:3*C}f=10-f%10,f===10&&(f=0),c.append(f.toString());let h=r.getFinderPattern().getResultPoints(),g=s.getFinderPattern().getResultPoints();return new gt(c.toString(),null,0,[h[0],h[1],g[0],g[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(r,s){let o=(r.getChecksumPortion()+16*s.getChecksumPortion())%79,u=9*r.getFinderPattern().getValue()+s.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,o===u}decodePair(r,s,o,u){try{let c=this.findFinderPattern(r,s),f=this.parseFoundFinderPattern(r,o,s,c),h=u==null?null:u.get(Z.NEED_RESULT_POINT_CALLBACK);if(h!=null){let C=(c[0]+c[1])/2;s&&(C=r.getSize()-1-C),h.foundPossibleResultPoint(new ge(C,o))}let g=this.decodeDataCharacter(r,f,!0),y=this.decodeDataCharacter(r,f,!1);return new M3(1597*g.getValue()+y.getValue(),g.getChecksumPortion()+4*y.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(r,s,o){let u=this.getDataCharacterCounters();for(let z=0;z<u.length;z++)u[z]=0;if(o)Ot.recordPatternInReverse(r,s.getStartEnd()[0],u);else{Ot.recordPattern(r,s.getStartEnd()[1]+1,u);for(let z=0,X=u.length-1;z<X;z++,X--){let te=u[z];u[z]=u[X],u[X]=te}}let c=o?16:15,f=We.sum(new Int32Array(u))/c,h=this.getOddCounts(),g=this.getEvenCounts(),y=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let z=0;z<u.length;z++){let X=u[z]/f,te=Math.floor(X+.5);te<1?te=1:te>8&&(te=8);let re=Math.floor(z/2);z&1?(g[re]=te,C[re]=X-te):(h[re]=te,y[re]=X-te)}this.adjustOddEvenCounts(o,c);let S=0,b=0;for(let z=h.length-1;z>=0;z--)b*=9,b+=h[z],S+=h[z];let O=0,P=0;for(let z=g.length-1;z>=0;z--)O*=9,O+=g[z],P+=g[z];let L=b+3*O;if(o){if(S&1||S>12||S<4)throw new K;let z=(12-S)/2,X=Et.OUTSIDE_ODD_WIDEST[z],te=9-X,re=vr.getRSSvalue(h,X,!1),$=vr.getRSSvalue(g,te,!0),Le=Et.OUTSIDE_EVEN_TOTAL_SUBSET[z],Ne=Et.OUTSIDE_GSUM[z];return new Ys(re*Le+$+Ne,L)}else{if(P&1||P>10||P<4)throw new K;let z=(10-P)/2,X=Et.INSIDE_ODD_WIDEST[z],te=9-X,re=vr.getRSSvalue(h,X,!0),$=vr.getRSSvalue(g,te,!1),Le=Et.INSIDE_ODD_TOTAL_SUBSET[z],Ne=Et.INSIDE_GSUM[z];return new Ys($*Le+re+Ne,L)}}findFinderPattern(r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=r.getSize(),c=!1,f=0;for(;f<u&&(c=!r.get(f),s!==c);)f++;let h=0,g=f;for(let y=f;y<u;y++)if(r.get(y)!==c)o[h]++;else{if(h===3){if(tn.isFinderPattern(o))return[g,y];g+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,c=!c}throw new K}parseFoundFinderPattern(r,s,o,u){let c=r.get(u[0]),f=u[0]-1;for(;f>=0&&c!==r.get(f);)f--;f++;const h=u[0]-f,g=this.getDecodeFinderCounters(),y=new Int32Array(g.length);k.arraycopy(g,0,y,1,g.length-1),y[0]=h;const C=this.parseFinderValue(y,Et.FINDER_PATTERNS);let S=f,b=u[1];return o&&(S=r.getSize()-1-S,b=r.getSize()-1-b),new ql(C,[f,u[1]],S,b,s)}adjustOddEvenCounts(r,s){let o=We.sum(new Int32Array(this.getOddCounts())),u=We.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,h=!1,g=!1;r?(o>12?f=!0:o<4&&(c=!0),u>12?g=!0:u<4&&(h=!0)):(o>11?f=!0:o<5&&(c=!0),u>10?g=!0:u<4&&(h=!0));let y=o+u-s,C=(o&1)===(r?1:0),S=(u&1)===1;if(y===1)if(C){if(S)throw new K;f=!0}else{if(!S)throw new K;g=!0}else if(y===-1)if(C){if(S)throw new K;c=!0}else{if(!S)throw new K;h=!0}else if(y===0){if(C){if(!S)throw new K;o<u?(c=!0,g=!0):(f=!0,h=!0)}else if(S)throw new K}else throw new K;if(c){if(f)throw new K;tn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&tn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new K;tn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&tn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Et.OUTSIDE_GSUM=[0,161,961,2015,2715],Et.INSIDE_GSUM=[0,336,1036,1516],Et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Et.INSIDE_ODD_WIDEST=[2,4,6,8],Et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class qs extends Ot{constructor(r,s){super(),this.readers=[],this.verbose=s===!0;const o=r?r.get(Z.POSSIBLE_FORMATS):null,u=r&&r.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ye.EAN_13)||o.includes(ye.UPC_A)||o.includes(ye.EAN_8)||o.includes(ye.UPC_E))&&this.readers.push(new hf(r)),o.includes(ye.CODE_39)&&this.readers.push(new Mt(u)),o.includes(ye.CODE_128)&&this.readers.push(new oe),o.includes(ye.ITF)&&this.readers.push(new tt),o.includes(ye.RSS_14)&&this.readers.push(new Et),o.includes(ye.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new hf(r)),this.readers.push(new Mt),this.readers.push(new hf(r)),this.readers.push(new oe),this.readers.push(new tt),this.readers.push(new Et),this.readers.push(new q(this.verbose)))}decodeRow(r,s,o){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(r,s,o)}catch{}throw new K}reset(){this.readers.forEach(r=>r.reset())}}class P3 extends Hn{constructor(r=500,s){super(new qs(s),r,s)}}class Qe{constructor(r,s,o){this.ecCodewords=r,this.ecBlocks=[s],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ke{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Be{constructor(r,s,o,u,c,f){this.versionNumber=r,this.symbolSizeRows=s,this.symbolSizeColumns=o,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=c,this.ecBlocks=f;let h=0;const g=f.getECCodewords(),y=f.getECBlocks();for(let C of y)h+=C.getCount()*(C.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,s){if(r&1||s&1)throw new j;for(let o of Be.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===s)return o;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new Be(1,10,10,8,8,new Qe(5,new Ke(1,3))),new Be(2,12,12,10,10,new Qe(7,new Ke(1,5))),new Be(3,14,14,12,12,new Qe(10,new Ke(1,8))),new Be(4,16,16,14,14,new Qe(12,new Ke(1,12))),new Be(5,18,18,16,16,new Qe(14,new Ke(1,18))),new Be(6,20,20,18,18,new Qe(18,new Ke(1,22))),new Be(7,22,22,20,20,new Qe(20,new Ke(1,30))),new Be(8,24,24,22,22,new Qe(24,new Ke(1,36))),new Be(9,26,26,24,24,new Qe(28,new Ke(1,44))),new Be(10,32,32,14,14,new Qe(36,new Ke(1,62))),new Be(11,36,36,16,16,new Qe(42,new Ke(1,86))),new Be(12,40,40,18,18,new Qe(48,new Ke(1,114))),new Be(13,44,44,20,20,new Qe(56,new Ke(1,144))),new Be(14,48,48,22,22,new Qe(68,new Ke(1,174))),new Be(15,52,52,24,24,new Qe(42,new Ke(2,102))),new Be(16,64,64,14,14,new Qe(56,new Ke(2,140))),new Be(17,72,72,16,16,new Qe(36,new Ke(4,92))),new Be(18,80,80,18,18,new Qe(48,new Ke(4,114))),new Be(19,88,88,20,20,new Qe(56,new Ke(4,144))),new Be(20,96,96,22,22,new Qe(68,new Ke(4,174))),new Be(21,104,104,24,24,new Qe(56,new Ke(6,136))),new Be(22,120,120,18,18,new Qe(68,new Ke(6,175))),new Be(23,132,132,20,20,new Qe(62,new Ke(8,163))),new Be(24,144,144,22,22,new Qe(62,new Ke(8,156),new Ke(2,155))),new Be(25,8,18,6,16,new Qe(7,new Ke(1,5))),new Be(26,8,32,6,14,new Qe(11,new Ke(1,10))),new Be(27,12,26,10,24,new Qe(14,new Ke(1,16))),new Be(28,12,36,10,16,new Qe(18,new Ke(1,22))),new Be(29,16,36,14,16,new Qe(24,new Ke(1,32))),new Be(30,16,48,14,22,new Qe(28,new Ke(1,49)))]}}Be.VERSIONS=Be.buildVersions();class xf{constructor(r){const s=r.getHeight();if(s<8||s>144||s&1)throw new j;this.version=xf.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new Me(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const s=r.getHeight(),o=r.getWidth();return Be.getVersionForDimensions(s,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let s=0,o=4,u=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let h=!1,g=!1,y=!1,C=!1;do if(o===c&&u===0&&!h)r[s++]=this.readCorner1(c,f)&255,o-=2,u+=2,h=!0;else if(o===c-2&&u===0&&f&3&&!g)r[s++]=this.readCorner2(c,f)&255,o-=2,u+=2,g=!0;else if(o===c+4&&u===2&&!(f&7)&&!y)r[s++]=this.readCorner3(c,f)&255,o-=2,u+=2,y=!0;else if(o===c-2&&u===0&&(f&7)===4&&!C)r[s++]=this.readCorner4(c,f)&255,o-=2,u+=2,C=!0;else{do o<c&&u>=0&&!this.readMappingMatrix.get(u,o)&&(r[s++]=this.readUtah(o,u,c,f)&255),o-=2,u+=2;while(o>=0&&u<f);o+=1,u+=3;do o>=0&&u<f&&!this.readMappingMatrix.get(u,o)&&(r[s++]=this.readUtah(o,u,c,f)&255),o+=2,u-=2;while(o<c&&u>=0);o+=3,u+=1}while(o<c||u<f);if(s!==this.version.getTotalCodewords())throw new j;return r}readModule(r,s,o,u){return r<0&&(r+=o,s+=4-(o+4&7)),s<0&&(s+=u,r+=4-(u+4&7)),this.readMappingMatrix.set(s,r),this.mappingBitMatrix.get(s,r)}readUtah(r,s,o,u){let c=0;return this.readModule(r-2,s-2,o,u)&&(c|=1),c<<=1,this.readModule(r-2,s-1,o,u)&&(c|=1),c<<=1,this.readModule(r-1,s-2,o,u)&&(c|=1),c<<=1,this.readModule(r-1,s-1,o,u)&&(c|=1),c<<=1,this.readModule(r-1,s,o,u)&&(c|=1),c<<=1,this.readModule(r,s-2,o,u)&&(c|=1),c<<=1,this.readModule(r,s-1,o,u)&&(c|=1),c<<=1,this.readModule(r,s,o,u)&&(c|=1),c}readCorner1(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,1,r,s)&&(o|=1),o<<=1,this.readModule(r-1,2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}readCorner2(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-4,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner3(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-3,r,s)&&(o|=1),o<<=1,this.readModule(1,s-2,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner4(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}extractDataRegion(r){const s=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==s)throw new v("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=s/u|0,h=o/c|0,g=f*u,y=h*c,C=new Me(y,g);for(let S=0;S<f;++S){const b=S*u;for(let O=0;O<h;++O){const P=O*c;for(let L=0;L<u;++L){const z=S*(u+2)+1+L,X=b+L;for(let te=0;te<c;++te){const re=O*(c+2)+1+te;if(r.get(re,z)){const $=P+te;C.set($,X)}}}}}return C}}class yf{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s){const o=s.getECBlocks();let u=0;const c=o.getECBlocks();for(let L of c)u+=L.getCount();const f=new Array(u);let h=0;for(let L of c)for(let z=0;z<L.getCount();z++){const X=L.getDataCodewords(),te=o.getECCodewords()+X;f[h++]=new yf(X,new Uint8Array(te))}const y=f[0].codewords.length-o.getECCodewords(),C=y-1;let S=0;for(let L=0;L<C;L++)for(let z=0;z<h;z++)f[z].codewords[L]=r[S++];const b=s.getVersionNumber()===24,O=b?8:h;for(let L=0;L<O;L++)f[L].codewords[y-1]=r[S++];const P=f[0].codewords.length;for(let L=y;L<P;L++)for(let z=0;z<h;z++){const X=b?(z+8)%h:z,te=b&&X>7?L-1:L;f[X].codewords[te]=r[S++]}if(S!==r.length)throw new v;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class wf{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new v(""+r);let s=0,o=this.bitOffset,u=this.byteOffset;const c=this.bytes;if(o>0){const f=8-o,h=r<f?r:f,g=f-h,y=255>>8-h<<g;s=(c[u]&y)>>g,r-=h,o+=h,o===8&&(o=0,u++)}if(r>0){for(;r>=8;)s=s<<8|c[u]&255,u++,r-=8;if(r>0){const f=8-r,h=255>>f<<f;s=s<<r|(c[u]&h)>>f,o+=r}}return this.bitOffset=o,this.byteOffset=u,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Pt;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Pt||(Pt={}));class di{static decode(r){const s=new wf(r),o=new Te,u=new Te,c=new Array;let f=Pt.ASCII_ENCODE;do if(f===Pt.ASCII_ENCODE)f=this.decodeAsciiSegment(s,o,u);else{switch(f){case Pt.C40_ENCODE:this.decodeC40Segment(s,o);break;case Pt.TEXT_ENCODE:this.decodeTextSegment(s,o);break;case Pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,o);break;case Pt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,o);break;case Pt.BASE256_ENCODE:this.decodeBase256Segment(s,o,c);break;default:throw new j}f=Pt.ASCII_ENCODE}while(f!==Pt.PAD_ENCODE&&s.available()>0);return u.length()>0&&o.append(u.toString()),new pa(r,o.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(r,s,o){let u=!1;do{let c=r.readBits(8);if(c===0)throw new j;if(c<=128)return u&&(c+=128),s.append(String.fromCharCode(c-1)),Pt.ASCII_ENCODE;if(c===129)return Pt.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&s.append("0"),s.append(""+f)}else switch(c){case 230:return Pt.C40_ENCODE;case 231:return Pt.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:s.append("[)>05"),o.insert(0,"");break;case 237:s.append("[)>06"),o.insert(0,"");break;case 238:return Pt.ANSIX12_ENCODE;case 239:return Pt.TEXT_ENCODE;case 240:return Pt.EDIFACT_ENCODE;case 241:break;default:if(c!==254||r.available()!==0)throw new j;break}}while(r.available()>0);return Pt.ASCII_ENCODE}static decodeC40Segment(r,s){let o=!1;const u=[];let c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let h=0;h<3;h++){const g=u[h];switch(c){case 0:if(g<3)c=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[g];o?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):s.append(y)}else throw new j;break;case 1:o?(s.append(String.fromCharCode(g+128)),o=!1):s.append(String.fromCharCode(g)),c=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[g];o?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):s.append(y)}else switch(g){case 27:s.append("");break;case 30:o=!0;break;default:throw new j}c=0;break;case 3:o?(s.append(String.fromCharCode(g+224)),o=!1):s.append(String.fromCharCode(g+96)),c=0;break;default:throw new j}}}while(r.available()>0)}static decodeTextSegment(r,s){let o=!1,u=[],c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let h=0;h<3;h++){const g=u[h];switch(c){case 0:if(g<3)c=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[g];o?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):s.append(y)}else throw new j;break;case 1:o?(s.append(String.fromCharCode(g+128)),o=!1):s.append(String.fromCharCode(g)),c=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[g];o?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):s.append(y)}else switch(g){case 27:s.append("");break;case 30:o=!0;break;default:throw new j}c=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[g];o?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):s.append(y),c=0}else throw new j;break;default:throw new j}}}while(r.available()>0)}static decodeAnsiX12Segment(r,s){const o=[];do{if(r.available()===8)return;const u=r.readBits(8);if(u===254)return;this.parseTwoBytes(u,r.readBits(8),o);for(let c=0;c<3;c++){const f=o[c];switch(f){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(f<14)s.append(String.fromCharCode(f+44));else if(f<40)s.append(String.fromCharCode(f+51));else throw new j;break}}}while(r.available()>0)}static parseTwoBytes(r,s,o){let u=(r<<8)+s-1,c=Math.floor(u/1600);o[0]=c,u-=c*1600,c=Math.floor(u/40),o[1]=c,o[2]=u-c*40}static decodeEdifactSegment(r,s){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let u=r.readBits(6);if(u===31){const c=8-r.getBitOffset();c!==8&&r.readBits(c);return}u&32||(u|=64),s.append(String.fromCharCode(u))}}while(r.available()>0)}static decodeBase256Segment(r,s,o){let u=1+r.getByteOffset();const c=this.unrandomize255State(r.readBits(8),u++);let f;if(c===0?f=r.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(r.readBits(8),u++),f<0)throw new j;const h=new Uint8Array(f);for(let g=0;g<f;g++){if(r.available()<8)throw new j;h[g]=this.unrandomize255State(r.readBits(8),u++)}o.push(h);try{s.append(ae.decode(h,ne.ISO88591))}catch(g){throw new wr("Platform does not support required encoding: "+g.message)}}static unrandomize255State(r,s){const o=149*s%255+1,u=r-o;return u>=0?u:u+256}}di.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],di.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],di.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],di.TEXT_SHIFT2_SET_CHARS=di.C40_SHIFT2_SET_CHARS,di.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class L3{constructor(){this.rsDecoder=new ma(Ze.DATA_MATRIX_FIELD_256)}decode(r){const s=new xf(r),o=s.getVersion(),u=s.readCodewords(),c=yf.getDataBlocks(u,o);let f=0;for(let y of c)f+=y.getNumDataCodewords();const h=new Uint8Array(f),g=c.length;for(let y=0;y<g;y++){const C=c[y],S=C.getCodewords(),b=C.getNumDataCodewords();this.correctErrors(S,b);for(let O=0;O<b;O++)h[O*g+y]=S[O]}return di.decode(h)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new T}for(let u=0;u<s;u++)r[u]=o[u]}}class It{constructor(r){this.image=r,this.rectangleDetector=new jr(this.image)}detect(){const r=this.rectangleDetector.detect();let s=this.detectSolid1(r);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new K;s=this.shiftToModuleCenter(s);const o=s[0],u=s[1],c=s[2],f=s[3];let h=this.transitionsBetween(o,f)+1,g=this.transitionsBetween(c,f)+1;(h&1)===1&&(h+=1),(g&1)===1&&(g+=1),4*h<7*g&&4*g<7*h&&(h=g=Math.max(h,g));let y=It.sampleGrid(this.image,o,u,c,f,h,g);return new Kl(y,[o,u,c,f])}static shiftPoint(r,s,o){let u=(s.getX()-r.getX())/(o+1),c=(s.getY()-r.getY())/(o+1);return new ge(r.getX()+u,r.getY()+c)}static moveAway(r,s,o){let u=r.getX(),c=r.getY();return u<s?u-=1:u+=1,c<o?c-=1:c+=1,new ge(u,c)}detectSolid1(r){let s=r[0],o=r[1],u=r[3],c=r[2],f=this.transitionsBetween(s,o),h=this.transitionsBetween(o,u),g=this.transitionsBetween(u,c),y=this.transitionsBetween(c,s),C=f,S=[c,s,o,u];return C>h&&(C=h,S[0]=s,S[1]=o,S[2]=u,S[3]=c),C>g&&(C=g,S[0]=o,S[1]=u,S[2]=c,S[3]=s),C>y&&(S[0]=u,S[1]=c,S[2]=s,S[3]=o),S}detectSolid2(r){let s=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(s,c),h=It.shiftPoint(o,u,(f+1)*4),g=It.shiftPoint(u,o,(f+1)*4),y=this.transitionsBetween(h,s),C=this.transitionsBetween(g,c);return y<C?(r[0]=s,r[1]=o,r[2]=u,r[3]=c):(r[0]=o,r[1]=u,r[2]=c,r[3]=s),r}correctTopRight(r){let s=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(s,c),h=this.transitionsBetween(o,c),g=It.shiftPoint(s,o,(h+1)*4),y=It.shiftPoint(u,o,(f+1)*4);f=this.transitionsBetween(g,c),h=this.transitionsBetween(y,c);let C=new ge(c.getX()+(u.getX()-o.getX())/(f+1),c.getY()+(u.getY()-o.getY())/(f+1)),S=new ge(c.getX()+(s.getX()-o.getX())/(h+1),c.getY()+(s.getY()-o.getY())/(h+1));if(!this.isValid(C))return this.isValid(S)?S:null;if(!this.isValid(S))return C;let b=this.transitionsBetween(g,C)+this.transitionsBetween(y,C),O=this.transitionsBetween(g,S)+this.transitionsBetween(y,S);return b>O?C:S}shiftToModuleCenter(r){let s=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(s,c)+1,h=this.transitionsBetween(u,c)+1,g=It.shiftPoint(s,o,h*4),y=It.shiftPoint(u,o,f*4);f=this.transitionsBetween(g,c)+1,h=this.transitionsBetween(y,c)+1,(f&1)===1&&(f+=1),(h&1)===1&&(h+=1);let C=(s.getX()+o.getX()+u.getX()+c.getX())/4,S=(s.getY()+o.getY()+u.getY()+c.getY())/4;s=It.moveAway(s,C,S),o=It.moveAway(o,C,S),u=It.moveAway(u,C,S),c=It.moveAway(c,C,S);let b,O;return g=It.shiftPoint(s,o,h*4),g=It.shiftPoint(g,c,f*4),b=It.shiftPoint(o,s,h*4),b=It.shiftPoint(b,u,f*4),y=It.shiftPoint(u,c,h*4),y=It.shiftPoint(y,o,f*4),O=It.shiftPoint(c,u,h*4),O=It.shiftPoint(O,s,f*4),[g,b,y,O]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,s,o,u,c,f,h){return ci.getInstance().sampleGrid(r,f,h,.5,.5,f-.5,.5,f-.5,h-.5,.5,h-.5,s.getX(),s.getY(),c.getX(),c.getY(),u.getX(),u.getY(),o.getX(),o.getY())}transitionsBetween(r,s){let o=Math.trunc(r.getX()),u=Math.trunc(r.getY()),c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.abs(f-u)>Math.abs(c-o);if(h){let L=o;o=u,u=L,L=c,c=f,f=L}let g=Math.abs(c-o),y=Math.abs(f-u),C=-g/2,S=u<f?1:-1,b=o<c?1:-1,O=0,P=this.image.get(h?u:o,h?o:u);for(let L=o,z=u;L!==c;L+=b){let X=this.image.get(h?z:L,h?L:z);if(X!==P&&(O++,P=X),C+=y,C>0){if(z===f)break;z+=S,C-=g}}return O}}class hi{constructor(){this.decoder=new L3}decode(r,s=null){let o,u;if(s!=null&&s.has(Z.PURE_BARCODE)){const y=hi.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(y),u=hi.NO_POINTS}else{const y=new It(r.getBlackMatrix()).detect();o=this.decoder.decode(y.getBits()),u=y.getPoints()}const c=o.getRawBytes(),f=new gt(o.getText(),c,8*c.length,u,ye.DATA_MATRIX,k.currentTimeMillis()),h=o.getByteSegments();h!=null&&f.putMetadata(jt.BYTE_SEGMENTS,h);const g=o.getECLevel();return g!=null&&f.putMetadata(jt.ERROR_CORRECTION_LEVEL,g),f}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s==null||o==null)throw new K;const u=this.moduleSize(s,r);let c=s[1];const f=o[1];let h=s[0];const y=(o[0]-h+1)/u,C=(f-c+1)/u;if(y<=0||C<=0)throw new K;const S=u/2;c+=S,h+=S;const b=new Me(y,C);for(let O=0;O<C;O++){const P=c+O*u;for(let L=0;L<y;L++)r.get(h+L*u,P)&&b.set(L,O)}return b}static moduleSize(r,s){const o=s.getWidth();let u=r[0];const c=r[1];for(;u<o&&s.get(u,c);)u++;if(u===o)throw new K;const f=u-r[0];if(f===0)throw new K;return f}}hi.NO_POINTS=[];class B3 extends Hn{constructor(r=500){super(new hi,r)}}var $s;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})($s||($s={}));class st{constructor(r,s,o){this.value=r,this.stringValue=s,this.bits=o,st.FOR_BITS.set(o,this),st.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return st.L;case"M":return st.M;case"Q":return st.Q;case"H":return st.H;default:throw new w(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof st))return!1;const s=r;return this.value===s.value}static forBits(r){if(r<0||r>=st.FOR_BITS.size)throw new v;return st.FOR_BITS.get(r)}}st.FOR_BITS=new Map,st.FOR_VALUE=new Map,st.L=new st($s.L,"L",1),st.M=new st($s.M,"M",0),st.Q=new st($s.Q,"Q",3),st.H=new st($s.H,"H",2);class nn{constructor(r){this.errorCorrectionLevel=st.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,s){return I.bitCount(r^s)}static decodeFormatInformation(r,s){const o=nn.doDecodeFormatInformation(r,s);return o!==null?o:nn.doDecodeFormatInformation(r^nn.FORMAT_INFO_MASK_QR,s^nn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,s){let o=Number.MAX_SAFE_INTEGER,u=0;for(const c of nn.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===r||f===s)return new nn(c[1]);let h=nn.numBitsDiffering(r,f);h<o&&(u=c[1],o=h),r!==s&&(h=nn.numBitsDiffering(s,f),h<o&&(u=c[1],o=h))}return o<=3?new nn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof nn))return!1;const s=r;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}nn.FORMAT_INFO_MASK_QR=21522,nn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(r,...s){this.ecCodewordsPerBlock=r,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const s=this.ecBlocks;for(const o of s)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class we{constructor(r,s,...o){this.versionNumber=r,this.alignmentPatternCenters=s,this.ecBlocks=o;let u=0;const c=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const h of f)u+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new j;try{return this.getVersionForNumber((r-17)/4)}catch{throw new j}}static getVersionForNumber(r){if(r<1||r>40)throw new v;return we.VERSIONS[r-1]}static decodeVersionInformation(r){let s=Number.MAX_SAFE_INTEGER,o=0;for(let u=0;u<we.VERSION_DECODE_INFO.length;u++){const c=we.VERSION_DECODE_INFO[u];if(c===r)return we.getVersionForNumber(u+7);const f=nn.numBitsDiffering(r,c);f<s&&(o=u+7,s=f)}return s<=3?we.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),s=new Me(r);s.setRegion(0,0,9,9),s.setRegion(r-8,0,8,9),s.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let u=0;u<o;u++){const c=this.alignmentPatternCenters[u]-2;for(let f=0;f<o;f++)u===0&&(f===0||f===o-1)||u===o-1&&f===0||s.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return s.setRegion(6,9,1,r-17),s.setRegion(9,6,r-17,1),this.versionNumber>6&&(s.setRegion(r-11,0,3,6),s.setRegion(0,r-11,6,3)),s}toString(){return""+this.versionNumber}}we.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),we.VERSIONS=[new we(1,new Int32Array(0),new W(7,new R(1,19)),new W(10,new R(1,16)),new W(13,new R(1,13)),new W(17,new R(1,9))),new we(2,Int32Array.from([6,18]),new W(10,new R(1,34)),new W(16,new R(1,28)),new W(22,new R(1,22)),new W(28,new R(1,16))),new we(3,Int32Array.from([6,22]),new W(15,new R(1,55)),new W(26,new R(1,44)),new W(18,new R(2,17)),new W(22,new R(2,13))),new we(4,Int32Array.from([6,26]),new W(20,new R(1,80)),new W(18,new R(2,32)),new W(26,new R(2,24)),new W(16,new R(4,9))),new we(5,Int32Array.from([6,30]),new W(26,new R(1,108)),new W(24,new R(2,43)),new W(18,new R(2,15),new R(2,16)),new W(22,new R(2,11),new R(2,12))),new we(6,Int32Array.from([6,34]),new W(18,new R(2,68)),new W(16,new R(4,27)),new W(24,new R(4,19)),new W(28,new R(4,15))),new we(7,Int32Array.from([6,22,38]),new W(20,new R(2,78)),new W(18,new R(4,31)),new W(18,new R(2,14),new R(4,15)),new W(26,new R(4,13),new R(1,14))),new we(8,Int32Array.from([6,24,42]),new W(24,new R(2,97)),new W(22,new R(2,38),new R(2,39)),new W(22,new R(4,18),new R(2,19)),new W(26,new R(4,14),new R(2,15))),new we(9,Int32Array.from([6,26,46]),new W(30,new R(2,116)),new W(22,new R(3,36),new R(2,37)),new W(20,new R(4,16),new R(4,17)),new W(24,new R(4,12),new R(4,13))),new we(10,Int32Array.from([6,28,50]),new W(18,new R(2,68),new R(2,69)),new W(26,new R(4,43),new R(1,44)),new W(24,new R(6,19),new R(2,20)),new W(28,new R(6,15),new R(2,16))),new we(11,Int32Array.from([6,30,54]),new W(20,new R(4,81)),new W(30,new R(1,50),new R(4,51)),new W(28,new R(4,22),new R(4,23)),new W(24,new R(3,12),new R(8,13))),new we(12,Int32Array.from([6,32,58]),new W(24,new R(2,92),new R(2,93)),new W(22,new R(6,36),new R(2,37)),new W(26,new R(4,20),new R(6,21)),new W(28,new R(7,14),new R(4,15))),new we(13,Int32Array.from([6,34,62]),new W(26,new R(4,107)),new W(22,new R(8,37),new R(1,38)),new W(24,new R(8,20),new R(4,21)),new W(22,new R(12,11),new R(4,12))),new we(14,Int32Array.from([6,26,46,66]),new W(30,new R(3,115),new R(1,116)),new W(24,new R(4,40),new R(5,41)),new W(20,new R(11,16),new R(5,17)),new W(24,new R(11,12),new R(5,13))),new we(15,Int32Array.from([6,26,48,70]),new W(22,new R(5,87),new R(1,88)),new W(24,new R(5,41),new R(5,42)),new W(30,new R(5,24),new R(7,25)),new W(24,new R(11,12),new R(7,13))),new we(16,Int32Array.from([6,26,50,74]),new W(24,new R(5,98),new R(1,99)),new W(28,new R(7,45),new R(3,46)),new W(24,new R(15,19),new R(2,20)),new W(30,new R(3,15),new R(13,16))),new we(17,Int32Array.from([6,30,54,78]),new W(28,new R(1,107),new R(5,108)),new W(28,new R(10,46),new R(1,47)),new W(28,new R(1,22),new R(15,23)),new W(28,new R(2,14),new R(17,15))),new we(18,Int32Array.from([6,30,56,82]),new W(30,new R(5,120),new R(1,121)),new W(26,new R(9,43),new R(4,44)),new W(28,new R(17,22),new R(1,23)),new W(28,new R(2,14),new R(19,15))),new we(19,Int32Array.from([6,30,58,86]),new W(28,new R(3,113),new R(4,114)),new W(26,new R(3,44),new R(11,45)),new W(26,new R(17,21),new R(4,22)),new W(26,new R(9,13),new R(16,14))),new we(20,Int32Array.from([6,34,62,90]),new W(28,new R(3,107),new R(5,108)),new W(26,new R(3,41),new R(13,42)),new W(30,new R(15,24),new R(5,25)),new W(28,new R(15,15),new R(10,16))),new we(21,Int32Array.from([6,28,50,72,94]),new W(28,new R(4,116),new R(4,117)),new W(26,new R(17,42)),new W(28,new R(17,22),new R(6,23)),new W(30,new R(19,16),new R(6,17))),new we(22,Int32Array.from([6,26,50,74,98]),new W(28,new R(2,111),new R(7,112)),new W(28,new R(17,46)),new W(30,new R(7,24),new R(16,25)),new W(24,new R(34,13))),new we(23,Int32Array.from([6,30,54,78,102]),new W(30,new R(4,121),new R(5,122)),new W(28,new R(4,47),new R(14,48)),new W(30,new R(11,24),new R(14,25)),new W(30,new R(16,15),new R(14,16))),new we(24,Int32Array.from([6,28,54,80,106]),new W(30,new R(6,117),new R(4,118)),new W(28,new R(6,45),new R(14,46)),new W(30,new R(11,24),new R(16,25)),new W(30,new R(30,16),new R(2,17))),new we(25,Int32Array.from([6,32,58,84,110]),new W(26,new R(8,106),new R(4,107)),new W(28,new R(8,47),new R(13,48)),new W(30,new R(7,24),new R(22,25)),new W(30,new R(22,15),new R(13,16))),new we(26,Int32Array.from([6,30,58,86,114]),new W(28,new R(10,114),new R(2,115)),new W(28,new R(19,46),new R(4,47)),new W(28,new R(28,22),new R(6,23)),new W(30,new R(33,16),new R(4,17))),new we(27,Int32Array.from([6,34,62,90,118]),new W(30,new R(8,122),new R(4,123)),new W(28,new R(22,45),new R(3,46)),new W(30,new R(8,23),new R(26,24)),new W(30,new R(12,15),new R(28,16))),new we(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new R(3,117),new R(10,118)),new W(28,new R(3,45),new R(23,46)),new W(30,new R(4,24),new R(31,25)),new W(30,new R(11,15),new R(31,16))),new we(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new R(7,116),new R(7,117)),new W(28,new R(21,45),new R(7,46)),new W(30,new R(1,23),new R(37,24)),new W(30,new R(19,15),new R(26,16))),new we(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new R(5,115),new R(10,116)),new W(28,new R(19,47),new R(10,48)),new W(30,new R(15,24),new R(25,25)),new W(30,new R(23,15),new R(25,16))),new we(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new R(13,115),new R(3,116)),new W(28,new R(2,46),new R(29,47)),new W(30,new R(42,24),new R(1,25)),new W(30,new R(23,15),new R(28,16))),new we(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new R(17,115)),new W(28,new R(10,46),new R(23,47)),new W(30,new R(10,24),new R(35,25)),new W(30,new R(19,15),new R(35,16))),new we(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new R(17,115),new R(1,116)),new W(28,new R(14,46),new R(21,47)),new W(30,new R(29,24),new R(19,25)),new W(30,new R(11,15),new R(46,16))),new we(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new R(13,115),new R(6,116)),new W(28,new R(14,46),new R(23,47)),new W(30,new R(44,24),new R(7,25)),new W(30,new R(59,16),new R(1,17))),new we(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new R(12,121),new R(7,122)),new W(28,new R(12,47),new R(26,48)),new W(30,new R(39,24),new R(14,25)),new W(30,new R(22,15),new R(41,16))),new we(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new R(6,121),new R(14,122)),new W(28,new R(6,47),new R(34,48)),new W(30,new R(46,24),new R(10,25)),new W(30,new R(2,15),new R(64,16))),new we(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new R(17,122),new R(4,123)),new W(28,new R(29,46),new R(14,47)),new W(30,new R(49,24),new R(10,25)),new W(30,new R(24,15),new R(46,16))),new we(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new R(4,122),new R(18,123)),new W(28,new R(13,46),new R(32,47)),new W(30,new R(48,24),new R(14,25)),new W(30,new R(42,15),new R(32,16))),new we(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new R(20,117),new R(4,118)),new W(28,new R(40,47),new R(7,48)),new W(30,new R(43,24),new R(22,25)),new W(30,new R(10,15),new R(67,16))),new we(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new R(19,118),new R(6,119)),new W(28,new R(18,47),new R(31,48)),new W(30,new R(34,24),new R(34,25)),new W(30,new R(20,15),new R(61,16)))];var Ut;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Ut||(Ut={}));class Xn{constructor(r,s){this.value=r,this.isMasked=s}unmaskBitMatrix(r,s){for(let o=0;o<s;o++)for(let u=0;u<s;u++)this.isMasked(o,u)&&r.flip(u,o)}}Xn.values=new Map([[Ut.DATA_MASK_000,new Xn(Ut.DATA_MASK_000,(A,r)=>(A+r&1)===0)],[Ut.DATA_MASK_001,new Xn(Ut.DATA_MASK_001,(A,r)=>(A&1)===0)],[Ut.DATA_MASK_010,new Xn(Ut.DATA_MASK_010,(A,r)=>r%3===0)],[Ut.DATA_MASK_011,new Xn(Ut.DATA_MASK_011,(A,r)=>(A+r)%3===0)],[Ut.DATA_MASK_100,new Xn(Ut.DATA_MASK_100,(A,r)=>(Math.floor(A/2)+Math.floor(r/3)&1)===0)],[Ut.DATA_MASK_101,new Xn(Ut.DATA_MASK_101,(A,r)=>A*r%6===0)],[Ut.DATA_MASK_110,new Xn(Ut.DATA_MASK_110,(A,r)=>A*r%6<3)],[Ut.DATA_MASK_111,new Xn(Ut.DATA_MASK_111,(A,r)=>(A+r+A*r%3&1)===0)]]);class F3{constructor(r){const s=r.getHeight();if(s<21||(s&3)!==1)throw new j;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let c=0;c<6;c++)r=this.copyBit(c,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let c=5;c>=0;c--)r=this.copyBit(8,c,r);const s=this.bitMatrix.getHeight();let o=0;const u=s-7;for(let c=s-1;c>=u;c--)o=this.copyBit(8,c,o);for(let c=s-8;c<s;c++)o=this.copyBit(c,8,o);if(this.parsedFormatInfo=nn.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),s=Math.floor((r-17)/4);if(s<=6)return we.getVersionForNumber(s);let o=0;const u=r-11;for(let f=5;f>=0;f--)for(let h=r-9;h>=u;h--)o=this.copyBit(h,f,o);let c=we.decodeVersionInformation(o);if(c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;o=0;for(let f=5;f>=0;f--)for(let h=r-9;h>=u;h--)o=this.copyBit(f,h,o);if(c=we.decodeVersionInformation(o),c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;throw new j}copyBit(r,s,o){return(this.isMirror?this.bitMatrix.get(s,r):this.bitMatrix.get(r,s))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),s=this.readVersion(),o=Xn.values.get(r.getDataMask()),u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u);const c=s.buildFunctionPattern();let f=!0;const h=new Uint8Array(s.getTotalCodewords());let g=0,y=0,C=0;for(let S=u-1;S>0;S-=2){S===6&&S--;for(let b=0;b<u;b++){const O=f?u-1-b:b;for(let P=0;P<2;P++)c.get(S-P,O)||(C++,y<<=1,this.bitMatrix.get(S-P,O)&&(y|=1),C===8&&(h[g++]=y,C=0,y=0))}f=!f}if(g!==s.getTotalCodewords())throw new j;return h}remask(){if(this.parsedFormatInfo===null)return;const r=Xn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let s=0,o=r.getWidth();s<o;s++)for(let u=s+1,c=r.getHeight();u<c;u++)r.get(s,u)!==r.get(u,s)&&(r.flip(u,s),r.flip(s,u))}}class vf{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s,o){if(r.length!==s.getTotalCodewords())throw new v;const u=s.getECBlocksForLevel(o);let c=0;const f=u.getECBlocks();for(const P of f)c+=P.getCount();const h=new Array(c);let g=0;for(const P of f)for(let L=0;L<P.getCount();L++){const z=P.getDataCodewords(),X=u.getECCodewordsPerBlock()+z;h[g++]=new vf(z,new Uint8Array(X))}const y=h[0].codewords.length;let C=h.length-1;for(;C>=0&&h[C].codewords.length!==y;)C--;C++;const S=y-u.getECCodewordsPerBlock();let b=0;for(let P=0;P<S;P++)for(let L=0;L<g;L++)h[L].codewords[P]=r[b++];for(let P=C;P<g;P++)h[P].codewords[S]=r[b++];const O=h[0].codewords.length;for(let P=S;P<O;P++)for(let L=0;L<g;L++){const z=L<C?P:P+1;h[L].codewords[z]=r[b++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Zn;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(Zn||(Zn={}));class Ce{constructor(r,s,o,u){this.value=r,this.stringValue=s,this.characterCountBitsForVersions=o,this.bits=u,Ce.FOR_BITS.set(u,this),Ce.FOR_VALUE.set(r,this)}static forBits(r){const s=Ce.FOR_BITS.get(r);if(s===void 0)throw new v;return s}getCharacterCountBits(r){const s=r.getVersionNumber();let o;return s<=9?o=0:s<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Ce))return!1;const s=r;return this.value===s.value}toString(){return this.stringValue}}Ce.FOR_BITS=new Map,Ce.FOR_VALUE=new Map,Ce.TERMINATOR=new Ce(Zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ce.NUMERIC=new Ce(Zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ce.ALPHANUMERIC=new Ce(Zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ce.STRUCTURED_APPEND=new Ce(Zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ce.BYTE=new Ce(Zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ce.ECI=new Ce(Zn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ce.KANJI=new Ce(Zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ce.FNC1_FIRST_POSITION=new Ce(Zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ce.FNC1_SECOND_POSITION=new Ce(Zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ce.HANZI=new Ce(Zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class mt{static decode(r,s,o,u){const c=new wf(r);let f=new Te;const h=new Array;let g=-1,y=-1;try{let C=null,S=!1,b;do{if(c.available()<4)b=Ce.TERMINATOR;else{const O=c.readBits(4);b=Ce.forBits(O)}switch(b){case Ce.TERMINATOR:break;case Ce.FNC1_FIRST_POSITION:case Ce.FNC1_SECOND_POSITION:S=!0;break;case Ce.STRUCTURED_APPEND:if(c.available()<16)throw new j;g=c.readBits(8),y=c.readBits(8);break;case Ce.ECI:const O=mt.parseECIValue(c);if(C=Y.getCharacterSetECIByValue(O),C===null)throw new j;break;case Ce.HANZI:const P=c.readBits(4),L=c.readBits(b.getCharacterCountBits(s));P===mt.GB2312_SUBSET&&mt.decodeHanziSegment(c,f,L);break;default:const z=c.readBits(b.getCharacterCountBits(s));switch(b){case Ce.NUMERIC:mt.decodeNumericSegment(c,f,z);break;case Ce.ALPHANUMERIC:mt.decodeAlphanumericSegment(c,f,z,S);break;case Ce.BYTE:mt.decodeByteSegment(c,f,z,C,h,u);break;case Ce.KANJI:mt.decodeKanjiSegment(c,f,z);break;default:throw new j}break}}while(b!==Ce.TERMINATOR)}catch{throw new j}return new pa(r,f.toString(),h.length===0?null:h,o===null?null:o.toString(),g,y)}static decodeHanziSegment(r,s,o){if(o*13>r.available())throw new j;const u=new Uint8Array(2*o);let c=0;for(;o>0;){const f=r.readBits(13);let h=f/96<<8&4294967295|f%96;h<959?h+=41377:h+=42657,u[c]=h>>8&255,u[c+1]=h&255,c+=2,o--}try{s.append(ae.decode(u,ne.GB2312))}catch(f){throw new j(f)}}static decodeKanjiSegment(r,s,o){if(o*13>r.available())throw new j;const u=new Uint8Array(2*o);let c=0;for(;o>0;){const f=r.readBits(13);let h=f/192<<8&4294967295|f%192;h<7936?h+=33088:h+=49472,u[c]=h>>8,u[c+1]=h,c+=2,o--}try{s.append(ae.decode(u,ne.SHIFT_JIS))}catch(f){throw new j(f)}}static decodeByteSegment(r,s,o,u,c,f){if(8*o>r.available())throw new j;const h=new Uint8Array(o);for(let y=0;y<o;y++)h[y]=r.readBits(8);let g;u===null?g=ne.guessEncoding(h,f):g=u.getName();try{s.append(ae.decode(h,g))}catch(y){throw new j(y)}c.push(h)}static toAlphaNumericChar(r){if(r>=mt.ALPHANUMERIC_CHARS.length)throw new j;return mt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,s,o,u){const c=s.length();for(;o>1;){if(r.available()<11)throw new j;const f=r.readBits(11);s.append(mt.toAlphaNumericChar(Math.floor(f/45))),s.append(mt.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(r.available()<6)throw new j;s.append(mt.toAlphaNumericChar(r.readBits(6)))}if(u)for(let f=c;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,""))}static decodeNumericSegment(r,s,o){for(;o>=3;){if(r.available()<10)throw new j;const u=r.readBits(10);if(u>=1e3)throw new j;s.append(mt.toAlphaNumericChar(Math.floor(u/100))),s.append(mt.toAlphaNumericChar(Math.floor(u/10)%10)),s.append(mt.toAlphaNumericChar(u%10)),o-=3}if(o===2){if(r.available()<7)throw new j;const u=r.readBits(7);if(u>=100)throw new j;s.append(mt.toAlphaNumericChar(Math.floor(u/10))),s.append(mt.toAlphaNumericChar(u%10))}else if(o===1){if(r.available()<4)throw new j;const u=r.readBits(4);if(u>=10)throw new j;s.append(mt.toAlphaNumericChar(u))}}static parseECIValue(r){const s=r.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const o=r.readBits(8);return(s&63)<<8&4294967295|o}if((s&224)===192){const o=r.readBits(16);return(s&31)<<16&4294967295|o}throw new j}}mt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",mt.GB2312_SUBSET=1;class rp{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const s=r[0];r[0]=r[2],r[2]=s}}class V3{constructor(){this.rsDecoder=new ma(Ze.QR_CODE_FIELD_256)}decodeBooleanArray(r,s){return this.decodeBitMatrix(Me.parseFromBooleanArray(r),s)}decodeBitMatrix(r,s){const o=new F3(r);let u=null;try{return this.decodeBitMatrixParser(o,s)}catch(c){u=c}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const c=this.decodeBitMatrixParser(o,s);return c.setOther(new rp(!0)),c}catch(c){throw u!==null?u:c}}decodeBitMatrixParser(r,s){const o=r.readVersion(),u=r.readFormatInformation().getErrorCorrectionLevel(),c=r.readCodewords(),f=vf.getDataBlocks(c,o,u);let h=0;for(const C of f)h+=C.getNumDataCodewords();const g=new Uint8Array(h);let y=0;for(const C of f){const S=C.getCodewords(),b=C.getNumDataCodewords();this.correctErrors(S,b);for(let O=0;O<b;O++)g[y++]=S[O]}return mt.decode(g,o,u,s)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new T}for(let u=0;u<s;u++)r[u]=o[u]}}class Cf extends ge{constructor(r,s,o){super(r,s),this.estimatedModuleSize=o}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const u=(this.getX()+s)/2,c=(this.getY()+r)/2,f=(this.estimatedModuleSize+o)/2;return new Cf(u,c,f)}}class eu{constructor(r,s,o,u,c,f,h){this.image=r,this.startX=s,this.startY=o,this.width=u,this.height=c,this.moduleSize=f,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,s=this.height,o=this.width,u=r+o,c=this.startY+s/2,f=new Int32Array(3),h=this.image;for(let g=0;g<s;g++){const y=c+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=r;for(;C<u&&!h.get(C,y);)C++;let S=0;for(;C<u;){if(h.get(C,y))if(S===1)f[1]++;else if(S===2){if(this.foundPatternCross(f)){const b=this.handlePossibleCenter(f,y,C);if(b!==null)return b}f[0]=f[2],f[1]=1,f[2]=0,S=1}else f[++S]++;else S===1&&S++,f[S]++;C++}if(this.foundPatternCross(f)){const b=this.handlePossibleCenter(f,y,u);if(b!==null)return b}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new K}static centerFromEnd(r,s){return s-r[2]-r[1]/2}foundPatternCross(r){const s=this.moduleSize,o=s/2;for(let u=0;u<3;u++)if(Math.abs(s-r[u])>=o)return!1;return!0}crossCheckVertical(r,s,o,u){const c=this.image,f=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let g=r;for(;g>=0&&c.get(s,g)&&h[1]<=o;)h[1]++,g--;if(g<0||h[1]>o)return NaN;for(;g>=0&&!c.get(s,g)&&h[0]<=o;)h[0]++,g--;if(h[0]>o)return NaN;for(g=r+1;g<f&&c.get(s,g)&&h[1]<=o;)h[1]++,g++;if(g===f||h[1]>o)return NaN;for(;g<f&&!c.get(s,g)&&h[2]<=o;)h[2]++,g++;if(h[2]>o)return NaN;const y=h[0]+h[1]+h[2];return 5*Math.abs(y-u)>=2*u?NaN:this.foundPatternCross(h)?eu.centerFromEnd(h,g):NaN}handlePossibleCenter(r,s,o){const u=r[0]+r[1]+r[2],c=eu.centerFromEnd(r,o),f=this.crossCheckVertical(s,c,2*r[1],u);if(!isNaN(f)){const h=(r[0]+r[1]+r[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(h,f,c))return y.combineEstimate(f,c,h);const g=new Cf(c,f,h);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class Ef extends ge{constructor(r,s,o,u){super(r,s),this.estimatedModuleSize=o,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const u=this.count+1,c=(this.count*this.getX()+s)/u,f=(this.count*this.getY()+r)/u,h=(this.count*this.estimatedModuleSize+o)/u;return new Ef(c,f,h,u)}}class j3{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class zt{constructor(r,s){this.image=r,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const s=r!=null&&r.get(Z.TRY_HARDER)!==void 0,o=r!=null&&r.get(Z.PURE_BARCODE)!==void 0,u=this.image,c=u.getHeight(),f=u.getWidth();let h=Math.floor(3*c/(4*zt.MAX_MODULES));(h<zt.MIN_SKIP||s)&&(h=zt.MIN_SKIP);let g=!1;const y=new Int32Array(5);for(let S=h-1;S<c&&!g;S+=h){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let b=0;for(let O=0;O<f;O++)if(u.get(O,S))(b&1)===1&&b++,y[b]++;else if(b&1)y[b]++;else if(b===4)if(zt.foundPatternCross(y)){if(this.handlePossibleCenter(y,S,O,o)===!0)if(h=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>y[2]&&(S+=L-y[2]-h,O=f-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,b=3;continue}b=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,b=3;else y[++b]++;zt.foundPatternCross(y)&&this.handlePossibleCenter(y,S,f,o)===!0&&(h=y[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return ge.orderBestPatterns(C),new j3(C)}static centerFromEnd(r,s){return s-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let s=0;for(let c=0;c<5;c++){const f=r[c];if(f===0)return!1;s+=f}if(s<7)return!1;const o=s/7,u=o/2;return Math.abs(o-r[0])<u&&Math.abs(o-r[1])<u&&Math.abs(3*o-r[2])<3*u&&Math.abs(o-r[3])<u&&Math.abs(o-r[4])<u}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,s,o,u){const c=this.getCrossCheckStateCount();let f=0;const h=this.image;for(;r>=f&&s>=f&&h.get(s-f,r-f);)c[2]++,f++;if(r<f||s<f)return!1;for(;r>=f&&s>=f&&!h.get(s-f,r-f)&&c[1]<=o;)c[1]++,f++;if(r<f||s<f||c[1]>o)return!1;for(;r>=f&&s>=f&&h.get(s-f,r-f)&&c[0]<=o;)c[0]++,f++;if(c[0]>o)return!1;const g=h.getHeight(),y=h.getWidth();for(f=1;r+f<g&&s+f<y&&h.get(s+f,r+f);)c[2]++,f++;if(r+f>=g||s+f>=y)return!1;for(;r+f<g&&s+f<y&&!h.get(s+f,r+f)&&c[3]<o;)c[3]++,f++;if(r+f>=g||s+f>=y||c[3]>=o)return!1;for(;r+f<g&&s+f<y&&h.get(s+f,r+f)&&c[4]<o;)c[4]++,f++;if(c[4]>=o)return!1;const C=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(C-u)<2*u&&zt.foundPatternCross(c)}crossCheckVertical(r,s,o,u){const c=this.image,f=c.getHeight(),h=this.getCrossCheckStateCount();let g=r;for(;g>=0&&c.get(s,g);)h[2]++,g--;if(g<0)return NaN;for(;g>=0&&!c.get(s,g)&&h[1]<=o;)h[1]++,g--;if(g<0||h[1]>o)return NaN;for(;g>=0&&c.get(s,g)&&h[0]<=o;)h[0]++,g--;if(h[0]>o)return NaN;for(g=r+1;g<f&&c.get(s,g);)h[2]++,g++;if(g===f)return NaN;for(;g<f&&!c.get(s,g)&&h[3]<o;)h[3]++,g++;if(g===f||h[3]>=o)return NaN;for(;g<f&&c.get(s,g)&&h[4]<o;)h[4]++,g++;if(h[4]>=o)return NaN;const y=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(y-u)>=2*u?NaN:zt.foundPatternCross(h)?zt.centerFromEnd(h,g):NaN}crossCheckHorizontal(r,s,o,u){const c=this.image,f=c.getWidth(),h=this.getCrossCheckStateCount();let g=r;for(;g>=0&&c.get(g,s);)h[2]++,g--;if(g<0)return NaN;for(;g>=0&&!c.get(g,s)&&h[1]<=o;)h[1]++,g--;if(g<0||h[1]>o)return NaN;for(;g>=0&&c.get(g,s)&&h[0]<=o;)h[0]++,g--;if(h[0]>o)return NaN;for(g=r+1;g<f&&c.get(g,s);)h[2]++,g++;if(g===f)return NaN;for(;g<f&&!c.get(g,s)&&h[3]<o;)h[3]++,g++;if(g===f||h[3]>=o)return NaN;for(;g<f&&c.get(g,s)&&h[4]<o;)h[4]++,g++;if(h[4]>=o)return NaN;const y=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(y-u)>=u?NaN:zt.foundPatternCross(h)?zt.centerFromEnd(h,g):NaN}handlePossibleCenter(r,s,o,u){const c=r[0]+r[1]+r[2]+r[3]+r[4];let f=zt.centerFromEnd(r,o),h=this.crossCheckVertical(s,Math.floor(f),r[2],c);if(!isNaN(h)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(h),r[2],c),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(h),Math.floor(f),r[2],c)))){const g=c/7;let y=!1;const C=this.possibleCenters;for(let S=0,b=C.length;S<b;S++){const O=C[S];if(O.aboutEquals(g,h,f)){C[S]=O.combineEstimate(h,f,g),y=!0;break}}if(!y){const S=new Ef(f,h,g);C.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const o of this.possibleCenters)if(o.getCount()>=zt.CENTER_QUORUM)if(s==null)s=o;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-o.getX())-Math.abs(s.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,s=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=zt.CENTER_QUORUM&&(r++,s+=f.getEstimatedModuleSize());if(r<3)return!1;const u=s/o;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-u);return c<=.05*s}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new K;const s=this.possibleCenters;let o;if(r>3){let u=0,c=0;for(const g of this.possibleCenters){const y=g.getEstimatedModuleSize();u+=y,c+=y*y}o=u/r;let f=Math.sqrt(c/r-o*o);s.sort((g,y)=>{const C=Math.abs(y.getEstimatedModuleSize()-o),S=Math.abs(g.getEstimatedModuleSize()-o);return C<S?-1:C>S?1:0});const h=Math.max(.2*o,f);for(let g=0;g<s.length&&s.length>3;g++){const y=s[g];Math.abs(y.getEstimatedModuleSize()-o)>h&&(s.splice(g,1),g--)}}if(s.length>3){let u=0;for(const c of s)u+=c.getEstimatedModuleSize();o=u/s.length,s.sort((c,f)=>{if(f.getCount()===c.getCount()){const h=Math.abs(f.getEstimatedModuleSize()-o),g=Math.abs(c.getEstimatedModuleSize()-o);return h<g?1:h>g?-1:0}else return f.getCount()-c.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}zt.CENTER_QUORUM=2,zt.MIN_SKIP=3,zt.MAX_MODULES=57;class ya{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(Z.NEED_RESULT_POINT_CALLBACK);const o=new zt(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const s=r.getTopLeft(),o=r.getTopRight(),u=r.getBottomLeft(),c=this.calculateModuleSize(s,o,u);if(c<1)throw new K("No pattern found in proccess finder.");const f=ya.computeDimension(s,o,u,c),h=we.getProvisionalVersionForDimension(f),g=h.getDimensionForVersion()-7;let y=null;if(h.getAlignmentPatternCenters().length>0){const O=o.getX()-s.getX()+u.getX(),P=o.getY()-s.getY()+u.getY(),L=1-3/g,z=Math.floor(s.getX()+L*(O-s.getX())),X=Math.floor(s.getY()+L*(P-s.getY()));for(let te=4;te<=16;te<<=1)try{y=this.findAlignmentInRegion(c,z,X,te);break}catch(re){if(!(re instanceof K))throw re}}const C=ya.createTransform(s,o,u,y,f),S=ya.sampleGrid(this.image,C,f);let b;return y===null?b=[u,s,o]:b=[u,s,o,y],new Kl(S,b)}static createTransform(r,s,o,u,c){const f=c-3.5;let h,g,y,C;return u!==null?(h=u.getX(),g=u.getY(),y=f-3,C=y):(h=s.getX()-r.getX()+o.getX(),g=s.getY()-r.getY()+o.getY(),y=f,C=f),or.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,y,C,3.5,f,r.getX(),r.getY(),s.getX(),s.getY(),h,g,o.getX(),o.getY())}static sampleGrid(r,s,o){return ci.getInstance().sampleGridWithTransform(r,o,o,s)}static computeDimension(r,s,o,u){const c=We.round(ge.distance(r,s)/u),f=We.round(ge.distance(r,o)/u);let h=Math.floor((c+f)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new K("Dimensions could be not found.")}return h}calculateModuleSize(r,s,o){return(this.calculateModuleSizeOneWay(r,s)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,s){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(s.getX()),Math.floor(s.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?u/7:isNaN(u)?o/7:(o+u)/14}sizeOfBlackWhiteBlackRunBothWays(r,s,o,u){let c=this.sizeOfBlackWhiteBlackRun(r,s,o,u),f=1,h=r-(o-r);h<0?(f=r/(r-h),h=0):h>=this.image.getWidth()&&(f=(this.image.getWidth()-1-r)/(h-r),h=this.image.getWidth()-1);let g=Math.floor(s-(u-s)*f);return f=1,g<0?(f=s/(s-g),g=0):g>=this.image.getHeight()&&(f=(this.image.getHeight()-1-s)/(g-s),g=this.image.getHeight()-1),h=Math.floor(r+(h-r)*f),c+=this.sizeOfBlackWhiteBlackRun(r,s,h,g),c-1}sizeOfBlackWhiteBlackRun(r,s,o,u){const c=Math.abs(u-s)>Math.abs(o-r);if(c){let O=r;r=s,s=O,O=o,o=u,u=O}const f=Math.abs(o-r),h=Math.abs(u-s);let g=-f/2;const y=r<o?1:-1,C=s<u?1:-1;let S=0;const b=o+y;for(let O=r,P=s;O!==b;O+=y){const L=c?P:O,z=c?O:P;if(S===1===this.image.get(L,z)){if(S===2)return We.distance(O,P,r,s);S++}if(g+=h,g>0){if(P===u)break;P+=C,g-=f}}return S===2?We.distance(o+y,u,r,s):NaN}findAlignmentInRegion(r,s,o,u){const c=Math.floor(u*r),f=Math.max(0,s-c),h=Math.min(this.image.getWidth()-1,s+c);if(h-f<r*3)throw new K("Alignment top exceeds estimated module size.");const g=Math.max(0,o-c),y=Math.min(this.image.getHeight()-1,o+c);if(y-g<r*3)throw new K("Alignment bottom exceeds estimated module size.");return new eu(this.image,f,g,h-f,y-g,r,this.resultPointCallback).find()}}class pi{constructor(){this.decoder=new V3}getDecoder(){return this.decoder}decode(r,s){let o,u;if(s!=null&&s.get(Z.PURE_BARCODE)!==void 0){const g=pi.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(g,s),u=pi.NO_POINTS}else{const g=new ya(r.getBlackMatrix()).detect(s);o=this.decoder.decodeBitMatrix(g.getBits(),s),u=g.getPoints()}o.getOther()instanceof rp&&o.getOther().applyMirroredCorrection(u);const c=new gt(o.getText(),o.getRawBytes(),void 0,u,ye.QR_CODE,void 0),f=o.getByteSegments();f!==null&&c.putMetadata(jt.BYTE_SEGMENTS,f);const h=o.getECLevel();return h!==null&&c.putMetadata(jt.ERROR_CORRECTION_LEVEL,h),o.hasStructuredAppend()&&(c.putMetadata(jt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),c.putMetadata(jt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),c}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s===null||o===null)throw new K;const u=this.moduleSize(s,r);let c=s[1],f=o[1],h=s[0],g=o[0];if(h>=g||c>=f)throw new K;if(f-c!==g-h&&(g=h+(f-c),g>=r.getWidth()))throw new K;const y=Math.round((g-h+1)/u),C=Math.round((f-c+1)/u);if(y<=0||C<=0)throw new K;if(C!==y)throw new K;const S=Math.floor(u/2);c+=S,h+=S;const b=h+Math.floor((y-1)*u)-g;if(b>0){if(b>S)throw new K;h-=b}const O=c+Math.floor((C-1)*u)-f;if(O>0){if(O>S)throw new K;c-=O}const P=new Me(y,C);for(let L=0;L<C;L++){const z=c+Math.floor(L*u);for(let X=0;X<y;X++)r.get(h+Math.floor(X*u),z)&&P.set(X,L)}return P}static moduleSize(r,s){const o=s.getHeight(),u=s.getWidth();let c=r[0],f=r[1],h=!0,g=0;for(;c<u&&f<o;){if(h!==s.get(c,f)){if(++g===5)break;h=!h}c++,f++}if(c===u||f===o)throw new K;return(c-r[0])/7}}pi.NO_POINTS=new Array;class be{PDF417Common(){}static getBitCountSum(r){return We.sum(r)}static toIntArray(r){if(r==null||!r.length)return be.EMPTY_INT_ARRAY;const s=new Int32Array(r.length);let o=0;for(const u of r)s[o++]=u;return s}static getCodeword(r){const s=_.binarySearch(be.SYMBOL_TABLE,r&262143);return s<0?-1:(be.CODEWORD_TABLE[s]-1)%be.NUMBER_OF_CODEWORDS}}be.NUMBER_OF_CODEWORDS=929,be.MAX_CODEWORDS_IN_BARCODE=be.NUMBER_OF_CODEWORDS-1,be.MIN_ROWS_IN_BARCODE=3,be.MAX_ROWS_IN_BARCODE=90,be.MODULES_IN_CODEWORD=17,be.MODULES_IN_STOP_PATTERN=18,be.BARS_IN_MODULE=8,be.EMPTY_INT_ARRAY=new Int32Array([]),be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class U3{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Oe{static detectMultiple(r,s,o){let u=r.getBlackMatrix(),c=Oe.detect(o,u);return c.length||(u=u.clone(),u.rotate180(),c=Oe.detect(o,u)),new U3(u,c)}static detect(r,s){const o=new Array;let u=0,c=0,f=!1;for(;u<s.getHeight();){const h=Oe.findVertices(s,u,c);if(h[0]==null&&h[3]==null){if(!f)break;f=!1,c=0;for(const g of o)g[1]!=null&&(u=Math.trunc(Math.max(u,g[1].getY()))),g[3]!=null&&(u=Math.max(u,Math.trunc(g[3].getY())));u+=Oe.ROW_STEP;continue}if(f=!0,o.push(h),!r)break;h[2]!=null?(c=Math.trunc(h[2].getX()),u=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),u=Math.trunc(h[4].getY()))}return o}static findVertices(r,s,o){const u=r.getHeight(),c=r.getWidth(),f=new Array(8);return Oe.copyToResult(f,Oe.findRowsWithPattern(r,u,c,s,o,Oe.START_PATTERN),Oe.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY())),Oe.copyToResult(f,Oe.findRowsWithPattern(r,u,c,s,o,Oe.STOP_PATTERN),Oe.INDEXES_STOP_PATTERN),f}static copyToResult(r,s,o){for(let u=0;u<o.length;u++)r[o[u]]=s[u]}static findRowsWithPattern(r,s,o,u,c,f){const h=new Array(4);let g=!1;const y=new Int32Array(f.length);for(;u<s;u+=Oe.ROW_STEP){let S=Oe.findGuardPattern(r,c,u,o,!1,f,y);if(S!=null){for(;u>0;){const b=Oe.findGuardPattern(r,c,--u,o,!1,f,y);if(b!=null)S=b;else{u++;break}}h[0]=new ge(S[0],u),h[1]=new ge(S[1],u),g=!0;break}}let C=u+1;if(g){let S=0,b=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;C<s;C++){const O=Oe.findGuardPattern(r,b[0],C,o,!1,f,y);if(O!=null&&Math.abs(b[0]-O[0])<Oe.MAX_PATTERN_DRIFT&&Math.abs(b[1]-O[1])<Oe.MAX_PATTERN_DRIFT)b=O,S=0;else{if(S>Oe.SKIPPED_ROW_COUNT_MAX)break;S++}}C-=S+1,h[2]=new ge(b[0],C),h[3]=new ge(b[1],C)}return C-u<Oe.BARCODE_MIN_HEIGHT&&_.fill(h,null),h}static findGuardPattern(r,s,o,u,c,f,h){_.fillWithin(h,0,h.length,0);let g=s,y=0;for(;r.get(g,o)&&g>0&&y++<Oe.MAX_PIXEL_DRIFT;)g--;let C=g,S=0,b=f.length;for(let O=c;C<u;C++)if(r.get(C,o)!==O)h[S]++;else{if(S===b-1){if(Oe.patternMatchVariance(h,f,Oe.MAX_INDIVIDUAL_VARIANCE)<Oe.MAX_AVG_VARIANCE)return new Int32Array([g,C]);g+=h[0]+h[1],k.arraycopy(h,2,h,0,S-1),h[S-1]=0,h[S]=0,S--}else S++;h[S]=1,O=!O}return S===b-1&&Oe.patternMatchVariance(h,f,Oe.MAX_INDIVIDUAL_VARIANCE)<Oe.MAX_AVG_VARIANCE?new Int32Array([g,C-1]):null}static patternMatchVariance(r,s,o){let u=r.length,c=0,f=0;for(let y=0;y<u;y++)c+=r[y],f+=s[y];if(c<f)return 1/0;let h=c/f;o*=h;let g=0;for(let y=0;y<u;y++){let C=r[y],S=s[y]*h,b=C>S?C-S:S-C;if(b>o)return 1/0;g+=b}return g/c}}Oe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Oe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Oe.MAX_AVG_VARIANCE=.42,Oe.MAX_INDIVIDUAL_VARIANCE=.8,Oe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Oe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Oe.MAX_PIXEL_DRIFT=3,Oe.MAX_PATTERN_DRIFT=5,Oe.SKIPPED_ROW_COUNT_MAX=25,Oe.ROW_STEP=5,Oe.BARCODE_MIN_HEIGHT=10;class Zt{constructor(r,s){if(s.length===0)throw new v;this.field=r;let o=s.length;if(o>1&&s[0]===0){let u=1;for(;u<o&&s[u]===0;)u++;u===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-u),k.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let u=0;for(let c of this.coefficients)u=this.field.add(u,c);return u}let s=this.coefficients[0],o=this.coefficients.length;for(let u=1;u<o;u++)s=this.field.add(this.field.multiply(r,s),this.coefficients[u]);return s}add(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){let f=s;s=o,o=f}let u=new Int32Array(o.length),c=o.length-s.length;k.arraycopy(o,0,u,0,c);for(let f=c;f<o.length;f++)u[f]=this.field.add(s[f-c],o[f]);return new Zt(this.field,u)}subtract(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof Zt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new Zt(this.field,new Int32Array([0]));let s=this.coefficients,o=s.length,u=r.coefficients,c=u.length,f=new Int32Array(o+c-1);for(let h=0;h<o;h++){let g=s[h];for(let y=0;y<c;y++)f[h+y]=this.field.add(f[h+y],this.field.multiply(g,u[y]))}return new Zt(this.field,f)}negative(){let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.subtract(0,this.coefficients[o]);return new Zt(this.field,s)}multiplyScalar(r){if(r===0)return new Zt(this.field,new Int32Array([0]));if(r===1)return this;let s=this.coefficients.length,o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=this.field.multiply(this.coefficients[u],r);return new Zt(this.field,o)}multiplyByMonomial(r,s){if(r<0)throw new v;if(s===0)return new Zt(this.field,new Int32Array([0]));let o=this.coefficients.length,u=new Int32Array(o+r);for(let c=0;c<o;c++)u[c]=this.field.multiply(this.coefficients[c],s);return new Zt(this.field,u)}toString(){let r=new Te;for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(s===0||o!==1)&&r.append(o),s!==0&&(s===1?r.append("x"):(r.append("x^"),r.append(s))))}return r.toString()}}class z3{add(r,s){return(r+s)%this.modulus}subtract(r,s){return(this.modulus+r-s)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new v;return this.logTable[r]}inverse(r){if(r===0)throw new Zl;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Af extends z3{constructor(r,s){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let u=0;u<r;u++)this.expTable[u]=o,o=o*s%r;for(let u=0;u<r-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Zt(this,new Int32Array([0])),this.one=new Zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new v;if(s===0)return this.zero;let o=new Int32Array(r+1);return o[0]=s,new Zt(this,o)}}Af.PDF417_GF=new Af(be.NUMBER_OF_CODEWORDS,3);class ip{constructor(){this.field=Af.PDF417_GF}decode(r,s,o){let u=new Zt(this.field,r),c=new Int32Array(s),f=!1;for(let P=s;P>0;P--){let L=u.evaluateAt(this.field.exp(P));c[s-P]=L,L!==0&&(f=!0)}if(!f)return 0;let h=this.field.getOne();if(o!=null)for(const P of o){let L=this.field.exp(r.length-1-P),z=new Zt(this.field,new Int32Array([this.field.subtract(0,L),1]));h=h.multiply(z)}let g=new Zt(this.field,c),y=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),g,s),C=y[0],S=y[1],b=this.findErrorLocations(C),O=this.findErrorMagnitudes(S,C,b);for(let P=0;P<b.length;P++){let L=r.length-1-this.field.log(b[P]);if(L<0)throw T.getChecksumInstance();r[L]=this.field.subtract(r[L],O[P])}return b.length}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){let b=r;r=s,s=b}let u=r,c=s,f=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(o/2);){let b=u,O=f;if(u=c,f=h,u.isZero())throw T.getChecksumInstance();c=b;let P=this.field.getZero(),L=u.getCoefficient(u.getDegree()),z=this.field.inverse(L);for(;c.getDegree()>=u.getDegree()&&!c.isZero();){let X=c.getDegree()-u.getDegree(),te=this.field.multiply(c.getCoefficient(c.getDegree()),z);P=P.add(this.field.buildMonomial(X,te)),c=c.subtract(u.multiplyByMonomial(X,te))}h=P.multiply(f).subtract(O).negative()}let g=h.getCoefficient(0);if(g===0)throw T.getChecksumInstance();let y=this.field.inverse(g),C=h.multiply(y),S=c.multiply(y);return[C,S]}findErrorLocations(r){let s=r.getDegree(),o=new Int32Array(s),u=0;for(let c=1;c<this.field.getSize()&&u<s;c++)r.evaluateAt(c)===0&&(o[u]=this.field.inverse(c),u++);if(u!==s)throw T.getChecksumInstance();return o}findErrorMagnitudes(r,s,o){let u=s.getDegree(),c=new Int32Array(u);for(let y=1;y<=u;y++)c[u-y]=this.field.multiply(y,s.getCoefficient(y));let f=new Zt(this.field,c),h=o.length,g=new Int32Array(h);for(let y=0;y<h;y++){let C=this.field.inverse(o[y]),S=this.field.subtract(0,r.evaluateAt(C)),b=this.field.inverse(f.evaluateAt(C));g[y]=this.field.multiply(S,b)}return g}}class us{constructor(r,s,o,u,c){r instanceof us?this.constructor_2(r):this.constructor_1(r,s,o,u,c)}constructor_1(r,s,o,u,c){const f=s==null||o==null,h=u==null||c==null;if(f&&h)throw new K;f?(s=new ge(0,u.getY()),o=new ge(0,c.getY())):h&&(u=new ge(r.getWidth()-1,s.getY()),c=new ge(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=s,this.bottomLeft=o,this.topRight=u,this.bottomRight=c,this.minX=Math.trunc(Math.min(s.getX(),o.getX())),this.maxX=Math.trunc(Math.max(u.getX(),c.getX())),this.minY=Math.trunc(Math.min(s.getY(),u.getY())),this.maxY=Math.trunc(Math.max(o.getY(),c.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,s){return r==null?s:s==null?r:new us(r.image,r.topLeft,r.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(r,s,o){let u=this.topLeft,c=this.bottomLeft,f=this.topRight,h=this.bottomRight;if(r>0){let g=o?this.topLeft:this.topRight,y=Math.trunc(g.getY()-r);y<0&&(y=0);let C=new ge(g.getX(),y);o?u=C:f=C}if(s>0){let g=o?this.bottomLeft:this.bottomRight,y=Math.trunc(g.getY()+s);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let C=new ge(g.getX(),y);o?c=C:h=C}return new us(this.image,u,c,f,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class W3{constructor(r,s,o,u){this.columnCount=r,this.errorCorrectionLevel=u,this.rowCountUpperPart=s,this.rowCountLowerPart=o,this.rowCount=s+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class wa{constructor(){this.buffer=""}static form(r,s){let o=-1;function u(f,h,g,y,C,S){if(f==="%%")return"%";if(s[++o]===void 0)return;f=y?parseInt(y.substr(1)):void 0;let b=C?parseInt(C.substr(1)):void 0,O;switch(S){case"s":O=s[o];break;case"c":O=s[o][0];break;case"f":O=parseFloat(s[o]).toFixed(f);break;case"p":O=parseFloat(s[o]).toPrecision(f);break;case"e":O=parseFloat(s[o]).toExponential(f);break;case"x":O=parseInt(s[o]).toString(b||16);break;case"d":O=parseFloat(parseInt(s[o],b||10).toPrecision(f)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(b);let P=parseInt(g),L=g&&g[0]+""=="0"?"0":" ";for(;O.length<P;)O=h!==void 0?O+L:L+O;return O}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}format(r,...s){this.buffer+=wa.form(r,s)}toString(){return this.buffer}}class va{constructor(r){this.boundingBox=new us(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let s=this.getCodeword(r);if(s!=null)return s;for(let o=1;o<va.MAX_NEARBY_DISTANCE;o++){let u=this.imageRowToCodewordIndex(r)-o;if(u>=0&&(s=this.codewords[u],s!=null)||(u=this.imageRowToCodewordIndex(r)+o,u<this.codewords.length&&(s=this.codewords[u],s!=null)))return s}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,s){this.codewords[this.imageRowToCodewordIndex(r)]=s}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new wa;let s=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",s++);continue}r.format("%3d: %3d|%3d%n",s++,o.getRowNumber(),o.getValue())}return r.toString()}}va.MAX_NEARBY_DISTANCE=5;class Ca{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let s=this.values.get(r);s==null&&(s=0),s++,this.values.set(r,s)}getValue(){let r=-1,s=new Array;for(const[o,u]of this.values.entries()){const c={getKey:()=>o,getValue:()=>u};c.getValue()>r?(r=c.getValue(),s=[],s.push(c.getKey())):c.getValue()===r&&s.push(c.getKey())}return be.toIntArray(s)}getConfidence(r){return this.values.get(r)}}class sp extends va{constructor(r,s){super(r),this._isLeft=s}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,r);let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=-1,y=1,C=0;for(let S=f;S<h;S++){if(s[S]==null)continue;let b=s[S],O=b.getRowNumber()-g;if(O===0)C++;else if(O===1)y=Math.max(y,C),C=1,g=b.getRowNumber();else if(O<0||b.getRowNumber()>=r.getRowCount()||O>S)s[S]=null;else{let P;y>2?P=(y-2)*O:P=O;let L=P>=S;for(let z=1;z<=P&&!L;z++)L=s[S-z]!=null;L?s[S]=null:(g=b.getRowNumber(),C=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let s=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let u=o.getRowNumber();if(u>=s.length)continue;s[u]++}return s}adjustIncompleteIndicatorColumnRowNumbers(r){let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),h=this.getCodewords(),g=-1;for(let y=c;y<f;y++){if(h[y]==null)continue;let C=h[y];C.setRowNumberAsRowIndicatorColumn();let S=C.getRowNumber()-g;S===0||(S===1?g=C.getRowNumber():C.getRowNumber()>=r.getRowCount()?h[y]=null:g=C.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),s=new Ca,o=new Ca,u=new Ca,c=new Ca;for(let h of r){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let g=h.getValue()%30,y=h.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:o.setValue(g*3+1);break;case 1:c.setValue(g/3),u.setValue(g%3);break;case 2:s.setValue(g+1);break}}if(s.getValue().length===0||o.getValue().length===0||u.getValue().length===0||c.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<be.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>be.MAX_ROWS_IN_BARCODE)return null;let f=new W3(s.getValue()[0],o.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(r,f),f}removeIncorrectCodewords(r,s){for(let o=0;o<r.length;o++){let u=r[o];if(r[o]==null)continue;let c=u.getValue()%30,f=u.getRowNumber();if(f>s.getRowCount()){r[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==s.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(c/3)!==s.getErrorCorrectionLevel()||c%3!==s.getRowCountLowerPart())&&(r[o]=null);break;case 2:c+1!==s.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ea{constructor(r,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=be.MAX_CODEWORDS_IN_BARCODE,s;do s=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let o=this.detectionResultColumns[s].getCodewords();for(let u=0;u<o.length;u++)o[u]!=null&&(o[u].hasValidRowNumber()||this.adjustRowNumbers(s,u,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&s[o]!=null&&r[o].getRowNumber()===s[o].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let c=this.detectionResultColumns[u].getCodewords()[o];c!=null&&(c.setRowNumber(r[o].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let u=s[o].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let h=this.detectionResultColumns[f].getCodewords()[o];h!=null&&(c=Ea.adjustRowNumberIfValid(u,c,h),h.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,s=this.detectionResultColumns[0].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let u=s[o].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let h=this.detectionResultColumns[f].getCodewords()[o];h!=null&&(c=Ea.adjustRowNumberIfValid(u,c,h),h.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,s,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),s=0):++s),s}adjustRowNumbers(r,s,o){if(!this.detectionResultColumns[r-1])return;let u=o[s],c=this.detectionResultColumns[r-1].getCodewords(),f=c;this.detectionResultColumns[r+1]!=null&&(f=this.detectionResultColumns[r+1].getCodewords());let h=new Array(14);h[2]=c[s],h[3]=f[s],s>0&&(h[0]=o[s-1],h[4]=c[s-1],h[5]=f[s-1]),s>1&&(h[8]=o[s-2],h[10]=c[s-2],h[11]=f[s-2]),s<o.length-1&&(h[1]=o[s+1],h[6]=c[s+1],h[7]=f[s+1]),s<o.length-2&&(h[9]=o[s+2],h[12]=c[s+2],h[13]=f[s+2]);for(let g of h)if(Ea.adjustRowNumber(u,g))return}static adjustRowNumber(r,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===r.getBucket()?(r.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,s){this.detectionResultColumns[r]=s}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new wa;for(let o=0;o<r.getCodewords().length;o++){s.format("CW %3d:",o);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){s.format("    |   ");continue}let c=this.detectionResultColumns[u].getCodewords()[o];if(c==null){s.format("    |   ");continue}s.format(" %3d|%3d",c.getRowNumber(),c.getValue())}s.format("%n")}return s.toString()}}class Aa{constructor(r,s,o,u){this.rowNumber=Aa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(s),this.bucket=Math.trunc(o),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Aa.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Aa.BARCODE_ROW_UNKNOWN=-1;class An{static initialize(){for(let r=0;r<be.SYMBOL_TABLE.length;r++){let s=be.SYMBOL_TABLE[r],o=s&1;for(let u=0;u<be.BARS_IN_MODULE;u++){let c=0;for(;(s&1)===o;)c+=1,s>>=1;o=s&1,An.RATIOS_TABLE[r]||(An.RATIOS_TABLE[r]=new Array(be.BARS_IN_MODULE)),An.RATIOS_TABLE[r][be.BARS_IN_MODULE-u-1]=Math.fround(c/be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let s=An.getDecodedCodewordValue(An.sampleBitCounts(r));return s!==-1?s:An.getClosestDecodedValue(r)}static sampleBitCounts(r){let s=We.sum(r),o=new Int32Array(be.BARS_IN_MODULE),u=0,c=0;for(let f=0;f<be.MODULES_IN_CODEWORD;f++){let h=s/(2*be.MODULES_IN_CODEWORD)+f*s/be.MODULES_IN_CODEWORD;c+r[u]<=h&&(c+=r[u],u++),o[u]++}return o}static getDecodedCodewordValue(r){let s=An.getBitValue(r);return be.getCodeword(s)===-1?-1:s}static getBitValue(r){let s=0;for(let o=0;o<r.length;o++)for(let u=0;u<r[o];u++)s=s<<1|(o%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(r){let s=We.sum(r),o=new Array(be.BARS_IN_MODULE);if(s>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(r[f]/s);let u=Yl.MAX_VALUE,c=-1;this.bSymbolTableReady||An.initialize();for(let f=0;f<An.RATIOS_TABLE.length;f++){let h=0,g=An.RATIOS_TABLE[f];for(let y=0;y<be.BARS_IN_MODULE;y++){let C=Math.fround(g[y]-o[y]);if(h+=Math.fround(C*C),h>=u)break}h<u&&(u=h,c=be.SYMBOL_TABLE[f])}return c}}An.bSymbolTableReady=!1,An.RATIOS_TABLE=new Array(be.SYMBOL_TABLE.length).map(A=>new Array(be.BARS_IN_MODULE));class op{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class ap{static parseLong(r,s=void 0){return parseInt(r,s)}}class lp extends m{}lp.kind="NullPointerException";class H3{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,s,o){if(r==null)throw new lp;if(s<0||s>r.length||o<0||s+o>r.length||s+o<0)throw new V;if(o===0)return;for(let u=0;u<o;u++)this.write(r[s+u])}flush(){}close(){}}class G3 extends m{}class X3 extends H3{constructor(r=32){if(super(),this.count=0,r<0)throw new v("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new G3;o=I.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,s,o){if(s<0||s>r.length||o<0||s+o-r.length>0)throw new V;this.ensureCapacity(this.count+o),k.arraycopy(r,s,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var et;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(et||(et={}));function up(){if(typeof window<"u")return window.BigInt||null;if(typeof _a<"u")return _a.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let tu;function gi(A){if(typeof tu>"u"&&(tu=up()),tu===null)throw new Error("BigInt is not supported!");return tu(A)}function Z3(){let A=[];A[0]=gi(1);let r=gi(900);A[1]=r;for(let s=2;s<16;s++)A[s]=A[s-1]*r;return A}class G{static decode(r,s){let o=new Te(""),u=Y.ISO8859_1;o.enableDecoding(u);let c=1,f=r[c++],h=new op;for(;c<r[0];){switch(f){case G.TEXT_COMPACTION_MODE_LATCH:c=G.textCompaction(r,c,o);break;case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:c=G.byteCompaction(f,r,u,c,o);break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c++]);break;case G.NUMERIC_COMPACTION_MODE_LATCH:c=G.numericCompaction(r,c,o);break;case G.ECI_CHARSET:Y.getCharacterSetECIByValue(r[c++]);break;case G.ECI_GENERAL_PURPOSE:c+=2;break;case G.ECI_USER_DEFINED:c++;break;case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=G.decodeMacroBlock(r,c,h);break;case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:throw new j;default:c--,c=G.textCompaction(r,c,o);break}if(c<r.length)f=r[c++];else throw j.getFormatInstance()}if(o.length()===0)throw j.getFormatInstance();let g=new pa(null,o.toString(),null,s);return g.setOther(h),g}static decodeMacroBlock(r,s,o){if(s+G.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw j.getFormatInstance();let u=new Int32Array(G.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<G.NUMBER_OF_SEQUENCE_CODEWORDS;h++,s++)u[h]=r[s];o.setSegmentIndex(I.parseInt(G.decodeBase900toBase10(u,G.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new Te;s=G.textCompaction(r,s,c),o.setFileId(c.toString());let f=-1;for(r[s]===G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=s+1);s<r[0];)switch(r[s]){case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,r[s]){case G.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new Te;s=G.textCompaction(r,s+1,h),o.setFileName(h.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new Te;s=G.textCompaction(r,s+1,g),o.setSender(g.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new Te;s=G.textCompaction(r,s+1,y),o.setAddressee(y.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Te;s=G.numericCompaction(r,s+1,C),o.setSegmentCount(I.parseInt(C.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new Te;s=G.numericCompaction(r,s+1,S),o.setTimestamp(ap.parseLong(S.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let b=new Te;s=G.numericCompaction(r,s+1,b),o.setChecksum(I.parseInt(b.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let O=new Te;s=G.numericCompaction(r,s+1,O),o.setFileSize(ap.parseLong(O.toString()));break;default:throw j.getFormatInstance()}break;case G.MACRO_PDF417_TERMINATOR:s++,o.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(f!==-1){let h=s-f;o.isLastSegment()&&h--,o.setOptionalData(_.copyOfRange(r,f,f+h))}return s}static textCompaction(r,s,o){let u=new Int32Array((r[0]-s)*2),c=new Int32Array((r[0]-s)*2),f=0,h=!1;for(;s<r[0]&&!h;){let g=r[s++];if(g<G.TEXT_COMPACTION_MODE_LATCH)u[f]=g/30,u[f+1]=g%30,f+=2;else switch(g){case G.TEXT_COMPACTION_MODE_LATCH:u[f++]=G.TEXT_COMPACTION_MODE_LATCH;break;case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:s--,h=!0;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=r[s++],c[f]=g,f++;break}}return G.decodeTextCompaction(u,c,f,o),s}static decodeTextCompaction(r,s,o,u){let c=et.ALPHA,f=et.ALPHA,h=0;for(;h<o;){let g=r[h],y="";switch(c){case et.ALPHA:if(g<26)y=String.fromCharCode(65+g);else switch(g){case 26:y=" ";break;case G.LL:c=et.LOWER;break;case G.ML:c=et.MIXED;break;case G.PS:f=c,c=et.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case G.TEXT_COMPACTION_MODE_LATCH:c=et.ALPHA;break}break;case et.LOWER:if(g<26)y=String.fromCharCode(97+g);else switch(g){case 26:y=" ";break;case G.AS:f=c,c=et.ALPHA_SHIFT;break;case G.ML:c=et.MIXED;break;case G.PS:f=c,c=et.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case G.TEXT_COMPACTION_MODE_LATCH:c=et.ALPHA;break}break;case et.MIXED:if(g<G.PL)y=G.MIXED_CHARS[g];else switch(g){case G.PL:c=et.PUNCT;break;case 26:y=" ";break;case G.LL:c=et.LOWER;break;case G.AL:c=et.ALPHA;break;case G.PS:f=c,c=et.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case G.TEXT_COMPACTION_MODE_LATCH:c=et.ALPHA;break}break;case et.PUNCT:if(g<G.PAL)y=G.PUNCT_CHARS[g];else switch(g){case G.PAL:c=et.ALPHA;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case G.TEXT_COMPACTION_MODE_LATCH:c=et.ALPHA;break}break;case et.ALPHA_SHIFT:if(c=f,g<26)y=String.fromCharCode(65+g);else switch(g){case 26:y=" ";break;case G.TEXT_COMPACTION_MODE_LATCH:c=et.ALPHA;break}break;case et.PUNCT_SHIFT:if(c=f,g<G.PAL)y=G.PUNCT_CHARS[g];else switch(g){case G.PAL:c=et.ALPHA;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case G.TEXT_COMPACTION_MODE_LATCH:c=et.ALPHA;break}break}y!==""&&u.append(y),h++}}static byteCompaction(r,s,o,u,c){let f=new X3,h=0,g=0,y=!1;switch(r){case G.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),S=s[u++];for(;u<s[0]&&!y;)switch(C[h++]=S,g=900*g+S,S=s[u++],S){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:u--,y=!0;break;default:if(h%5===0&&h>0){for(let b=0;b<6;++b)f.write(Number(gi(g)>>gi(8*(5-b))));g=0,h=0}break}u===s[0]&&S<G.TEXT_COMPACTION_MODE_LATCH&&(C[h++]=S);for(let b=0;b<h;b++)f.write(C[b]);break;case G.BYTE_COMPACTION_MODE_LATCH_6:for(;u<s[0]&&!y;){let b=s[u++];if(b<G.TEXT_COMPACTION_MODE_LATCH)h++,g=900*g+b;else switch(b){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:u--,y=!0;break}if(h%5===0&&h>0){for(let O=0;O<6;++O)f.write(Number(gi(g)>>gi(8*(5-O))));g=0,h=0}}break}return c.append(ae.decode(f.toByteArray(),o)),u}static numericCompaction(r,s,o){let u=0,c=!1,f=new Int32Array(G.MAX_NUMERIC_CODEWORDS);for(;s<r[0]&&!c;){let h=r[s++];if(s===r[0]&&(c=!0),h<G.TEXT_COMPACTION_MODE_LATCH)f[u]=h,u++;else switch(h){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:s--,c=!0;break}(u%G.MAX_NUMERIC_CODEWORDS===0||h===G.NUMERIC_COMPACTION_MODE_LATCH||c)&&u>0&&(o.append(G.decodeBase900toBase10(f,u)),u=0)}return s}static decodeBase900toBase10(r,s){let o=gi(0);for(let c=0;c<s;c++)o+=G.EXP900[s-c-1]*gi(r[c]);let u=o.toString();if(u.charAt(0)!=="1")throw new j;return u.substring(1)}}G.TEXT_COMPACTION_MODE_LATCH=900,G.BYTE_COMPACTION_MODE_LATCH=901,G.NUMERIC_COMPACTION_MODE_LATCH=902,G.BYTE_COMPACTION_MODE_LATCH_6=924,G.ECI_USER_DEFINED=925,G.ECI_GENERAL_PURPOSE=926,G.ECI_CHARSET=927,G.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,G.MACRO_PDF417_TERMINATOR=922,G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,G.MAX_NUMERIC_CODEWORDS=15,G.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,G.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,G.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,G.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,G.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,G.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,G.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,G.PL=25,G.LL=27,G.AS=27,G.ML=28,G.AL=28,G.PS=29,G.PAL=29,G.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,G.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",G.EXP900=up()?Z3():[],G.NUMBER_OF_SEQUENCE_CODEWORDS=2;class De{constructor(){}static decode(r,s,o,u,c,f,h){let g=new us(r,s,o,u,c),y=null,C=null,S;for(let P=!0;;P=!1){if(s!=null&&(y=De.getRowIndicatorColumn(r,g,s,!0,f,h)),u!=null&&(C=De.getRowIndicatorColumn(r,g,u,!1,f,h)),S=De.merge(y,C),S==null)throw K.getNotFoundInstance();let L=S.getBoundingBox();if(P&&L!=null&&(L.getMinY()<g.getMinY()||L.getMaxY()>g.getMaxY()))g=L;else break}S.setBoundingBox(g);let b=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,y),S.setDetectionResultColumn(b,C);let O=y!=null;for(let P=1;P<=b;P++){let L=O?P:b-P;if(S.getDetectionResultColumn(L)!==void 0)continue;let z;L===0||L===b?z=new sp(g,L===0):z=new va(g),S.setDetectionResultColumn(L,z);let X=-1,te=X;for(let re=g.getMinY();re<=g.getMaxY();re++){if(X=De.getStartColumn(S,L,re,O),X<0||X>g.getMaxX()){if(te===-1)continue;X=te}let $=De.detectCodeword(r,g.getMinX(),g.getMaxX(),O,X,re,f,h);$!=null&&(z.setCodeword(re,$),te=X,f=Math.min(f,$.getWidth()),h=Math.max(h,$.getWidth()))}}return De.createDecoderResult(S)}static merge(r,s){if(r==null&&s==null)return null;let o=De.getBarcodeMetadata(r,s);if(o==null)return null;let u=us.merge(De.adjustBoundingBox(r),De.adjustBoundingBox(s));return new Ea(o,u)}static adjustBoundingBox(r){if(r==null)return null;let s=r.getRowHeights();if(s==null)return null;let o=De.getMax(s),u=0;for(let h of s)if(u+=o-h,h>0)break;let c=r.getCodewords();for(let h=0;u>0&&c[h]==null;h++)u--;let f=0;for(let h=s.length-1;h>=0&&(f+=o-s[h],!(s[h]>0));h--);for(let h=c.length-1;f>0&&c[h]==null;h--)f--;return r.getBoundingBox().addMissingRows(u,f,r.isLeft())}static getMax(r){let s=-1;for(let o of r)s=Math.max(s,o);return s}static getBarcodeMetadata(r,s){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let u;return s==null||(u=s.getBarcodeMetadata())==null?o:o.getColumnCount()!==u.getColumnCount()&&o.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&o.getRowCount()!==u.getRowCount()?null:o}static getRowIndicatorColumn(r,s,o,u,c,f){let h=new sp(s,u);for(let g=0;g<2;g++){let y=g===0?1:-1,C=Math.trunc(Math.trunc(o.getX()));for(let S=Math.trunc(Math.trunc(o.getY()));S<=s.getMaxY()&&S>=s.getMinY();S+=y){let b=De.detectCodeword(r,0,r.getWidth(),u,C,S,c,f);b!=null&&(h.setCodeword(S,b),u?C=b.getStartX():C=b.getEndX())}}return h}static adjustCodewordCount(r,s){let o=s[0][1],u=o.getValue(),c=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-De.getNumberOfECCodeWords(r.getBarcodeECLevel());if(u.length===0){if(c<1||c>be.MAX_CODEWORDS_IN_BARCODE)throw K.getNotFoundInstance();o.setValue(c)}else u[0]!==c&&o.setValue(c)}static createDecoderResult(r){let s=De.createBarcodeMatrix(r);De.adjustCodewordCount(r,s);let o=new Array,u=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),c=[],f=new Array;for(let g=0;g<r.getBarcodeRowCount();g++)for(let y=0;y<r.getBarcodeColumnCount();y++){let C=s[g][y+1].getValue(),S=g*r.getBarcodeColumnCount()+y;C.length===0?o.push(S):C.length===1?u[S]=C[0]:(f.push(S),c.push(C))}let h=new Array(c.length);for(let g=0;g<h.length;g++)h[g]=c[g];return De.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),u,be.toIntArray(o),be.toIntArray(f),h)}static createDecoderResultFromAmbiguousValues(r,s,o,u,c){let f=new Int32Array(u.length),h=100;for(;h-- >0;){for(let g=0;g<f.length;g++)s[u[g]]=c[g][f[g]];try{return De.decodeCodewords(s,r,o)}catch(g){if(!(g instanceof T))throw g}if(f.length===0)throw T.getChecksumInstance();for(let g=0;g<f.length;g++)if(f[g]<c[g].length-1){f[g]++;break}else if(f[g]=0,g===f.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(r){let s=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let u=0;u<s.length;u++)for(let c=0;c<s[u].length;c++)s[u][c]=new Ca;let o=0;for(let u of r.getDetectionResultColumns()){if(u!=null){for(let c of u.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=s.length)continue;s[f][o].setValue(c.getValue())}}}o++}return s}static isValidBarcodeColumn(r,s){return s>=0&&s<=r.getBarcodeColumnCount()+1}static getStartColumn(r,s,o,u){let c=u?1:-1,f=null;if(De.isValidBarcodeColumn(r,s-c)&&(f=r.getDetectionResultColumn(s-c).getCodeword(o)),f!=null)return u?f.getEndX():f.getStartX();if(f=r.getDetectionResultColumn(s).getCodewordNearby(o),f!=null)return u?f.getStartX():f.getEndX();if(De.isValidBarcodeColumn(r,s-c)&&(f=r.getDetectionResultColumn(s-c).getCodewordNearby(o)),f!=null)return u?f.getEndX():f.getStartX();let h=0;for(;De.isValidBarcodeColumn(r,s-c);){s-=c;for(let g of r.getDetectionResultColumn(s).getCodewords())if(g!=null)return(u?g.getEndX():g.getStartX())+c*h*(g.getEndX()-g.getStartX());h++}return u?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,s,o,u,c,f,h,g){c=De.adjustCodewordStartColumn(r,s,o,u,c,f);let y=De.getModuleBitCount(r,s,o,u,c,f);if(y==null)return null;let C,S=We.sum(y);if(u)C=c+S;else{for(let P=0;P<y.length/2;P++){let L=y[P];y[P]=y[y.length-1-P],y[y.length-1-P]=L}C=c,c=C-S}if(!De.checkCodewordSkew(S,h,g))return null;let b=An.getDecodedValue(y),O=be.getCodeword(b);return O===-1?null:new Aa(c,C,De.getCodewordBucketNumber(b),O)}static getModuleBitCount(r,s,o,u,c,f){let h=c,g=new Int32Array(8),y=0,C=u?1:-1,S=u;for(;(u?h<o:h>=s)&&y<g.length;)r.get(h,f)===S?(g[y]++,h+=C):(y++,S=!S);return y===g.length||h===(u?o:s)&&y===g.length-1?g:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,s,o,u,c,f){let h=c,g=u?-1:1;for(let y=0;y<2;y++){for(;(u?h>=s:h<o)&&u===r.get(h,f);){if(Math.abs(c-h)>De.CODEWORD_SKEW_SIZE)return c;h+=g}g=-g,u=!u}return h}static checkCodewordSkew(r,s,o){return s-De.CODEWORD_SKEW_SIZE<=r&&r<=o+De.CODEWORD_SKEW_SIZE}static decodeCodewords(r,s,o){if(r.length===0)throw j.getFormatInstance();let u=1<<s+1,c=De.correctErrors(r,o,u);De.verifyCodewordCount(r,u);let f=G.decode(r,""+s);return f.setErrorsCorrected(c),f.setErasures(o.length),f}static correctErrors(r,s,o){if(s!=null&&s.length>o/2+De.MAX_ERRORS||o<0||o>De.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return De.errorCorrection.decode(r,o,s)}static verifyCodewordCount(r,s){if(r.length<4)throw j.getFormatInstance();let o=r[0];if(o>r.length)throw j.getFormatInstance();if(o===0)if(s<r.length)r[0]=r.length-s;else throw j.getFormatInstance()}static getBitCountForCodeword(r){let s=new Int32Array(8),o=0,u=s.length-1;for(;!((r&1)!==o&&(o=r&1,u--,u<0));)s[u]++,r>>=1;return s}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return De.getCodewordBucketNumber(De.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let s=new wa;for(let o=0;o<r.length;o++){s.format("Row %2d: ",o);for(let u=0;u<r[o].length;u++){let c=r[o][u];c.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}s.format("%n")}return s.toString()}}De.CODEWORD_SKEW_SIZE=2,De.MAX_ERRORS=3,De.MAX_EC_CODEWORDS=512,De.errorCorrection=new ip;class Yt{decode(r,s=null){let o=Yt.decode(r,s,!1);if(o==null||o.length===0||o[0]==null)throw K.getNotFoundInstance();return o[0]}decodeMultiple(r,s=null){try{return Yt.decode(r,s,!0)}catch(o){throw o instanceof j||o instanceof T?K.getNotFoundInstance():o}}static decode(r,s,o){const u=new Array,c=Oe.detectMultiple(r,s,o);for(const f of c.getPoints()){const h=De.decode(c.getBits(),f[4],f[5],f[6],f[7],Yt.getMinCodewordWidth(f),Yt.getMaxCodewordWidth(f)),g=new gt(h.getText(),h.getRawBytes(),void 0,f,ye.PDF_417);g.putMetadata(jt.ERROR_CORRECTION_LEVEL,h.getECLevel());const y=h.getOther();y!=null&&g.putMetadata(jt.PDF417_EXTRA_METADATA,y),u.push(g)}return u.map(f=>f)}static getMaxWidth(r,s){return r==null||s==null?0:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMinWidth(r,s){return r==null||s==null?I.MAX_VALUE:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Yt.getMaxWidth(r[0],r[4]),Yt.getMaxWidth(r[6],r[2])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN),Math.max(Yt.getMaxWidth(r[1],r[5]),Yt.getMaxWidth(r[7],r[3])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Yt.getMinWidth(r[0],r[4]),Yt.getMinWidth(r[6],r[2])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN),Math.min(Yt.getMinWidth(r[1],r[5]),Yt.getMinWidth(r[7],r[3])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN)))}reset(){}}class nu extends m{}nu.kind="ReaderException";class cp{constructor(r,s){this.verbose=r===!0,s&&this.setHints(s)}decode(r,s){return s&&this.setHints(s),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const s=!i(r)&&r.get(Z.TRY_HARDER)===!0,o=i(r)?null:r.get(Z.POSSIBLE_FORMATS),u=new Array;if(!i(o)){const c=o.some(f=>f===ye.UPC_A||f===ye.UPC_E||f===ye.EAN_13||f===ye.EAN_8||f===ye.CODABAR||f===ye.CODE_39||f===ye.CODE_93||f===ye.CODE_128||f===ye.ITF||f===ye.RSS_14||f===ye.RSS_EXPANDED);c&&!s&&u.push(new qs(r,this.verbose)),o.includes(ye.QR_CODE)&&u.push(new pi),o.includes(ye.DATA_MATRIX)&&u.push(new hi),o.includes(ye.AZTEC)&&u.push(new Ql),o.includes(ye.PDF_417)&&u.push(new Yt),c&&s&&u.push(new qs(r,this.verbose))}u.length===0&&(s||u.push(new qs(r,this.verbose)),u.push(new pi),u.push(new hi),u.push(new Ql),u.push(new Yt),s&&u.push(new qs(r,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new nu("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(r,this.hints)}catch(o){if(o instanceof nu)continue}throw new K("No MultiFormat Readers were able to detect the code.")}}class Y3 extends Hn{constructor(r=null,s=500){const o=new cp;o.setHints(r),super(o,s)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class K3 extends Hn{constructor(r=500){super(new Yt,r)}}class Q3 extends Hn{constructor(r=500){super(new pi,r)}}var Sf;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(Sf||(Sf={}));var Lt=Sf;class bf{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new vn(r,Int32Array.from([1])))}buildGenerator(r){const s=this.cachedGenerators;if(r>=s.length){let o=s[s.length-1];const u=this.field;for(let c=s.length;c<=r;c++){const f=o.multiply(new vn(u,Int32Array.from([1,u.exp(c-1+u.getGeneratorBase())])));s.push(f),o=f}}return s[r]}encode(r,s){if(s===0)throw new v("No error correction bytes");const o=r.length-s;if(o<=0)throw new v("No data bytes provided");const u=this.buildGenerator(s),c=new Int32Array(o);k.arraycopy(r,0,c,0,o);let f=new vn(this.field,c);f=f.multiplyByMonomial(s,1);const g=f.divide(u)[1].getCoefficients(),y=s-g.length;for(let C=0;C<y;C++)r[o+C]=0;k.arraycopy(g,0,r,o+y,g.length)}}class At{constructor(){}static applyMaskPenaltyRule1(r){return At.applyMaskPenaltyRule1Internal(r,!0)+At.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let s=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c-1;f++){const h=o[f];for(let g=0;g<u-1;g++){const y=h[g];y===h[g+1]&&y===o[f+1][g]&&y===o[f+1][g+1]&&s++}}return At.N2*s}static applyMaskPenaltyRule3(r){let s=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c;f++)for(let h=0;h<u;h++){const g=o[f];h+6<u&&g[h]===1&&g[h+1]===0&&g[h+2]===1&&g[h+3]===1&&g[h+4]===1&&g[h+5]===0&&g[h+6]===1&&(At.isWhiteHorizontal(g,h-4,h)||At.isWhiteHorizontal(g,h+7,h+11))&&s++,f+6<c&&o[f][h]===1&&o[f+1][h]===0&&o[f+2][h]===1&&o[f+3][h]===1&&o[f+4][h]===1&&o[f+5][h]===0&&o[f+6][h]===1&&(At.isWhiteVertical(o,h,f-4,f)||At.isWhiteVertical(o,h,f+7,f+11))&&s++}return s*At.N3}static isWhiteHorizontal(r,s,o){s=Math.max(s,0),o=Math.min(o,r.length);for(let u=s;u<o;u++)if(r[u]===1)return!1;return!0}static isWhiteVertical(r,s,o,u){o=Math.max(o,0),u=Math.min(u,r.length);for(let c=o;c<u;c++)if(r[c][s]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let s=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let g=0;g<c;g++){const y=o[g];for(let C=0;C<u;C++)y[C]===1&&s++}const f=r.getHeight()*r.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*At.N4}static getDataMaskBit(r,s,o){let u,c;switch(r){case 0:u=o+s&1;break;case 1:u=o&1;break;case 2:u=s%3;break;case 3:u=(o+s)%3;break;case 4:u=Math.floor(o/2)+Math.floor(s/3)&1;break;case 5:c=o*s,u=(c&1)+c%3;break;case 6:c=o*s,u=(c&1)+c%3&1;break;case 7:c=o*s,u=c%3+(o+s&1)&1;break;default:throw new v("Invalid mask pattern: "+r)}return u===0}static applyMaskPenaltyRule1Internal(r,s){let o=0;const u=s?r.getHeight():r.getWidth(),c=s?r.getWidth():r.getHeight(),f=r.getArray();for(let h=0;h<u;h++){let g=0,y=-1;for(let C=0;C<c;C++){const S=s?f[h][C]:f[C][h];S===y?g++:(g>=5&&(o+=At.N1+(g-5)),g=1,y=S)}g>=5&&(o+=At.N1+(g-5))}return o}}At.N1=3,At.N2=3,At.N3=40,At.N4=10;class ru{constructor(r,s){this.width=r,this.height=s;const o=new Array(s);for(let u=0;u!==s;u++)o[u]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,s){return this.bytes[s][r]}getArray(){return this.bytes}setNumber(r,s,o){this.bytes[s][r]=o}setBoolean(r,s,o){this.bytes[s][r]=o?1:0}clear(r){for(const s of this.bytes)_.fill(s,r)}equals(r){if(!(r instanceof ru))return!1;const s=r;if(this.width!==s.width||this.height!==s.height)return!1;for(let o=0,u=this.height;o<u;++o){const c=this.bytes[o],f=s.bytes[o];for(let h=0,g=this.width;h<g;++h)if(c[h]!==f[h])return!1}return!0}toString(){const r=new Te;for(let s=0,o=this.height;s<o;++s){const u=this.bytes[s];for(let c=0,f=this.width;c<f;++c)switch(u[c]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class cs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new Te;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<cs.NUM_MASK_PATTERNS}}cs.NUM_MASK_PATTERNS=8;class nt extends m{}nt.kind="WriterException";class Ee{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,s,o,u,c){Ee.clearMatrix(c),Ee.embedBasicPatterns(o,c),Ee.embedTypeInfo(s,u,c),Ee.maybeEmbedVersionInfo(o,c),Ee.embedDataBits(r,u,c)}static embedBasicPatterns(r,s){Ee.embedPositionDetectionPatternsAndSeparators(s),Ee.embedDarkDotAtLeftBottomCorner(s),Ee.maybeEmbedPositionAdjustmentPatterns(r,s),Ee.embedTimingPatterns(s)}static embedTypeInfo(r,s,o){const u=new M;Ee.makeTypeInfoBits(r,s,u);for(let c=0,f=u.getSize();c<f;++c){const h=u.get(u.getSize()-1-c),g=Ee.TYPE_INFO_COORDINATES[c],y=g[0],C=g[1];if(o.setBoolean(y,C,h),c<8){const S=o.getWidth()-c-1;o.setBoolean(S,8,h)}else{const b=o.getHeight()-7+(c-8);o.setBoolean(8,b,h)}}}static maybeEmbedVersionInfo(r,s){if(r.getVersionNumber()<7)return;const o=new M;Ee.makeVersionInfoBits(r,o);let u=6*3-1;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const h=o.get(u);u--,s.setBoolean(c,s.getHeight()-11+f,h),s.setBoolean(s.getHeight()-11+f,c,h)}}static embedDataBits(r,s,o){let u=0,c=-1,f=o.getWidth()-1,h=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);h>=0&&h<o.getHeight();){for(let g=0;g<2;++g){const y=f-g;if(!Ee.isEmpty(o.get(y,h)))continue;let C;u<r.getSize()?(C=r.get(u),++u):C=!1,s!==255&&At.getDataMaskBit(s,y,h)&&(C=!C),o.setBoolean(y,h,C)}h+=c}c=-c,h+=c,f-=2}if(u!==r.getSize())throw new nt("Not all bits consumed: "+u+"/"+r.getSize())}static findMSBSet(r){return 32-I.numberOfLeadingZeros(r)}static calculateBCHCode(r,s){if(s===0)throw new v("0 polynomial");const o=Ee.findMSBSet(s);for(r<<=o-1;Ee.findMSBSet(r)>=o;)r^=s<<Ee.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,s,o){if(!cs.isValidMaskPattern(s))throw new nt("Invalid mask pattern");const u=r.getBits()<<3|s;o.appendBits(u,5);const c=Ee.calculateBCHCode(u,Ee.TYPE_INFO_POLY);o.appendBits(c,10);const f=new M;if(f.appendBits(Ee.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new nt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,s){s.appendBits(r.getVersionNumber(),6);const o=Ee.calculateBCHCode(r.getVersionNumber(),Ee.VERSION_INFO_POLY);if(s.appendBits(o,12),s.getSize()!==18)throw new nt("should not happen but we got: "+s.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let s=8;s<r.getWidth()-8;++s){const o=(s+1)%2;Ee.isEmpty(r.get(s,6))&&r.setNumber(s,6,o),Ee.isEmpty(r.get(6,s))&&r.setNumber(6,s,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new nt;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,s,o){for(let u=0;u<8;++u){if(!Ee.isEmpty(o.get(r+u,s)))throw new nt;o.setNumber(r+u,s,0)}}static embedVerticalSeparationPattern(r,s,o){for(let u=0;u<7;++u){if(!Ee.isEmpty(o.get(r,s+u)))throw new nt;o.setNumber(r,s+u,0)}}static embedPositionAdjustmentPattern(r,s,o){for(let u=0;u<5;++u){const c=Ee.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)o.setNumber(r+f,s+u,c[f])}}static embedPositionDetectionPattern(r,s,o){for(let u=0;u<7;++u){const c=Ee.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)o.setNumber(r+f,s+u,c[f])}}static embedPositionDetectionPatternsAndSeparators(r){const s=Ee.POSITION_DETECTION_PATTERN[0].length;Ee.embedPositionDetectionPattern(0,0,r),Ee.embedPositionDetectionPattern(r.getWidth()-s,0,r),Ee.embedPositionDetectionPattern(0,r.getWidth()-s,r);const o=8;Ee.embedHorizontalSeparationPattern(0,o-1,r),Ee.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),Ee.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const u=7;Ee.embedVerticalSeparationPattern(u,0,r),Ee.embedVerticalSeparationPattern(r.getHeight()-u-1,0,r),Ee.embedVerticalSeparationPattern(u,r.getHeight()-u,r)}static maybeEmbedPositionAdjustmentPatterns(r,s){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,u=Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let c=0,f=u.length;c!==f;c++){const h=u[c];if(h>=0)for(let g=0;g!==f;g++){const y=u[g];y>=0&&Ee.isEmpty(s.get(y,h))&&Ee.embedPositionAdjustmentPattern(y-2,h-2,s)}}}}Ee.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ee.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ee.VERSION_INFO_POLY=7973,Ee.TYPE_INFO_POLY=1335,Ee.TYPE_INFO_MASK_PATTERN=21522;class q3{constructor(r,s){this.dataBytes=r,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class at{constructor(){}static calculateMaskPenalty(r){return At.applyMaskPenaltyRule1(r)+At.applyMaskPenaltyRule2(r)+At.applyMaskPenaltyRule3(r)+At.applyMaskPenaltyRule4(r)}static encode(r,s,o=null){let u=at.DEFAULT_BYTE_MODE_ENCODING;const c=o!==null&&o.get(Lt.CHARACTER_SET)!==void 0;c&&(u=o.get(Lt.CHARACTER_SET).toString());const f=this.chooseMode(r,u),h=new M;if(f===Ce.BYTE&&(c||at.DEFAULT_BYTE_MODE_ENCODING!==u)){const re=Y.getCharacterSetECIByName(u);re!==void 0&&this.appendECI(re,h)}this.appendModeInfo(f,h);const g=new M;this.appendBytes(r,f,g,u);let y;if(o!==null&&o.get(Lt.QR_VERSION)!==void 0){const re=Number.parseInt(o.get(Lt.QR_VERSION).toString(),10);y=we.getVersionForNumber(re);const $=this.calculateBitsNeeded(f,h,g,y);if(!this.willFit($,y,s))throw new nt("Data too big for requested version")}else y=this.recommendVersion(s,f,h,g);const C=new M;C.appendBitArray(h);const S=f===Ce.BYTE?g.getSizeInBytes():r.length;this.appendLengthInfo(S,y,f,C),C.appendBitArray(g);const b=y.getECBlocksForLevel(s),O=y.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(O,C);const P=this.interleaveWithECBytes(C,y.getTotalCodewords(),O,b.getNumBlocks()),L=new cs;L.setECLevel(s),L.setMode(f),L.setVersion(y);const z=y.getDimensionForVersion(),X=new ru(z,z),te=this.chooseMaskPattern(P,s,y,X);return L.setMaskPattern(te),Ee.buildMatrix(P,s,y,te,X),L.setMatrix(X),L}static recommendVersion(r,s,o,u){const c=this.calculateBitsNeeded(s,o,u,we.getVersionForNumber(1)),f=this.chooseVersion(c,r),h=this.calculateBitsNeeded(s,o,u,f);return this.chooseVersion(h,r)}static calculateBitsNeeded(r,s,o,u){return s.getSize()+r.getCharacterCountBits(u)+o.getSize()}static getAlphanumericCode(r){return r<at.ALPHANUMERIC_TABLE.length?at.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,s=null){if(Y.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(r))return Ce.KANJI;let o=!1,u=!1;for(let c=0,f=r.length;c<f;++c){const h=r.charAt(c);if(at.isDigit(h))o=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)u=!0;else return Ce.BYTE}return u?Ce.ALPHANUMERIC:o?Ce.NUMERIC:Ce.BYTE}static isOnlyDoubleByteKanji(r){let s;try{s=ae.encode(r,Y.SJIS)}catch{return!1}const o=s.length;if(o%2!==0)return!1;for(let u=0;u<o;u+=2){const c=s[u]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(r,s,o,u){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let h=0;h<cs.NUM_MASK_PATTERNS;h++){Ee.buildMatrix(r,s,o,h,u);let g=this.calculateMaskPenalty(u);g<c&&(c=g,f=h)}return f}static chooseVersion(r,s){for(let o=1;o<=40;o++){const u=we.getVersionForNumber(o);if(at.willFit(r,u,s))return u}throw new nt("Data too big")}static willFit(r,s,o){const u=s.getTotalCodewords(),f=s.getECBlocksForLevel(o).getTotalECCodewords(),h=u-f,g=(r+7)/8;return h>=g}static terminateBits(r,s){const o=r*8;if(s.getSize()>o)throw new nt("data bits cannot fit in the QR Code"+s.getSize()+" > "+o);for(let f=0;f<4&&s.getSize()<o;++f)s.appendBit(!1);const u=s.getSize()&7;if(u>0)for(let f=u;f<8;f++)s.appendBit(!1);const c=r-s.getSizeInBytes();for(let f=0;f<c;++f)s.appendBits(f&1?17:236,8);if(s.getSize()!==o)throw new nt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,s,o,u,c,f){if(u>=o)throw new nt("Block ID too large");const h=r%o,g=o-h,y=Math.floor(r/o),C=y+1,S=Math.floor(s/o),b=S+1,O=y-S,P=C-b;if(O!==P)throw new nt("EC bytes mismatch");if(o!==g+h)throw new nt("RS blocks mismatch");if(r!==(S+O)*g+(b+P)*h)throw new nt("Total bytes mismatch");u<g?(c[0]=S,f[0]=O):(c[0]=b,f[0]=P)}static interleaveWithECBytes(r,s,o,u){if(r.getSizeInBytes()!==o)throw new nt("Number of bits and data bytes does not match");let c=0,f=0,h=0;const g=new Array;for(let C=0;C<u;++C){const S=new Int32Array(1),b=new Int32Array(1);at.getNumDataBytesAndNumECBytesForBlockID(s,o,u,C,S,b);const O=S[0],P=new Uint8Array(O);r.toBytes(8*c,P,0,O);const L=at.generateECBytes(P,b[0]);g.push(new q3(P,L)),f=Math.max(f,O),h=Math.max(h,L.length),c+=S[0]}if(o!==c)throw new nt("Data bytes does not match offset");const y=new M;for(let C=0;C<f;++C)for(const S of g){const b=S.getDataBytes();C<b.length&&y.appendBits(b[C],8)}for(let C=0;C<h;++C)for(const S of g){const b=S.getErrorCorrectionBytes();C<b.length&&y.appendBits(b[C],8)}if(s!==y.getSizeInBytes())throw new nt("Interleaving error: "+s+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(r,s){const o=r.length,u=new Int32Array(o+s);for(let f=0;f<o;f++)u[f]=r[f]&255;new bf(Ze.QR_CODE_FIELD_256).encode(u,s);const c=new Uint8Array(s);for(let f=0;f<s;f++)c[f]=u[o+f];return c}static appendModeInfo(r,s){s.appendBits(r.getBits(),4)}static appendLengthInfo(r,s,o,u){const c=o.getCharacterCountBits(s);if(r>=1<<c)throw new nt(r+" is bigger than "+((1<<c)-1));u.appendBits(r,c)}static appendBytes(r,s,o,u){switch(s){case Ce.NUMERIC:at.appendNumericBytes(r,o);break;case Ce.ALPHANUMERIC:at.appendAlphanumericBytes(r,o);break;case Ce.BYTE:at.append8BitBytes(r,o,u);break;case Ce.KANJI:at.appendKanjiBytes(r,o);break;default:throw new nt("Invalid mode: "+s)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const s=at.getDigit(r);return s>=0&&s<=9}static appendNumericBytes(r,s){const o=r.length;let u=0;for(;u<o;){const c=at.getDigit(r.charAt(u));if(u+2<o){const f=at.getDigit(r.charAt(u+1)),h=at.getDigit(r.charAt(u+2));s.appendBits(c*100+f*10+h,10),u+=3}else if(u+1<o){const f=at.getDigit(r.charAt(u+1));s.appendBits(c*10+f,7),u+=2}else s.appendBits(c,4),u++}}static appendAlphanumericBytes(r,s){const o=r.length;let u=0;for(;u<o;){const c=at.getAlphanumericCode(r.charCodeAt(u));if(c===-1)throw new nt;if(u+1<o){const f=at.getAlphanumericCode(r.charCodeAt(u+1));if(f===-1)throw new nt;s.appendBits(c*45+f,11),u+=2}else s.appendBits(c,6),u++}}static append8BitBytes(r,s,o){let u;try{u=ae.encode(r,o)}catch(c){throw new nt(c)}for(let c=0,f=u.length;c!==f;c++){const h=u[c];s.appendBits(h,8)}}static appendKanjiBytes(r,s){let o;try{o=ae.encode(r,Y.SJIS)}catch(c){throw new nt(c)}const u=o.length;for(let c=0;c<u;c+=2){const f=o[c]&255,h=o[c+1]&255,g=f<<8&4294967295|h;let y=-1;if(g>=33088&&g<=40956?y=g-33088:g>=57408&&g<=60351&&(y=g-49472),y===-1)throw new nt("Invalid byte sequence");const C=(y>>8)*192+(y&255);s.appendBits(C,13)}}static appendECI(r,s){s.appendBits(Ce.ECI.getBits(),4),s.appendBits(r.getValue(),8)}}at.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),at.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class fs{write(r,s,o,u=null){if(r.length===0)throw new v("Found empty contents");if(s<0||o<0)throw new v("Requested dimensions are too small: "+s+"x"+o);let c=st.L,f=fs.QUIET_ZONE_SIZE;u!==null&&(u.get(Lt.ERROR_CORRECTION)!==void 0&&(c=st.fromString(u.get(Lt.ERROR_CORRECTION).toString())),u.get(Lt.MARGIN)!==void 0&&(f=Number.parseInt(u.get(Lt.MARGIN).toString(),10)));const h=at.encode(r,c,u);return this.renderResult(h,s,o,f)}writeToDom(r,s,o,u,c=null){typeof r=="string"&&(r=document.querySelector(r));const f=this.write(s,o,u,c);r&&r.appendChild(f)}renderResult(r,s,o,u){const c=r.getMatrix();if(c===null)throw new wr;const f=c.getWidth(),h=c.getHeight(),g=f+u*2,y=h+u*2,C=Math.max(s,g),S=Math.max(o,y),b=Math.min(Math.floor(C/g),Math.floor(S/y)),O=Math.floor((C-f*b)/2),P=Math.floor((S-h*b)/2),L=this.createSVGElement(C,S);for(let z=0,X=P;z<h;z++,X+=b)for(let te=0,re=O;te<f;te++,re+=b)if(c.get(te,z)===1){const $=this.createSvgRectElement(re,X,b,b);L.appendChild($)}return L}createSVGElement(r,s){const o=document.createElementNS(fs.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o}createSvgRectElement(r,s,o,u){const c=document.createElementNS(fs.SVG_NS,"rect");return c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",s.toString()),c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",u.toString()),c.setAttributeNS(null,"fill","#000000"),c}}fs.QUIET_ZONE_SIZE=4,fs.SVG_NS="http://www.w3.org/2000/svg";class Js{encode(r,s,o,u,c){if(r.length===0)throw new v("Found empty contents");if(s!==ye.QR_CODE)throw new v("Can only encode QR_CODE, but got "+s);if(o<0||u<0)throw new v(`Requested dimensions are too small: ${o}x${u}`);let f=st.L,h=Js.QUIET_ZONE_SIZE;c!==null&&(c.get(Lt.ERROR_CORRECTION)!==void 0&&(f=st.fromString(c.get(Lt.ERROR_CORRECTION).toString())),c.get(Lt.MARGIN)!==void 0&&(h=Number.parseInt(c.get(Lt.MARGIN).toString(),10)));const g=at.encode(r,f,c);return Js.renderResult(g,o,u,h)}static renderResult(r,s,o,u){const c=r.getMatrix();if(c===null)throw new wr;const f=c.getWidth(),h=c.getHeight(),g=f+u*2,y=h+u*2,C=Math.max(s,g),S=Math.max(o,y),b=Math.min(Math.floor(C/g),Math.floor(S/y)),O=Math.floor((C-f*b)/2),P=Math.floor((S-h*b)/2),L=new Me(C,S);for(let z=0,X=P;z<h;z++,X+=b)for(let te=0,re=O;te<f;te++,re+=b)c.get(te,z)===1&&L.setRegion(re,X,b,b);return L}}Js.QUIET_ZONE_SIZE=4;class $3{encode(r,s,o,u,c){let f;switch(s){case ye.QR_CODE:f=new Js;break;default:throw new v("No encoder available for format "+s)}return f.encode(r,s,o,u,c)}}class Ar extends se{constructor(r,s,o,u,c,f,h,g){if(super(f,h),this.yuvData=r,this.dataWidth=s,this.dataHeight=o,this.left=u,this.top=c,u+f>s||c+h>o)throw new v("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(f,h)}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const u=(r+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,u,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.yuvData;const o=r*s,u=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return k.arraycopy(this.yuvData,c,u,0,o),u;for(let f=0;f<s;f++){const h=f*r;k.arraycopy(this.yuvData,c,u,h,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,s,o,u){return new Ar(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+s,o,u,!1)}renderThumbnail(){const r=this.getWidth()/Ar.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Ar.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*s),u=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){const h=f*r;for(let g=0;g<r;g++){const y=u[c+g*Ar.THUMBNAIL_SCALE_FACTOR]&255;o[h+g]=4278190080|y*65793}c+=this.dataWidth*Ar.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Ar.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ar.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,s){const o=this.yuvData;for(let u=0,c=this.top*this.dataWidth+this.left;u<s;u++,c+=this.dataWidth){const f=c+r/2;for(let h=c,g=c+r-1;h<f;h++,g--){const y=o[h];o[h]=o[g],o[g]=y}}}invert(){return new me(this)}}Ar.THUMBNAIL_SCALE_FACTOR=2;class _f extends se{constructor(r,s,o,u,c,f,h){if(super(s,o),this.dataWidth=u,this.dataHeight=c,this.left=f,this.top=h,r.BYTES_PER_ELEMENT===4){const g=s*o,y=new Uint8ClampedArray(g);for(let C=0;C<g;C++){const S=r[C],b=S>>16&255,O=S>>7&510,P=S&255;y[C]=(b+O+P)/4&255}this.luminances=y}else this.luminances=r;if(u===void 0&&(this.dataWidth=s),c===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+o>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const u=(r+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,u,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.luminances;const o=r*s,u=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return k.arraycopy(this.luminances,c,u,0,o),u;for(let f=0;f<s;f++){const h=f*r;k.arraycopy(this.luminances,c,u,h,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,s,o,u){return new _f(this.luminances,o,u,this.dataWidth,this.dataHeight,this.left+r,this.top+s)}invert(){return new me(this)}}class fp extends Y{static forName(r){return this.getCharacterSetECIByName(r)}}class Tf{}Tf.ISO_8859_1=Y.ISO8859_1;class dp{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class hp{static singletonList(r){return[r]}static min(r,s){return r.sort(s)[0]}}class J3{constructor(r){this.previous=r}getPrevious(){return this.previous}}class eo extends J3{constructor(r,s,o){super(r),this.value=s,this.bitCount=o}appendTo(r,s){r.appendBits(this.value,this.bitCount)}add(r,s){return new eo(this,r,s)}addBinaryShift(r,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new eo(this,r,s)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+I.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class If extends eo{constructor(r,s,o){super(r,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=o}appendTo(r,s){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(s[this.binaryShiftStart+o],8)}addBinaryShift(r,s){return new If(this,r,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function eC(A,r,s){return new If(A,r,s)}function Sa(A,r,s){return new eo(A,r,s)}const tC=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],mi=0,iu=1,Yn=2,pp=3,Sr=4,nC=new eo(null,0,0),Nf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function rC(A){for(let r of A)_.fill(r,-1);return A[mi][Sr]=0,A[iu][Sr]=0,A[iu][mi]=28,A[pp][Sr]=0,A[Yn][Sr]=0,A[Yn][mi]=15,A}const gp=rC(_.createInt32Array(6,6));class br{constructor(r,s,o,u){this.token=r,this.mode=s,this.binaryShiftByteCount=o,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,s){let o=this.bitCount,u=this.token;if(r!==this.mode){let f=Nf[this.mode][r];u=Sa(u,f&65535,f>>16),o+=f>>16}let c=r===Yn?4:5;return u=Sa(u,s,c),new br(u,r,0,o+c)}shiftAndAppend(r,s){let o=this.token,u=this.mode===Yn?4:5;return o=Sa(o,gp[this.mode][r],u),o=Sa(o,s,5),new br(o,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(r){let s=this.token,o=this.mode,u=this.bitCount;if(this.mode===Sr||this.mode===Yn){let h=Nf[o][mi];s=Sa(s,h&65535,h>>16),u+=h>>16,o=mi}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new br(s,o,this.binaryShiftByteCount+1,u+c);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(r+1)),f}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=eC(s,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new br(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let s=this.bitCount+(Nf[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?s+=br.calculateBinaryShiftCost(r)-br.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(s+=10),s<=r.bitCount}toBitArray(r){let s=[];for(let u=this.endBinaryShift(r.length).token;u!==null;u=u.getPrevious())s.unshift(u);let o=new M;for(const u of s)u.appendTo(o,r);return o}toString(){return ne.format("%s bits=%d bytes=%d",tC[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}br.INITIAL_STATE=new br(nC,mi,0,0);function iC(A){const r=ne.getCharCode(" "),s=ne.getCharCode("."),o=ne.getCharCode(",");A[mi][r]=1;const u=ne.getCharCode("Z"),c=ne.getCharCode("A");for(let b=c;b<=u;b++)A[mi][b]=b-c+2;A[iu][r]=1;const f=ne.getCharCode("z"),h=ne.getCharCode("a");for(let b=h;b<=f;b++)A[iu][b]=b-h+2;A[Yn][r]=1;const g=ne.getCharCode("9"),y=ne.getCharCode("0");for(let b=y;b<=g;b++)A[Yn][b]=b-y+2;A[Yn][o]=12,A[Yn][s]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let b=0;b<C.length;b++)A[pp][ne.getCharCode(C[b])]=b;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let b=0;b<S.length;b++)ne.getCharCode(S[b])>0&&(A[Sr][ne.getCharCode(S[b])]=b);return A}const Rf=iC(_.createInt32Array(5,256));class ba{constructor(r){this.text=r}encode(){const r=ne.getCharCode(" "),s=ne.getCharCode(`
`);let o=hp.singletonList(br.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case ne.getCharCode("\r"):f=h===s?2:0;break;case ne.getCharCode("."):f=h===r?3:0;break;case ne.getCharCode(","):f=h===r?4:0;break;case ne.getCharCode(":"):f=h===r?5:0;break;default:f=0}f>0?(o=ba.updateStateListForPair(o,c,f),c++):o=this.updateStateListForChar(o,c)}return hp.min(o,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,s){const o=[];for(let u of r)this.updateStateForChar(u,s,o);return ba.simplifyStates(o)}updateStateForChar(r,s,o){let u=this.text[s]&255,c=Rf[r.getMode()][u]>0,f=null;for(let h=0;h<=Sr;h++){let g=Rf[h][u];if(g>0){if(f==null&&(f=r.endBinaryShift(s)),!c||h===r.getMode()||h===Yn){const y=f.latchAndAppend(h,g);o.push(y)}if(!c&&gp[r.getMode()][h]>=0){const y=f.shiftAndAppend(h,g);o.push(y)}}}if(r.getBinaryShiftByteCount()>0||Rf[r.getMode()][u]===0){let h=r.addBinaryShiftChar(s);o.push(h)}}static updateStateListForPair(r,s,o){const u=[];for(let c of r)this.updateStateForPair(c,s,o,u);return this.simplifyStates(u)}static updateStateForPair(r,s,o,u){let c=r.endBinaryShift(s);if(u.push(c.latchAndAppend(Sr,o)),r.getMode()!==Sr&&u.push(c.shiftAndAppend(Sr,o)),o===3||o===4){let f=c.latchAndAppend(Yn,16-o).latchAndAppend(Yn,1);u.push(f)}if(r.getBinaryShiftByteCount()>0){let f=r.addBinaryShiftChar(s).addBinaryShiftChar(s+1);u.push(f)}}static simplifyStates(r){let s=[];for(const o of r){let u=!0;for(const c of s){if(c.isBetterThanOrEqualTo(o)){u=!1;break}o.isBetterThanOrEqualTo(c)&&(s=s.filter(f=>f!==c))}u&&s.push(o)}return s}}class He{constructor(){}static encodeBytes(r){return He.encode(r,He.DEFAULT_EC_PERCENT,He.DEFAULT_AZTEC_LAYERS)}static encode(r,s,o){let u=new ba(r).encode(),c=I.truncDivision(u.getSize()*s,100)+11,f=u.getSize()+c,h,g,y,C,S;if(o!==He.DEFAULT_AZTEC_LAYERS){if(h=o<0,g=Math.abs(o),g>(h?He.MAX_NB_BITS_COMPACT:He.MAX_NB_BITS))throw new v(ne.format("Illegal value %s for layers",o));y=He.totalBitsInLayer(g,h),C=He.WORD_SIZE[g];let $=y-y%C;if(S=He.stuffBits(u,C),S.getSize()+c>$)throw new v("Data to large for user specified layer");if(h&&S.getSize()>C*64)throw new v("Data to large for user specified layer")}else{C=0,S=null;for(let $=0;;$++){if($>He.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(h=$<=3,g=h?$+1:$,y=He.totalBitsInLayer(g,h),f>y)continue;(S==null||C!==He.WORD_SIZE[g])&&(C=He.WORD_SIZE[g],S=He.stuffBits(u,C));let Le=y-y%C;if(!(h&&S.getSize()>C*64)&&S.getSize()+c<=Le)break}}let b=He.generateCheckWords(S,y,C),O=S.getSize()/C,P=He.generateModeMessage(h,g,O),L=(h?11:14)+g*4,z=new Int32Array(L),X;if(h){X=L;for(let $=0;$<z.length;$++)z[$]=$}else{X=L+1+2*I.truncDivision(I.truncDivision(L,2)-1,15);let $=I.truncDivision(L,2),Le=I.truncDivision(X,2);for(let Ne=0;Ne<$;Ne++){let Sn=Ne+I.truncDivision(Ne,15);z[$-Ne-1]=Le-Sn-1,z[$+Ne]=Le+Sn+1}}let te=new Me(X);for(let $=0,Le=0;$<g;$++){let Ne=(g-$)*4+(h?9:12);for(let Sn=0;Sn<Ne;Sn++){let lr=Sn*2;for(let bn=0;bn<2;bn++)b.get(Le+lr+bn)&&te.set(z[$*2+bn],z[$*2+Sn]),b.get(Le+Ne*2+lr+bn)&&te.set(z[$*2+Sn],z[L-1-$*2-bn]),b.get(Le+Ne*4+lr+bn)&&te.set(z[L-1-$*2-bn],z[L-1-$*2-Sn]),b.get(Le+Ne*6+lr+bn)&&te.set(z[L-1-$*2-Sn],z[$*2+bn])}Le+=Ne*8}if(He.drawModeMessage(te,h,X,P),h)He.drawBullsEye(te,I.truncDivision(X,2),5);else{He.drawBullsEye(te,I.truncDivision(X,2),7);for(let $=0,Le=0;$<I.truncDivision(L,2)-1;$+=15,Le+=16)for(let Ne=I.truncDivision(X,2)&1;Ne<X;Ne+=2)te.set(I.truncDivision(X,2)-Le,Ne),te.set(I.truncDivision(X,2)+Le,Ne),te.set(Ne,I.truncDivision(X,2)-Le),te.set(Ne,I.truncDivision(X,2)+Le)}let re=new dp;return re.setCompact(h),re.setSize(X),re.setLayers(g),re.setCodeWords(O),re.setMatrix(te),re}static drawBullsEye(r,s,o){for(let u=0;u<o;u+=2)for(let c=s-u;c<=s+u;c++)r.set(c,s-u),r.set(c,s+u),r.set(s-u,c),r.set(s+u,c);r.set(s-o,s-o),r.set(s-o+1,s-o),r.set(s-o,s-o+1),r.set(s+o,s-o),r.set(s+o,s-o+1),r.set(s+o,s+o-1)}static generateModeMessage(r,s,o){let u=new M;return r?(u.appendBits(s-1,2),u.appendBits(o-1,6),u=He.generateCheckWords(u,28,4)):(u.appendBits(s-1,5),u.appendBits(o-1,11),u=He.generateCheckWords(u,40,4)),u}static drawModeMessage(r,s,o,u){let c=I.truncDivision(o,2);if(s)for(let f=0;f<7;f++){let h=c-3+f;u.get(f)&&r.set(h,c-5),u.get(f+7)&&r.set(c+5,h),u.get(20-f)&&r.set(h,c+5),u.get(27-f)&&r.set(c-5,h)}else for(let f=0;f<10;f++){let h=c-5+f+I.truncDivision(f,5);u.get(f)&&r.set(h,c-7),u.get(f+10)&&r.set(c+7,h),u.get(29-f)&&r.set(h,c+7),u.get(39-f)&&r.set(c-7,h)}}static generateCheckWords(r,s,o){let u=r.getSize()/o,c=new bf(He.getGF(o)),f=I.truncDivision(s,o),h=He.bitsToWords(r,o,f);c.encode(h,f-u);let g=s%o,y=new M;y.appendBits(0,g);for(const C of Array.from(h))y.appendBits(C,o);return y}static bitsToWords(r,s,o){let u=new Int32Array(o),c,f;for(c=0,f=r.getSize()/s;c<f;c++){let h=0;for(let g=0;g<s;g++)h|=r.get(c*s+g)?1<<s-g-1:0;u[c]=h}return u}static getGF(r){switch(r){case 4:return Ze.AZTEC_PARAM;case 6:return Ze.AZTEC_DATA_6;case 8:return Ze.AZTEC_DATA_8;case 10:return Ze.AZTEC_DATA_10;case 12:return Ze.AZTEC_DATA_12;default:throw new v("Unsupported word size "+r)}}static stuffBits(r,s){let o=new M,u=r.getSize(),c=(1<<s)-2;for(let f=0;f<u;f+=s){let h=0;for(let g=0;g<s;g++)(f+g>=u||r.get(f+g))&&(h|=1<<s-1-g);(h&c)===c?(o.appendBits(h&c,s),f--):h&c?o.appendBits(h,s):(o.appendBits(h|1,s),f--)}return o}static totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}He.DEFAULT_EC_PERCENT=33,He.DEFAULT_AZTEC_LAYERS=0,He.MAX_NB_BITS=32,He.MAX_NB_BITS_COMPACT=4,He.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class su{encode(r,s,o,u){return this.encodeWithHints(r,s,o,u,null)}encodeWithHints(r,s,o,u,c){let f=Tf.ISO_8859_1,h=He.DEFAULT_EC_PERCENT,g=He.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(Lt.CHARACTER_SET)&&(f=fp.forName(c.get(Lt.CHARACTER_SET).toString())),c.has(Lt.ERROR_CORRECTION)&&(h=I.parseInt(c.get(Lt.ERROR_CORRECTION).toString())),c.has(Lt.AZTEC_LAYERS)&&(g=I.parseInt(c.get(Lt.AZTEC_LAYERS).toString()))),su.encodeLayers(r,s,o,u,f,h,g)}static encodeLayers(r,s,o,u,c,f,h){if(s!==ye.AZTEC)throw new v("Can only encode AZTEC, but got "+s);let g=He.encode(ne.getBytes(r,c),f,h);return su.renderResult(g,o,u)}static renderResult(r,s,o){let u=r.getMatrix();if(u==null)throw new wr;let c=u.getWidth(),f=u.getHeight(),h=Math.max(s,c),g=Math.max(o,f),y=Math.min(h/c,g/f),C=(h-c*y)/2,S=(g-f*y)/2,b=new Me(h,g);for(let O=0,P=S;O<f;O++,P+=y)for(let L=0,z=C;L<c;L++,z+=y)u.get(L,O)&&b.setRegion(z,P,y,y);return b}}n.AbstractExpandedDecoder=gf,n.ArgumentException=w,n.ArithmeticException=Zl,n.AztecCode=dp,n.AztecCodeReader=Ql,n.AztecCodeWriter=su,n.AztecDecoder=it,n.AztecDetector=$1,n.AztecDetectorResult=Q1,n.AztecEncoder=He,n.AztecHighLevelEncoder=ba,n.AztecPoint=cn,n.BarcodeFormat=ye,n.Binarizer=D,n.BinaryBitmap=E,n.BitArray=M,n.BitMatrix=Me,n.BitSource=wf,n.BrowserAztecCodeReader=R3,n.BrowserBarcodeReader=P3,n.BrowserCodeReader=Hn,n.BrowserDatamatrixCodeReader=B3,n.BrowserMultiFormatReader=Y3,n.BrowserPDF417Reader=K3,n.BrowserQRCodeReader=Q3,n.BrowserQRCodeSvgWriter=fs,n.CharacterSetECI=Y,n.ChecksumException=T,n.Code128Reader=oe,n.Code39Reader=Mt,n.DataMatrixDecodedBitStreamParser=di,n.DataMatrixReader=hi,n.DecodeHintType=Z,n.DecoderResult=pa,n.DefaultGridSampler=q1,n.DetectorResult=Kl,n.EAN13Reader=os,n.EncodeHintType=Lt,n.Exception=m,n.FormatException=j,n.GenericGF=Ze,n.GenericGFPoly=vn,n.GlobalHistogramBinarizer=Je,n.GridSampler=ff,n.GridSamplerInstance=ci,n.HTMLCanvasElementLuminanceSource=ve,n.HybridBinarizer=pe,n.ITFReader=tt,n.IllegalArgumentException=v,n.IllegalStateException=wr,n.InvertedLuminanceSource=me,n.LuminanceSource=se,n.MathUtils=We,n.MultiFormatOneDReader=qs,n.MultiFormatReader=cp,n.MultiFormatWriter=$3,n.NotFoundException=K,n.OneDReader=Ot,n.PDF417DecodedBitStreamParser=G,n.PDF417DecoderErrorCorrection=ip,n.PDF417Reader=Yt,n.PDF417ResultMetadata=op,n.PerspectiveTransform=or,n.PlanarYUVLuminanceSource=Ar,n.QRCodeByteMatrix=ru,n.QRCodeDataMask=Xn,n.QRCodeDecodedBitStreamParser=mt,n.QRCodeDecoderErrorCorrectionLevel=st,n.QRCodeDecoderFormatInformation=nn,n.QRCodeEncoder=at,n.QRCodeEncoderQRCode=cs,n.QRCodeMaskUtil=At,n.QRCodeMatrixUtil=Ee,n.QRCodeMode=Ce,n.QRCodeReader=pi,n.QRCodeVersion=we,n.QRCodeWriter=Js,n.RGBLuminanceSource=_f,n.RSS14Reader=Et,n.RSSExpandedReader=q,n.ReaderException=nu,n.ReedSolomonDecoder=ma,n.ReedSolomonEncoder=bf,n.ReedSolomonException=Zs,n.Result=gt,n.ResultMetadataType=jt,n.ResultPoint=ge,n.StringUtils=ne,n.UnsupportedOperationException=J,n.VideoInputDevice=Ue,n.WhiteRectangleDetector=jr,n.WriterException=nt,n.ZXingArrays=_,n.ZXingCharset=fp,n.ZXingInteger=I,n.ZXingStandardCharsets=Tf,n.ZXingStringBuilder=Te,n.ZXingStringEncoding=ae,n.ZXingSystem=k,n.createAbstractExpandedDecoder=np,Object.defineProperty(n,"__esModule",{value:!0})})})(c0,c0.exports);var ct=c0.exports;const iN=d0(ct),sN=uC({__proto__:null,default:iN},[ct]);var kx=function(){function e(t,n,i){if(this.formatMap=new Map([[ue.QR_CODE,ct.BarcodeFormat.QR_CODE],[ue.AZTEC,ct.BarcodeFormat.AZTEC],[ue.CODABAR,ct.BarcodeFormat.CODABAR],[ue.CODE_39,ct.BarcodeFormat.CODE_39],[ue.CODE_93,ct.BarcodeFormat.CODE_93],[ue.CODE_128,ct.BarcodeFormat.CODE_128],[ue.DATA_MATRIX,ct.BarcodeFormat.DATA_MATRIX],[ue.MAXICODE,ct.BarcodeFormat.MAXICODE],[ue.ITF,ct.BarcodeFormat.ITF],[ue.EAN_13,ct.BarcodeFormat.EAN_13],[ue.EAN_8,ct.BarcodeFormat.EAN_8],[ue.PDF_417,ct.BarcodeFormat.PDF_417],[ue.RSS_14,ct.BarcodeFormat.RSS_14],[ue.RSS_EXPANDED,ct.BarcodeFormat.RSS_EXPANDED],[ue.UPC_A,ct.BarcodeFormat.UPC_A],[ue.UPC_E,ct.BarcodeFormat.UPC_E],[ue.UPC_EAN_EXTENSION,ct.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!sN)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var a=this.createZXingFormats(t),l=new Map;l.set(ct.DecodeHintType.POSSIBLE_FORMATS,a),l.set(ct.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,a){try{i(n.decode(t))}catch(l){a(l)}})},e.prototype.decode=function(t){var n=new ct.MultiFormatReader(this.verbose,this.hints),i=new ct.HTMLCanvasElementLuminanceSource(t),a=new ct.BinaryBitmap(new ct.HybridBinarizer(i)),l=n.decode(a);return{text:l.text,format:T3.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),oN=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(w){try{m(i.next(w))}catch(v){d(v)}}function x(w){try{m(i.throw(w))}catch(v){d(v)}}function m(w){w.done?l(w.value):a(w.value).then(p,x)}m((i=i.apply(e,t||[])).next())})},aN=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(w){return x([m,w])}}function x(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(w){m=[6,w],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Dx=function(){function e(t,n,i){if(this.formatMap=new Map([[ue.QR_CODE,"qr_code"],[ue.AZTEC,"aztec"],[ue.CODABAR,"codabar"],[ue.CODE_39,"code_39"],[ue.CODE_93,"code_93"],[ue.CODE_128,"code_128"],[ue.DATA_MATRIX,"data_matrix"],[ue.ITF,"itf"],[ue.EAN_13,"ean_13"],[ue.EAN_8,"ean_8"],[ue.PDF_417,"pdf417"],[ue.UPC_A,"upc_a"],[ue.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return oN(this,void 0,void 0,function(){var n,i;return aN(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:T3.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,a=0,l=t;a<l.length;a++){var d=l[a],p=d.boundingBox.width*d.boundingBox.height;p>i&&(i=p,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Mx=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(w){try{m(i.next(w))}catch(v){d(v)}}function x(w){try{m(i.throw(w))}catch(v){d(v)}}function m(w){w.done?l(w.value):a(w.value).then(p,x)}m((i=i.apply(e,t||[])).next())})},Px=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(w){return x([m,w])}}function x(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(w){m=[6,w],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},lN=function(){function e(t,n,i,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&Dx.isSupported()?(this.primaryDecoder=new Dx(t,i,a),this.secondaryDecoder=new kx(t,i,a)):this.primaryDecoder=new kx(t,i,a)}return e.prototype.decodeAsync=function(t){return Mx(this,void 0,void 0,function(){var n;return Px(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Mx(this,void 0,void 0,function(){var n,i;return Px(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(i=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var a=i[n];t+=a}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),K1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lc=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(w){try{m(i.next(w))}catch(v){d(v)}}function x(w){try{m(i.throw(w))}catch(v){d(v)}}function m(w){w.done?l(w.value):a(w.value).then(p,x)}m((i=i.apply(e,t||[])).next())})},Bc=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(w){return x([m,w])}}function x(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(w){m=[6,w],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},N3=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),uN=function(e){K1(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(N3),cN=function(e){K1(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(uN),fN=function(e){K1(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(N3),dN=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new cN(this.track)},e.prototype.torchFeature=function(){return new fN(this.track)},e}(),hN=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,a){return Lc(this,void 0,void 0,function(){var l,d;return Bc(this,function(p){switch(p.label){case 0:return l=new e(t,n,a),i.aspectRatio?(d={aspectRatio:i.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:p.sent(),p.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Lc(this,void 0,void 0,function(){return Bc(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var a=t.mediaStream.getVideoTracks(),l=a.length,d=0;t.mediaStream.getVideoTracks().forEach(function(p){t.mediaStream.removeTrack(p),p.stop(),++d,d>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new dN(this.getFirstTrackOrFail())},e}(),pN=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return Lc(this,void 0,void 0,function(){return Bc(this,function(a){return[2,hN.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return Lc(this,void 0,void 0,function(){var n,i;return Bc(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=a.sent(),[2,new e(i)]}})})},e}(),Lx=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(w){try{m(i.next(w))}catch(v){d(v)}}function x(w){try{m(i.throw(w))}catch(v){d(v)}}function m(w){w.done?l(w.value):a(w.value).then(p,x)}m((i=i.apply(e,t||[])).next())})},Bx=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(w){return x([m,w])}}function x(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(w){m=[6,w],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},gN=function(){function e(){}return e.failIfNotSupported=function(){return Lx(this,void 0,void 0,function(){return Bx(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Lx(this,void 0,void 0,function(){return Bx(this,function(n){return[2,pN.create(t)]})})},e}(),mN=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(w){try{m(i.next(w))}catch(v){d(v)}}function x(w){try{m(i.throw(w))}catch(v){d(v)}}function m(w){w.done?l(w.value):a(w.value).then(p,x)}m((i=i.apply(e,t||[])).next())})},xN=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(w){return x([m,w])}}function x(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(w){m=[6,w],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},yN=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=So.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=So.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return mN(this,void 0,void 0,function(){var t,n,i,a,l,d,p;return xN(this,function(x){switch(x.label){case 0:return t=function(m){for(var w=m.getVideoTracks(),v=0,E=w;v<E.length;v++){var T=E[v];T.enabled=!1,T.stop(),m.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=x.sent(),a=[],l=0,d=i;l<d.length;l++)p=d[l],p.kind==="videoinput"&&a.push({id:p.deviceId,label:p.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(l){for(var d=[],p=0,x=l;p<x.length;p++){var m=x[p];m.kind==="video"&&d.push({id:m.id,label:m.label})}t(d)},a=MediaStreamTrack;a.getSources(i)})},e}(),bt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(bt||(bt={}));var wN=function(){function e(){this.state=bt.NOT_STARTED,this.onGoingTransactionNewState=bt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===bt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=bt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===bt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=bt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==bt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case bt.UNKNOWN:throw"Transition from unknown is not allowed";case bt.NOT_STARTED:this.failIfNewStateIs(t,[bt.PAUSED]);break;case bt.SCANNING:break;case bt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,a=n;i<a.length;i++){var l=a[i];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),vN=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===bt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==bt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===bt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===bt.PAUSED},e}(),CN=function(){function e(){}return e.create=function(){return new vN(new wN)},e}(),EN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mn=function(e){EN(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(tN),AN=function(){function e(t,n){this.logger=n,this.fps=Mn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Mn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?I3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Gr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),SN=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new rN(this.verbose),this.qrcode=new lN(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=CN.create()}return e.prototype.start=function(t,n,i,a){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;a?d=a:d=this.verbose?this.logger.log:function(){};var p=AN.create(n,this.logger);this.clearElement();var x=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=x,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Mn.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var v=this,E=this.stateManagerProxy.startTransition(bt.SCANNING);return new Promise(function(T,D){var k=m?p.videoConstraints:v.createVideoConstraints(t);if(!k){E.cancel(),D("videoConstraints should be defined");return}var V={};(!m||p.aspectRatio)&&(V.aspectRatio=p.aspectRatio);var N={onRenderSurfaceReady:function(_,I){v.setupUi(_,I,p),v.isScanning=!0,v.foreverScan(p,i,d)}};gN.failIfNotSupported().then(function(_){_.create(k).then(function(I){return I.render(l.element,V,N).then(function(M){v.renderedCamera=M,E.execute(),T(null)}).catch(function(M){E.cancel(),D(M)})}).catch(function(I){E.cancel(),D(So.errorGettingUserMedia(I))})}).catch(function(_){E.cancel(),D(So.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(bt.PAUSED),this.showPausedState(),(Gr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(bt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(bt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var l=document.getElementById(Mn.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),i(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Gr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var p=d.width,x=d.height,m=document.getElementById(i.elementId),w=m.clientWidth?m.clientWidth:Mn.DEFAULT_WIDTH,v=Math.max(m.clientHeight?m.clientHeight:x,Mn.FILE_SCAN_MIN_HEIGHT),E=i.computeCanvasDrawConfig(p,x,w,v);if(n){var T=i.createCanvasElement(w,v,"qr-canvas-visible");T.style.display="inline-block",m.appendChild(T);var D=T.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=w,D.canvas.height=v,D.drawImage(d,0,0,p,x,E.x,E.y,E.width,E.height)}var k=Mn.FILE_SCAN_HIDDEN_CANVAS_PADDING,V=Math.max(d.width,E.width),N=Math.max(d.height,E.height),_=V+2*k,I=N+2*k,M=i.createCanvasElement(_,I);m.appendChild(M);var U=M.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=_,U.canvas.height=I,U.drawImage(d,0,0,p,x,k,k,V,N);try{i.qrcode.decodeRobustlyAsync(M).then(function(Z){a(Ox.createFromQrcodeResult(Z))}).catch(l)}catch(Z){l("QR code parse error, error = ".concat(Z))}},d.onerror=l,d.onabort=l,d.onstalled=l,d.onsuspend=l,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return yN.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!I3.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ue.QR_CODE,ue.AZTEC,ue.CODABAR,ue.CODE_39,ue.CODE_93,ue.CODE_128,ue.DATA_MATRIX,ue.MAXICODE,ue.ITF,ue.EAN_13,ue.EAN_8,ue.PDF_417,ue.RSS_14,ue.RSS_EXPANDED,ue.UPC_A,ue.UPC_E,ue.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],a=0,l=t.formatsToSupport;a<l.length;a++){var d=l[a];eN(d)?i.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Gr(t))return!0;if(!Gr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Gr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Gr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var a=this,l=i.qrbox;this.validateQrboxConfig(l);var d=this.toQrdimensions(t,n,l),p=function(m){if(m<Mn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Mn.MIN_QR_BOX_SIZE,"px.")},x=function(m){return m>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};p(d.width),p(d.height),d.width=x(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var a=Gr(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,n,a);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=i.isShadedBoxEnabled()&&l.height<=n,p={x:0,y:0,width:t,height:n},x=d?this.getShadedRegionBounds(t,n,l):p,m=this.createCanvasElement(x.width,x.height),w={willReadFrequently:!0},v=m.getContext("2d",w);v.canvas.width=x.width,v.canvas.height=x.height,this.element.append(m),d&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=v,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=So.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,Ox.createFromQrcodeResult(a)),i.possiblyUpdateShaders(!0),!0}).catch(function(a){i.possiblyUpdateShaders(!1);var l=So.codeParseError(a);return n(l,nN.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,i){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),d=l.videoWidth/l.clientWidth,p=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*d,m=this.qrRegion.height*p,w=this.qrRegion.x*d,v=this.qrRegion.y*p;this.context.drawImage(l,w,v,x,m,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,i)},a.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(T){!T&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,i).finally(function(){E()})):E()}).catch(function(T){a.logger.logError("Error happend while scanning context",T),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",a={user:!0,environment:!0},l="exact",d=function(D){if(D in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(D,"'")},p=Object.keys(t);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var m=t.facingMode;if(typeof m=="string"){if(d(m))return{facingMode:m}}else if(typeof m=="object")if(l in m){if(d(m["".concat(l)]))return{facingMode:{exact:m["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var w=typeof m;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(l in v)return{deviceId:{exact:v["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var E=typeof v;throw"Invalid type of 'deviceId' = ".concat(E)}}}var T=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},e.prototype.computeCanvasDrawConfig=function(t,n,i,a){if(t<=i&&n<=a){var l=(i-t)/2,d=(a-n)/2;return{x:l,y:d,width:t,height:n}}else{var p=t,x=n;return t>i&&(n=i/t*n,t=i),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Mn.BORDER_SHADER_MATCH_COLOR:Mn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var a=t,l=n,d=document.createElement("canvas");return d.style.width="".concat(a,"px"),d.style.height="".concat(l,"px"),d.style.display="none",d.id=Gr(i)?"qr-canvas":i,d},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,a){if(!(n-a.width<1||i-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var d=(n-a.width)/2,p=(i-a.height)/2;if(l.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Mn.SHADED_REGION_ELEMENT_ID),n-a.width<11||i-a.height<11)this.hasBorderShaders=!1;else{var x=5,m=40;this.insertShaderBorders(l,m,x,-x,null,0,!0),this.insertShaderBorders(l,m,x,-x,null,0,!1),this.insertShaderBorders(l,m,x,null,-x,0,!0),this.insertShaderBorders(l,m,x,null,-x,0,!1),this.insertShaderBorders(l,x,m+x,-x,null,-x,!0),this.insertShaderBorders(l,x,m+x,null,-x,-x,!0),this.insertShaderBorders(l,x,m+x,-x,null,-x,!1),this.insertShaderBorders(l,x,m+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,i,a,l,d,p){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Mn.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(i,"px"),a!==null&&(x.style.top="".concat(a,"px")),l!==null&&(x.style.bottom="".concat(l,"px")),p?x.style.left="".concat(d,"px"):x.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Fx;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Fx||(Fx={}));const bN=()=>{const e=Bn(T=>T.setView),t=Bn(T=>T.activeCode),n=Bn(T=>T.setActiveCode),[i,a]=bo.useState(!0),[l,d]=bo.useState(!1),[p,x]=bo.useState(""),m=Q.useRef(null),{data:w,isLoading:v}=b3(t),{data:E}=_3(5);return Q.useEffect(()=>{let T=!0;const k=setTimeout(async()=>{try{const V=new SN("reader");m.current=V;const N={fps:20,qrbox:(_,I)=>({width:_*.8,height:I*.7}),aspectRatio:1,formatsToSupport:[ue.EAN_13,ue.EAN_8,ue.UPC_A,ue.UPC_E]};await V.start({facingMode:"environment"},{fps:5,qrbox:(_,I)=>({width:_*.8,height:I*.7}),aspectRatio:N.aspectRatio,disableFlip:!1},_=>{if(!T)return;const I=_.trim();if(I.length<8||!/^\d+$/.test(I))return;const M=Bn.getState().activeCode,U=Date.now();if(I===M){(!m.current.lastLog||U-m.current.lastLog>2e3)&&(console.log("[Scanner] Still tracking:",I),m.current.lastLog=U);return}console.log("[Scanner] New Code Detected:",I),m.current.lastLog=U,n(I)},_=>{}),T&&a(!1)}catch(V){console.error("Scanner error",V),T&&(a(!1),e("home"))}},200);return()=>{T=!1,clearTimeout(k),m.current&&m.current.isScanning&&m.current.stop().catch(console.error)}},[e,n]),Q.useEffect(()=>{if(!m.current)return;const T=m.current;try{v?(console.log("[Scanner] Pausing for fetch..."),T.pause(!0)):T.resume()}catch{}},[v]),F.jsxs("div",{className:"fixed inset-0 bg-slate-950 z-40 flex flex-col font-sans overflow-hidden text-slate-900",children:[F.jsxs("div",{className:"h-1/2 relative bg-black flex items-center justify-center overflow-hidden",children:[i&&F.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center gap-3 bg-slate-900/80 backdrop-blur-sm",children:[F.jsx("div",{className:"w-8 h-8 border-3 border-blue-500 border-t-transparent rounded-full animate-spin"}),F.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Initializing..."})]}),F.jsx("div",{id:"reader",className:"w-full h-full"}),!i&&F.jsx("div",{className:"absolute inset-0 pointer-events-none flex flex-col items-center justify-center pb-8",children:F.jsxs("div",{className:"relative w-[80%] h-[70%] border border-white/40 overflow-hidden shadow-[0_0_0_100vmax_rgba(0,0,0,0.5)]",children:[F.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-blue-400/80 shadow-[0_0_15px_rgba(56,189,248,0.8)] animate-[scan_3s_ease-in-out_infinite]"}),F.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-white"}),F.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-white"}),F.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-white"}),F.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-white"})]})})]}),F.jsxs("div",{className:"flex-1 bg-slate-50 flex flex-col relative overflow-hidden rounded-t-[32px] -mt-8 z-10 shadow-[0_-10px_40px_rgba(0,0,0,0.3)]",children:[F.jsxs("div",{className:"flex items-center justify-between px-4 py-2 shrink-0 bg-slate-50",children:[F.jsx("button",{onClick:()=>{n(null),e("home")},className:"w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 hover:bg-slate-300 active:scale-95 transition-all",children:F.jsx(Cc,{size:16})}),F.jsx("div",{className:"w-8 h-1 bg-slate-200 rounded-full"})," ",F.jsx("button",{onClick:()=>d(!l),className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${l?"bg-blue-100 text-blue-600":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:F.jsx(Tw,{size:16})})]}),F.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[l&&F.jsx("div",{className:"mb-6 mt-2.5 animate-in slide-in-from-top-2 fade-in duration-200",children:F.jsxs("form",{onSubmit:T=>{T.preventDefault(),p.trim()&&(n(p.trim()),x(""),d(!1))},className:"flex gap-2",children:[F.jsx("input",{type:"text",value:p,onChange:T=>x(T.target.value),placeholder:"Enter barcode manually...",className:"flex-1 bg-white border border-slate-200 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none shadow-sm",autoFocus:!0}),F.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 rounded-xl font-bold text-sm tracking-wide",children:"GO"})]})}),t?F.jsx(w3,{data:w,isLoading:v,code:t}):F.jsx("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm text-center mb-8",children:F.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Scan a barcode above or search manually."})}),F.jsxs("div",{className:"mt-8",children:[F.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[F.jsx(_w,{size:16,className:"text-slate-400"}),F.jsx("h3",{className:"font-bold text-slate-500 text-xs uppercase tracking-wider",children:"Recent History"})]}),F.jsx(v3,{history:E||[],onSelect:n,activeCode:t})]})]})]}),F.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes scan {
          0%, 100% { top: 10%; opacity: 0.3; }
          50% { top: 90%; opacity: 1; }
        }
        #reader video, #reader canvas {
          width: 100% !important;
          height: 100% !important;
          object-fit: cover !important;
          object-position: center !important;
        }
        #reader {
          border: none !important;
        }
        /* Hide the library's default scan region border to only show our custom one */
        #reader__scan_region, #qr-shaded-region {
          border: none !important;
          display: none !important;
        }
        #reader__dashboard {
          display: none !important;
        }
      `}})]})};class _N extends Q.Component{constructor(){super(...arguments);xp(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,i){console.error("Uncaught error:",n,i)}render(){var n;return this.state.hasError?this.props.fallback||F.jsxs("div",{className:"p-6 bg-red-50 text-red-900 rounded-lg m-4 border border-red-200",children:[F.jsx("h2",{className:"font-bold text-lg mb-2",children:"Something went wrong."}),F.jsx("p",{className:"text-sm font-mono bg-red-100 p-2 rounded overflow-x-auto",children:(n=this.state.error)==null?void 0:n.toString()}),F.jsx("button",{className:"mt-4 px-4 py-2 bg-red-600 text-white rounded shadow-sm font-bold text-sm",onClick:()=>window.location.reload(),children:"Reload App"})]}):this.props.children}}function TN(){const e=Bn(t=>t.currentView);return F.jsx(xI,{children:F.jsxs(_N,{children:[e==="home"&&F.jsx(JI,{}),e==="scanner"&&F.jsx(bN,{})]})})}Td.createRoot(document.getElementById("root")).render(F.jsx(bo.StrictMode,{children:F.jsx(TN,{})}));
