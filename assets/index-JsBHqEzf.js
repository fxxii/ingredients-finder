var cC=Object.defineProperty;var Dg=e=>{throw TypeError(e)};var fC=(e,t,n)=>t in e?cC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var oh=(e,t,n)=>fC(e,typeof t!="symbol"?t+"":t,n),ah=(e,t,n)=>t.has(e)||Dg("Cannot "+n);var B=(e,t,n)=>(ah(e,t,"read from private field"),n?n.call(e):t.get(e)),_e=(e,t,n)=>t.has(e)?Dg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),me=(e,t,n,i)=>(ah(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),je=(e,t,n)=>(ah(e,t,"access private method"),n);var $c=(e,t,n,i)=>({set _(a){me(e,t,a,n)},get _(){return B(e,t,i)}});function dC(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yy={exports:{}},Od={},wy={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=Symbol.for("react.element"),hC=Symbol.for("react.portal"),pC=Symbol.for("react.fragment"),gC=Symbol.for("react.strict_mode"),mC=Symbol.for("react.profiler"),xC=Symbol.for("react.provider"),yC=Symbol.for("react.context"),wC=Symbol.for("react.forward_ref"),vC=Symbol.for("react.suspense"),EC=Symbol.for("react.memo"),CC=Symbol.for("react.lazy"),kg=Symbol.iterator;function AC(e){return e===null||typeof e!="object"?null:(e=kg&&e[kg]||e["@@iterator"],typeof e=="function"?e:null)}var vy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ey=Object.assign,Cy={};function Wl(e,t,n){this.props=e,this.context=t,this.refs=Cy,this.updater=n||vy}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ay(){}Ay.prototype=Wl.prototype;function q1(e,t,n){this.props=e,this.context=t,this.refs=Cy,this.updater=n||vy}var K1=q1.prototype=new Ay;K1.constructor=q1;Ey(K1,Wl.prototype);K1.isPureReactComponent=!0;var Pg=Array.isArray,_y=Object.prototype.hasOwnProperty,Y1={current:null},by={key:!0,ref:!0,__self:!0,__source:!0};function Sy(e,t,n){var i,a={},l=null,d=null;if(t!=null)for(i in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)_y.call(t,i)&&!by.hasOwnProperty(i)&&(a[i]=t[i]);var p=arguments.length-2;if(p===1)a.children=n;else if(1<p){for(var x=Array(p),m=0;m<p;m++)x[m]=arguments[m+2];a.children=x}if(e&&e.defaultProps)for(i in p=e.defaultProps,p)a[i]===void 0&&(a[i]=p[i]);return{$$typeof:_c,type:e,key:l,ref:d,props:a,_owner:Y1.current}}function _C(e,t){return{$$typeof:_c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Q1(e){return typeof e=="object"&&e!==null&&e.$$typeof===_c}function bC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mg=/\/+/g;function lh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bC(""+e.key):t.toString(36)}function Af(e,t,n,i,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case _c:case hC:d=!0}}if(d)return d=e,a=a(d),e=i===""?"."+lh(d,0):i,Pg(a)?(n="",e!=null&&(n=e.replace(Mg,"$&/")+"/"),Af(a,t,n,"",function(m){return m})):a!=null&&(Q1(a)&&(a=_C(a,n+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(Mg,"$&/")+"/")+e)),t.push(a)),1;if(d=0,i=i===""?".":i+":",Pg(e))for(var p=0;p<e.length;p++){l=e[p];var x=i+lh(l,p);d+=Af(l,t,n,x,a)}else if(x=AC(e),typeof x=="function")for(e=x.call(e),p=0;!(l=e.next()).done;)l=l.value,x=i+lh(l,p++),d+=Af(l,t,n,x,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Jc(e,t,n){if(e==null)return e;var i=[],a=0;return Af(e,i,"","",function(l){return t.call(n,l,a++)}),i}function SC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cr={current:null},_f={transition:null},TC={ReactCurrentDispatcher:cr,ReactCurrentBatchConfig:_f,ReactCurrentOwner:Y1};function Ty(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:Jc,forEach:function(e,t,n){Jc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jc(e,function(){t++}),t},toArray:function(e){return Jc(e,function(t){return t})||[]},only:function(e){if(!Q1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=Wl;lt.Fragment=pC;lt.Profiler=mC;lt.PureComponent=q1;lt.StrictMode=gC;lt.Suspense=vC;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TC;lt.act=Ty;lt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Ey({},e.props),a=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=Y1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(x in t)_y.call(t,x)&&!by.hasOwnProperty(x)&&(i[x]=t[x]===void 0&&p!==void 0?p[x]:t[x])}var x=arguments.length-2;if(x===1)i.children=n;else if(1<x){p=Array(x);for(var m=0;m<x;m++)p[m]=arguments[m+2];i.children=p}return{$$typeof:_c,type:e.type,key:a,ref:l,props:i,_owner:d}};lt.createContext=function(e){return e={$$typeof:yC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xC,_context:e},e.Consumer=e};lt.createElement=Sy;lt.createFactory=function(e){var t=Sy.bind(null,e);return t.type=e,t};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:wC,render:e}};lt.isValidElement=Q1;lt.lazy=function(e){return{$$typeof:CC,_payload:{_status:-1,_result:e},_init:SC}};lt.memo=function(e,t){return{$$typeof:EC,type:e,compare:t===void 0?null:t}};lt.startTransition=function(e){var t=_f.transition;_f.transition={};try{e()}finally{_f.transition=t}};lt.unstable_act=Ty;lt.useCallback=function(e,t){return cr.current.useCallback(e,t)};lt.useContext=function(e){return cr.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return cr.current.useDeferredValue(e)};lt.useEffect=function(e,t){return cr.current.useEffect(e,t)};lt.useId=function(){return cr.current.useId()};lt.useImperativeHandle=function(e,t,n){return cr.current.useImperativeHandle(e,t,n)};lt.useInsertionEffect=function(e,t){return cr.current.useInsertionEffect(e,t)};lt.useLayoutEffect=function(e,t){return cr.current.useLayoutEffect(e,t)};lt.useMemo=function(e,t){return cr.current.useMemo(e,t)};lt.useReducer=function(e,t,n){return cr.current.useReducer(e,t,n)};lt.useRef=function(e){return cr.current.useRef(e)};lt.useState=function(e){return cr.current.useState(e)};lt.useSyncExternalStore=function(e,t,n){return cr.current.useSyncExternalStore(e,t,n)};lt.useTransition=function(){return cr.current.useTransition()};lt.version="18.3.1";wy.exports=lt;var se=wy.exports;const Ou=Z1(se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IC=se,RC=Symbol.for("react.element"),NC=Symbol.for("react.fragment"),OC=Object.prototype.hasOwnProperty,DC=IC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kC={key:!0,ref:!0,__self:!0,__source:!0};function Iy(e,t,n){var i,a={},l=null,d=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(i in t)OC.call(t,i)&&!kC.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:RC,type:e,key:l,ref:d,props:a,_owner:DC.current}}Od.Fragment=NC;Od.jsx=Iy;Od.jsxs=Iy;yy.exports=Od;var Z=yy.exports,o0={},Ry={exports:{}},Vr={},Ny={exports:{}},Oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(pe,Ae){var Le=pe.length;pe.push(Ae);e:for(;0<Le;){var Qe=Le-1>>>1,at=pe[Qe];if(0<a(at,Ae))pe[Qe]=Ae,pe[Le]=at,Le=Qe;else break e}}function n(pe){return pe.length===0?null:pe[0]}function i(pe){if(pe.length===0)return null;var Ae=pe[0],Le=pe.pop();if(Le!==Ae){pe[0]=Le;e:for(var Qe=0,at=pe.length,er=at>>>1;Qe<er;){var Vt=2*(Qe+1)-1,vi=pe[Vt],ke=Vt+1,Be=pe[ke];if(0>a(vi,Le))ke<at&&0>a(Be,vi)?(pe[Qe]=Be,pe[ke]=Le,Qe=ke):(pe[Qe]=vi,pe[Vt]=Le,Qe=Vt);else if(ke<at&&0>a(Be,Le))pe[Qe]=Be,pe[ke]=Le,Qe=ke;else break e}}return Ae}function a(pe,Ae){var Le=pe.sortIndex-Ae.sortIndex;return Le!==0?Le:pe.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var x=[],m=[],E=1,C=null,O=3,D=!1,U=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(pe){for(var Ae=n(m);Ae!==null;){if(Ae.callback===null)i(m);else if(Ae.startTime<=pe)i(m),Ae.sortIndex=Ae.expirationTime,t(x,Ae);else break;Ae=n(m)}}function L(pe){if(I=!1,T(pe),!U)if(n(x)!==null)U=!0,_t(X);else{var Ae=n(m);Ae!==null&&be(L,Ae.startTime-pe)}}function X(pe,Ae){U=!1,I&&(I=!1,_(Y),Y=-1),D=!0;var Le=O;try{for(T(Ae),C=n(x);C!==null&&(!(C.expirationTime>Ae)||pe&&!De());){var Qe=C.callback;if(typeof Qe=="function"){C.callback=null,O=C.priorityLevel;var at=Qe(C.expirationTime<=Ae);Ae=e.unstable_now(),typeof at=="function"?C.callback=at:C===n(x)&&i(x),T(Ae)}else i(x);C=n(x)}if(C!==null)var er=!0;else{var Vt=n(m);Vt!==null&&be(L,Vt.startTime-Ae),er=!1}return er}finally{C=null,O=Le,D=!1}}var G=!1,W=null,Y=-1,te=5,ce=-1;function De(){return!(e.unstable_now()-ce<te)}function ye(){if(W!==null){var pe=e.unstable_now();ce=pe;var Ae=!0;try{Ae=W(!0,pe)}finally{Ae?Xe():(G=!1,W=null)}}else G=!1}var Xe;if(typeof b=="function")Xe=function(){b(ye)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,re=ot.port2;ot.port1.onmessage=ye,Xe=function(){re.postMessage(null)}}else Xe=function(){P(ye,0)};function _t(pe){W=pe,G||(G=!0,Xe())}function be(pe,Ae){Y=P(function(){pe(e.unstable_now())},Ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){U||D||(U=!0,_t(X))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<pe?Math.floor(1e3/pe):5},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(pe){switch(O){case 1:case 2:case 3:var Ae=3;break;default:Ae=O}var Le=O;O=Ae;try{return pe()}finally{O=Le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,Ae){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Le=O;O=pe;try{return Ae()}finally{O=Le}},e.unstable_scheduleCallback=function(pe,Ae,Le){var Qe=e.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?Qe+Le:Qe):Le=Qe,pe){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=Le+at,pe={id:E++,callback:Ae,priorityLevel:pe,startTime:Le,expirationTime:at,sortIndex:-1},Le>Qe?(pe.sortIndex=Le,t(m,pe),n(x)===null&&pe===n(m)&&(I?(_(Y),Y=-1):I=!0,be(L,Le-Qe))):(pe.sortIndex=at,t(x,pe),U||D||(U=!0,_t(X))),pe},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(pe){var Ae=O;return function(){var Le=O;O=Ae;try{return pe.apply(this,arguments)}finally{O=Le}}}})(Oy);Ny.exports=Oy;var PC=Ny.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=se,Br=PC;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dy=new Set,Gu={};function wa(e,t){Tl(e,t),Tl(e+"Capture",t)}function Tl(e,t){for(Gu[e]=t,e=0;e<t.length;e++)Dy.add(t[e])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a0=Object.prototype.hasOwnProperty,LC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lg={},Bg={};function BC(e){return a0.call(Bg,e)?!0:a0.call(Lg,e)?!1:LC.test(e)?Bg[e]=!0:(Lg[e]=!0,!1)}function FC(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VC(e,t,n,i){if(t===null||typeof t>"u"||FC(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fr(e,t,n,i,a,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var $1=/[\-:]([a-z])/g;function J1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($1,J1);Xn[t]=new fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($1,J1);Xn[t]=new fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($1,J1);Xn[t]=new fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new fr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ep(e,t,n,i){var a=Xn.hasOwnProperty(t)?Xn[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VC(t,n,a,i)&&(n=null),i||a===null?BC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,i=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var _s=MC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ef=Symbol.for("react.element"),ja=Symbol.for("react.portal"),za=Symbol.for("react.fragment"),tp=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),ky=Symbol.for("react.provider"),Py=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),u0=Symbol.for("react.suspense"),c0=Symbol.for("react.suspense_list"),rp=Symbol.for("react.memo"),zs=Symbol.for("react.lazy"),My=Symbol.for("react.offscreen"),Fg=Symbol.iterator;function uu(e){return e===null||typeof e!="object"?null:(e=Fg&&e[Fg]||e["@@iterator"],typeof e=="function"?e:null)}var tn=Object.assign,uh;function Cu(e){if(uh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uh=t&&t[1]||""}return`
`+uh+e}var ch=!1;function fh(e,t){if(!e||ch)return"";ch=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var i=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){i=m}e.call(t.prototype)}else{try{throw Error()}catch(m){i=m}e()}}catch(m){if(m&&i&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),l=i.stack.split(`
`),d=a.length-1,p=l.length-1;1<=d&&0<=p&&a[d]!==l[p];)p--;for(;1<=d&&0<=p;d--,p--)if(a[d]!==l[p]){if(d!==1||p!==1)do if(d--,p--,0>p||a[d]!==l[p]){var x=`
`+a[d].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=d&&0<=p);break}}}finally{ch=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cu(e):""}function UC(e){switch(e.tag){case 5:return Cu(e.type);case 16:return Cu("Lazy");case 13:return Cu("Suspense");case 19:return Cu("SuspenseList");case 0:case 2:case 15:return e=fh(e.type,!1),e;case 11:return e=fh(e.type.render,!1),e;case 1:return e=fh(e.type,!0),e;default:return""}}function f0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case za:return"Fragment";case ja:return"Portal";case l0:return"Profiler";case tp:return"StrictMode";case u0:return"Suspense";case c0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Py:return(e.displayName||"Context")+".Consumer";case ky:return(e._context.displayName||"Context")+".Provider";case np:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rp:return t=e.displayName||null,t!==null?t:f0(e.type)||"Memo";case zs:t=e._payload,e=e._init;try{return f0(e(t))}catch{}}return null}function jC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return f0(t);case 8:return t===tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ly(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zC(e){var t=Ly(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){i=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tf(e){e._valueTracker||(e._valueTracker=zC(e))}function By(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Ly(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function zf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function d0(e,t){var n=t.checked;return tn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vg(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=mo(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fy(e,t){t=t.checked,t!=null&&ep(e,"checked",t,!1)}function h0(e,t){Fy(e,t);var n=mo(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?p0(e,t.type,n):t.hasOwnProperty("defaultValue")&&p0(e,t.type,mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ug(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function p0(e,t,n){(t!=="number"||zf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Au=Array.isArray;function sl(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+mo(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function g0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return tn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(de(92));if(Au(n)){if(1<n.length)throw Error(de(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mo(n)}}function Vy(e,t){var n=mo(t.value),i=mo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function zg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nf,jy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nf=nf||document.createElement("div"),nf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WC=["Webkit","ms","Moz","O"];Object.keys(Du).forEach(function(e){WC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Du[t]=Du[e]})});function zy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Du.hasOwnProperty(e)&&Du[e]?(""+t).trim():t+"px"}function Wy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=zy(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,a):e[n]=a}}var HC=tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x0(e,t){if(t){if(HC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function y0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w0=null;function ip(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v0=null,ol=null,al=null;function Wg(e){if(e=Tc(e)){if(typeof v0!="function")throw Error(de(280));var t=e.stateNode;t&&(t=Ld(t),v0(e.stateNode,e.type,t))}}function Hy(e){ol?al?al.push(e):al=[e]:ol=e}function Gy(){if(ol){var e=ol,t=al;if(al=ol=null,Wg(e),t)for(e=0;e<t.length;e++)Wg(t[e])}}function Xy(e,t){return e(t)}function Zy(){}var dh=!1;function qy(e,t,n){if(dh)return e(t,n);dh=!0;try{return Xy(e,t,n)}finally{dh=!1,(ol!==null||al!==null)&&(Zy(),Gy())}}function Zu(e,t){var n=e.stateNode;if(n===null)return null;var i=Ld(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(de(231,t,typeof n));return n}var E0=!1;if(ms)try{var cu={};Object.defineProperty(cu,"passive",{get:function(){E0=!0}}),window.addEventListener("test",cu,cu),window.removeEventListener("test",cu,cu)}catch{E0=!1}function GC(e,t,n,i,a,l,d,p,x){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(E){this.onError(E)}}var ku=!1,Wf=null,Hf=!1,C0=null,XC={onError:function(e){ku=!0,Wf=e}};function ZC(e,t,n,i,a,l,d,p,x){ku=!1,Wf=null,GC.apply(XC,arguments)}function qC(e,t,n,i,a,l,d,p,x){if(ZC.apply(this,arguments),ku){if(ku){var m=Wf;ku=!1,Wf=null}else throw Error(de(198));Hf||(Hf=!0,C0=m)}}function va(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ky(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hg(e){if(va(e)!==e)throw Error(de(188))}function KC(e){var t=e.alternate;if(!t){if(t=va(e),t===null)throw Error(de(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Hg(a),e;if(l===i)return Hg(a),t;l=l.sibling}throw Error(de(188))}if(n.return!==i.return)n=a,i=l;else{for(var d=!1,p=a.child;p;){if(p===n){d=!0,n=a,i=l;break}if(p===i){d=!0,i=a,n=l;break}p=p.sibling}if(!d){for(p=l.child;p;){if(p===n){d=!0,n=l,i=a;break}if(p===i){d=!0,i=l,n=a;break}p=p.sibling}if(!d)throw Error(de(189))}}if(n.alternate!==i)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?e:t}function Yy(e){return e=KC(e),e!==null?Qy(e):null}function Qy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qy(e);if(t!==null)return t;e=e.sibling}return null}var $y=Br.unstable_scheduleCallback,Gg=Br.unstable_cancelCallback,YC=Br.unstable_shouldYield,QC=Br.unstable_requestPaint,pn=Br.unstable_now,$C=Br.unstable_getCurrentPriorityLevel,sp=Br.unstable_ImmediatePriority,Jy=Br.unstable_UserBlockingPriority,Gf=Br.unstable_NormalPriority,JC=Br.unstable_LowPriority,ew=Br.unstable_IdlePriority,Dd=null,ji=null;function eA(e){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(Dd,e,void 0,(e.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:rA,tA=Math.log,nA=Math.LN2;function rA(e){return e>>>=0,e===0?32:31-(tA(e)/nA|0)|0}var rf=64,sf=4194304;function _u(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xf(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,a=e.suspendedLanes,l=e.pingedLanes,d=n&268435455;if(d!==0){var p=d&~a;p!==0?i=_u(p):(l&=d,l!==0&&(i=_u(l)))}else d=n&~a,d!==0?i=_u(d):l!==0&&(i=_u(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&a)&&(a=i&-i,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-xi(t),a=1<<n,i|=e[n],t&=~a;return i}function iA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sA(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-xi(l),p=1<<d,x=a[d];x===-1?(!(p&n)||p&i)&&(a[d]=iA(p,t)):x<=t&&(e.expiredLanes|=p),l&=~p}}function A0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tw(){var e=rf;return rf<<=1,!(rf&4194240)&&(rf=64),e}function hh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xi(t),e[t]=n}function oA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-xi(n),l=1<<a;t[a]=0,i[a]=-1,e[a]=-1,n&=~l}}function op(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xi(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}var Ot=0;function nw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rw,ap,iw,sw,ow,_0=!1,of=[],so=null,oo=null,ao=null,qu=new Map,Ku=new Map,Gs=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(e,t){switch(e){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":qu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(t.pointerId)}}function fu(e,t,n,i,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Tc(t),t!==null&&ap(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function lA(e,t,n,i,a){switch(t){case"focusin":return so=fu(so,e,t,n,i,a),!0;case"dragenter":return oo=fu(oo,e,t,n,i,a),!0;case"mouseover":return ao=fu(ao,e,t,n,i,a),!0;case"pointerover":var l=a.pointerId;return qu.set(l,fu(qu.get(l)||null,e,t,n,i,a)),!0;case"gotpointercapture":return l=a.pointerId,Ku.set(l,fu(Ku.get(l)||null,e,t,n,i,a)),!0}return!1}function aw(e){var t=jo(e.target);if(t!==null){var n=va(t);if(n!==null){if(t=n.tag,t===13){if(t=Ky(n),t!==null){e.blockedOn=t,ow(e.priority,function(){iw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=b0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);w0=i,n.target.dispatchEvent(i),w0=null}else return t=Tc(n),t!==null&&ap(t),e.blockedOn=n,!1;t.shift()}return!0}function Zg(e,t,n){bf(e)&&n.delete(t)}function uA(){_0=!1,so!==null&&bf(so)&&(so=null),oo!==null&&bf(oo)&&(oo=null),ao!==null&&bf(ao)&&(ao=null),qu.forEach(Zg),Ku.forEach(Zg)}function du(e,t){e.blockedOn===t&&(e.blockedOn=null,_0||(_0=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,uA)))}function Yu(e){function t(a){return du(a,e)}if(0<of.length){du(of[0],e);for(var n=1;n<of.length;n++){var i=of[n];i.blockedOn===e&&(i.blockedOn=null)}}for(so!==null&&du(so,e),oo!==null&&du(oo,e),ao!==null&&du(ao,e),qu.forEach(t),Ku.forEach(t),n=0;n<Gs.length;n++)i=Gs[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Gs.length&&(n=Gs[0],n.blockedOn===null);)aw(n),n.blockedOn===null&&Gs.shift()}var ll=_s.ReactCurrentBatchConfig,Zf=!0;function cA(e,t,n,i){var a=Ot,l=ll.transition;ll.transition=null;try{Ot=1,lp(e,t,n,i)}finally{Ot=a,ll.transition=l}}function fA(e,t,n,i){var a=Ot,l=ll.transition;ll.transition=null;try{Ot=4,lp(e,t,n,i)}finally{Ot=a,ll.transition=l}}function lp(e,t,n,i){if(Zf){var a=b0(e,t,n,i);if(a===null)Ah(e,t,i,qf,n),Xg(e,i);else if(lA(a,e,t,n,i))i.stopPropagation();else if(Xg(e,i),t&4&&-1<aA.indexOf(e)){for(;a!==null;){var l=Tc(a);if(l!==null&&rw(l),l=b0(e,t,n,i),l===null&&Ah(e,t,i,qf,n),l===a)break;a=l}a!==null&&i.stopPropagation()}else Ah(e,t,i,null,n)}}var qf=null;function b0(e,t,n,i){if(qf=null,e=ip(i),e=jo(e),e!==null)if(t=va(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ky(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qf=e,null}function lw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($C()){case sp:return 1;case Jy:return 4;case Gf:case JC:return 16;case ew:return 536870912;default:return 16}default:return 16}}var ro=null,up=null,Sf=null;function uw(){if(Sf)return Sf;var e,t=up,n=t.length,i,a="value"in ro?ro.value:ro.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===a[l-i];i++);return Sf=a.slice(e,1<i?1-i:void 0)}function Tf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function af(){return!0}function qg(){return!1}function Ur(e){function t(n,i,a,l,d){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(l):l[p]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?af:qg,this.isPropagationStopped=qg,this}return tn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=af)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=af)},persist:function(){},isPersistent:af}),t}var Hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cp=Ur(Hl),Sc=tn({},Hl,{view:0,detail:0}),dA=Ur(Sc),ph,gh,hu,kd=tn({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hu&&(hu&&e.type==="mousemove"?(ph=e.screenX-hu.screenX,gh=e.screenY-hu.screenY):gh=ph=0,hu=e),ph)},movementY:function(e){return"movementY"in e?e.movementY:gh}}),Kg=Ur(kd),hA=tn({},kd,{dataTransfer:0}),pA=Ur(hA),gA=tn({},Sc,{relatedTarget:0}),mh=Ur(gA),mA=tn({},Hl,{animationName:0,elapsedTime:0,pseudoElement:0}),xA=Ur(mA),yA=tn({},Hl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wA=Ur(yA),vA=tn({},Hl,{data:0}),Yg=Ur(vA),EA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _A(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AA[e])?!!t[e]:!1}function fp(){return _A}var bA=tn({},Sc,{key:function(e){if(e.key){var t=EA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fp,charCode:function(e){return e.type==="keypress"?Tf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SA=Ur(bA),TA=tn({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=Ur(TA),IA=tn({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fp}),RA=Ur(IA),NA=tn({},Hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),OA=Ur(NA),DA=tn({},kd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kA=Ur(DA),PA=[9,13,27,32],dp=ms&&"CompositionEvent"in window,Pu=null;ms&&"documentMode"in document&&(Pu=document.documentMode);var MA=ms&&"TextEvent"in window&&!Pu,cw=ms&&(!dp||Pu&&8<Pu&&11>=Pu),$g=" ",Jg=!1;function fw(e,t){switch(e){case"keyup":return PA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function LA(e,t){switch(e){case"compositionend":return dw(t);case"keypress":return t.which!==32?null:(Jg=!0,$g);case"textInput":return e=t.data,e===$g&&Jg?null:e;default:return null}}function BA(e,t){if(Wa)return e==="compositionend"||!dp&&fw(e,t)?(e=uw(),Sf=up=ro=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cw&&t.locale!=="ko"?null:t.data;default:return null}}var FA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FA[e.type]:t==="textarea"}function hw(e,t,n,i){Hy(i),t=Kf(t,"onChange"),0<t.length&&(n=new cp("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Mu=null,Qu=null;function VA(e){_w(e,0)}function Pd(e){var t=Xa(e);if(By(t))return e}function UA(e,t){if(e==="change")return t}var pw=!1;if(ms){var xh;if(ms){var yh="oninput"in document;if(!yh){var tm=document.createElement("div");tm.setAttribute("oninput","return;"),yh=typeof tm.oninput=="function"}xh=yh}else xh=!1;pw=xh&&(!document.documentMode||9<document.documentMode)}function nm(){Mu&&(Mu.detachEvent("onpropertychange",gw),Qu=Mu=null)}function gw(e){if(e.propertyName==="value"&&Pd(Qu)){var t=[];hw(t,Qu,e,ip(e)),qy(VA,t)}}function jA(e,t,n){e==="focusin"?(nm(),Mu=t,Qu=n,Mu.attachEvent("onpropertychange",gw)):e==="focusout"&&nm()}function zA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pd(Qu)}function WA(e,t){if(e==="click")return Pd(t)}function HA(e,t){if(e==="input"||e==="change")return Pd(t)}function GA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wi=typeof Object.is=="function"?Object.is:GA;function $u(e,t){if(wi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!a0.call(t,a)||!wi(e[a],t[a]))return!1}return!0}function rm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function im(e,t){var n=rm(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rm(n)}}function mw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xw(){for(var e=window,t=zf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zf(e.document)}return t}function hp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XA(e){var t=xw(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mw(n.ownerDocument.documentElement,n)){if(i!==null&&hp(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(i.start,a);i=i.end===void 0?l:Math.min(i.end,a),!e.extend&&l>i&&(a=i,i=l,l=a),a=im(n,l);var d=im(n,i);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZA=ms&&"documentMode"in document&&11>=document.documentMode,Ha=null,S0=null,Lu=null,T0=!1;function sm(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T0||Ha==null||Ha!==zf(i)||(i=Ha,"selectionStart"in i&&hp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Lu&&$u(Lu,i)||(Lu=i,i=Kf(S0,"onSelect"),0<i.length&&(t=new cp("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ha)))}function lf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ga={animationend:lf("Animation","AnimationEnd"),animationiteration:lf("Animation","AnimationIteration"),animationstart:lf("Animation","AnimationStart"),transitionend:lf("Transition","TransitionEnd")},wh={},yw={};ms&&(yw=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Md(e){if(wh[e])return wh[e];if(!Ga[e])return e;var t=Ga[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yw)return wh[e]=t[n];return e}var ww=Md("animationend"),vw=Md("animationiteration"),Ew=Md("animationstart"),Cw=Md("transitionend"),Aw=new Map,om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(e,t){Aw.set(e,t),wa(t,[e])}for(var vh=0;vh<om.length;vh++){var Eh=om[vh],qA=Eh.toLowerCase(),KA=Eh[0].toUpperCase()+Eh.slice(1);Eo(qA,"on"+KA)}Eo(ww,"onAnimationEnd");Eo(vw,"onAnimationIteration");Eo(Ew,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(Cw,"onTransitionEnd");Tl("onMouseEnter",["mouseout","mouseover"]);Tl("onMouseLeave",["mouseout","mouseover"]);Tl("onPointerEnter",["pointerout","pointerover"]);Tl("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("cancel close invalid load scroll toggle".split(" ").concat(bu));function am(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,qC(i,t,void 0,e),e.currentTarget=null}function _w(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var d=i.length-1;0<=d;d--){var p=i[d],x=p.instance,m=p.currentTarget;if(p=p.listener,x!==l&&a.isPropagationStopped())break e;am(a,p,m),l=x}else for(d=0;d<i.length;d++){if(p=i[d],x=p.instance,m=p.currentTarget,p=p.listener,x!==l&&a.isPropagationStopped())break e;am(a,p,m),l=x}}}if(Hf)throw e=C0,Hf=!1,C0=null,e}function Ht(e,t){var n=t[D0];n===void 0&&(n=t[D0]=new Set);var i=e+"__bubble";n.has(i)||(bw(t,e,2,!1),n.add(i))}function Ch(e,t,n){var i=0;t&&(i|=4),bw(n,e,i,t)}var uf="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[uf]){e[uf]=!0,Dy.forEach(function(n){n!=="selectionchange"&&(YA.has(n)||Ch(n,!1,e),Ch(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uf]||(t[uf]=!0,Ch("selectionchange",!1,t))}}function bw(e,t,n,i){switch(lw(t)){case 1:var a=cA;break;case 4:a=fA;break;default:a=lp}n=a.bind(null,t,n,e),a=void 0,!E0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ah(e,t,n,i,a){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var p=i.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(d===4)for(d=i.return;d!==null;){var x=d.tag;if((x===3||x===4)&&(x=d.stateNode.containerInfo,x===a||x.nodeType===8&&x.parentNode===a))return;d=d.return}for(;p!==null;){if(d=jo(p),d===null)return;if(x=d.tag,x===5||x===6){i=l=d;continue e}p=p.parentNode}}i=i.return}qy(function(){var m=l,E=ip(n),C=[];e:{var O=Aw.get(e);if(O!==void 0){var D=cp,U=e;switch(e){case"keypress":if(Tf(n)===0)break e;case"keydown":case"keyup":D=SA;break;case"focusin":U="focus",D=mh;break;case"focusout":U="blur",D=mh;break;case"beforeblur":case"afterblur":D=mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=pA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=RA;break;case ww:case vw:case Ew:D=xA;break;case Cw:D=OA;break;case"scroll":D=dA;break;case"wheel":D=kA;break;case"copy":case"cut":case"paste":D=wA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Qg}var I=(t&4)!==0,P=!I&&e==="scroll",_=I?O!==null?O+"Capture":null:O;I=[];for(var b=m,T;b!==null;){T=b;var L=T.stateNode;if(T.tag===5&&L!==null&&(T=L,_!==null&&(L=Zu(b,_),L!=null&&I.push(ec(b,L,T)))),P)break;b=b.return}0<I.length&&(O=new D(O,U,null,n,E),C.push({event:O,listeners:I}))}}if(!(t&7)){e:{if(O=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",O&&n!==w0&&(U=n.relatedTarget||n.fromElement)&&(jo(U)||U[xs]))break e;if((D||O)&&(O=E.window===E?E:(O=E.ownerDocument)?O.defaultView||O.parentWindow:window,D?(U=n.relatedTarget||n.toElement,D=m,U=U?jo(U):null,U!==null&&(P=va(U),U!==P||U.tag!==5&&U.tag!==6)&&(U=null)):(D=null,U=m),D!==U)){if(I=Kg,L="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(I=Qg,L="onPointerLeave",_="onPointerEnter",b="pointer"),P=D==null?O:Xa(D),T=U==null?O:Xa(U),O=new I(L,b+"leave",D,n,E),O.target=P,O.relatedTarget=T,L=null,jo(E)===m&&(I=new I(_,b+"enter",U,n,E),I.target=T,I.relatedTarget=P,L=I),P=L,D&&U)t:{for(I=D,_=U,b=0,T=I;T;T=Ma(T))b++;for(T=0,L=_;L;L=Ma(L))T++;for(;0<b-T;)I=Ma(I),b--;for(;0<T-b;)_=Ma(_),T--;for(;b--;){if(I===_||_!==null&&I===_.alternate)break t;I=Ma(I),_=Ma(_)}I=null}else I=null;D!==null&&lm(C,O,D,I,!1),U!==null&&P!==null&&lm(C,P,U,I,!0)}}e:{if(O=m?Xa(m):window,D=O.nodeName&&O.nodeName.toLowerCase(),D==="select"||D==="input"&&O.type==="file")var X=UA;else if(em(O))if(pw)X=HA;else{X=zA;var G=jA}else(D=O.nodeName)&&D.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(X=WA);if(X&&(X=X(e,m))){hw(C,X,n,E);break e}G&&G(e,O,m),e==="focusout"&&(G=O._wrapperState)&&G.controlled&&O.type==="number"&&p0(O,"number",O.value)}switch(G=m?Xa(m):window,e){case"focusin":(em(G)||G.contentEditable==="true")&&(Ha=G,S0=m,Lu=null);break;case"focusout":Lu=S0=Ha=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,sm(C,n,E);break;case"selectionchange":if(ZA)break;case"keydown":case"keyup":sm(C,n,E)}var W;if(dp)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else Wa?fw(e,n)&&(Y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Y="onCompositionStart");Y&&(cw&&n.locale!=="ko"&&(Wa||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&Wa&&(W=uw()):(ro=E,up="value"in ro?ro.value:ro.textContent,Wa=!0)),G=Kf(m,Y),0<G.length&&(Y=new Yg(Y,e,null,n,E),C.push({event:Y,listeners:G}),W?Y.data=W:(W=dw(n),W!==null&&(Y.data=W)))),(W=MA?LA(e,n):BA(e,n))&&(m=Kf(m,"onBeforeInput"),0<m.length&&(E=new Yg("onBeforeInput","beforeinput",null,n,E),C.push({event:E,listeners:m}),E.data=W))}_w(C,t)})}function ec(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kf(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Zu(e,n),l!=null&&i.unshift(ec(e,l,a)),l=Zu(e,t),l!=null&&i.push(ec(e,l,a))),e=e.return}return i}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lm(e,t,n,i,a){for(var l=t._reactName,d=[];n!==null&&n!==i;){var p=n,x=p.alternate,m=p.stateNode;if(x!==null&&x===i)break;p.tag===5&&m!==null&&(p=m,a?(x=Zu(n,l),x!=null&&d.unshift(ec(n,x,p))):a||(x=Zu(n,l),x!=null&&d.push(ec(n,x,p)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var QA=/\r\n?/g,$A=/\u0000|\uFFFD/g;function um(e){return(typeof e=="string"?e:""+e).replace(QA,`
`).replace($A,"")}function cf(e,t,n){if(t=um(t),um(e)!==t&&n)throw Error(de(425))}function Yf(){}var I0=null,R0=null;function N0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O0=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,e_=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(e){return cm.resolve(null).then(e).catch(t_)}:O0;function t_(e){setTimeout(function(){throw e})}function _h(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){e.removeChild(a),Yu(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);Yu(t)}function lo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Gl,tc="__reactProps$"+Gl,xs="__reactContainer$"+Gl,D0="__reactEvents$"+Gl,n_="__reactListeners$"+Gl,r_="__reactHandles$"+Gl;function jo(e){var t=e[Bi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xs]||n[Bi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fm(e);e!==null;){if(n=e[Bi])return n;e=fm(e)}return t}e=n,n=e.parentNode}return null}function Tc(e){return e=e[Bi]||e[xs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function Ld(e){return e[tc]||null}var k0=[],Za=-1;function Co(e){return{current:e}}function Xt(e){0>Za||(e.current=k0[Za],k0[Za]=null,Za--)}function Ft(e,t){Za++,k0[Za]=e.current,e.current=t}var xo={},Jn=Co(xo),Cr=Co(!1),ca=xo;function Il(e,t){var n=e.type.contextTypes;if(!n)return xo;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ar(e){return e=e.childContextTypes,e!=null}function Qf(){Xt(Cr),Xt(Jn)}function dm(e,t,n){if(Jn.current!==xo)throw Error(de(168));Ft(Jn,t),Ft(Cr,n)}function Sw(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(de(108,jC(e)||"Unknown",a));return tn({},n,i)}function $f(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xo,ca=Jn.current,Ft(Jn,e),Ft(Cr,Cr.current),!0}function hm(e,t,n){var i=e.stateNode;if(!i)throw Error(de(169));n?(e=Sw(e,t,ca),i.__reactInternalMemoizedMergedChildContext=e,Xt(Cr),Xt(Jn),Ft(Jn,e)):Xt(Cr),Ft(Cr,n)}var as=null,Bd=!1,bh=!1;function Tw(e){as===null?as=[e]:as.push(e)}function i_(e){Bd=!0,Tw(e)}function Ao(){if(!bh&&as!==null){bh=!0;var e=0,t=Ot;try{var n=as;for(Ot=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}as=null,Bd=!1}catch(a){throw as!==null&&(as=as.slice(e+1)),$y(sp,Ao),a}finally{Ot=t,bh=!1}}return null}var qa=[],Ka=0,Jf=null,ed=0,qr=[],Kr=0,fa=null,fs=1,ds="";function Mo(e,t){qa[Ka++]=ed,qa[Ka++]=Jf,Jf=e,ed=t}function Iw(e,t,n){qr[Kr++]=fs,qr[Kr++]=ds,qr[Kr++]=fa,fa=e;var i=fs;e=ds;var a=32-xi(i)-1;i&=~(1<<a),n+=1;var l=32-xi(t)+a;if(30<l){var d=a-a%5;l=(i&(1<<d)-1).toString(32),i>>=d,a-=d,fs=1<<32-xi(t)+a|n<<a|i,ds=l+e}else fs=1<<l|n<<a|i,ds=e}function pp(e){e.return!==null&&(Mo(e,1),Iw(e,1,0))}function gp(e){for(;e===Jf;)Jf=qa[--Ka],qa[Ka]=null,ed=qa[--Ka],qa[Ka]=null;for(;e===fa;)fa=qr[--Kr],qr[Kr]=null,ds=qr[--Kr],qr[Kr]=null,fs=qr[--Kr],qr[Kr]=null}var Mr=null,Pr=null,Yt=!1,mi=null;function Rw(e,t){var n=Yr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mr=e,Pr=lo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mr=e,Pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fa!==null?{id:fs,overflow:ds}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mr=e,Pr=null,!0):!1;default:return!1}}function P0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function M0(e){if(Yt){var t=Pr;if(t){var n=t;if(!pm(e,t)){if(P0(e))throw Error(de(418));t=lo(n.nextSibling);var i=Mr;t&&pm(e,t)?Rw(i,n):(e.flags=e.flags&-4097|2,Yt=!1,Mr=e)}}else{if(P0(e))throw Error(de(418));e.flags=e.flags&-4097|2,Yt=!1,Mr=e}}}function gm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mr=e}function ff(e){if(e!==Mr)return!1;if(!Yt)return gm(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!N0(e.type,e.memoizedProps)),t&&(t=Pr)){if(P0(e))throw Nw(),Error(de(418));for(;t;)Rw(e,t),t=lo(t.nextSibling)}if(gm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pr=lo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pr=null}}else Pr=Mr?lo(e.stateNode.nextSibling):null;return!0}function Nw(){for(var e=Pr;e;)e=lo(e.nextSibling)}function Rl(){Pr=Mr=null,Yt=!1}function mp(e){mi===null?mi=[e]:mi.push(e)}var s_=_s.ReactCurrentBatchConfig;function pu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var i=n.stateNode}if(!i)throw Error(de(147,e));var a=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var p=a.refs;d===null?delete p[l]:p[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,e))}return e}function df(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mm(e){var t=e._init;return t(e._payload)}function Ow(e){function t(_,b){if(e){var T=_.deletions;T===null?(_.deletions=[b],_.flags|=16):T.push(b)}}function n(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function i(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function a(_,b){return _=ho(_,b),_.index=0,_.sibling=null,_}function l(_,b,T){return _.index=T,e?(T=_.alternate,T!==null?(T=T.index,T<b?(_.flags|=2,b):T):(_.flags|=2,b)):(_.flags|=1048576,b)}function d(_){return e&&_.alternate===null&&(_.flags|=2),_}function p(_,b,T,L){return b===null||b.tag!==6?(b=Dh(T,_.mode,L),b.return=_,b):(b=a(b,T),b.return=_,b)}function x(_,b,T,L){var X=T.type;return X===za?E(_,b,T.props.children,L,T.key):b!==null&&(b.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===zs&&mm(X)===b.type)?(L=a(b,T.props),L.ref=pu(_,b,T),L.return=_,L):(L=Pf(T.type,T.key,T.props,null,_.mode,L),L.ref=pu(_,b,T),L.return=_,L)}function m(_,b,T,L){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=kh(T,_.mode,L),b.return=_,b):(b=a(b,T.children||[]),b.return=_,b)}function E(_,b,T,L,X){return b===null||b.tag!==7?(b=aa(T,_.mode,L,X),b.return=_,b):(b=a(b,T),b.return=_,b)}function C(_,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Dh(""+b,_.mode,T),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ef:return T=Pf(b.type,b.key,b.props,null,_.mode,T),T.ref=pu(_,null,b),T.return=_,T;case ja:return b=kh(b,_.mode,T),b.return=_,b;case zs:var L=b._init;return C(_,L(b._payload),T)}if(Au(b)||uu(b))return b=aa(b,_.mode,T,null),b.return=_,b;df(_,b)}return null}function O(_,b,T,L){var X=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return X!==null?null:p(_,b,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ef:return T.key===X?x(_,b,T,L):null;case ja:return T.key===X?m(_,b,T,L):null;case zs:return X=T._init,O(_,b,X(T._payload),L)}if(Au(T)||uu(T))return X!==null?null:E(_,b,T,L,null);df(_,T)}return null}function D(_,b,T,L,X){if(typeof L=="string"&&L!==""||typeof L=="number")return _=_.get(T)||null,p(b,_,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ef:return _=_.get(L.key===null?T:L.key)||null,x(b,_,L,X);case ja:return _=_.get(L.key===null?T:L.key)||null,m(b,_,L,X);case zs:var G=L._init;return D(_,b,T,G(L._payload),X)}if(Au(L)||uu(L))return _=_.get(T)||null,E(b,_,L,X,null);df(b,L)}return null}function U(_,b,T,L){for(var X=null,G=null,W=b,Y=b=0,te=null;W!==null&&Y<T.length;Y++){W.index>Y?(te=W,W=null):te=W.sibling;var ce=O(_,W,T[Y],L);if(ce===null){W===null&&(W=te);break}e&&W&&ce.alternate===null&&t(_,W),b=l(ce,b,Y),G===null?X=ce:G.sibling=ce,G=ce,W=te}if(Y===T.length)return n(_,W),Yt&&Mo(_,Y),X;if(W===null){for(;Y<T.length;Y++)W=C(_,T[Y],L),W!==null&&(b=l(W,b,Y),G===null?X=W:G.sibling=W,G=W);return Yt&&Mo(_,Y),X}for(W=i(_,W);Y<T.length;Y++)te=D(W,_,Y,T[Y],L),te!==null&&(e&&te.alternate!==null&&W.delete(te.key===null?Y:te.key),b=l(te,b,Y),G===null?X=te:G.sibling=te,G=te);return e&&W.forEach(function(De){return t(_,De)}),Yt&&Mo(_,Y),X}function I(_,b,T,L){var X=uu(T);if(typeof X!="function")throw Error(de(150));if(T=X.call(T),T==null)throw Error(de(151));for(var G=X=null,W=b,Y=b=0,te=null,ce=T.next();W!==null&&!ce.done;Y++,ce=T.next()){W.index>Y?(te=W,W=null):te=W.sibling;var De=O(_,W,ce.value,L);if(De===null){W===null&&(W=te);break}e&&W&&De.alternate===null&&t(_,W),b=l(De,b,Y),G===null?X=De:G.sibling=De,G=De,W=te}if(ce.done)return n(_,W),Yt&&Mo(_,Y),X;if(W===null){for(;!ce.done;Y++,ce=T.next())ce=C(_,ce.value,L),ce!==null&&(b=l(ce,b,Y),G===null?X=ce:G.sibling=ce,G=ce);return Yt&&Mo(_,Y),X}for(W=i(_,W);!ce.done;Y++,ce=T.next())ce=D(W,_,Y,ce.value,L),ce!==null&&(e&&ce.alternate!==null&&W.delete(ce.key===null?Y:ce.key),b=l(ce,b,Y),G===null?X=ce:G.sibling=ce,G=ce);return e&&W.forEach(function(ye){return t(_,ye)}),Yt&&Mo(_,Y),X}function P(_,b,T,L){if(typeof T=="object"&&T!==null&&T.type===za&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ef:e:{for(var X=T.key,G=b;G!==null;){if(G.key===X){if(X=T.type,X===za){if(G.tag===7){n(_,G.sibling),b=a(G,T.props.children),b.return=_,_=b;break e}}else if(G.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===zs&&mm(X)===G.type){n(_,G.sibling),b=a(G,T.props),b.ref=pu(_,G,T),b.return=_,_=b;break e}n(_,G);break}else t(_,G);G=G.sibling}T.type===za?(b=aa(T.props.children,_.mode,L,T.key),b.return=_,_=b):(L=Pf(T.type,T.key,T.props,null,_.mode,L),L.ref=pu(_,b,T),L.return=_,_=L)}return d(_);case ja:e:{for(G=T.key;b!==null;){if(b.key===G)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(_,b.sibling),b=a(b,T.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else t(_,b);b=b.sibling}b=kh(T,_.mode,L),b.return=_,_=b}return d(_);case zs:return G=T._init,P(_,b,G(T._payload),L)}if(Au(T))return U(_,b,T,L);if(uu(T))return I(_,b,T,L);df(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(n(_,b.sibling),b=a(b,T),b.return=_,_=b):(n(_,b),b=Dh(T,_.mode,L),b.return=_,_=b),d(_)):n(_,b)}return P}var Nl=Ow(!0),Dw=Ow(!1),td=Co(null),nd=null,Ya=null,xp=null;function yp(){xp=Ya=nd=null}function wp(e){var t=td.current;Xt(td),e._currentValue=t}function L0(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ul(e,t){nd=e,xp=Ya=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Er=!0),e.firstContext=null)}function $r(e){var t=e._currentValue;if(xp!==e)if(e={context:e,memoizedValue:t,next:null},Ya===null){if(nd===null)throw Error(de(308));Ya=e,nd.dependencies={lanes:0,firstContext:e}}else Ya=Ya.next=e;return t}var zo=null;function vp(e){zo===null?zo=[e]:zo.push(e)}function kw(e,t,n,i){var a=t.interleaved;return a===null?(n.next=n,vp(t)):(n.next=a.next,a.next=n),t.interleaved=n,ys(e,i)}function ys(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ws=!1;function Ep(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,xt&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,ys(e,n)}return a=i.interleaved,a===null?(t.next=t,vp(i)):(t.next=a.next,a.next=t),i.interleaved=t,ys(e,n)}function If(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,op(e,n)}}function xm(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=d:l=l.next=d,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rd(e,t,n,i){var a=e.updateQueue;Ws=!1;var l=a.firstBaseUpdate,d=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var x=p,m=x.next;x.next=null,d===null?l=m:d.next=m,d=x;var E=e.alternate;E!==null&&(E=E.updateQueue,p=E.lastBaseUpdate,p!==d&&(p===null?E.firstBaseUpdate=m:p.next=m,E.lastBaseUpdate=x))}if(l!==null){var C=a.baseState;d=0,E=m=x=null,p=l;do{var O=p.lane,D=p.eventTime;if((i&O)===O){E!==null&&(E=E.next={eventTime:D,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var U=e,I=p;switch(O=t,D=n,I.tag){case 1:if(U=I.payload,typeof U=="function"){C=U.call(D,C,O);break e}C=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=I.payload,O=typeof U=="function"?U.call(D,C,O):U,O==null)break e;C=tn({},C,O);break e;case 2:Ws=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,O=a.effects,O===null?a.effects=[p]:O.push(p))}else D={eventTime:D,lane:O,tag:p.tag,payload:p.payload,callback:p.callback,next:null},E===null?(m=E=D,x=C):E=E.next=D,d|=O;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;O=p,p=O.next,O.next=null,a.lastBaseUpdate=O,a.shared.pending=null}}while(!0);if(E===null&&(x=C),a.baseState=x,a.firstBaseUpdate=m,a.lastBaseUpdate=E,t=a.shared.interleaved,t!==null){a=t;do d|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);ha|=d,e.lanes=d,e.memoizedState=C}}function ym(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(de(191,a));a.call(i)}}}var Ic={},zi=Co(Ic),nc=Co(Ic),rc=Co(Ic);function Wo(e){if(e===Ic)throw Error(de(174));return e}function Cp(e,t){switch(Ft(rc,t),Ft(nc,e),Ft(zi,Ic),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:m0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=m0(t,e)}Xt(zi),Ft(zi,t)}function Ol(){Xt(zi),Xt(nc),Xt(rc)}function Mw(e){Wo(rc.current);var t=Wo(zi.current),n=m0(t,e.type);t!==n&&(Ft(nc,e),Ft(zi,n))}function Ap(e){nc.current===e&&(Xt(zi),Xt(nc))}var $t=Co(0);function id(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sh=[];function _p(){for(var e=0;e<Sh.length;e++)Sh[e]._workInProgressVersionPrimary=null;Sh.length=0}var Rf=_s.ReactCurrentDispatcher,Th=_s.ReactCurrentBatchConfig,da=0,en=null,Sn=null,Dn=null,sd=!1,Bu=!1,ic=0,o_=0;function qn(){throw Error(de(321))}function bp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wi(e[n],t[n]))return!1;return!0}function Sp(e,t,n,i,a,l){if(da=l,en=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rf.current=e===null||e.memoizedState===null?c_:f_,e=n(i,a),Bu){l=0;do{if(Bu=!1,ic=0,25<=l)throw Error(de(301));l+=1,Dn=Sn=null,t.updateQueue=null,Rf.current=d_,e=n(i,a)}while(Bu)}if(Rf.current=od,t=Sn!==null&&Sn.next!==null,da=0,Dn=Sn=en=null,sd=!1,t)throw Error(de(300));return e}function Tp(){var e=ic!==0;return ic=0,e}function Di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?en.memoizedState=Dn=e:Dn=Dn.next=e,Dn}function Jr(){if(Sn===null){var e=en.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=Dn===null?en.memoizedState:Dn.next;if(t!==null)Dn=t,Sn=e;else{if(e===null)throw Error(de(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Dn===null?en.memoizedState=Dn=e:Dn=Dn.next=e}return Dn}function sc(e,t){return typeof t=="function"?t(e):t}function Ih(e){var t=Jr(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var i=Sn,a=i.baseQueue,l=n.pending;if(l!==null){if(a!==null){var d=a.next;a.next=l.next,l.next=d}i.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,i=i.baseState;var p=d=null,x=null,m=l;do{var E=m.lane;if((da&E)===E)x!==null&&(x=x.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),i=m.hasEagerState?m.eagerState:e(i,m.action);else{var C={lane:E,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};x===null?(p=x=C,d=i):x=x.next=C,en.lanes|=E,ha|=E}m=m.next}while(m!==null&&m!==l);x===null?d=i:x.next=p,wi(i,t.memoizedState)||(Er=!0),t.memoizedState=i,t.baseState=d,t.baseQueue=x,n.lastRenderedState=i}if(e=n.interleaved,e!==null){a=e;do l=a.lane,en.lanes|=l,ha|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rh(e){var t=Jr(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var d=a=a.next;do l=e(l,d.action),d=d.next;while(d!==a);wi(l,t.memoizedState)||(Er=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function Lw(){}function Bw(e,t){var n=en,i=Jr(),a=t(),l=!wi(i.memoizedState,a);if(l&&(i.memoizedState=a,Er=!0),i=i.queue,Ip(Uw.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,oc(9,Vw.bind(null,n,i,a,t),void 0,null),kn===null)throw Error(de(349));da&30||Fw(n,t,a)}return a}function Fw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vw(e,t,n,i){t.value=n,t.getSnapshot=i,jw(t)&&zw(e)}function Uw(e,t,n){return n(function(){jw(t)&&zw(e)})}function jw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wi(e,n)}catch{return!0}}function zw(e){var t=ys(e,1);t!==null&&yi(t,e,1,-1)}function wm(e){var t=Di();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:e},t.queue=e,e=e.dispatch=u_.bind(null,en,e),[t.memoizedState,e]}function oc(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Ww(){return Jr().memoizedState}function Nf(e,t,n,i){var a=Di();en.flags|=e,a.memoizedState=oc(1|t,n,void 0,i===void 0?null:i)}function Fd(e,t,n,i){var a=Jr();i=i===void 0?null:i;var l=void 0;if(Sn!==null){var d=Sn.memoizedState;if(l=d.destroy,i!==null&&bp(i,d.deps)){a.memoizedState=oc(t,n,l,i);return}}en.flags|=e,a.memoizedState=oc(1|t,n,l,i)}function vm(e,t){return Nf(8390656,8,e,t)}function Ip(e,t){return Fd(2048,8,e,t)}function Hw(e,t){return Fd(4,2,e,t)}function Gw(e,t){return Fd(4,4,e,t)}function Xw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zw(e,t,n){return n=n!=null?n.concat([e]):null,Fd(4,4,Xw.bind(null,t,e),n)}function Rp(){}function qw(e,t){var n=Jr();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&bp(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Kw(e,t){var n=Jr();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&bp(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Yw(e,t,n){return da&21?(wi(n,t)||(n=tw(),en.lanes|=n,ha|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Er=!0),e.memoizedState=n)}function a_(e,t){var n=Ot;Ot=n!==0&&4>n?n:4,e(!0);var i=Th.transition;Th.transition={};try{e(!1),t()}finally{Ot=n,Th.transition=i}}function Qw(){return Jr().memoizedState}function l_(e,t,n){var i=fo(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},$w(e))Jw(t,n);else if(n=kw(e,t,n,i),n!==null){var a=lr();yi(n,e,i,a),ev(n,t,i)}}function u_(e,t,n){var i=fo(e),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if($w(e))Jw(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,p=l(d,n);if(a.hasEagerState=!0,a.eagerState=p,wi(p,d)){var x=t.interleaved;x===null?(a.next=a,vp(t)):(a.next=x.next,x.next=a),t.interleaved=a;return}}catch{}finally{}n=kw(e,t,a,i),n!==null&&(a=lr(),yi(n,e,i,a),ev(n,t,i))}}function $w(e){var t=e.alternate;return e===en||t!==null&&t===en}function Jw(e,t){Bu=sd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ev(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,op(e,n)}}var od={readContext:$r,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},c_={readContext:$r,useCallback:function(e,t){return Di().memoizedState=[e,t===void 0?null:t],e},useContext:$r,useEffect:vm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Nf(4194308,4,Xw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nf(4,2,e,t)},useMemo:function(e,t){var n=Di();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Di();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=l_.bind(null,en,e),[i.memoizedState,e]},useRef:function(e){var t=Di();return e={current:e},t.memoizedState=e},useState:wm,useDebugValue:Rp,useDeferredValue:function(e){return Di().memoizedState=e},useTransition:function(){var e=wm(!1),t=e[0];return e=a_.bind(null,e[1]),Di().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=en,a=Di();if(Yt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=t(),kn===null)throw Error(de(349));da&30||Fw(i,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,vm(Uw.bind(null,i,l,e),[e]),i.flags|=2048,oc(9,Vw.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=Di(),t=kn.identifierPrefix;if(Yt){var n=ds,i=fs;n=(i&~(1<<32-xi(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=ic++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=o_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f_={readContext:$r,useCallback:qw,useContext:$r,useEffect:Ip,useImperativeHandle:Zw,useInsertionEffect:Hw,useLayoutEffect:Gw,useMemo:Kw,useReducer:Ih,useRef:Ww,useState:function(){return Ih(sc)},useDebugValue:Rp,useDeferredValue:function(e){var t=Jr();return Yw(t,Sn.memoizedState,e)},useTransition:function(){var e=Ih(sc)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:Lw,useSyncExternalStore:Bw,useId:Qw,unstable_isNewReconciler:!1},d_={readContext:$r,useCallback:qw,useContext:$r,useEffect:Ip,useImperativeHandle:Zw,useInsertionEffect:Hw,useLayoutEffect:Gw,useMemo:Kw,useReducer:Rh,useRef:Ww,useState:function(){return Rh(sc)},useDebugValue:Rp,useDeferredValue:function(e){var t=Jr();return Sn===null?t.memoizedState=e:Yw(t,Sn.memoizedState,e)},useTransition:function(){var e=Rh(sc)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:Lw,useSyncExternalStore:Bw,useId:Qw,unstable_isNewReconciler:!1};function di(e,t){if(e&&e.defaultProps){t=tn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function B0(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:tn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vd={isMounted:function(e){return(e=e._reactInternals)?va(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=lr(),a=fo(e),l=hs(i,a);l.payload=t,n!=null&&(l.callback=n),t=uo(e,l,a),t!==null&&(yi(t,e,a,i),If(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=lr(),a=fo(e),l=hs(i,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=uo(e,l,a),t!==null&&(yi(t,e,a,i),If(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lr(),i=fo(e),a=hs(n,i);a.tag=2,t!=null&&(a.callback=t),t=uo(e,a,i),t!==null&&(yi(t,e,i,n),If(t,e,i))}};function Em(e,t,n,i,a,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,d):t.prototype&&t.prototype.isPureReactComponent?!$u(n,i)||!$u(a,l):!0}function tv(e,t,n){var i=!1,a=xo,l=t.contextType;return typeof l=="object"&&l!==null?l=$r(l):(a=Ar(t)?ca:Jn.current,i=t.contextTypes,l=(i=i!=null)?Il(e,a):xo),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vd,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Cm(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Vd.enqueueReplaceState(t,t.state,null)}function F0(e,t,n,i){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ep(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=$r(l):(l=Ar(t)?ca:Jn.current,a.context=Il(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(B0(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Vd.enqueueReplaceState(a,a.state,null),rd(e,n,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Dl(e,t){try{var n="",i=t;do n+=UC(i),i=i.return;while(i);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Nh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function V0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var h_=typeof WeakMap=="function"?WeakMap:Map;function nv(e,t,n){n=hs(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ld||(ld=!0,K0=i),V0(e,t)},n}function rv(e,t,n){n=hs(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;n.payload=function(){return i(a)},n.callback=function(){V0(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){V0(e,t),typeof i!="function"&&(co===null?co=new Set([this]):co.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function Am(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new h_;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(a.add(n),e=T_.bind(null,e,t,n),t.then(e,e))}function _m(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bm(e,t,n,i,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hs(-1,1),t.tag=2,uo(n,t,1))),n.lanes|=1),e)}var p_=_s.ReactCurrentOwner,Er=!1;function ar(e,t,n,i){t.child=e===null?Dw(t,null,n,i):Nl(t,e.child,n,i)}function Sm(e,t,n,i,a){n=n.render;var l=t.ref;return ul(t,a),i=Sp(e,t,n,i,l,a),n=Tp(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ws(e,t,a)):(Yt&&n&&pp(t),t.flags|=1,ar(e,t,i,a),t.child)}function Tm(e,t,n,i,a){if(e===null){var l=n.type;return typeof l=="function"&&!Bp(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,iv(e,t,l,i,a)):(e=Pf(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var d=l.memoizedProps;if(n=n.compare,n=n!==null?n:$u,n(d,i)&&e.ref===t.ref)return ws(e,t,a)}return t.flags|=1,e=ho(l,i),e.ref=t.ref,e.return=t,t.child=e}function iv(e,t,n,i,a){if(e!==null){var l=e.memoizedProps;if($u(l,i)&&e.ref===t.ref)if(Er=!1,t.pendingProps=i=l,(e.lanes&a)!==0)e.flags&131072&&(Er=!0);else return t.lanes=e.lanes,ws(e,t,a)}return U0(e,t,n,i,a)}function sv(e,t,n){var i=t.pendingProps,a=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft($a,kr),kr|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ft($a,kr),kr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,Ft($a,kr),kr|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,Ft($a,kr),kr|=i;return ar(e,t,a,n),t.child}function ov(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function U0(e,t,n,i,a){var l=Ar(n)?ca:Jn.current;return l=Il(t,l),ul(t,a),n=Sp(e,t,n,i,l,a),i=Tp(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ws(e,t,a)):(Yt&&i&&pp(t),t.flags|=1,ar(e,t,n,a),t.child)}function Im(e,t,n,i,a){if(Ar(n)){var l=!0;$f(t)}else l=!1;if(ul(t,a),t.stateNode===null)Of(e,t),tv(t,n,i),F0(t,n,i,a),i=!0;else if(e===null){var d=t.stateNode,p=t.memoizedProps;d.props=p;var x=d.context,m=n.contextType;typeof m=="object"&&m!==null?m=$r(m):(m=Ar(n)?ca:Jn.current,m=Il(t,m));var E=n.getDerivedStateFromProps,C=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function";C||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==i||x!==m)&&Cm(t,d,i,m),Ws=!1;var O=t.memoizedState;d.state=O,rd(t,i,d,a),x=t.memoizedState,p!==i||O!==x||Cr.current||Ws?(typeof E=="function"&&(B0(t,n,E,i),x=t.memoizedState),(p=Ws||Em(t,n,p,i,O,x,m))?(C||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=x),d.props=i,d.state=x,d.context=m,i=p):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,Pw(e,t),p=t.memoizedProps,m=t.type===t.elementType?p:di(t.type,p),d.props=m,C=t.pendingProps,O=d.context,x=n.contextType,typeof x=="object"&&x!==null?x=$r(x):(x=Ar(n)?ca:Jn.current,x=Il(t,x));var D=n.getDerivedStateFromProps;(E=typeof D=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==C||O!==x)&&Cm(t,d,i,x),Ws=!1,O=t.memoizedState,d.state=O,rd(t,i,d,a);var U=t.memoizedState;p!==C||O!==U||Cr.current||Ws?(typeof D=="function"&&(B0(t,n,D,i),U=t.memoizedState),(m=Ws||Em(t,n,m,i,O,U,x)||!1)?(E||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,U,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,U,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=U),d.props=i,d.state=U,d.context=x,i=m):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),i=!1)}return j0(e,t,n,i,l,a)}function j0(e,t,n,i,a,l){ov(e,t);var d=(t.flags&128)!==0;if(!i&&!d)return a&&hm(t,n,!1),ws(e,t,l);i=t.stateNode,p_.current=t;var p=d&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&d?(t.child=Nl(t,e.child,null,l),t.child=Nl(t,null,p,l)):ar(e,t,p,l),t.memoizedState=i.state,a&&hm(t,n,!0),t.child}function av(e){var t=e.stateNode;t.pendingContext?dm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dm(e,t.context,!1),Cp(e,t.containerInfo)}function Rm(e,t,n,i,a){return Rl(),mp(a),t.flags|=256,ar(e,t,n,i),t.child}var z0={dehydrated:null,treeContext:null,retryLane:0};function W0(e){return{baseLanes:e,cachePool:null,transitions:null}}function lv(e,t,n){var i=t.pendingProps,a=$t.current,l=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(a&2)!==0),p?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ft($t,a&1),e===null)return M0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=i.children,e=i.fallback,l?(i=t.mode,l=t.child,d={mode:"hidden",children:d},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=zd(d,i,0,null),e=aa(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=W0(n),t.memoizedState=z0,e):Np(t,d));if(a=e.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return g_(e,t,d,i,p,a,n);if(l){l=i.fallback,d=t.mode,a=e.child,p=a.sibling;var x={mode:"hidden",children:i.children};return!(d&1)&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=x,t.deletions=null):(i=ho(a,x),i.subtreeFlags=a.subtreeFlags&14680064),p!==null?l=ho(p,l):(l=aa(l,d,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,d=e.child.memoizedState,d=d===null?W0(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~n,t.memoizedState=z0,i}return l=e.child,e=l.sibling,i=ho(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Np(e,t){return t=zd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hf(e,t,n,i){return i!==null&&mp(i),Nl(t,e.child,null,n),e=Np(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g_(e,t,n,i,a,l,d){if(n)return t.flags&256?(t.flags&=-257,i=Nh(Error(de(422))),hf(e,t,d,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,a=t.mode,i=zd({mode:"visible",children:i.children},a,0,null),l=aa(l,a,d,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&Nl(t,e.child,null,d),t.child.memoizedState=W0(d),t.memoizedState=z0,l);if(!(t.mode&1))return hf(e,t,d,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var p=i.dgst;return i=p,l=Error(de(419)),i=Nh(l,i,void 0),hf(e,t,d,i)}if(p=(d&e.childLanes)!==0,Er||p){if(i=kn,i!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|d)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,ys(e,a),yi(i,e,a,-1))}return Lp(),i=Nh(Error(de(421))),hf(e,t,d,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=I_.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Pr=lo(a.nextSibling),Mr=t,Yt=!0,mi=null,e!==null&&(qr[Kr++]=fs,qr[Kr++]=ds,qr[Kr++]=fa,fs=e.id,ds=e.overflow,fa=t),t=Np(t,i.children),t.flags|=4096,t)}function Nm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),L0(e.return,t,n)}function Oh(e,t,n,i,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=a)}function uv(e,t,n){var i=t.pendingProps,a=i.revealOrder,l=i.tail;if(ar(e,t,i.children,n),i=$t.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nm(e,n,t);else if(e.tag===19)Nm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ft($t,i),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&id(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Oh(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&id(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Oh(t,!0,n,null,l);break;case"together":Oh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Of(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ws(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ha|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,n=ho(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ho(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function m_(e,t,n){switch(t.tag){case 3:av(t),Rl();break;case 5:Mw(t);break;case 1:Ar(t.type)&&$f(t);break;case 4:Cp(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;Ft(td,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ft($t,$t.current&1),t.flags|=128,null):n&t.child.childLanes?lv(e,t,n):(Ft($t,$t.current&1),e=ws(e,t,n),e!==null?e.sibling:null);Ft($t,$t.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return uv(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ft($t,$t.current),i)break;return null;case 22:case 23:return t.lanes=0,sv(e,t,n)}return ws(e,t,n)}var cv,H0,fv,dv;cv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};H0=function(){};fv=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,Wo(zi.current);var l=null;switch(n){case"input":a=d0(e,a),i=d0(e,i),l=[];break;case"select":a=tn({},a,{value:void 0}),i=tn({},i,{value:void 0}),l=[];break;case"textarea":a=g0(e,a),i=g0(e,i),l=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Yf)}x0(n,i);var d;n=null;for(m in a)if(!i.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var p=a[m];for(d in p)p.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Gu.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in i){var x=i[m];if(p=a!=null?a[m]:void 0,i.hasOwnProperty(m)&&x!==p&&(x!=null||p!=null))if(m==="style")if(p){for(d in p)!p.hasOwnProperty(d)||x&&x.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in x)x.hasOwnProperty(d)&&p[d]!==x[d]&&(n||(n={}),n[d]=x[d])}else n||(l||(l=[]),l.push(m,n)),n=x;else m==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,p=p?p.__html:void 0,x!=null&&p!==x&&(l=l||[]).push(m,x)):m==="children"?typeof x!="string"&&typeof x!="number"||(l=l||[]).push(m,""+x):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Gu.hasOwnProperty(m)?(x!=null&&m==="onScroll"&&Ht("scroll",e),l||p===x||(l=[])):(l=l||[]).push(m,x))}n&&(l=l||[]).push("style",n);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};dv=function(e,t,n,i){n!==i&&(t.flags|=4)};function gu(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function x_(e,t,n){var i=t.pendingProps;switch(gp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(t),null;case 1:return Ar(t.type)&&Qf(),Kn(t),null;case 3:return i=t.stateNode,Ol(),Xt(Cr),Xt(Jn),_p(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ff(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mi!==null&&($0(mi),mi=null))),H0(e,t),Kn(t),null;case 5:Ap(t);var a=Wo(rc.current);if(n=t.type,e!==null&&t.stateNode!=null)fv(e,t,n,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(de(166));return Kn(t),null}if(e=Wo(zi.current),ff(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[Bi]=t,i[tc]=l,e=(t.mode&1)!==0,n){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(a=0;a<bu.length;a++)Ht(bu[a],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":Vg(i,l),Ht("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},Ht("invalid",i);break;case"textarea":jg(i,l),Ht("invalid",i)}x0(n,l),a=null;for(var d in l)if(l.hasOwnProperty(d)){var p=l[d];d==="children"?typeof p=="string"?i.textContent!==p&&(l.suppressHydrationWarning!==!0&&cf(i.textContent,p,e),a=["children",p]):typeof p=="number"&&i.textContent!==""+p&&(l.suppressHydrationWarning!==!0&&cf(i.textContent,p,e),a=["children",""+p]):Gu.hasOwnProperty(d)&&p!=null&&d==="onScroll"&&Ht("scroll",i)}switch(n){case"input":tf(i),Ug(i,l,!0);break;case"textarea":tf(i),zg(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=Yf)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=d.createElement(n,{is:i.is}):(e=d.createElement(n),n==="select"&&(d=e,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):e=d.createElementNS(e,n),e[Bi]=t,e[tc]=i,cv(e,t,!1,!1),t.stateNode=e;e:{switch(d=y0(n,i),n){case"dialog":Ht("cancel",e),Ht("close",e),a=i;break;case"iframe":case"object":case"embed":Ht("load",e),a=i;break;case"video":case"audio":for(a=0;a<bu.length;a++)Ht(bu[a],e);a=i;break;case"source":Ht("error",e),a=i;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),a=i;break;case"details":Ht("toggle",e),a=i;break;case"input":Vg(e,i),a=d0(e,i),Ht("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=tn({},i,{value:void 0}),Ht("invalid",e);break;case"textarea":jg(e,i),a=g0(e,i),Ht("invalid",e);break;default:a=i}x0(n,a),p=a;for(l in p)if(p.hasOwnProperty(l)){var x=p[l];l==="style"?Wy(e,x):l==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&jy(e,x)):l==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&Xu(e,x):typeof x=="number"&&Xu(e,""+x):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Gu.hasOwnProperty(l)?x!=null&&l==="onScroll"&&Ht("scroll",e):x!=null&&ep(e,l,x,d))}switch(n){case"input":tf(e),Ug(e,i,!1);break;case"textarea":tf(e),zg(e);break;case"option":i.value!=null&&e.setAttribute("value",""+mo(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?sl(e,!!i.multiple,l,!1):i.defaultValue!=null&&sl(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yf)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kn(t),null;case 6:if(e&&t.stateNode!=null)dv(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(de(166));if(n=Wo(rc.current),Wo(zi.current),ff(t)){if(i=t.stateNode,n=t.memoizedProps,i[Bi]=t,(l=i.nodeValue!==n)&&(e=Mr,e!==null))switch(e.tag){case 3:cf(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cf(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Bi]=t,t.stateNode=i}return Kn(t),null;case 13:if(Xt($t),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&Pr!==null&&t.mode&1&&!(t.flags&128))Nw(),Rl(),t.flags|=98560,l=!1;else if(l=ff(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(de(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(de(317));l[Bi]=t}else Rl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kn(t),l=!1}else mi!==null&&($0(mi),mi=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||$t.current&1?In===0&&(In=3):Lp())),t.updateQueue!==null&&(t.flags|=4),Kn(t),null);case 4:return Ol(),H0(e,t),e===null&&Ju(t.stateNode.containerInfo),Kn(t),null;case 10:return wp(t.type._context),Kn(t),null;case 17:return Ar(t.type)&&Qf(),Kn(t),null;case 19:if(Xt($t),l=t.memoizedState,l===null)return Kn(t),null;if(i=(t.flags&128)!==0,d=l.rendering,d===null)if(i)gu(l,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=id(e),d!==null){for(t.flags|=128,gu(l,!1),i=d.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ft($t,$t.current&1|2),t.child}e=e.sibling}l.tail!==null&&pn()>kl&&(t.flags|=128,i=!0,gu(l,!1),t.lanes=4194304)}else{if(!i)if(e=id(d),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gu(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Yt)return Kn(t),null}else 2*pn()-l.renderingStartTime>kl&&n!==1073741824&&(t.flags|=128,i=!0,gu(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(n=l.last,n!==null?n.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=pn(),t.sibling=null,n=$t.current,Ft($t,i?n&1|2:n&1),t):(Kn(t),null);case 22:case 23:return Mp(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?kr&1073741824&&(Kn(t),t.subtreeFlags&6&&(t.flags|=8192)):Kn(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function y_(e,t){switch(gp(t),t.tag){case 1:return Ar(t.type)&&Qf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ol(),Xt(Cr),Xt(Jn),_p(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ap(t),null;case 13:if(Xt($t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));Rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt($t),null;case 4:return Ol(),null;case 10:return wp(t.type._context),null;case 22:case 23:return Mp(),null;case 24:return null;default:return null}}var pf=!1,Qn=!1,w_=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Qa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ln(e,t,i)}else n.current=null}function G0(e,t,n){try{n()}catch(i){ln(e,t,i)}}var Om=!1;function v_(e,t){if(I0=Zf,e=xw(),hp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var d=0,p=-1,x=-1,m=0,E=0,C=e,O=null;t:for(;;){for(var D;C!==n||a!==0&&C.nodeType!==3||(p=d+a),C!==l||i!==0&&C.nodeType!==3||(x=d+i),C.nodeType===3&&(d+=C.nodeValue.length),(D=C.firstChild)!==null;)O=C,C=D;for(;;){if(C===e)break t;if(O===n&&++m===a&&(p=d),O===l&&++E===i&&(x=d),(D=C.nextSibling)!==null)break;C=O,O=C.parentNode}C=D}n=p===-1||x===-1?null:{start:p,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(R0={focusedElem:e,selectionRange:n},Zf=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){t=Ne;try{var U=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var I=U.memoizedProps,P=U.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?I:di(t.type,I),P);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(L){ln(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}return U=Om,Om=!1,U}function Fu(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&G0(t,n,l)}a=a.next}while(a!==i)}}function Ud(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function X0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hv(e){var t=e.alternate;t!==null&&(e.alternate=null,hv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bi],delete t[tc],delete t[D0],delete t[n_],delete t[r_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pv(e){return e.tag===5||e.tag===3||e.tag===4}function Dm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Z0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yf));else if(i!==4&&(e=e.child,e!==null))for(Z0(e,t,n),e=e.sibling;e!==null;)Z0(e,t,n),e=e.sibling}function q0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(q0(e,t,n),e=e.sibling;e!==null;)q0(e,t,n),e=e.sibling}var jn=null,gi=!1;function Ls(e,t,n){for(n=n.child;n!==null;)gv(e,t,n),n=n.sibling}function gv(e,t,n){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(Dd,n)}catch{}switch(n.tag){case 5:Qn||Qa(n,t);case 6:var i=jn,a=gi;jn=null,Ls(e,t,n),jn=i,gi=a,jn!==null&&(gi?(e=jn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jn.removeChild(n.stateNode));break;case 18:jn!==null&&(gi?(e=jn,n=n.stateNode,e.nodeType===8?_h(e.parentNode,n):e.nodeType===1&&_h(e,n),Yu(e)):_h(jn,n.stateNode));break;case 4:i=jn,a=gi,jn=n.stateNode.containerInfo,gi=!0,Ls(e,t,n),jn=i,gi=a;break;case 0:case 11:case 14:case 15:if(!Qn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var l=a,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&G0(n,t,d),a=a.next}while(a!==i)}Ls(e,t,n);break;case 1:if(!Qn&&(Qa(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(p){ln(n,t,p)}Ls(e,t,n);break;case 21:Ls(e,t,n);break;case 22:n.mode&1?(Qn=(i=Qn)||n.memoizedState!==null,Ls(e,t,n),Qn=i):Ls(e,t,n);break;default:Ls(e,t,n)}}function km(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w_),t.forEach(function(i){var a=R_.bind(null,e,i);n.has(i)||(n.add(i),i.then(a,a))})}}function ui(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var l=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 5:jn=p.stateNode,gi=!1;break e;case 3:jn=p.stateNode.containerInfo,gi=!0;break e;case 4:jn=p.stateNode.containerInfo,gi=!0;break e}p=p.return}if(jn===null)throw Error(de(160));gv(l,d,a),jn=null,gi=!1;var x=a.alternate;x!==null&&(x.return=null),a.return=null}catch(m){ln(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mv(t,e),t=t.sibling}function mv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ui(t,e),Oi(e),i&4){try{Fu(3,e,e.return),Ud(3,e)}catch(I){ln(e,e.return,I)}try{Fu(5,e,e.return)}catch(I){ln(e,e.return,I)}}break;case 1:ui(t,e),Oi(e),i&512&&n!==null&&Qa(n,n.return);break;case 5:if(ui(t,e),Oi(e),i&512&&n!==null&&Qa(n,n.return),e.flags&32){var a=e.stateNode;try{Xu(a,"")}catch(I){ln(e,e.return,I)}}if(i&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,d=n!==null?n.memoizedProps:l,p=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{p==="input"&&l.type==="radio"&&l.name!=null&&Fy(a,l),y0(p,d);var m=y0(p,l);for(d=0;d<x.length;d+=2){var E=x[d],C=x[d+1];E==="style"?Wy(a,C):E==="dangerouslySetInnerHTML"?jy(a,C):E==="children"?Xu(a,C):ep(a,E,C,m)}switch(p){case"input":h0(a,l);break;case"textarea":Vy(a,l);break;case"select":var O=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var D=l.value;D!=null?sl(a,!!l.multiple,D,!1):O!==!!l.multiple&&(l.defaultValue!=null?sl(a,!!l.multiple,l.defaultValue,!0):sl(a,!!l.multiple,l.multiple?[]:"",!1))}a[tc]=l}catch(I){ln(e,e.return,I)}}break;case 6:if(ui(t,e),Oi(e),i&4){if(e.stateNode===null)throw Error(de(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(I){ln(e,e.return,I)}}break;case 3:if(ui(t,e),Oi(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Yu(t.containerInfo)}catch(I){ln(e,e.return,I)}break;case 4:ui(t,e),Oi(e);break;case 13:ui(t,e),Oi(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(kp=pn())),i&4&&km(e);break;case 22:if(E=n!==null&&n.memoizedState!==null,e.mode&1?(Qn=(m=Qn)||E,ui(t,e),Qn=m):ui(t,e),Oi(e),i&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!E&&e.mode&1)for(Ne=e,E=e.child;E!==null;){for(C=Ne=E;Ne!==null;){switch(O=Ne,D=O.child,O.tag){case 0:case 11:case 14:case 15:Fu(4,O,O.return);break;case 1:Qa(O,O.return);var U=O.stateNode;if(typeof U.componentWillUnmount=="function"){i=O,n=O.return;try{t=i,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(I){ln(i,n,I)}}break;case 5:Qa(O,O.return);break;case 22:if(O.memoizedState!==null){Mm(C);continue}}D!==null?(D.return=O,Ne=D):Mm(C)}E=E.sibling}e:for(E=null,C=e;;){if(C.tag===5){if(E===null){E=C;try{a=C.stateNode,m?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(p=C.stateNode,x=C.memoizedProps.style,d=x!=null&&x.hasOwnProperty("display")?x.display:null,p.style.display=zy("display",d))}catch(I){ln(e,e.return,I)}}}else if(C.tag===6){if(E===null)try{C.stateNode.nodeValue=m?"":C.memoizedProps}catch(I){ln(e,e.return,I)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;E===C&&(E=null),C=C.return}E===C&&(E=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:ui(t,e),Oi(e),i&4&&km(e);break;case 21:break;default:ui(t,e),Oi(e)}}function Oi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pv(n)){var i=n;break e}n=n.return}throw Error(de(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(Xu(a,""),i.flags&=-33);var l=Dm(e);q0(e,l,a);break;case 3:case 4:var d=i.stateNode.containerInfo,p=Dm(e);Z0(e,p,d);break;default:throw Error(de(161))}}catch(x){ln(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E_(e,t,n){Ne=e,xv(e)}function xv(e,t,n){for(var i=(e.mode&1)!==0;Ne!==null;){var a=Ne,l=a.child;if(a.tag===22&&i){var d=a.memoizedState!==null||pf;if(!d){var p=a.alternate,x=p!==null&&p.memoizedState!==null||Qn;p=pf;var m=Qn;if(pf=d,(Qn=x)&&!m)for(Ne=a;Ne!==null;)d=Ne,x=d.child,d.tag===22&&d.memoizedState!==null?Lm(a):x!==null?(x.return=d,Ne=x):Lm(a);for(;l!==null;)Ne=l,xv(l),l=l.sibling;Ne=a,pf=p,Qn=m}Pm(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,Ne=l):Pm(e)}}function Pm(e){for(;Ne!==null;){var t=Ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qn||Ud(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Qn)if(n===null)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:di(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&ym(t,l,i);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ym(t,d,n)}break;case 5:var p=t.stateNode;if(n===null&&t.flags&4){n=p;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var E=m.memoizedState;if(E!==null){var C=E.dehydrated;C!==null&&Yu(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Qn||t.flags&512&&X0(t)}catch(O){ln(t,t.return,O)}}if(t===e){Ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ne=n;break}Ne=t.return}}function Mm(e){for(;Ne!==null;){var t=Ne;if(t===e){Ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ne=n;break}Ne=t.return}}function Lm(e){for(;Ne!==null;){var t=Ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ud(4,t)}catch(x){ln(t,n,x)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(x){ln(t,a,x)}}var l=t.return;try{X0(t)}catch(x){ln(t,l,x)}break;case 5:var d=t.return;try{X0(t)}catch(x){ln(t,d,x)}}}catch(x){ln(t,t.return,x)}if(t===e){Ne=null;break}var p=t.sibling;if(p!==null){p.return=t.return,Ne=p;break}Ne=t.return}}var C_=Math.ceil,ad=_s.ReactCurrentDispatcher,Op=_s.ReactCurrentOwner,Qr=_s.ReactCurrentBatchConfig,xt=0,kn=null,yn=null,Gn=0,kr=0,$a=Co(0),In=0,ac=null,ha=0,jd=0,Dp=0,Vu=null,vr=null,kp=0,kl=1/0,os=null,ld=!1,K0=null,co=null,gf=!1,io=null,ud=0,Uu=0,Y0=null,Df=-1,kf=0;function lr(){return xt&6?pn():Df!==-1?Df:Df=pn()}function fo(e){return e.mode&1?xt&2&&Gn!==0?Gn&-Gn:s_.transition!==null?(kf===0&&(kf=tw()),kf):(e=Ot,e!==0||(e=window.event,e=e===void 0?16:lw(e.type)),e):1}function yi(e,t,n,i){if(50<Uu)throw Uu=0,Y0=null,Error(de(185));bc(e,n,i),(!(xt&2)||e!==kn)&&(e===kn&&(!(xt&2)&&(jd|=n),In===4&&Xs(e,Gn)),_r(e,i),n===1&&xt===0&&!(t.mode&1)&&(kl=pn()+500,Bd&&Ao()))}function _r(e,t){var n=e.callbackNode;sA(e,t);var i=Xf(e,e===kn?Gn:0);if(i===0)n!==null&&Gg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Gg(n),t===1)e.tag===0?i_(Bm.bind(null,e)):Tw(Bm.bind(null,e)),e_(function(){!(xt&6)&&Ao()}),n=null;else{switch(nw(i)){case 1:n=sp;break;case 4:n=Jy;break;case 16:n=Gf;break;case 536870912:n=ew;break;default:n=Gf}n=bv(n,yv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yv(e,t){if(Df=-1,kf=0,xt&6)throw Error(de(327));var n=e.callbackNode;if(cl()&&e.callbackNode!==n)return null;var i=Xf(e,e===kn?Gn:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=cd(e,i);else{t=i;var a=xt;xt|=2;var l=vv();(kn!==e||Gn!==t)&&(os=null,kl=pn()+500,oa(e,t));do try{b_();break}catch(p){wv(e,p)}while(!0);yp(),ad.current=l,xt=a,yn!==null?t=0:(kn=null,Gn=0,t=In)}if(t!==0){if(t===2&&(a=A0(e),a!==0&&(i=a,t=Q0(e,a))),t===1)throw n=ac,oa(e,0),Xs(e,i),_r(e,pn()),n;if(t===6)Xs(e,i);else{if(a=e.current.alternate,!(i&30)&&!A_(a)&&(t=cd(e,i),t===2&&(l=A0(e),l!==0&&(i=l,t=Q0(e,l))),t===1))throw n=ac,oa(e,0),Xs(e,i),_r(e,pn()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(de(345));case 2:Lo(e,vr,os);break;case 3:if(Xs(e,i),(i&130023424)===i&&(t=kp+500-pn(),10<t)){if(Xf(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){lr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=O0(Lo.bind(null,e,vr,os),t);break}Lo(e,vr,os);break;case 4:if(Xs(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var d=31-xi(i);l=1<<d,d=t[d],d>a&&(a=d),i&=~l}if(i=a,i=pn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*C_(i/1960))-i,10<i){e.timeoutHandle=O0(Lo.bind(null,e,vr,os),i);break}Lo(e,vr,os);break;case 5:Lo(e,vr,os);break;default:throw Error(de(329))}}}return _r(e,pn()),e.callbackNode===n?yv.bind(null,e):null}function Q0(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(oa(e,t).flags|=256),e=cd(e,t),e!==2&&(t=vr,vr=n,t!==null&&$0(t)),e}function $0(e){vr===null?vr=e:vr.push.apply(vr,e)}function A_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],l=a.getSnapshot;a=a.value;try{if(!wi(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xs(e,t){for(t&=~Dp,t&=~jd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xi(t),i=1<<n;e[n]=-1,t&=~i}}function Bm(e){if(xt&6)throw Error(de(327));cl();var t=Xf(e,0);if(!(t&1))return _r(e,pn()),null;var n=cd(e,t);if(e.tag!==0&&n===2){var i=A0(e);i!==0&&(t=i,n=Q0(e,i))}if(n===1)throw n=ac,oa(e,0),Xs(e,t),_r(e,pn()),n;if(n===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lo(e,vr,os),_r(e,pn()),null}function Pp(e,t){var n=xt;xt|=1;try{return e(t)}finally{xt=n,xt===0&&(kl=pn()+500,Bd&&Ao())}}function pa(e){io!==null&&io.tag===0&&!(xt&6)&&cl();var t=xt;xt|=1;var n=Qr.transition,i=Ot;try{if(Qr.transition=null,Ot=1,e)return e()}finally{Ot=i,Qr.transition=n,xt=t,!(xt&6)&&Ao()}}function Mp(){kr=$a.current,Xt($a)}function oa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,JA(n)),yn!==null)for(n=yn.return;n!==null;){var i=n;switch(gp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Qf();break;case 3:Ol(),Xt(Cr),Xt(Jn),_p();break;case 5:Ap(i);break;case 4:Ol();break;case 13:Xt($t);break;case 19:Xt($t);break;case 10:wp(i.type._context);break;case 22:case 23:Mp()}n=n.return}if(kn=e,yn=e=ho(e.current,null),Gn=kr=t,In=0,ac=null,Dp=jd=ha=0,vr=Vu=null,zo!==null){for(t=0;t<zo.length;t++)if(n=zo[t],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,l=n.pending;if(l!==null){var d=l.next;l.next=a,i.next=d}n.pending=i}zo=null}return e}function wv(e,t){do{var n=yn;try{if(yp(),Rf.current=od,sd){for(var i=en.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}sd=!1}if(da=0,Dn=Sn=en=null,Bu=!1,ic=0,Op.current=null,n===null||n.return===null){In=1,ac=t,yn=null;break}e:{var l=e,d=n.return,p=n,x=t;if(t=Gn,p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var m=x,E=p,C=E.tag;if(!(E.mode&1)&&(C===0||C===11||C===15)){var O=E.alternate;O?(E.updateQueue=O.updateQueue,E.memoizedState=O.memoizedState,E.lanes=O.lanes):(E.updateQueue=null,E.memoizedState=null)}var D=_m(d);if(D!==null){D.flags&=-257,bm(D,d,p,l,t),D.mode&1&&Am(l,m,t),t=D,x=m;var U=t.updateQueue;if(U===null){var I=new Set;I.add(x),t.updateQueue=I}else U.add(x);break e}else{if(!(t&1)){Am(l,m,t),Lp();break e}x=Error(de(426))}}else if(Yt&&p.mode&1){var P=_m(d);if(P!==null){!(P.flags&65536)&&(P.flags|=256),bm(P,d,p,l,t),mp(Dl(x,p));break e}}l=x=Dl(x,p),In!==4&&(In=2),Vu===null?Vu=[l]:Vu.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var _=nv(l,x,t);xm(l,_);break e;case 1:p=x;var b=l.type,T=l.stateNode;if(!(l.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(co===null||!co.has(T)))){l.flags|=65536,t&=-t,l.lanes|=t;var L=rv(l,p,t);xm(l,L);break e}}l=l.return}while(l!==null)}Cv(n)}catch(X){t=X,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function vv(){var e=ad.current;return ad.current=od,e===null?od:e}function Lp(){(In===0||In===3||In===2)&&(In=4),kn===null||!(ha&268435455)&&!(jd&268435455)||Xs(kn,Gn)}function cd(e,t){var n=xt;xt|=2;var i=vv();(kn!==e||Gn!==t)&&(os=null,oa(e,t));do try{__();break}catch(a){wv(e,a)}while(!0);if(yp(),xt=n,ad.current=i,yn!==null)throw Error(de(261));return kn=null,Gn=0,In}function __(){for(;yn!==null;)Ev(yn)}function b_(){for(;yn!==null&&!YC();)Ev(yn)}function Ev(e){var t=_v(e.alternate,e,kr);e.memoizedProps=e.pendingProps,t===null?Cv(e):yn=t,Op.current=null}function Cv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=y_(n,t),n!==null){n.flags&=32767,yn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,yn=null;return}}else if(n=x_(n,t,kr),n!==null){yn=n;return}if(t=t.sibling,t!==null){yn=t;return}yn=t=e}while(t!==null);In===0&&(In=5)}function Lo(e,t,n){var i=Ot,a=Qr.transition;try{Qr.transition=null,Ot=1,S_(e,t,n,i)}finally{Qr.transition=a,Ot=i}return null}function S_(e,t,n,i){do cl();while(io!==null);if(xt&6)throw Error(de(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(oA(e,l),e===kn&&(yn=kn=null,Gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gf||(gf=!0,bv(Gf,function(){return cl(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Qr.transition,Qr.transition=null;var d=Ot;Ot=1;var p=xt;xt|=4,Op.current=null,v_(e,n),mv(n,e),XA(R0),Zf=!!I0,R0=I0=null,e.current=n,E_(n),QC(),xt=p,Ot=d,Qr.transition=l}else e.current=n;if(gf&&(gf=!1,io=e,ud=a),l=e.pendingLanes,l===0&&(co=null),eA(n.stateNode),_r(e,pn()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(ld)throw ld=!1,e=K0,K0=null,e;return ud&1&&e.tag!==0&&cl(),l=e.pendingLanes,l&1?e===Y0?Uu++:(Uu=0,Y0=e):Uu=0,Ao(),null}function cl(){if(io!==null){var e=nw(ud),t=Qr.transition,n=Ot;try{if(Qr.transition=null,Ot=16>e?16:e,io===null)var i=!1;else{if(e=io,io=null,ud=0,xt&6)throw Error(de(331));var a=xt;for(xt|=4,Ne=e.current;Ne!==null;){var l=Ne,d=l.child;if(Ne.flags&16){var p=l.deletions;if(p!==null){for(var x=0;x<p.length;x++){var m=p[x];for(Ne=m;Ne!==null;){var E=Ne;switch(E.tag){case 0:case 11:case 15:Fu(8,E,l)}var C=E.child;if(C!==null)C.return=E,Ne=C;else for(;Ne!==null;){E=Ne;var O=E.sibling,D=E.return;if(hv(E),E===m){Ne=null;break}if(O!==null){O.return=D,Ne=O;break}Ne=D}}}var U=l.alternate;if(U!==null){var I=U.child;if(I!==null){U.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}Ne=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,Ne=d;else e:for(;Ne!==null;){if(l=Ne,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Fu(9,l,l.return)}var _=l.sibling;if(_!==null){_.return=l.return,Ne=_;break e}Ne=l.return}}var b=e.current;for(Ne=b;Ne!==null;){d=Ne;var T=d.child;if(d.subtreeFlags&2064&&T!==null)T.return=d,Ne=T;else e:for(d=b;Ne!==null;){if(p=Ne,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Ud(9,p)}}catch(X){ln(p,p.return,X)}if(p===d){Ne=null;break e}var L=p.sibling;if(L!==null){L.return=p.return,Ne=L;break e}Ne=p.return}}if(xt=a,Ao(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(Dd,e)}catch{}i=!0}return i}finally{Ot=n,Qr.transition=t}}return!1}function Fm(e,t,n){t=Dl(n,t),t=nv(e,t,1),e=uo(e,t,1),t=lr(),e!==null&&(bc(e,1,t),_r(e,t))}function ln(e,t,n){if(e.tag===3)Fm(e,e,n);else for(;t!==null;){if(t.tag===3){Fm(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(co===null||!co.has(i))){e=Dl(n,e),e=rv(t,e,1),t=uo(t,e,1),e=lr(),t!==null&&(bc(t,1,e),_r(t,e));break}}t=t.return}}function T_(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=lr(),e.pingedLanes|=e.suspendedLanes&n,kn===e&&(Gn&n)===n&&(In===4||In===3&&(Gn&130023424)===Gn&&500>pn()-kp?oa(e,0):Dp|=n),_r(e,t)}function Av(e,t){t===0&&(e.mode&1?(t=sf,sf<<=1,!(sf&130023424)&&(sf=4194304)):t=1);var n=lr();e=ys(e,t),e!==null&&(bc(e,t,n),_r(e,n))}function I_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Av(e,n)}function R_(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(de(314))}i!==null&&i.delete(t),Av(e,n)}var _v;_v=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cr.current)Er=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Er=!1,m_(e,t,n);Er=!!(e.flags&131072)}else Er=!1,Yt&&t.flags&1048576&&Iw(t,ed,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Of(e,t),e=t.pendingProps;var a=Il(t,Jn.current);ul(t,n),a=Sp(null,t,i,e,a,n);var l=Tp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ar(i)?(l=!0,$f(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ep(t),a.updater=Vd,t.stateNode=a,a._reactInternals=t,F0(t,i,e,n),t=j0(null,t,i,!0,l,n)):(t.tag=0,Yt&&l&&pp(t),ar(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Of(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=O_(i),e=di(i,e),a){case 0:t=U0(null,t,i,e,n);break e;case 1:t=Im(null,t,i,e,n);break e;case 11:t=Sm(null,t,i,e,n);break e;case 14:t=Tm(null,t,i,di(i.type,e),n);break e}throw Error(de(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:di(i,a),U0(e,t,i,a,n);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:di(i,a),Im(e,t,i,a,n);case 3:e:{if(av(t),e===null)throw Error(de(387));i=t.pendingProps,l=t.memoizedState,a=l.element,Pw(e,t),rd(t,i,null,n);var d=t.memoizedState;if(i=d.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Dl(Error(de(423)),t),t=Rm(e,t,i,n,a);break e}else if(i!==a){a=Dl(Error(de(424)),t),t=Rm(e,t,i,n,a);break e}else for(Pr=lo(t.stateNode.containerInfo.firstChild),Mr=t,Yt=!0,mi=null,n=Dw(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rl(),i===a){t=ws(e,t,n);break e}ar(e,t,i,n)}t=t.child}return t;case 5:return Mw(t),e===null&&M0(t),i=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,d=a.children,N0(i,a)?d=null:l!==null&&N0(i,l)&&(t.flags|=32),ov(e,t),ar(e,t,d,n),t.child;case 6:return e===null&&M0(t),null;case 13:return lv(e,t,n);case 4:return Cp(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Nl(t,null,i,n):ar(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:di(i,a),Sm(e,t,i,a,n);case 7:return ar(e,t,t.pendingProps,n),t.child;case 8:return ar(e,t,t.pendingProps.children,n),t.child;case 12:return ar(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,l=t.memoizedProps,d=a.value,Ft(td,i._currentValue),i._currentValue=d,l!==null)if(wi(l.value,d)){if(l.children===a.children&&!Cr.current){t=ws(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var p=l.dependencies;if(p!==null){d=l.child;for(var x=p.firstContext;x!==null;){if(x.context===i){if(l.tag===1){x=hs(-1,n&-n),x.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var E=m.pending;E===null?x.next=x:(x.next=E.next,E.next=x),m.pending=x}}l.lanes|=n,x=l.alternate,x!==null&&(x.lanes|=n),L0(l.return,n,t),p.lanes|=n;break}x=x.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(de(341));d.lanes|=n,p=d.alternate,p!==null&&(p.lanes|=n),L0(d,n,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}ar(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,ul(t,n),a=$r(a),i=i(a),t.flags|=1,ar(e,t,i,n),t.child;case 14:return i=t.type,a=di(i,t.pendingProps),a=di(i.type,a),Tm(e,t,i,a,n);case 15:return iv(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:di(i,a),Of(e,t),t.tag=1,Ar(i)?(e=!0,$f(t)):e=!1,ul(t,n),tv(t,i,a),F0(t,i,a,n),j0(null,t,i,!0,e,n);case 19:return uv(e,t,n);case 22:return sv(e,t,n)}throw Error(de(156,t.tag))};function bv(e,t){return $y(e,t)}function N_(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(e,t,n,i){return new N_(e,t,n,i)}function Bp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O_(e){if(typeof e=="function")return Bp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===np)return 11;if(e===rp)return 14}return 2}function ho(e,t){var n=e.alternate;return n===null?(n=Yr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pf(e,t,n,i,a,l){var d=2;if(i=e,typeof e=="function")Bp(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case za:return aa(n.children,a,l,t);case tp:d=8,a|=8;break;case l0:return e=Yr(12,n,t,a|2),e.elementType=l0,e.lanes=l,e;case u0:return e=Yr(13,n,t,a),e.elementType=u0,e.lanes=l,e;case c0:return e=Yr(19,n,t,a),e.elementType=c0,e.lanes=l,e;case My:return zd(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ky:d=10;break e;case Py:d=9;break e;case np:d=11;break e;case rp:d=14;break e;case zs:d=16,i=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=Yr(d,n,t,a),t.elementType=e,t.type=i,t.lanes=l,t}function aa(e,t,n,i){return e=Yr(7,e,i,t),e.lanes=n,e}function zd(e,t,n,i){return e=Yr(22,e,i,t),e.elementType=My,e.lanes=n,e.stateNode={isHidden:!1},e}function Dh(e,t,n){return e=Yr(6,e,null,t),e.lanes=n,e}function kh(e,t,n){return t=Yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D_(e,t,n,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hh(0),this.expirationTimes=hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hh(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fp(e,t,n,i,a,l,d,p,x){return e=new D_(e,t,n,p,x),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Yr(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ep(l),e}function k_(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Sv(e){if(!e)return xo;e=e._reactInternals;e:{if(va(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var n=e.type;if(Ar(n))return Sw(e,n,t)}return t}function Tv(e,t,n,i,a,l,d,p,x){return e=Fp(n,i,!0,e,a,l,d,p,x),e.context=Sv(null),n=e.current,i=lr(),a=fo(n),l=hs(i,a),l.callback=t??null,uo(n,l,a),e.current.lanes=a,bc(e,a,i),_r(e,i),e}function Wd(e,t,n,i){var a=t.current,l=lr(),d=fo(a);return n=Sv(n),t.context===null?t.context=n:t.pendingContext=n,t=hs(l,d),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=uo(a,t,d),e!==null&&(yi(e,a,d,l),If(e,a,d)),d}function fd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vp(e,t){Vm(e,t),(e=e.alternate)&&Vm(e,t)}function P_(){return null}var Iv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Up(e){this._internalRoot=e}Hd.prototype.render=Up.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));Wd(e,t,null,null)};Hd.prototype.unmount=Up.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pa(function(){Wd(null,e,null,null)}),t[xs]=null}};function Hd(e){this._internalRoot=e}Hd.prototype.unstable_scheduleHydration=function(e){if(e){var t=sw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gs.length&&t!==0&&t<Gs[n].priority;n++);Gs.splice(n,0,e),n===0&&aw(e)}};function jp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Um(){}function M_(e,t,n,i,a){if(a){if(typeof i=="function"){var l=i;i=function(){var m=fd(d);l.call(m)}}var d=Tv(t,i,e,0,null,!1,!1,"",Um);return e._reactRootContainer=d,e[xs]=d.current,Ju(e.nodeType===8?e.parentNode:e),pa(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var p=i;i=function(){var m=fd(x);p.call(m)}}var x=Fp(e,0,!1,null,null,!1,!1,"",Um);return e._reactRootContainer=x,e[xs]=x.current,Ju(e.nodeType===8?e.parentNode:e),pa(function(){Wd(t,x,n,i)}),x}function Xd(e,t,n,i,a){var l=n._reactRootContainer;if(l){var d=l;if(typeof a=="function"){var p=a;a=function(){var x=fd(d);p.call(x)}}Wd(t,d,e,a)}else d=M_(n,t,e,a,i);return fd(d)}rw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_u(t.pendingLanes);n!==0&&(op(t,n|1),_r(t,pn()),!(xt&6)&&(kl=pn()+500,Ao()))}break;case 13:pa(function(){var i=ys(e,1);if(i!==null){var a=lr();yi(i,e,1,a)}}),Vp(e,1)}};ap=function(e){if(e.tag===13){var t=ys(e,134217728);if(t!==null){var n=lr();yi(t,e,134217728,n)}Vp(e,134217728)}};iw=function(e){if(e.tag===13){var t=fo(e),n=ys(e,t);if(n!==null){var i=lr();yi(n,e,t,i)}Vp(e,t)}};sw=function(){return Ot};ow=function(e,t){var n=Ot;try{return Ot=e,t()}finally{Ot=n}};v0=function(e,t,n){switch(t){case"input":if(h0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=Ld(i);if(!a)throw Error(de(90));By(i),h0(i,a)}}}break;case"textarea":Vy(e,n);break;case"select":t=n.value,t!=null&&sl(e,!!n.multiple,t,!1)}};Xy=Pp;Zy=pa;var L_={usingClientEntryPoint:!1,Events:[Tc,Xa,Ld,Hy,Gy,Pp]},mu={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B_={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yy(e),e===null?null:e.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||P_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{Dd=mf.inject(B_),ji=mf}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L_;Vr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jp(t))throw Error(de(200));return k_(e,t,null,n)};Vr.createRoot=function(e,t){if(!jp(e))throw Error(de(299));var n=!1,i="",a=Iv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Fp(e,1,!1,null,null,n,!1,i,a),e[xs]=t.current,Ju(e.nodeType===8?e.parentNode:e),new Up(t)};Vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=Yy(t),e=e===null?null:e.stateNode,e};Vr.flushSync=function(e){return pa(e)};Vr.hydrate=function(e,t,n){if(!Gd(t))throw Error(de(200));return Xd(null,e,t,!0,n)};Vr.hydrateRoot=function(e,t,n){if(!jp(e))throw Error(de(405));var i=n!=null&&n.hydratedSources||null,a=!1,l="",d=Iv;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=Tv(t,null,e,1,n??null,a,!1,l,d),e[xs]=t.current,Ju(e),i)for(e=0;e<i.length;e++)n=i[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Hd(t)};Vr.render=function(e,t,n){if(!Gd(t))throw Error(de(200));return Xd(null,e,t,!1,n)};Vr.unmountComponentAtNode=function(e){if(!Gd(e))throw Error(de(40));return e._reactRootContainer?(pa(function(){Xd(null,null,e,!1,function(){e._reactRootContainer=null,e[xs]=null})}),!0):!1};Vr.unstable_batchedUpdates=Pp;Vr.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Gd(n))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return Xd(e,t,n,!1,i)};Vr.version="18.3.1-next-f1338f8080-20240426";function Rv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rv)}catch(e){console.error(e)}}Rv(),Ry.exports=Vr;var F_=Ry.exports,jm=F_;o0.createRoot=jm.createRoot,o0.hydrateRoot=jm.hydrateRoot;var Rc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},V_={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qs,X1,ly,U_=(ly=class{constructor(){_e(this,qs,V_);_e(this,X1,!1)}setTimeoutProvider(e){me(this,qs,e)}setTimeout(e,t){return B(this,qs).setTimeout(e,t)}clearTimeout(e){B(this,qs).clearTimeout(e)}setInterval(e,t){return B(this,qs).setInterval(e,t)}clearInterval(e){B(this,qs).clearInterval(e)}},qs=new WeakMap,X1=new WeakMap,ly),Ho=new U_;function j_(e){setTimeout(e,0)}var ga=typeof window>"u"||"Deno"in globalThis;function wr(){}function z_(e,t){return typeof e=="function"?e(t):e}function J0(e){return typeof e=="number"&&e>=0&&e!==1/0}function Nv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function po(e,t){return typeof e=="function"?e(t):e}function Zr(e,t){return typeof e=="function"?e(t):e}function zm(e,t){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:d,stale:p}=e;if(d){if(i){if(t.queryHash!==zp(d,t.options))return!1}else if(!uc(t.queryKey,d))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||a&&a!==t.state.fetchStatus||l&&!l(t))}function Wm(e,t){const{exact:n,status:i,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(lc(t.options.mutationKey)!==lc(l))return!1}else if(!uc(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function zp(e,t){return((t==null?void 0:t.queryKeyHashFn)||lc)(e)}function lc(e){return JSON.stringify(e,(t,n)=>t1(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function uc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>uc(e[n],t[n])):!1}var W_=Object.prototype.hasOwnProperty;function Ov(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=Hm(e)&&Hm(t);if(!i&&!(t1(e)&&t1(t)))return t;const l=(i?e:Object.keys(e)).length,d=i?t:Object.keys(t),p=d.length,x=i?new Array(p):{};let m=0;for(let E=0;E<p;E++){const C=i?E:d[E],O=e[C],D=t[C];if(O===D){x[C]=O,(i?E<l:W_.call(e,C))&&m++;continue}if(O===null||D===null||typeof O!="object"||typeof D!="object"){x[C]=D;continue}const U=Ov(O,D,n+1);x[C]=U,U===O&&m++}return l===p&&m===l?e:x}function e1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Hm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function t1(e){if(!Gm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Gm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gm(e){return Object.prototype.toString.call(e)==="[object Object]"}function H_(e){return new Promise(t=>{Ho.setTimeout(t,e)})}function n1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ov(e,t):t}function G_(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function X_(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var Wp=Symbol();function Dv(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function kv(e,t){return typeof e=="function"?e(...t):!!e}function Z_(e,t,n){let i=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),i||(i=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),e}var Xo,Ks,dl,uy,q_=(uy=class extends Rc{constructor(){super();_e(this,Xo);_e(this,Ks);_e(this,dl);me(this,dl,t=>{if(!ga&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Ks)||this.setEventListener(B(this,dl))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Ks))==null||t.call(this),me(this,Ks,void 0))}setEventListener(t){var n;me(this,dl,t),(n=B(this,Ks))==null||n.call(this),me(this,Ks,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){B(this,Xo)!==t&&(me(this,Xo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,Xo)=="boolean"?B(this,Xo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Xo=new WeakMap,Ks=new WeakMap,dl=new WeakMap,uy),Hp=new q_;function r1(){let e,t;const n=new Promise((a,l)=>{e=a,t=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),e(a)},n.reject=a=>{i({status:"rejected",reason:a}),t(a)},n}var K_=j_;function Y_(){let e=[],t=0,n=p=>{p()},i=p=>{p()},a=K_;const l=p=>{t?e.push(p):a(()=>{n(p)})},d=()=>{const p=e;e=[],p.length&&a(()=>{i(()=>{p.forEach(x=>{n(x)})})})};return{batch:p=>{let x;t++;try{x=p()}finally{t--,t||d()}return x},batchCalls:p=>(...x)=>{l(()=>{p(...x)})},schedule:l,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{i=p},setScheduler:p=>{a=p}}}var Wn=Y_(),hl,Ys,pl,cy,Q_=(cy=class extends Rc{constructor(){super();_e(this,hl,!0);_e(this,Ys);_e(this,pl);me(this,pl,t=>{if(!ga&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){B(this,Ys)||this.setEventListener(B(this,pl))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Ys))==null||t.call(this),me(this,Ys,void 0))}setEventListener(t){var n;me(this,pl,t),(n=B(this,Ys))==null||n.call(this),me(this,Ys,t(this.setOnline.bind(this)))}setOnline(t){B(this,hl)!==t&&(me(this,hl,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return B(this,hl)}},hl=new WeakMap,Ys=new WeakMap,pl=new WeakMap,cy),dd=new Q_;function $_(e){return Math.min(1e3*2**e,3e4)}function Pv(e){return(e??"online")==="online"?dd.isOnline():!0}var i1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mv(e){let t=!1,n=0,i;const a=r1(),l=()=>a.status!=="pending",d=I=>{var P;if(!l()){const _=new i1(I);O(_),(P=e.onCancel)==null||P.call(e,_)}},p=()=>{t=!0},x=()=>{t=!1},m=()=>Hp.isFocused()&&(e.networkMode==="always"||dd.isOnline())&&e.canRun(),E=()=>Pv(e.networkMode)&&e.canRun(),C=I=>{l()||(i==null||i(),a.resolve(I))},O=I=>{l()||(i==null||i(),a.reject(I))},D=()=>new Promise(I=>{var P;i=_=>{(l()||m())&&I(_)},(P=e.onPause)==null||P.call(e)}).then(()=>{var I;i=void 0,l()||(I=e.onContinue)==null||I.call(e)}),U=()=>{if(l())return;let I;const P=n===0?e.initialPromise:void 0;try{I=P??e.fn()}catch(_){I=Promise.reject(_)}Promise.resolve(I).then(C).catch(_=>{var G;if(l())return;const b=e.retry??(ga?0:3),T=e.retryDelay??$_,L=typeof T=="function"?T(n,_):T,X=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,_);if(t||!X){O(_);return}n++,(G=e.onFail)==null||G.call(e,n,_),H_(L).then(()=>m()?void 0:D()).then(()=>{t?O(_):U()})})};return{promise:a,status:()=>a.status,cancel:d,continue:()=>(i==null||i(),a),cancelRetry:p,continueRetry:x,canStart:E,start:()=>(E()?U():D().then(U),a)}}var Zo,fy,Lv=(fy=class{constructor(){_e(this,Zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),J0(this.gcTime)&&me(this,Zo,Ho.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ga?1/0:5*60*1e3))}clearGcTimeout(){B(this,Zo)&&(Ho.clearTimeout(B(this,Zo)),me(this,Zo,void 0))}},Zo=new WeakMap,fy),qo,gl,Xr,Ko,Nn,mc,Yo,hi,is,dy,J_=(dy=class extends Lv{constructor(t){super();_e(this,hi);_e(this,qo);_e(this,gl);_e(this,Xr);_e(this,Ko);_e(this,Nn);_e(this,mc);_e(this,Yo);me(this,Yo,!1),me(this,mc,t.defaultOptions),this.setOptions(t.options),this.observers=[],me(this,Ko,t.client),me(this,Xr,B(this,Ko).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,me(this,qo,Zm(this.options)),this.state=t.state??B(this,qo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Nn))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,mc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Zm(this.options);n.data!==void 0&&(this.setState(Xm(n.data,n.dataUpdatedAt)),me(this,qo,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Xr).remove(this)}setData(t,n){const i=n1(this.state.data,t,this.options);return je(this,hi,is).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){je(this,hi,is).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,a;const n=(i=B(this,Nn))==null?void 0:i.promise;return(a=B(this,Nn))==null||a.cancel(t),n?n.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,qo))}isActive(){return this.observers.some(t=>Zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>po(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Nv(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Nn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Nn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Xr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,Nn)&&(B(this,Yo)?B(this,Nn).cancel({revert:!0}):B(this,Nn).cancelRetry()),this.scheduleGc()),B(this,Xr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,hi,is).call(this,{type:"invalidate"})}async fetch(t,n){var x,m,E,C,O,D,U,I,P,_,b,T;if(this.state.fetchStatus!=="idle"&&((x=B(this,Nn))==null?void 0:x.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Nn))return B(this,Nn).continueRetry(),B(this,Nn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const L=this.observers.find(X=>X.options.queryFn);L&&this.setOptions(L.options)}const i=new AbortController,a=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(me(this,Yo,!0),i.signal)})},l=()=>{const L=Dv(this.options,n),G=(()=>{const W={client:B(this,Ko),queryKey:this.queryKey,meta:this.meta};return a(W),W})();return me(this,Yo,!1),this.options.persister?this.options.persister(L,G,this):L(G)},p=(()=>{const L={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,Ko),state:this.state,fetchFn:l};return a(L),L})();(m=this.options.behavior)==null||m.onFetch(p,this),me(this,gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((E=p.fetchOptions)==null?void 0:E.meta))&&je(this,hi,is).call(this,{type:"fetch",meta:(C=p.fetchOptions)==null?void 0:C.meta}),me(this,Nn,Mv({initialPromise:n==null?void 0:n.initialPromise,fn:p.fetchFn,onCancel:L=>{L instanceof i1&&L.revert&&this.setState({...B(this,gl),fetchStatus:"idle"}),i.abort()},onFail:(L,X)=>{je(this,hi,is).call(this,{type:"failed",failureCount:L,error:X})},onPause:()=>{je(this,hi,is).call(this,{type:"pause"})},onContinue:()=>{je(this,hi,is).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const L=await B(this,Nn).start();if(L===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(L),(D=(O=B(this,Xr).config).onSuccess)==null||D.call(O,L,this),(I=(U=B(this,Xr).config).onSettled)==null||I.call(U,L,this.state.error,this),L}catch(L){if(L instanceof i1){if(L.silent)return B(this,Nn).promise;if(L.revert){if(this.state.data===void 0)throw L;return this.state.data}}throw je(this,hi,is).call(this,{type:"error",error:L}),(_=(P=B(this,Xr).config).onError)==null||_.call(P,L,this),(T=(b=B(this,Xr).config).onSettled)==null||T.call(b,this.state.data,L,this),L}finally{this.scheduleGc()}}},qo=new WeakMap,gl=new WeakMap,Xr=new WeakMap,Ko=new WeakMap,Nn=new WeakMap,mc=new WeakMap,Yo=new WeakMap,hi=new WeakSet,is=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Bv(i.data,this.options),fetchMeta:t.meta??null};case"success":const a={...i,...Xm(t.data,t.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return me(this,gl,t.manual?a:void 0),a;case"error":const l=t.error;return{...i,error:l,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),Wn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),B(this,Xr).notify({query:this,type:"updated",action:t})})},dy);function Bv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Xm(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Zm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yr,ht,xc,sr,Qo,ml,ls,Qs,yc,xl,yl,$o,Jo,$s,wl,St,Su,s1,o1,a1,l1,u1,c1,f1,Fv,hy,eb=(hy=class extends Rc{constructor(t,n){super();_e(this,St);_e(this,yr);_e(this,ht);_e(this,xc);_e(this,sr);_e(this,Qo);_e(this,ml);_e(this,ls);_e(this,Qs);_e(this,yc);_e(this,xl);_e(this,yl);_e(this,$o);_e(this,Jo);_e(this,$s);_e(this,wl,new Set);this.options=n,me(this,yr,t),me(this,Qs,null),me(this,ls,r1()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,ht).addObserver(this),qm(B(this,ht),this.options)?je(this,St,Su).call(this):this.updateResult(),je(this,St,l1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d1(B(this,ht),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d1(B(this,ht),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,St,u1).call(this),je(this,St,c1).call(this),B(this,ht).removeObserver(this)}setOptions(t){const n=this.options,i=B(this,ht);if(this.options=B(this,yr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zr(this.options.enabled,B(this,ht))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,St,f1).call(this),B(this,ht).setOptions(this.options),n._defaulted&&!e1(this.options,n)&&B(this,yr).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,ht),observer:this});const a=this.hasListeners();a&&Km(B(this,ht),i,this.options,n)&&je(this,St,Su).call(this),this.updateResult(),a&&(B(this,ht)!==i||Zr(this.options.enabled,B(this,ht))!==Zr(n.enabled,B(this,ht))||po(this.options.staleTime,B(this,ht))!==po(n.staleTime,B(this,ht)))&&je(this,St,s1).call(this);const l=je(this,St,o1).call(this);a&&(B(this,ht)!==i||Zr(this.options.enabled,B(this,ht))!==Zr(n.enabled,B(this,ht))||l!==B(this,$s))&&je(this,St,a1).call(this,l)}getOptimisticResult(t){const n=B(this,yr).getQueryCache().build(B(this,yr),t),i=this.createResult(n,t);return nb(this,i)&&(me(this,sr,i),me(this,ml,this.options),me(this,Qo,B(this,ht).state)),i}getCurrentResult(){return B(this,sr)}trackResult(t,n){return new Proxy(t,{get:(i,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,ls).status==="pending"&&B(this,ls).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,a))})}trackProp(t){B(this,wl).add(t)}getCurrentQuery(){return B(this,ht)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=B(this,yr).defaultQueryOptions(t),i=B(this,yr).getQueryCache().build(B(this,yr),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return je(this,St,Su).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,sr)))}createResult(t,n){var te;const i=B(this,ht),a=this.options,l=B(this,sr),d=B(this,Qo),p=B(this,ml),m=t!==i?t.state:B(this,xc),{state:E}=t;let C={...E},O=!1,D;if(n._optimisticResults){const ce=this.hasListeners(),De=!ce&&qm(t,n),ye=ce&&Km(t,i,n,a);(De||ye)&&(C={...C,...Bv(E.data,t.options)}),n._optimisticResults==="isRestoring"&&(C.fetchStatus="idle")}let{error:U,errorUpdatedAt:I,status:P}=C;D=C.data;let _=!1;if(n.placeholderData!==void 0&&D===void 0&&P==="pending"){let ce;l!=null&&l.isPlaceholderData&&n.placeholderData===(p==null?void 0:p.placeholderData)?(ce=l.data,_=!0):ce=typeof n.placeholderData=="function"?n.placeholderData((te=B(this,yl))==null?void 0:te.state.data,B(this,yl)):n.placeholderData,ce!==void 0&&(P="success",D=n1(l==null?void 0:l.data,ce,n),O=!0)}if(n.select&&D!==void 0&&!_)if(l&&D===(d==null?void 0:d.data)&&n.select===B(this,yc))D=B(this,xl);else try{me(this,yc,n.select),D=n.select(D),D=n1(l==null?void 0:l.data,D,n),me(this,xl,D),me(this,Qs,null)}catch(ce){me(this,Qs,ce)}B(this,Qs)&&(U=B(this,Qs),D=B(this,xl),I=Date.now(),P="error");const b=C.fetchStatus==="fetching",T=P==="pending",L=P==="error",X=T&&b,G=D!==void 0,Y={status:P,fetchStatus:C.fetchStatus,isPending:T,isSuccess:P==="success",isError:L,isInitialLoading:X,isLoading:X,data:D,dataUpdatedAt:C.dataUpdatedAt,error:U,errorUpdatedAt:I,failureCount:C.fetchFailureCount,failureReason:C.fetchFailureReason,errorUpdateCount:C.errorUpdateCount,isFetched:C.dataUpdateCount>0||C.errorUpdateCount>0,isFetchedAfterMount:C.dataUpdateCount>m.dataUpdateCount||C.errorUpdateCount>m.errorUpdateCount,isFetching:b,isRefetching:b&&!T,isLoadingError:L&&!G,isPaused:C.fetchStatus==="paused",isPlaceholderData:O,isRefetchError:L&&G,isStale:Gp(t,n),refetch:this.refetch,promise:B(this,ls),isEnabled:Zr(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const ce=Y.data!==void 0,De=Y.status==="error"&&!ce,ye=re=>{De?re.reject(Y.error):ce&&re.resolve(Y.data)},Xe=()=>{const re=me(this,ls,Y.promise=r1());ye(re)},ot=B(this,ls);switch(ot.status){case"pending":t.queryHash===i.queryHash&&ye(ot);break;case"fulfilled":(De||Y.data!==ot.value)&&Xe();break;case"rejected":(!De||Y.error!==ot.reason)&&Xe();break}}return Y}updateResult(){const t=B(this,sr),n=this.createResult(B(this,ht),this.options);if(me(this,Qo,B(this,ht).state),me(this,ml,this.options),B(this,Qo).data!==void 0&&me(this,yl,B(this,ht)),e1(n,t))return;me(this,sr,n);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!B(this,wl).size)return!0;const d=new Set(l??B(this,wl));return this.options.throwOnError&&d.add("error"),Object.keys(B(this,sr)).some(p=>{const x=p;return B(this,sr)[x]!==t[x]&&d.has(x)})};je(this,St,Fv).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,St,l1).call(this)}},yr=new WeakMap,ht=new WeakMap,xc=new WeakMap,sr=new WeakMap,Qo=new WeakMap,ml=new WeakMap,ls=new WeakMap,Qs=new WeakMap,yc=new WeakMap,xl=new WeakMap,yl=new WeakMap,$o=new WeakMap,Jo=new WeakMap,$s=new WeakMap,wl=new WeakMap,St=new WeakSet,Su=function(t){je(this,St,f1).call(this);let n=B(this,ht).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(wr)),n},s1=function(){je(this,St,u1).call(this);const t=po(this.options.staleTime,B(this,ht));if(ga||B(this,sr).isStale||!J0(t))return;const i=Nv(B(this,sr).dataUpdatedAt,t)+1;me(this,$o,Ho.setTimeout(()=>{B(this,sr).isStale||this.updateResult()},i))},o1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,ht)):this.options.refetchInterval)??!1},a1=function(t){je(this,St,c1).call(this),me(this,$s,t),!(ga||Zr(this.options.enabled,B(this,ht))===!1||!J0(B(this,$s))||B(this,$s)===0)&&me(this,Jo,Ho.setInterval(()=>{(this.options.refetchIntervalInBackground||Hp.isFocused())&&je(this,St,Su).call(this)},B(this,$s)))},l1=function(){je(this,St,s1).call(this),je(this,St,a1).call(this,je(this,St,o1).call(this))},u1=function(){B(this,$o)&&(Ho.clearTimeout(B(this,$o)),me(this,$o,void 0))},c1=function(){B(this,Jo)&&(Ho.clearInterval(B(this,Jo)),me(this,Jo,void 0))},f1=function(){const t=B(this,yr).getQueryCache().build(B(this,yr),this.options);if(t===B(this,ht))return;const n=B(this,ht);me(this,ht,t),me(this,xc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Fv=function(t){Wn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(B(this,sr))}),B(this,yr).getQueryCache().notify({query:B(this,ht),type:"observerResultsUpdated"})})},hy);function tb(e,t){return Zr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qm(e,t){return tb(e,t)||e.state.data!==void 0&&d1(e,t,t.refetchOnMount)}function d1(e,t,n){if(Zr(t.enabled,e)!==!1&&po(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&Gp(e,t)}return!1}function Km(e,t,n,i){return(e!==t||Zr(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Gp(e,n)}function Gp(e,t){return Zr(t.enabled,e)!==!1&&e.isStaleByTime(po(t.staleTime,e))}function nb(e,t){return!e1(e.getCurrentResult(),t)}function Ym(e){return{onFetch:(t,n)=>{var E,C,O,D,U;const i=t.options,a=(O=(C=(E=t.fetchOptions)==null?void 0:E.meta)==null?void 0:C.fetchMore)==null?void 0:O.direction,l=((D=t.state.data)==null?void 0:D.pages)||[],d=((U=t.state.data)==null?void 0:U.pageParams)||[];let p={pages:[],pageParams:[]},x=0;const m=async()=>{let I=!1;const P=T=>{Z_(T,()=>t.signal,()=>I=!0)},_=Dv(t.options,t.fetchOptions),b=async(T,L,X)=>{if(I)return Promise.reject();if(L==null&&T.pages.length)return Promise.resolve(T);const W=(()=>{const De={client:t.client,queryKey:t.queryKey,pageParam:L,direction:X?"backward":"forward",meta:t.options.meta};return P(De),De})(),Y=await _(W),{maxPages:te}=t.options,ce=X?X_:G_;return{pages:ce(T.pages,Y,te),pageParams:ce(T.pageParams,L,te)}};if(a&&l.length){const T=a==="backward",L=T?rb:Qm,X={pages:l,pageParams:d},G=L(i,X);p=await b(X,G,T)}else{const T=e??l.length;do{const L=x===0?d[0]??i.initialPageParam:Qm(i,p);if(x>0&&L==null)break;p=await b(p,L),x++}while(x<T)}return p};t.options.persister?t.fetchFn=()=>{var I,P;return(P=(I=t.options).persister)==null?void 0:P.call(I,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function Qm(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function rb(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var wc,Pi,or,ea,Mi,Vs,py,ib=(py=class extends Lv{constructor(t){super();_e(this,Mi);_e(this,wc);_e(this,Pi);_e(this,or);_e(this,ea);me(this,wc,t.client),this.mutationId=t.mutationId,me(this,or,t.mutationCache),me(this,Pi,[]),this.state=t.state||sb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Pi).includes(t)||(B(this,Pi).push(t),this.clearGcTimeout(),B(this,or).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){me(this,Pi,B(this,Pi).filter(n=>n!==t)),this.scheduleGc(),B(this,or).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Pi).length||(this.state.status==="pending"?this.scheduleGc():B(this,or).remove(this))}continue(){var t;return((t=B(this,ea))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var d,p,x,m,E,C,O,D,U,I,P,_,b,T,L,X,G,W,Y,te;const n=()=>{je(this,Mi,Vs).call(this,{type:"continue"})},i={client:B(this,wc),meta:this.options.meta,mutationKey:this.options.mutationKey};me(this,ea,Mv({fn:()=>this.options.mutationFn?this.options.mutationFn(t,i):Promise.reject(new Error("No mutationFn found")),onFail:(ce,De)=>{je(this,Mi,Vs).call(this,{type:"failed",failureCount:ce,error:De})},onPause:()=>{je(this,Mi,Vs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,or).canRun(this)}));const a=this.state.status==="pending",l=!B(this,ea).canStart();try{if(a)n();else{je(this,Mi,Vs).call(this,{type:"pending",variables:t,isPaused:l}),await((p=(d=B(this,or).config).onMutate)==null?void 0:p.call(d,t,this,i));const De=await((m=(x=this.options).onMutate)==null?void 0:m.call(x,t,i));De!==this.state.context&&je(this,Mi,Vs).call(this,{type:"pending",context:De,variables:t,isPaused:l})}const ce=await B(this,ea).start();return await((C=(E=B(this,or).config).onSuccess)==null?void 0:C.call(E,ce,t,this.state.context,this,i)),await((D=(O=this.options).onSuccess)==null?void 0:D.call(O,ce,t,this.state.context,i)),await((I=(U=B(this,or).config).onSettled)==null?void 0:I.call(U,ce,null,this.state.variables,this.state.context,this,i)),await((_=(P=this.options).onSettled)==null?void 0:_.call(P,ce,null,t,this.state.context,i)),je(this,Mi,Vs).call(this,{type:"success",data:ce}),ce}catch(ce){try{await((T=(b=B(this,or).config).onError)==null?void 0:T.call(b,ce,t,this.state.context,this,i))}catch(De){Promise.reject(De)}try{await((X=(L=this.options).onError)==null?void 0:X.call(L,ce,t,this.state.context,i))}catch(De){Promise.reject(De)}try{await((W=(G=B(this,or).config).onSettled)==null?void 0:W.call(G,void 0,ce,this.state.variables,this.state.context,this,i))}catch(De){Promise.reject(De)}try{await((te=(Y=this.options).onSettled)==null?void 0:te.call(Y,void 0,ce,t,this.state.context,i))}catch(De){Promise.reject(De)}throw je(this,Mi,Vs).call(this,{type:"error",error:ce}),ce}finally{B(this,or).runNext(this)}}},wc=new WeakMap,Pi=new WeakMap,or=new WeakMap,ea=new WeakMap,Mi=new WeakSet,Vs=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wn.batch(()=>{B(this,Pi).forEach(i=>{i.onMutationUpdate(t)}),B(this,or).notify({mutation:this,type:"updated",action:t})})},py);function sb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var us,pi,vc,gy,ob=(gy=class extends Rc{constructor(t={}){super();_e(this,us);_e(this,pi);_e(this,vc);this.config=t,me(this,us,new Set),me(this,pi,new Map),me(this,vc,0)}build(t,n,i){const a=new ib({client:t,mutationCache:this,mutationId:++$c(this,vc)._,options:t.defaultMutationOptions(n),state:i});return this.add(a),a}add(t){B(this,us).add(t);const n=xf(t);if(typeof n=="string"){const i=B(this,pi).get(n);i?i.push(t):B(this,pi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,us).delete(t)){const n=xf(t);if(typeof n=="string"){const i=B(this,pi).get(n);if(i)if(i.length>1){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}else i[0]===t&&B(this,pi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=xf(t);if(typeof n=="string"){const i=B(this,pi).get(n),a=i==null?void 0:i.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var i;const n=xf(t);if(typeof n=="string"){const a=(i=B(this,pi).get(n))==null?void 0:i.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Wn.batch(()=>{B(this,us).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,us).clear(),B(this,pi).clear()})}getAll(){return Array.from(B(this,us))}find(t){const n={exact:!0,...t};return this.getAll().find(i=>Wm(n,i))}findAll(t={}){return this.getAll().filter(n=>Wm(t,n))}notify(t){Wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Wn.batch(()=>Promise.all(t.map(n=>n.continue().catch(wr))))}},us=new WeakMap,pi=new WeakMap,vc=new WeakMap,gy);function xf(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Li,my,ab=(my=class extends Rc{constructor(t={}){super();_e(this,Li);this.config=t,me(this,Li,new Map)}build(t,n,i){const a=n.queryKey,l=n.queryHash??zp(a,n);let d=this.get(l);return d||(d=new J_({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(a)}),this.add(d)),d}add(t){B(this,Li).has(t.queryHash)||(B(this,Li).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,Li).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,Li).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Li).get(t)}getAll(){return[...B(this,Li).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>zm(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>zm(t,i)):n}notify(t){Wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Li=new WeakMap,my),sn,Js,eo,vl,El,to,Cl,Al,xy,lb=(xy=class{constructor(e={}){_e(this,sn);_e(this,Js);_e(this,eo);_e(this,vl);_e(this,El);_e(this,to);_e(this,Cl);_e(this,Al);me(this,sn,e.queryCache||new ab),me(this,Js,e.mutationCache||new ob),me(this,eo,e.defaultOptions||{}),me(this,vl,new Map),me(this,El,new Map),me(this,to,0)}mount(){$c(this,to)._++,B(this,to)===1&&(me(this,Cl,Hp.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,sn).onFocus())})),me(this,Al,dd.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,sn).onOnline())})))}unmount(){var e,t;$c(this,to)._--,B(this,to)===0&&((e=B(this,Cl))==null||e.call(this),me(this,Cl,void 0),(t=B(this,Al))==null||t.call(this),me(this,Al,void 0))}isFetching(e){return B(this,sn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Js).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,sn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=B(this,sn).build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(po(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return B(this,sn).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),a=B(this,sn).get(i.queryHash),l=a==null?void 0:a.state.data,d=z_(t,l);if(d!==void 0)return B(this,sn).build(this,i).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return Wn.batch(()=>B(this,sn).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,sn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,sn);Wn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,sn);return Wn.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=Wn.batch(()=>B(this,sn).findAll(e).map(a=>a.cancel(n)));return Promise.all(i).then(wr).catch(wr)}invalidateQueries(e,t={}){return Wn.batch(()=>(B(this,sn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=Wn.batch(()=>B(this,sn).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(wr)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(wr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,sn).build(this,t);return n.isStaleByTime(po(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wr).catch(wr)}fetchInfiniteQuery(e){return e.behavior=Ym(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wr).catch(wr)}ensureInfiniteQueryData(e){return e.behavior=Ym(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dd.isOnline()?B(this,Js).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,sn)}getMutationCache(){return B(this,Js)}getDefaultOptions(){return B(this,eo)}setDefaultOptions(e){me(this,eo,e)}setQueryDefaults(e,t){B(this,vl).set(lc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,vl).values()],n={};return t.forEach(i=>{uc(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){B(this,El).set(lc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,El).values()],n={};return t.forEach(i=>{uc(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,eo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,eo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,sn).clear(),B(this,Js).clear()}},sn=new WeakMap,Js=new WeakMap,eo=new WeakMap,vl=new WeakMap,El=new WeakMap,to=new WeakMap,Cl=new WeakMap,Al=new WeakMap,xy),Vv=se.createContext(void 0),ub=e=>{const t=se.useContext(Vv);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},cb=({client:e,children:t})=>(se.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Z.jsx(Vv.Provider,{value:e,children:t})),Uv=se.createContext(!1),fb=()=>se.useContext(Uv);Uv.Provider;function db(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hb=se.createContext(db()),pb=()=>se.useContext(hb),gb=(e,t,n)=>{const i=n!=null&&n.state.error&&typeof e.throwOnError=="function"?kv(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},mb=e=>{se.useEffect(()=>{e.clearReset()},[e])},xb=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(a&&e.data===void 0||kv(n,[e.error,i])),yb=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...a)=>n(i(...a)):n(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},wb=(e,t)=>e.isLoading&&e.isFetching&&!t,vb=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,$m=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Eb(e,t,n){var O,D,U,I;const i=fb(),a=pb(),l=ub(),d=l.defaultQueryOptions(e);(D=(O=l.getDefaultOptions().queries)==null?void 0:O._experimental_beforeQuery)==null||D.call(O,d);const p=l.getQueryCache().get(d.queryHash);d._optimisticResults=i?"isRestoring":"optimistic",yb(d),gb(d,a,p),mb(a);const x=!l.getQueryCache().get(d.queryHash),[m]=se.useState(()=>new t(l,d)),E=m.getOptimisticResult(d),C=!i&&e.subscribed!==!1;if(se.useSyncExternalStore(se.useCallback(P=>{const _=C?m.subscribe(Wn.batchCalls(P)):wr;return m.updateResult(),_},[m,C]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),se.useEffect(()=>{m.setOptions(d)},[d,m]),vb(d,E))throw $m(d,m,a);if(xb({result:E,errorResetBoundary:a,throwOnError:d.throwOnError,query:p,suspense:d.suspense}))throw E.error;if((I=(U=l.getDefaultOptions().queries)==null?void 0:U._experimental_afterQuery)==null||I.call(U,d,E),d.experimental_prefetchInRender&&!ga&&wb(E,i)){const P=x?$m(d,m,a):p==null?void 0:p.promise;P==null||P.catch(wr).finally(()=>{m.updateResult()})}return d.notifyOnChangeProps?E:m.trackResult(E)}function jv(e,t){return Eb(e,eb)}const Cb=new lb({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*60*24,retry:1,networkMode:"offlineFirst"}}});let Ab={data:""},_b=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Ab},bb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Sb=/\/\*[^]*?\*\/|  +/g,Jm=/\n+/g,Zs=(e,t)=>{let n="",i="",a="";for(let l in e){let d=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+d+";":i+=l[1]=="f"?Zs(d,l):l+"{"+Zs(d,l[1]=="k"?"":t)+"}":typeof d=="object"?i+=Zs(d,t?t.replace(/([^,])+/g,p=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,x=>/&/.test(x)?x.replace(/&/g,p):p?p+" "+x:x)):l):d!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Zs.p?Zs.p(l,d):l+":"+d+";")}return n+(t&&a?t+"{"+a+"}":a)+i},es={},zv=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+zv(e[n]);return t}return e},Tb=(e,t,n,i,a)=>{let l=zv(e),d=es[l]||(es[l]=(x=>{let m=0,E=11;for(;m<x.length;)E=101*E+x.charCodeAt(m++)>>>0;return"go"+E})(l));if(!es[d]){let x=l!==e?e:(m=>{let E,C,O=[{}];for(;E=bb.exec(m.replace(Sb,""));)E[4]?O.shift():E[3]?(C=E[3].replace(Jm," ").trim(),O.unshift(O[0][C]=O[0][C]||{})):O[0][E[1]]=E[2].replace(Jm," ").trim();return O[0]})(e);es[d]=Zs(a?{["@keyframes "+d]:x}:x,n?"":"."+d)}let p=n&&es.g?es.g:null;return n&&(es.g=es[d]),((x,m,E,C)=>{C?m.data=m.data.replace(C,x):m.data.indexOf(x)===-1&&(m.data=E?x+m.data:m.data+x)})(es[d],t,i,p),d},Ib=(e,t,n)=>e.reduce((i,a,l)=>{let d=t[l];if(d&&d.call){let p=d(n),x=p&&p.props&&p.props.className||/^go/.test(p)&&p;d=x?"."+x:p&&typeof p=="object"?p.props?"":Zs(p,""):p===!1?"":p}return i+a+(d??"")},"");function Zd(e){let t=this||{},n=e.call?e(t.p):e;return Tb(n.unshift?n.raw?Ib(n,[].slice.call(arguments,1),t.p):n.reduce((i,a)=>Object.assign(i,a&&a.call?a(t.p):a),{}):n,_b(t.target),t.g,t.o,t.k)}let Wv,h1,p1;Zd.bind({g:1});let vs=Zd.bind({k:1});function Rb(e,t,n,i){Zs.p=t,Wv=e,h1=n,p1=i}function _o(e,t){let n=this||{};return function(){let i=arguments;function a(l,d){let p=Object.assign({},l),x=p.className||a.className;n.p=Object.assign({theme:h1&&h1()},p),n.o=/ *go\d+/.test(x),p.className=Zd.apply(n,i)+(x?" "+x:"");let m=e;return e[0]&&(m=p.as||e,delete p.as),p1&&m[0]&&p1(p),Wv(m,p)}return a}}var Nb=e=>typeof e=="function",hd=(e,t)=>Nb(e)?e(t):e,Ob=(()=>{let e=0;return()=>(++e).toString()})(),Hv=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Db=20,Xp="default",Gv=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(d=>d.id===t.toast.id?{...d,...t.toast}:d)};case 2:let{toast:i}=t;return Gv(e,{type:e.toasts.find(d=>d.id===i.id)?1:0,toast:i});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(d=>d.id===a||a===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(d=>d.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+l}))}}},Mf=[],Xv={toasts:[],pausedAt:void 0,settings:{toastLimit:Db}},Fi={},Zv=(e,t=Xp)=>{Fi[t]=Gv(Fi[t]||Xv,e),Mf.forEach(([n,i])=>{n===t&&i(Fi[t])})},qv=e=>Object.keys(Fi).forEach(t=>Zv(e,t)),kb=e=>Object.keys(Fi).find(t=>Fi[t].toasts.some(n=>n.id===e)),qd=(e=Xp)=>t=>{Zv(t,e)},Pb={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Mb=(e={},t=Xp)=>{let[n,i]=se.useState(Fi[t]||Xv),a=se.useRef(Fi[t]);se.useEffect(()=>(a.current!==Fi[t]&&i(Fi[t]),Mf.push([t,i]),()=>{let d=Mf.findIndex(([p])=>p===t);d>-1&&Mf.splice(d,1)}),[t]);let l=n.toasts.map(d=>{var p,x,m;return{...e,...e[d.type],...d,removeDelay:d.removeDelay||((p=e[d.type])==null?void 0:p.removeDelay)||(e==null?void 0:e.removeDelay),duration:d.duration||((x=e[d.type])==null?void 0:x.duration)||(e==null?void 0:e.duration)||Pb[d.type],style:{...e.style,...(m=e[d.type])==null?void 0:m.style,...d.style}}});return{...n,toasts:l}},Lb=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Ob()}),Nc=e=>(t,n)=>{let i=Lb(t,e,n);return qd(i.toasterId||kb(i.id))({type:2,toast:i}),i.id},Tn=(e,t)=>Nc("blank")(e,t);Tn.error=Nc("error");Tn.success=Nc("success");Tn.loading=Nc("loading");Tn.custom=Nc("custom");Tn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?qd(t)(n):qv(n)};Tn.dismissAll=e=>Tn.dismiss(void 0,e);Tn.remove=(e,t)=>{let n={type:4,toastId:e};t?qd(t)(n):qv(n)};Tn.removeAll=e=>Tn.remove(void 0,e);Tn.promise=(e,t,n)=>{let i=Tn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?hd(t.success,a):void 0;return l?Tn.success(l,{id:i,...n,...n==null?void 0:n.success}):Tn.dismiss(i),a}).catch(a=>{let l=t.error?hd(t.error,a):void 0;l?Tn.error(l,{id:i,...n,...n==null?void 0:n.error}):Tn.dismiss(i)}),e};var Bb=1e3,Fb=(e,t="default")=>{let{toasts:n,pausedAt:i}=Mb(e,t),a=se.useRef(new Map).current,l=se.useCallback((C,O=Bb)=>{if(a.has(C))return;let D=setTimeout(()=>{a.delete(C),d({type:4,toastId:C})},O);a.set(C,D)},[]);se.useEffect(()=>{if(i)return;let C=Date.now(),O=n.map(D=>{if(D.duration===1/0)return;let U=(D.duration||0)+D.pauseDuration-(C-D.createdAt);if(U<0){D.visible&&Tn.dismiss(D.id);return}return setTimeout(()=>Tn.dismiss(D.id,t),U)});return()=>{O.forEach(D=>D&&clearTimeout(D))}},[n,i,t]);let d=se.useCallback(qd(t),[t]),p=se.useCallback(()=>{d({type:5,time:Date.now()})},[d]),x=se.useCallback((C,O)=>{d({type:1,toast:{id:C,height:O}})},[d]),m=se.useCallback(()=>{i&&d({type:6,time:Date.now()})},[i,d]),E=se.useCallback((C,O)=>{let{reverseOrder:D=!1,gutter:U=8,defaultPosition:I}=O||{},P=n.filter(T=>(T.position||I)===(C.position||I)&&T.height),_=P.findIndex(T=>T.id===C.id),b=P.filter((T,L)=>L<_&&T.visible).length;return P.filter(T=>T.visible).slice(...D?[b+1]:[0,b]).reduce((T,L)=>T+(L.height||0)+U,0)},[n]);return se.useEffect(()=>{n.forEach(C=>{if(C.dismissed)l(C.id,C.removeDelay);else{let O=a.get(C.id);O&&(clearTimeout(O),a.delete(C.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:x,startPause:p,endPause:m,calculateOffset:E}}},Vb=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ub=vs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jb=vs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zb=_o("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ub} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jb} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Wb=vs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Hb=_o("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Wb} 1s linear infinite;
`,Gb=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Xb=vs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Zb=_o("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Gb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Xb} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qb=_o("div")`
  position: absolute;
`,Kb=_o("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Yb=vs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qb=_o("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Yb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$b=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?se.createElement(Qb,null,t):t:n==="blank"?null:se.createElement(Kb,null,se.createElement(Hb,{...i}),n!=="loading"&&se.createElement(qb,null,n==="error"?se.createElement(zb,{...i}):se.createElement(Zb,{...i})))},Jb=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,e4=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,t4="0%{opacity:0;} 100%{opacity:1;}",n4="0%{opacity:1;} 100%{opacity:0;}",r4=_o("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,i4=_o("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,s4=(e,t)=>{let n=e.includes("top")?1:-1,[i,a]=Hv()?[t4,n4]:[Jb(n),e4(n)];return{animation:t?`${vs(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${vs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},o4=se.memo(({toast:e,position:t,style:n,children:i})=>{let a=e.height?s4(e.position||t||"top-center",e.visible):{opacity:0},l=se.createElement($b,{toast:e}),d=se.createElement(i4,{...e.ariaProps},hd(e.message,e));return se.createElement(r4,{className:e.className,style:{...a,...n,...e.style}},typeof i=="function"?i({icon:l,message:d}):se.createElement(se.Fragment,null,l,d))});Rb(se.createElement);var a4=({id:e,className:t,style:n,onHeightUpdate:i,children:a})=>{let l=se.useCallback(d=>{if(d){let p=()=>{let x=d.getBoundingClientRect().height;i(e,x)};p(),new MutationObserver(p).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return se.createElement("div",{ref:l,className:t,style:n},a)},l4=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Hv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...a}},u4=Zd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,yf=16,c4=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:a,toasterId:l,containerStyle:d,containerClassName:p})=>{let{toasts:x,handlers:m}=Fb(n,l);return se.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:yf,left:yf,right:yf,bottom:yf,pointerEvents:"none",...d},className:p,onMouseEnter:m.startPause,onMouseLeave:m.endPause},x.map(E=>{let C=E.position||t,O=m.calculateOffset(E,{reverseOrder:e,gutter:i,defaultPosition:t}),D=l4(C,O);return se.createElement(a4,{id:E.id,key:E.id,onHeightUpdate:m.updateHeight,className:E.visible?u4:"",style:D},E.type==="custom"?hd(E.message,E):a?a(E):se.createElement(o4,{toast:E,position:C}))}))},La=Tn;/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=(e,t)=>{const n=se.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:p="",children:x,...m},E)=>se.createElement("svg",{ref:E,...f4,width:a,height:a,stroke:i,strokeWidth:d?Number(l)*24/Number(a):l,className:["lucide",`lucide-${d4(e)}`,p].join(" "),...m},[...t.map(([C,O])=>se.createElement(C,O)),...Array.isArray(x)?x:[x]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=ei("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=ei("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=ei("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=ei("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=ei("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ei("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=ei("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=ei("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=ei("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=ei("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=ei("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=ei("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wt=0,w4=5,hn=10,$v=12,Jv=14,ko=21,Lh=25,v4=27,Bh=100,E4=101,C4=3850,A4=522,_4=1,e3=2,Zp=4,b4=8,Fa=0,Uo=1,Lf=2,S4=3,Bf=4,T4=512,I4=1024,R4=2048,N4=16384,t2=1,n2=2,r2=3,i2=4,s2=5,o2=0x7fffffffffffffffn,a2=-0x8000000000000000n;class ts extends Error{constructor(t,n){super(t),this.code=n}}const Ba=!0;function O4(e){const t={},n=e._getSqliteFree(),i=e._malloc(8),a=[i,i+4];function l(I){if(typeof I!="string")return 0;const P=e.lengthBytesUTF8(I),_=e._sqlite3_malloc(P+1);return e.stringToUTF8(I,_,P+1),_}function d(I,P){return BigInt(P)<<32n|BigInt(I)&0xffffffffn}const p=function(){const I=BigInt(Number.MAX_SAFE_INTEGER)>>32n,P=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(_,b){return b>I||b<P?d(_,b):b*4294967296+(_&2147483647)-(_&2147483648)}}(),x=new Set;function m(I){if(!x.has(I))throw new ts("not a database",ko)}const E=new Map;function C(I){if(!E.has(I))throw new ts("not a statement",ko)}t.bind_collection=function(I,P){C(I);const _=Array.isArray(P),b=t.bind_parameter_count(I);for(let T=1;T<=b;++T){const L=_?T-1:t.bind_parameter_name(I,T),X=P[L];X!==void 0&&t.bind(I,T,X)}return wt},t.bind=function(I,P,_){switch(C(I),typeof _){case"number":return _===(_|0)?t.bind_int(I,P,_):t.bind_double(I,P,_);case"string":return t.bind_text(I,P,_);default:return _ instanceof Uint8Array||Array.isArray(_)?t.bind_blob(I,P,_):_===null?t.bind_null(I,P):typeof _=="bigint"?t.bind_int64(I,P,_):_===void 0?v4:(console.warn("unknown binding converted to null",_),t.bind_null(I,P))}},t.bind_blob=function(){const I="sqlite3_bind_blob",P=e.cwrap(I,...Ze("nnnnn:n"));return function(_,b,T){C(_);const L=T.byteLength??T.length,X=e._sqlite3_malloc(L);e.HEAPU8.subarray(X).set(T);const G=P(_,b,X,L,n);return U(I,G,E.get(_))}}(),t.bind_parameter_count=function(){const P=e.cwrap("sqlite3_bind_parameter_count",...Ze("n:n"));return function(_){return C(_),P(_)}}(),t.bind_double=function(){const I="sqlite3_bind_double",P=e.cwrap(I,...Ze("nnn:n"));return function(_,b,T){C(_);const L=P(_,b,T);return U(I,L,E.get(_))}}(),t.bind_int=function(){const I="sqlite3_bind_int",P=e.cwrap(I,...Ze("nnn:n"));return function(_,b,T){if(C(_),T>2147483647||T<-2147483648)return Lh;const L=P(_,b,T);return U(I,L,E.get(_))}}(),t.bind_int64=function(){const I="sqlite3_bind_int64",P=e.cwrap(I,...Ze("nnnn:n"));return function(_,b,T){if(C(_),T>o2||T<a2)return Lh;const L=T&0xffffffffn,X=T>>32n,G=P(_,b,Number(L),Number(X));return U(I,G,E.get(_))}}(),t.bind_null=function(){const I="sqlite3_bind_null",P=e.cwrap(I,...Ze("nn:n"));return function(_,b){C(_);const T=P(_,b);return U(I,T,E.get(_))}}(),t.bind_parameter_name=function(){const P=e.cwrap("sqlite3_bind_parameter_name",...Ze("n:s"));return function(_,b){return C(_),P(_,b)}}(),t.bind_text=function(){const I="sqlite3_bind_text",P=e.cwrap(I,...Ze("nnnnn:n"));return function(_,b,T){C(_);const L=l(T),X=P(_,b,L,-1,n);return U(I,X,E.get(_))}}(),t.changes=function(){const P=e.cwrap("sqlite3_changes",...Ze("n:n"));return function(_){return m(_),P(_)}}(),t.close=function(){const I="sqlite3_close",P=e.cwrap(I,...Ze("n:n"),{async:Ba});return async function(_){m(_);const b=await P(_);return x.delete(_),U(I,b,_)}}(),t.column=function(I,P){C(I);const _=t.column_type(I,P);switch(_){case i2:return t.column_blob(I,P);case n2:return t.column_double(I,P);case t2:const b=t.column_int(I,P),T=e.getTempRet0();return p(b,T);case s2:return null;case r2:return t.column_text(I,P);default:throw new ts("unknown type",_)}},t.column_blob=function(){const P=e.cwrap("sqlite3_column_blob",...Ze("nn:n"));return function(_,b){C(_);const T=t.column_bytes(_,b),L=P(_,b);return e.HEAPU8.subarray(L,L+T)}}(),t.column_bytes=function(){const P=e.cwrap("sqlite3_column_bytes",...Ze("nn:n"));return function(_,b){return C(_),P(_,b)}}(),t.column_count=function(){const P=e.cwrap("sqlite3_column_count",...Ze("n:n"));return function(_){return C(_),P(_)}}(),t.column_double=function(){const P=e.cwrap("sqlite3_column_double",...Ze("nn:n"));return function(_,b){return C(_),P(_,b)}}(),t.column_int=function(){const P=e.cwrap("sqlite3_column_int64",...Ze("nn:n"));return function(_,b){return C(_),P(_,b)}}(),t.column_int64=function(){const P=e.cwrap("sqlite3_column_int64",...Ze("nn:n"));return function(_,b){C(_);const T=P(_,b),L=e.getTempRet0();return d(T,L)}}(),t.column_name=function(){const P=e.cwrap("sqlite3_column_name",...Ze("nn:s"));return function(_,b){return C(_),P(_,b)}}(),t.column_names=function(I){const P=[],_=t.column_count(I);for(let b=0;b<_;++b)P.push(t.column_name(I,b));return P},t.column_text=function(){const P=e.cwrap("sqlite3_column_text",...Ze("nn:s"));return function(_,b){return C(_),P(_,b)}}(),t.column_type=function(){const P=e.cwrap("sqlite3_column_type",...Ze("nn:n"));return function(_,b){return C(_),P(_,b)}}(),t.create_function=function(I,P,_,b,T,L,X,G){if(m(I),L&&!X&&!G){const W=e.createFunction(I,P,_,b,T,L);return U("sqlite3_create_function",W,I)}if(!L&&X&&G){const W=e.createAggregate(I,P,_,b,T,X,G);return U("sqlite3_create_function",W,I)}throw new ts("invalid function combination",ko)},t.create_module=function(I,P,_,b){m(I);const T=e.createModule(I,P,_,b);return U("sqlite3_create_module",T,I)},t.data_count=function(){const P=e.cwrap("sqlite3_data_count",...Ze("n:n"));return function(_){return C(_),P(_)}}(),t.declare_vtab=function(){const P=e.cwrap("sqlite3_declare_vtab",...Ze("ns:n"));return function(_,b){const T=P(_,b);return U("sqlite3_declare_vtab",T)}}(),t.exec=async function(I,P,_){for await(const b of t.statements(I,P)){let T;for(;await t.step(b)===Bh;)if(_){T=T??t.column_names(b);const L=t.row(b);await _(L,T)}}return wt},t.run=async function(I,P,_){for await(const b of t.statements(I,P))_&&t.bind_collection(b,_),await t.step(b);return wt},t.execWithParams=async function(I,P,_){let b=[];const T=[];for await(const L of t.statements(I,P))for(_&&t.bind_collection(L,_);await t.step(L)===Bh;){b=b.length===0?t.column_names(L):b;const X=t.row(L);T.push(X)}return{rows:T,columns:b}},t.executeBatch=async function(I,P,_){try{await t.run(I,"BEGIN EXCLUSIVE TRANSACTION",null);for(let b=0;b<P.length;b++){const T=_?_[b]:null;let L;const X=t.str_new(I,P[b]);try{const G=t.str_value(X);L=await t.prepare_v2(I,G),T&&t.bind_collection(L.stmt,T),await t.step(L.stmt)}finally{L!=null&&L.stmt&&t.finalize(L.stmt),t.str_finish(X)}}return await t.run(I,"COMMIT",null),wt}catch{await t.run(I,"ROLLBACK",null)}},t.finalize=function(){const P=e.cwrap("sqlite3_finalize",...Ze("n:n"),{async:Ba});return async function(_){if(!E.has(_))return ko;const b=await P(_);return E.get(_),E.delete(_),b}}(),t.get_autocommit=function(){const P=e.cwrap("sqlite3_get_autocommit",...Ze("n:n"));return function(_){return P(_)}}(),t.libversion=function(){const P=e.cwrap("sqlite3_libversion",...Ze(":s"));return function(){return P()}}(),t.libversion_number=function(){const P=e.cwrap("sqlite3_libversion_number",...Ze(":n"));return function(){return P()}}(),t.limit=function(){const P=e.cwrap("sqlite3_limit",...Ze("nnn:n"));return function(_,b,T){return P(_,b,T)}}(),t.open_v2=function(){const I="sqlite3_open_v2",P=e.cwrap(I,...Ze("snnn:n"),{async:Ba});return async function(_,b,T){b=b||Zp|e3,T=l(T);const L=await P(_,a[0],b,T),X=e.getValue(a[0],"*");return x.add(X),e._sqlite3_free(T),e.ccall("RegisterExtensionFunctions","void",["number"],[X]),U(I,L),X}}(),t.prepare_v2=function(){const I="sqlite3_prepare_v2",P=e.cwrap(I,...Ze("nnnnn:n"),{async:Ba});return async function(_,b){const T=await P(_,b,-1,a[0],a[1]);U(I,T,_);const L=e.getValue(a[0],"*");return L?(E.set(L,_),{stmt:L,sql:e.getValue(a[1],"*")}):null}}(),t.progress_handler=function(I,P,_,b){m(I),e.progressHandler(I,P,_,b)},t.reset=function(){const I="sqlite3_reset",P=e.cwrap(I,...Ze("n:n"),{async:Ba});return async function(_){C(_);const b=await P(_);return U(I,b,E.get(_))}}(),t.result=function(I,P){switch(typeof P){case"number":P===(P|0)?t.result_int(I,P):t.result_double(I,P);break;case"string":t.result_text(I,P);break;default:if(P instanceof Uint8Array||Array.isArray(P))t.result_blob(I,P);else if(P===null)t.result_null(I);else{if(typeof P=="bigint")return t.result_int64(I,P);console.warn("unknown result converted to null",P),t.result_null(I)}break}},t.result_blob=function(){const P=e.cwrap("sqlite3_result_blob",...Ze("nnnn:n"));return function(_,b){const T=b.byteLength??b.length,L=e._sqlite3_malloc(T);e.HEAPU8.subarray(L).set(b),P(_,L,T,n)}}(),t.result_double=function(){const P=e.cwrap("sqlite3_result_double",...Ze("nn:n"));return function(_,b){P(_,b)}}(),t.result_int=function(){const P=e.cwrap("sqlite3_result_int",...Ze("nn:n"));return function(_,b){P(_,b)}}(),t.result_int64=function(){const P=e.cwrap("sqlite3_result_int64",...Ze("nnn:n"));return function(_,b){if(b>o2||b<a2)return Lh;const T=b&0xffffffffn,L=b>>32n;P(_,Number(T),Number(L))}}(),t.result_null=function(){const P=e.cwrap("sqlite3_result_null",...Ze("n:n"));return function(_){P(_)}}(),t.result_text=function(){const P=e.cwrap("sqlite3_result_text",...Ze("nnnn:n"));return function(_,b){const T=l(b);P(_,T,-1,n)}}(),t.row=function(I){const P=[],_=t.data_count(I);for(let b=0;b<_;++b){const T=t.column(I,b);P.push((T==null?void 0:T.buffer)===e.HEAPU8.buffer?T.slice():T)}return P},t.set_authorizer=function(I,P,_){m(I);const b=e.setAuthorizer(I,P,_);return U("sqlite3_set_authorizer",b,I)},t.sql=function(){const P=e.cwrap("sqlite3_sql",...Ze("n:s"));return function(_){return C(_),P(_)}}(),t.statements=function(I,P){return async function*(){const _=t.str_new(I,P);let b={stmt:null,sql:t.str_value(_)};try{for(;b=await t.prepare_v2(I,b.sql);)yield b.stmt,t.finalize(b.stmt),b.stmt=null}finally{b!=null&&b.stmt&&t.finalize(b.stmt),t.str_finish(_)}}()},t.step=function(){const I="sqlite3_step",P=e.cwrap(I,...Ze("n:n"),{async:Ba});return async function(_){C(_);const b=await P(_);return U(I,b,E.get(_),[Bh,E4])}}();let O=0;const D=new Map;t.str_new=function(I,P=""){const _=e.lengthBytesUTF8(P),b=O++&4294967295,T={offset:e._sqlite3_malloc(_+1),bytes:_};return D.set(b,T),e.stringToUTF8(P,T.offset,T.bytes+1),b},t.str_appendall=function(I,P){if(!D.has(I))throw new ts("not a string",ko);const _=D.get(I),b=e.lengthBytesUTF8(P),T=_.bytes+b,L=e._sqlite3_malloc(T+1);e.HEAPU8.subarray(L,L+T+1).set(e.HEAPU8.subarray(_.offset,_.offset+_.bytes)),e.stringToUTF8(P,L+_.bytes,b+1),e._sqlite3_free(_.offset),_.offset=L,_.bytes=T,D.set(I,_)},t.str_finish=function(I){if(!D.has(I))throw new ts("not a string",ko);const P=D.get(I);D.delete(I),e._sqlite3_free(P.offset)},t.str_value=function(I){if(!D.has(I))throw new ts("not a string",ko);return D.get(I).offset},t.update_hook=function(I,P){return m(I),e.updateHook(I,P),wt},t.user_data=function(I){return e.getFunctionUserData(I)},t.value=function(I){const P=t.value_type(I);switch(P){case i2:return t.value_blob(I);case n2:return t.value_double(I);case t2:const _=t.value_int(I),b=e.getTempRet0();return p(_,b);case s2:return null;case r2:return t.value_text(I);default:throw new ts("unknown type",P)}},t.value_blob=function(){const P=e.cwrap("sqlite3_value_blob",...Ze("n:n"));return function(_){const b=t.value_bytes(_),T=P(_);return e.HEAPU8.subarray(T,T+b)}}(),t.value_bytes=function(){const P=e.cwrap("sqlite3_value_bytes",...Ze("n:n"));return function(_){return P(_)}}(),t.value_double=function(){const P=e.cwrap("sqlite3_value_double",...Ze("n:n"));return function(_){return P(_)}}(),t.value_int=function(){const P=e.cwrap("sqlite3_value_int64",...Ze("n:n"));return function(_){return P(_)}}(),t.value_int64=function(){const P=e.cwrap("sqlite3_value_int64",...Ze("n:n"));return function(_){const b=P(_),T=e.getTempRet0();return d(b,T)}}(),t.value_text=function(){const P=e.cwrap("sqlite3_value_text",...Ze("n:s"));return function(_){return P(_)}}(),t.value_type=function(){const P=e.cwrap("sqlite3_value_type",...Ze("n:n"));return function(_){return P(_)}}(),t.vfs_register=function(I,P){const _=e.registerVFS(I,P);return U("sqlite3_vfs_register",_)};function U(I,P,_=null,b=[wt]){if(b.includes(P))return P;const T=_?e.ccall("sqlite3_errmsg","string",["number"],[_]):I;throw new ts(T,P)}return t}function Ze(e){const t=[],n=e.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":t.push("number");break;case"s":t.push("string");break;case"v":t.push(null);break}const i=[];for(let a of n[1])switch(a){case"n":i.push("number");break;case"s":i.push("string");break}return t.push(i),t}var D4=(()=>{var e=import.meta.url;return function(t={}){var n=t,i,a;n.ready=new Promise((y,v)=>{i=y,a=v});var l=Object.assign({},n),d="./this.program",p=(y,v)=>{throw v},x=typeof window=="object",m=typeof importScripts=="function",E="",C;(x||m)&&(m?E=self.location.href:typeof document<"u"&&document.currentScript&&(E=document.currentScript.src),e&&(E=e),E.indexOf("blob:")!==0?E=E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):E="",m&&(C=y=>{var v=new XMLHttpRequest;return v.open("GET",y,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}));var O=n.print||console.log.bind(console),D=n.printErr||console.error.bind(console);Object.assign(n,l),l=null,n.thisProgram&&(d=n.thisProgram),n.quit&&(p=n.quit);var U;n.wasmBinary&&(U=n.wasmBinary);var I=n.noExitRuntime||!0;typeof WebAssembly!="object"&&Ae("no native wasm support detected");var P,_=!1,b,T,L,X,G,W,Y,te;function ce(){var y=P.buffer;n.HEAP8=T=new Int8Array(y),n.HEAP16=X=new Int16Array(y),n.HEAPU8=L=new Uint8Array(y),n.HEAPU16=new Uint16Array(y),n.HEAP32=G=new Int32Array(y),n.HEAPU32=W=new Uint32Array(y),n.HEAPF32=Y=new Float32Array(y),n.HEAPF64=te=new Float64Array(y)}var De=[],ye=[],Xe=[],ot=[],re=0;function _t(){var y=n.preRun.shift();De.unshift(y)}var be=0,pe=null;function Ae(y){throw n.onAbort&&n.onAbort(y),y="Aborted("+y+")",D(y),_=!0,b=1,y=new WebAssembly.RuntimeError(y+". Build with -sASSERTIONS for more info."),a(y),y}function Le(y){return y.startsWith("data:application/octet-stream;base64,")}var Qe;if(n.locateFile){if(Qe="wa-sqlite-async.wasm",!Le(Qe)){var at=Qe;Qe=n.locateFile?n.locateFile(at,E):E+at}}else Qe=new URL("/ingredients-finder/assets/wa-sqlite-async-DY3_ptqa.wasm",import.meta.url).href;function er(y){if(y==Qe&&U)return new Uint8Array(U);if(C)return C(y);throw"both async and sync fetching of the wasm failed"}function Vt(y){return U||!x&&!m||typeof fetch!="function"?Promise.resolve().then(()=>er(y)):fetch(y,{credentials:"same-origin"}).then(v=>{if(!v.ok)throw"failed to load wasm binary file at '"+y+"'";return v.arrayBuffer()}).catch(()=>er(y))}function vi(y,v,S){return Vt(y).then(M=>WebAssembly.instantiate(M,v)).then(M=>M).then(S,M=>{D(`failed to asynchronously prepare wasm: ${M}`),Ae(M)})}function ke(y,v){var S=Qe;return U||typeof WebAssembly.instantiateStreaming!="function"||Le(S)||typeof fetch!="function"?vi(S,y,v):fetch(S,{credentials:"same-origin"}).then(M=>WebAssembly.instantiateStreaming(M,y).then(v,function(j){return D(`wasm streaming compile failed: ${j}`),D("falling back to ArrayBuffer instantiation"),vi(S,y,v)}))}var Be,qe;function bs(y){this.name="ExitStatus",this.message=`Program terminated with exit(${y})`,this.status=y}var Ei=y=>{for(;0<y.length;)y.shift()(n)};function mt(y,v="i8"){switch(v.endsWith("*")&&(v="*"),v){case"i1":return T[y>>0];case"i8":return T[y>>0];case"i16":return X[y>>1];case"i32":return G[y>>2];case"i64":Ae("to do getValue(i64) use WASM_BIGINT");case"float":return Y[y>>2];case"double":return te[y>>3];case"*":return W[y>>2];default:Ae(`invalid type for getValue: ${v}`)}}function tr(y,v,S="i8"){switch(S.endsWith("*")&&(S="*"),S){case"i1":T[y>>0]=v;break;case"i8":T[y>>0]=v;break;case"i16":X[y>>1]=v;break;case"i32":G[y>>2]=v;break;case"i64":Ae("to do setValue(i64) use WASM_BIGINT");case"float":Y[y>>2]=v;break;case"double":te[y>>3]=v;break;case"*":W[y>>2]=v;break;default:Ae(`invalid type for setValue: ${S}`)}}var gt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,st=(y,v,S)=>{var M=v+S;for(S=v;y[S]&&!(S>=M);)++S;if(16<S-v&&y.buffer&&gt)return gt.decode(y.subarray(v,S));for(M="";v<S;){var j=y[v++];if(j&128){var ee=y[v++]&63;if((j&224)==192)M+=String.fromCharCode((j&31)<<6|ee);else{var Q=y[v++]&63;j=(j&240)==224?(j&15)<<12|ee<<6|Q:(j&7)<<18|ee<<12|Q<<6|y[v++]&63,65536>j?M+=String.fromCharCode(j):(j-=65536,M+=String.fromCharCode(55296|j>>10,56320|j&1023))}}else M+=String.fromCharCode(j)}return M},br=(y,v)=>{for(var S=0,M=y.length-1;0<=M;M--){var j=y[M];j==="."?y.splice(M,1):j===".."?(y.splice(M,1),S++):S&&(y.splice(M,1),S--)}if(v)for(;S;S--)y.unshift("..");return y},dr=y=>{var v=y.charAt(0)==="/",S=y.substr(-1)==="/";return(y=br(y.split("/").filter(M=>!!M),!v).join("/"))||v||(y="."),y&&S&&(y+="/"),(v?"/":"")+y},wn=y=>{var v=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(y).slice(1);return y=v[0],v=v[1],!y&&!v?".":(v&&(v=v.substr(0,v.length-1)),y+v)},Et=y=>{if(y==="/")return"/";y=dr(y),y=y.replace(/\/$/,"");var v=y.lastIndexOf("/");return v===-1?y:y.substr(v+1)},ft=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return y=>crypto.getRandomValues(y);Ae("initRandomDevice")},So=y=>(So=ft())(y);function Re(){for(var y="",v=!1,S=arguments.length-1;-1<=S&&!v;S--){if(v=0<=S?arguments[S]:"/",typeof v!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!v)return"";y=v+"/"+y,v=v.charAt(0)==="/"}return y=br(y.split("/").filter(M=>!!M),!v).join("/"),(v?"/":"")+y||"."}var Ss=[],Ci=y=>{for(var v=0,S=0;S<y.length;++S){var M=y.charCodeAt(S);127>=M?v++:2047>=M?v+=2:55296<=M&&57343>=M?(v+=4,++S):v+=3}return v},Pn=(y,v,S,M)=>{if(!(0<M))return 0;var j=S;M=S+M-1;for(var ee=0;ee<y.length;++ee){var Q=y.charCodeAt(ee);if(55296<=Q&&57343>=Q){var ae=y.charCodeAt(++ee);Q=65536+((Q&1023)<<10)|ae&1023}if(127>=Q){if(S>=M)break;v[S++]=Q}else{if(2047>=Q){if(S+1>=M)break;v[S++]=192|Q>>6}else{if(65535>=Q){if(S+2>=M)break;v[S++]=224|Q>>12}else{if(S+3>=M)break;v[S++]=240|Q>>18,v[S++]=128|Q>>12&63}v[S++]=128|Q>>6&63}v[S++]=128|Q&63}}return v[S]=0,S-j},Ca=[];function hr(y,v){Ca[y]={input:[],Tb:[],dc:v},Zn(y,Mc)}var Mc={open(y){var v=Ca[y.node.hc];if(!v)throw new we(43);y.Ub=v,y.seekable=!1},close(y){y.Ub.dc.kc(y.Ub)},kc(y){y.Ub.dc.kc(y.Ub)},read(y,v,S,M){if(!y.Ub||!y.Ub.dc.zc)throw new we(60);for(var j=0,ee=0;ee<M;ee++){try{var Q=y.Ub.dc.zc(y.Ub)}catch{throw new we(29)}if(Q===void 0&&j===0)throw new we(6);if(Q==null)break;j++,v[S+ee]=Q}return j&&(y.node.timestamp=Date.now()),j},write(y,v,S,M){if(!y.Ub||!y.Ub.dc.tc)throw new we(60);try{for(var j=0;j<M;j++)y.Ub.dc.tc(y.Ub,v[S+j])}catch{throw new we(29)}return M&&(y.node.timestamp=Date.now()),j}},Ai={zc(){e:{if(!Ss.length){var y=null;if(typeof window<"u"&&typeof window.prompt=="function"?(y=window.prompt("Input: "),y!==null&&(y+=`
`)):typeof readline=="function"&&(y=readline(),y!==null&&(y+=`
`)),!y){var v=null;break e}v=Array(Ci(y)+1),y=Pn(y,v,0,v.length),v.length=y,Ss=v}v=Ss.shift()}return v},tc(y,v){v===null||v===10?(O(st(y.Tb,0)),y.Tb=[]):v!=0&&y.Tb.push(v)},kc(y){y.Tb&&0<y.Tb.length&&(O(st(y.Tb,0)),y.Tb=[])},$c(){return{Wc:25856,Yc:5,Vc:191,Xc:35387,Uc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ad(){return 0},bd(){return[24,80]}},Mn={tc(y,v){v===null||v===10?(D(st(y.Tb,0)),y.Tb=[]):v!=0&&y.Tb.push(v)},kc(y){y.Tb&&0<y.Tb.length&&(D(st(y.Tb,0)),y.Tb=[])}};function Kl(y,v){var S=y.Pb?y.Pb.length:0;S>=v||(v=Math.max(v,S*(1048576>S?2:1.125)>>>0),S!=0&&(v=Math.max(v,256)),S=y.Pb,y.Pb=new Uint8Array(v),0<y.Rb&&y.Pb.set(S.subarray(0,y.Rb),0))}var Ke={Xb:null,Wb(){return Ke.createNode(null,"/",16895,0)},createNode(y,v,S,M){if((S&61440)===24576||(S&61440)===4096)throw new we(63);return Ke.Xb||(Ke.Xb={dir:{node:{Vb:Ke.Eb.Vb,Sb:Ke.Eb.Sb,ec:Ke.Eb.ec,lc:Ke.Eb.lc,Dc:Ke.Eb.Dc,qc:Ke.Eb.qc,oc:Ke.Eb.oc,Cc:Ke.Eb.Cc,pc:Ke.Eb.pc},stream:{ac:Ke.Ob.ac}},file:{node:{Vb:Ke.Eb.Vb,Sb:Ke.Eb.Sb},stream:{ac:Ke.Ob.ac,read:Ke.Ob.read,write:Ke.Ob.write,wc:Ke.Ob.wc,mc:Ke.Ob.mc,nc:Ke.Ob.nc}},link:{node:{Vb:Ke.Eb.Vb,Sb:Ke.Eb.Sb,ic:Ke.Eb.ic},stream:{}},xc:{node:{Vb:Ke.Eb.Vb,Sb:Ke.Eb.Sb},stream:Ki}}),S=ba(y,v,S,M),It(S.mode)?(S.Eb=Ke.Xb.dir.node,S.Ob=Ke.Xb.dir.stream,S.Pb={}):(S.mode&61440)===32768?(S.Eb=Ke.Xb.file.node,S.Ob=Ke.Xb.file.stream,S.Rb=0,S.Pb=null):(S.mode&61440)===40960?(S.Eb=Ke.Xb.link.node,S.Ob=Ke.Xb.link.stream):(S.mode&61440)===8192&&(S.Eb=Ke.Xb.xc.node,S.Ob=Ke.Xb.xc.stream),S.timestamp=Date.now(),y&&(y.Pb[v]=S,y.timestamp=S.timestamp),S},Zc(y){return y.Pb?y.Pb.subarray?y.Pb.subarray(0,y.Rb):new Uint8Array(y.Pb):new Uint8Array(0)},Eb:{Vb(y){var v={};return v.Jc=(y.mode&61440)===8192?y.id:1,v.Ac=y.id,v.mode=y.mode,v.Pc=1,v.uid=0,v.Mc=0,v.hc=y.hc,It(y.mode)?v.size=4096:(y.mode&61440)===32768?v.size=y.Rb:(y.mode&61440)===40960?v.size=y.link.length:v.size=0,v.Fc=new Date(y.timestamp),v.Oc=new Date(y.timestamp),v.Ic=new Date(y.timestamp),v.Gc=4096,v.Hc=Math.ceil(v.size/v.Gc),v},Sb(y,v){if(v.mode!==void 0&&(y.mode=v.mode),v.timestamp!==void 0&&(y.timestamp=v.timestamp),v.size!==void 0&&(v=v.size,y.Rb!=v))if(v==0)y.Pb=null,y.Rb=0;else{var S=y.Pb;y.Pb=new Uint8Array(v),S&&y.Pb.set(S.subarray(0,Math.min(v,y.Rb))),y.Rb=v}},ec(){throw Aa[44]},lc(y,v,S,M){return Ke.createNode(y,v,S,M)},Dc(y,v,S){if(It(y.mode)){try{var M=vn(v,S)}catch{}if(M)for(var j in M.Pb)throw new we(55)}delete y.parent.Pb[y.name],y.parent.timestamp=Date.now(),y.name=S,v.Pb[S]=y,v.timestamp=y.parent.timestamp,y.parent=v},qc(y,v){delete y.Pb[v],y.timestamp=Date.now()},oc(y,v){var S=vn(y,v),M;for(M in S.Pb)throw new we(55);delete y.Pb[v],y.timestamp=Date.now()},Cc(y){var v=[".",".."],S;for(S in y.Pb)y.Pb.hasOwnProperty(S)&&v.push(S);return v},pc(y,v,S){return y=Ke.createNode(y,v,41471,0),y.link=S,y},ic(y){if((y.mode&61440)!==40960)throw new we(28);return y.link}},Ob:{read(y,v,S,M,j){var ee=y.node.Pb;if(j>=y.node.Rb)return 0;if(y=Math.min(y.node.Rb-j,M),8<y&&ee.subarray)v.set(ee.subarray(j,j+y),S);else for(M=0;M<y;M++)v[S+M]=ee[j+M];return y},write(y,v,S,M,j,ee){if(v.buffer===T.buffer&&(ee=!1),!M)return 0;if(y=y.node,y.timestamp=Date.now(),v.subarray&&(!y.Pb||y.Pb.subarray)){if(ee)return y.Pb=v.subarray(S,S+M),y.Rb=M;if(y.Rb===0&&j===0)return y.Pb=v.slice(S,S+M),y.Rb=M;if(j+M<=y.Rb)return y.Pb.set(v.subarray(S,S+M),j),M}if(Kl(y,j+M),y.Pb.subarray&&v.subarray)y.Pb.set(v.subarray(S,S+M),j);else for(ee=0;ee<M;ee++)y.Pb[j+ee]=v[S+ee];return y.Rb=Math.max(y.Rb,j+M),M},ac(y,v,S){if(S===1?v+=y.position:S===2&&(y.node.mode&61440)===32768&&(v+=y.node.Rb),0>v)throw new we(28);return v},wc(y,v,S){Kl(y.node,v+S),y.node.Rb=Math.max(y.node.Rb,v+S)},mc(y,v,S,M,j){if((y.node.mode&61440)!==32768)throw new we(43);if(y=y.node.Pb,j&2||y.buffer!==T.buffer){if((0<S||S+v<y.length)&&(y.subarray?y=y.subarray(S,S+v):y=Array.prototype.slice.call(y,S,S+v)),S=!0,v=65536*Math.ceil(v/65536),(j=Ve(65536,v))?(L.fill(0,j,j+v),v=j):v=0,!v)throw new we(48);T.set(y,v)}else S=!1,v=y.byteOffset;return{Qc:v,Ec:S}},nc(y,v,S,M){return Ke.Ob.write(y,v,0,M,S,!1),0}}},rh=(y,v)=>{var S=0;return y&&(S|=365),v&&(S|=146),S},qt=null,Ee={},Ut=[],Tt=1,Ct=null,Ts=!0,we=null,Aa={};function We(y,v={}){if(y=Re(y),!y)return{path:"",node:null};if(v=Object.assign({yc:!0,uc:0},v),8<v.uc)throw new we(32);y=y.split("/").filter(Q=>!!Q);for(var S=qt,M="/",j=0;j<y.length;j++){var ee=j===y.length-1;if(ee&&v.parent)break;if(S=vn(S,y[j]),M=dr(M+"/"+y[j]),S.bc&&(!ee||ee&&v.yc)&&(S=S.bc.root),!ee||v.$b){for(ee=0;(S.mode&61440)===40960;)if(S=Io(M),M=Re(wn(M),S),S=We(M,{uc:v.uc+1}).node,40<ee++)throw new we(32)}}return{path:M,node:S}}function jr(y){for(var v;;){if(y===y.parent)return y=y.Wb.Bc,v?y[y.length-1]!=="/"?`${y}/${v}`:y+v:y;v=v?`${y.name}/${v}`:y.name,y=y.parent}}function _a(y,v){for(var S=0,M=0;M<v.length;M++)S=(S<<5)-S+v.charCodeAt(M)|0;return(y+S>>>0)%Ct.length}function Yl(y){var v=_a(y.parent.id,y.name);if(Ct[v]===y)Ct[v]=y.cc;else for(v=Ct[v];v;){if(v.cc===y){v.cc=y.cc;break}v=v.cc}}function vn(y,v){var S;if(S=(S=ni(y,"x"))?S:y.Eb.ec?0:2)throw new we(S,y);for(S=Ct[_a(y.id,v)];S;S=S.cc){var M=S.name;if(S.parent.id===y.id&&M===v)return S}return y.Eb.ec(y,v)}function ba(y,v,S,M){return y=new Oa(y,v,S,M),v=_a(y.parent.id,y.name),y.cc=Ct[v],Ct[v]=y}function It(y){return(y&61440)===16384}function Zi(y){var v=["r","w","rw"][y&3];return y&512&&(v+="w"),v}function ni(y,v){if(Ts)return 0;if(!v.includes("r")||y.mode&292){if(v.includes("w")&&!(y.mode&146)||v.includes("x")&&!(y.mode&73))return 2}else return 2;return 0}function Sr(y,v){try{return vn(y,v),20}catch{}return ni(y,"wx")}function Lc(y,v,S){try{var M=vn(y,v)}catch(j){return j.Qb}if(y=ni(y,"wx"))return y;if(S){if(!It(M.mode))return 54;if(M===M.parent||jr(M)==="/")return 10}else if(It(M.mode))return 31;return 0}function qi(){for(var y=0;4096>=y;y++)if(!Ut[y])return y;throw new we(33)}function En(y){if(y=Ut[y],!y)throw new we(8);return y}function Ln(y,v=-1){return Dt||(Dt=function(){this.jc={}},Dt.prototype={},Object.defineProperties(Dt.prototype,{object:{get(){return this.node},set(S){this.node=S}},flags:{get(){return this.jc.flags},set(S){this.jc.flags=S}},position:{get(){return this.jc.position},set(S){this.jc.position=S}}})),y=Object.assign(new Dt,y),v==-1&&(v=qi()),y.Yb=v,Ut[v]=y}var Ki={open(y){y.Ob=Ee[y.node.hc].Ob,y.Ob.open&&y.Ob.open(y)},ac(){throw new we(70)}};function Zn(y,v){Ee[y]={Ob:v}}function Ie(y,v){var S=v==="/",M=!v;if(S&&qt)throw new we(10);if(!S&&!M){var j=We(v,{yc:!1});if(v=j.path,j=j.node,j.bc)throw new we(10);if(!It(j.mode))throw new we(54)}v={type:y,dd:{},Bc:v,Nc:[]},y=y.Wb(v),y.Wb=v,v.root=y,S?qt=y:j&&(j.bc=v,j.Wb&&j.Wb.Nc.push(v))}function _i(y,v,S){var M=We(y,{parent:!0}).node;if(y=Et(y),!y||y==="."||y==="..")throw new we(28);var j=Sr(M,y);if(j)throw new we(j);if(!M.Eb.lc)throw new we(63);return M.Eb.lc(M,y,v,S)}function pr(y,v){return _i(y,(v!==void 0?v:511)&1023|16384,0)}function Cn(y,v,S){typeof S>"u"&&(S=v,v=438),_i(y,v|8192,S)}function bi(y,v){if(!Re(y))throw new we(44);var S=We(v,{parent:!0}).node;if(!S)throw new we(44);v=Et(v);var M=Sr(S,v);if(M)throw new we(M);if(!S.Eb.pc)throw new we(63);S.Eb.pc(S,v,y)}function To(y){var v=We(y,{parent:!0}).node;y=Et(y);var S=vn(v,y),M=Lc(v,y,!0);if(M)throw new we(M);if(!v.Eb.oc)throw new we(63);if(S.bc)throw new we(10);v.Eb.oc(v,y),Yl(S)}function Io(y){if(y=We(y).node,!y)throw new we(44);if(!y.Eb.ic)throw new we(28);return Re(jr(y.parent),y.Eb.ic(y))}function nr(y,v){if(y=We(y,{$b:!v}).node,!y)throw new we(44);if(!y.Eb.Vb)throw new we(63);return y.Eb.Vb(y)}function Bc(y){return nr(y,!0)}function Fc(y,v){if(y=typeof y=="string"?We(y,{$b:!0}).node:y,!y.Eb.Sb)throw new we(63);y.Eb.Sb(y,{mode:v&4095|y.mode&-4096,timestamp:Date.now()})}function Tr(y,v){if(0>v)throw new we(28);if(y=typeof y=="string"?We(y,{$b:!0}).node:y,!y.Eb.Sb)throw new we(63);if(It(y.mode))throw new we(31);if((y.mode&61440)!==32768)throw new we(28);var S=ni(y,"w");if(S)throw new we(S);y.Eb.Sb(y,{size:v,timestamp:Date.now()})}function gn(y,v,S){if(y==="")throw new we(44);if(typeof v=="string"){var M={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[v];if(typeof M>"u")throw Error(`Unknown file open mode: ${v}`);v=M}if(S=v&64?(typeof S>"u"?438:S)&4095|32768:0,typeof y=="object")var j=y;else{y=dr(y);try{j=We(y,{$b:!(v&131072)}).node}catch{}}if(M=!1,v&64)if(j){if(v&128)throw new we(20)}else j=_i(y,S,0),M=!0;if(!j)throw new we(44);if((j.mode&61440)===8192&&(v&=-513),v&65536&&!It(j.mode))throw new we(54);if(!M&&(S=j?(j.mode&61440)===40960?32:It(j.mode)&&(Zi(v)!=="r"||v&512)?31:ni(j,Zi(v)):44))throw new we(S);return v&512&&!M&&Tr(j,0),v&=-131713,j=Ln({node:j,path:jr(j),flags:v,seekable:!0,position:0,Ob:j.Ob,Tc:[],error:!1}),j.Ob.open&&j.Ob.open(j),!n.logReadFiles||v&1||(ii||(ii={}),y in ii||(ii[y]=1)),j}function Pt(y,v,S){if(y.Yb===null)throw new we(8);if(!y.seekable||!y.Ob.ac)throw new we(70);if(S!=0&&S!=1&&S!=2)throw new we(28);y.position=y.Ob.ac(y,v,S),y.Tc=[]}function Ql(){we||(we=function(y,v){this.name="ErrnoError",this.node=v,this.Rc=function(S){this.Qb=S},this.Rc(y),this.message="FS error"},we.prototype=Error(),we.prototype.constructor=we,[44].forEach(y=>{Aa[y]=new we(y),Aa[y].stack="<generic error, no stack>"}))}var ri;function Yi(y,v,S){y=dr("/dev/"+y);var M=rh(!!v,!!S);oe||(oe=64);var j=oe++<<8|0;Zn(j,{open(ee){ee.seekable=!1},close(){S&&S.buffer&&S.buffer.length&&S(10)},read(ee,Q,ae,$){for(var ie=0,fe=0;fe<$;fe++){try{var le=v()}catch{throw new we(29)}if(le===void 0&&ie===0)throw new we(6);if(le==null)break;ie++,Q[ae+fe]=le}return ie&&(ee.node.timestamp=Date.now()),ie},write(ee,Q,ae,$){for(var ie=0;ie<$;ie++)try{S(Q[ae+ie])}catch{throw new we(29)}return $&&(ee.node.timestamp=Date.now()),ie}}),Cn(y,M,j)}var oe,Mt={},Dt,ii;function Qi(y,v,S){if(v.charAt(0)==="/")return v;if(y=y===-100?"/":En(y).path,v.length==0){if(!S)throw new we(44);return y}return dr(y+"/"+v)}function dt(y,v,S){try{var M=y(v)}catch(ee){if(ee&&ee.node&&dr(v)!==dr(jr(ee.node)))return-54;throw ee}G[S>>2]=M.Jc,G[S+4>>2]=M.mode,W[S+8>>2]=M.Pc,G[S+12>>2]=M.uid,G[S+16>>2]=M.Mc,G[S+20>>2]=M.hc,qe=[M.size>>>0,(Be=M.size,1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[S+24>>2]=qe[0],G[S+28>>2]=qe[1],G[S+32>>2]=4096,G[S+36>>2]=M.Hc,y=M.Fc.getTime(),v=M.Oc.getTime();var j=M.Ic.getTime();return qe=[Math.floor(y/1e3)>>>0,(Be=Math.floor(y/1e3),1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[S+40>>2]=qe[0],G[S+44>>2]=qe[1],W[S+48>>2]=y%1e3*1e3,qe=[Math.floor(v/1e3)>>>0,(Be=Math.floor(v/1e3),1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[S+56>>2]=qe[0],G[S+60>>2]=qe[1],W[S+64>>2]=v%1e3*1e3,qe=[Math.floor(j/1e3)>>>0,(Be=Math.floor(j/1e3),1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[S+72>>2]=qe[0],G[S+76>>2]=qe[1],W[S+80>>2]=j%1e3*1e3,qe=[M.Ac>>>0,(Be=M.Ac,1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[S+88>>2]=qe[0],G[S+92>>2]=qe[1],0}var ut=void 0;function nt(){var y=G[ut>>2];return ut+=4,y}var $i=(y,v)=>v+2097152>>>0<4194305-!!y?(y>>>0)+4294967296*v:NaN,$l=[0,31,60,91,121,152,182,213,244,274,305,335],Jl=[0,31,59,90,120,151,181,212,243,273,304,334],nn=y=>{var v=Ci(y)+1,S=Ps(v);return S&&Pn(y,L,S,v),S},zr={},Vc=()=>{if(!jt){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},v;for(v in zr)zr[v]===void 0?delete y[v]:y[v]=zr[v];var S=[];for(v in y)S.push(`${v}=${y[v]}`);jt=S}return jt},jt;function si(){}function Uc(){}function Ji(){}function Rt(){}function An(){}function K(){}function F(){}function Me(){}function un(){}function rr(){}function jc(){}function Sa(){}function ir(){}function Fe(){}function Bt(){}function eu(){}function zc(){}function Ta(){}function Ro(){}function Ia(){}function Wc(){}function cn(){}function Is(){}function oi(){}function Ue(){}function Hc(){}function Ye(){}function mn(){}function Gc(){}function Ra(){}function tu(){}function Si(){}function Xc(){}function Rs(){}function Ns(){}function Os(){}function nu(){}function Ds(){}function ks(){}function Bn(){}var Zc=y=>{b=y,p(y,new bs(y))},ru=y=>{y instanceof bs||y=="unwind"||p(1,y)},No=y=>{try{y()}catch(v){Ae(v)}};function ih(y){var v={},S;for(S in y)(function(M){var j=y[M];v[M]=typeof j=="function"?function(){Oo.push(M);try{return j.apply(null,arguments)}finally{_||(Oo.pop()===M||Ae(),Wr&&Ti===1&&Oo.length===0&&(Ti=0,No(Rr),typeof Fibers<"u"&&Fibers.ed()))}}:j})(S);return v}var Ti=0,Wr=null,At=0,Oo=[],Do={},ai={},sh=0,J=null,et=[];function _n(){return new Promise((y,v)=>{J={resolve:y,reject:v}})}function Na(){var y=Ps(16396),v=y+12;W[y>>2]=v,W[y+4>>2]=v+16384,v=Oo[0];var S=Do[v];return S===void 0&&(S=sh++,Do[v]=S,ai[S]=v),G[y+8>>2]=S,y}function iu(y){if(!_){if(Ti===0){var v=!1,S=!1;y((M=0)=>{if(!_&&(At=M,v=!0,S)){Ti=2,No(()=>Da(Wr)),typeof Browser<"u"&&Browser.sc.Lc&&Browser.sc.resume(),M=!1;try{var j=(0,Ce[ai[G[Wr+8>>2]]])()}catch(ae){j=ae,M=!0}var ee=!1;if(!Wr){var Q=J;Q&&(J=null,(M?Q.reject:Q.resolve)(j),ee=!0)}if(M&&!ee)throw j}}),S=!0,v||(Ti=1,Wr=Na(),typeof Browser<"u"&&Browser.sc.Lc&&Browser.sc.pause(),No(()=>Qc(Wr)))}else Ti===2?(Ti=0,No(su),Ii(Wr),Wr=null,et.forEach(M=>{if(!_)try{M(),I||0<re}catch(j){ru(j)}})):Ae(`invalid state: ${Ti}`);return At}}function qc(y){return iu(v=>{y().then(v)})}var Kc={},Ir=(y,v,S,M,j)=>{function ee(le){return--re,$!==0&&Ri($),v==="string"?le?st(L,le):"":v==="boolean"?!!le:le}var Q={string:le=>{var ve=0;if(le!=null&&le!==0){ve=Ci(le)+1;var $e=Ni(ve);Pn(le,L,$e,ve),ve=$e}return ve},array:le=>{var ve=Ni(le.length);return T.set(le,ve),ve}};y=n["_"+y];var ae=[],$=0;if(M)for(var ie=0;ie<M.length;ie++){var fe=Q[S[ie]];fe?($===0&&($=kt()),ae[ie]=fe(M[ie])):ae[ie]=M[ie]}return S=Wr,M=y.apply(null,ae),j=j&&j.async,re+=1,Wr!=S?_n().then(ee):(M=ee(M),j?Promise.resolve(M):M)};function Oa(y,v,S,M){y||(y=this),this.parent=y,this.Wb=y.Wb,this.bc=null,this.id=Tt++,this.name=v,this.mode=S,this.Eb={},this.Ob={},this.hc=M}Object.defineProperties(Oa.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(y){y?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(y){y?this.mode|=146:this.mode&=-147}}}),Ql(),Ct=Array(4096),Ie(Ke,"/"),pr("/tmp"),pr("/home"),pr("/home/web_user"),function(){pr("/dev"),Zn(259,{read:()=>0,write:(M,j,ee,Q)=>Q}),Cn("/dev/null",259),hr(1280,Ai),hr(1536,Mn),Cn("/dev/tty",1280),Cn("/dev/tty1",1536);var y=new Uint8Array(1024),v=0,S=()=>(v===0&&(v=So(y).byteLength),y[--v]);Yi("random",S),Yi("urandom",S),pr("/dev/shm"),pr("/dev/shm/tmp")}(),function(){pr("/proc");var y=pr("/proc/self");pr("/proc/self/fd"),Ie({Wb(){var v=ba(y,"fd",16895,73);return v.Eb={ec(S,M){var j=En(+M);return S={parent:null,Wb:{Bc:"fake"},Eb:{ic:()=>j.path}},S.parent=S}},v}},"/proc/self/fd")}(),function(){const y=new Map;n.setAuthorizer=function(v,S,M){return S?y.set(v,{f:S,vc:M}):y.delete(v),Ir("set_authorizer","number",["number"],[v])},si=function(v,S,M,j,ee,Q){if(y.has(v)){const{f:ae,vc:$}=y.get(v);return ae($,S,M?M?st(L,M):"":null,j?j?st(L,j):"":null,ee?ee?st(L,ee):"":null,Q?Q?st(L,Q):"":null)}return 0}}(),function(){function y(M,j){const ee=[];for(let Q=0;M[j+Q]!=0;++Q){if(1e3<Q)throw Error("C-string never terminated after 1k characters");ee.push(M[j+Q])}return String.fromCharCode(...ee)}const v=new Map,S=new Map;n.createFunction=function(M,j,ee,Q,ae,$){const ie=v.size;return v.set(ie,{f:$,Zb:ae}),Ir("create_function","number","number string number number number number".split(" "),[M,j,ee,Q,ie,0])},n.createAggregate=function(M,j,ee,Q,ae,$,ie){const fe=v.size;return v.set(fe,{step:$,Kc:ie,Zb:ae}),Ir("create_function","number","number string number number number number".split(" "),[M,j,ee,Q,fe,1])},n.getFunctionUserData=function(M){return S.get(M)},n.updateHook=function(M,j){const ee=v.size;return v.set(ee,j),Ir("update_hook","void",["number","number"],[M,ee])},Ji=function(M,j,ee,Q){M=v.get(M),S.set(j,M.Zb),M.f(j,new Uint32Array(L.buffer,Q,ee)),S.delete(j)},An=function(M,j,ee,Q){M=v.get(M),S.set(j,M.Zb),M.step(j,new Uint32Array(L.buffer,Q,ee)),S.delete(j)},Uc=function(M,j){M=v.get(M),S.set(j,M.Zb),M.Kc(j),S.delete(j)},K=function(M,j,ee,Q,ae,$){M=v.get(M);const ie=L;ae=BigInt($)<<32n|BigInt(ae)&4294967295n,M(j,y(ie,ee),y(ie,Q),ae)}}(),function(){const y=new Map;n.progressHandler=function(v,S,M,j){return M?y.set(v,{f:M,vc:j}):y.delete(v),Ir("progress_handler",null,["number","number"],[v,S])},Rt=function(v){if(y.has(v)){const{f:S,vc:M}=y.get(v);return S(M)}return 0}}(),function(){function y($,ie){const fe=`get${$}`,le=`set${$}`;return new Proxy(new DataView(L.buffer,ie,$==="Int32"?4:8),{get(ve,$e){if($e===fe)return function(yt,Nt){if(!Nt)throw Error("must be little endian");return ve[$e](yt,Nt)};if($e===le)return function(yt,Nt,rn){if(!rn)throw Error("must be little endian");return ve[$e](yt,Nt,rn)};if(typeof $e=="string"&&$e.match(/^(get)|(set)/))throw Error("invalid type");return ve[$e]}})}const v=typeof Kc=="object",S=new Map,M=new Map,j=new Map,ee=v?new Set:null,Q=v?new Set:null,ae=new Map;Is=function($,ie,fe,le){ae.set($?st(L,$):"",{size:ie,fc:Array.from(new Uint32Array(L.buffer,le,fe))})},n.createModule=function($,ie,fe,le){v&&(fe.handleAsync=qc);const ve=S.size;return S.set(ve,{module:fe,Zb:le}),le=0,fe.xCreate&&(le|=1),fe.xConnect&&(le|=2),fe.xBestIndex&&(le|=4),fe.xDisconnect&&(le|=8),fe.xDestroy&&(le|=16),fe.xOpen&&(le|=32),fe.xClose&&(le|=64),fe.xFilter&&(le|=128),fe.xNext&&(le|=256),fe.xEof&&(le|=512),fe.xColumn&&(le|=1024),fe.xRowid&&(le|=2048),fe.xUpdate&&(le|=4096),fe.xBegin&&(le|=8192),fe.xSync&&(le|=16384),fe.xCommit&&(le|=32768),fe.xRollback&&(le|=65536),fe.xFindFunction&&(le|=131072),fe.xRename&&(le|=262144),Ir("create_module","number",["number","string","number","number"],[$,ie,ve,le])},ir=function($,ie,fe,le,ve,$e){if(ie=S.get(ie),M.set(ve,ie),v){ee.delete(ve);for(const yt of ee)M.delete(yt)}return le=Array.from(new Uint32Array(L.buffer,le,fe)).map(yt=>yt?st(L,yt):""),ie.module.xCreate($,ie.Zb,le,ve,y("Int32",$e))},Sa=function($,ie,fe,le,ve,$e){if(ie=S.get(ie),M.set(ve,ie),v){ee.delete(ve);for(const yt of ee)M.delete(yt)}return le=Array.from(new Uint32Array(L.buffer,le,fe)).map(yt=>yt?st(L,yt):""),ie.module.xConnect($,ie.Zb,le,ve,y("Int32",$e))},Me=function($,ie){var fe=M.get($),le=ae.get("sqlite3_index_info").fc;const ve={};ve.nConstraint=mt(ie+le[0],"i32"),ve.aConstraint=[];for(var $e=mt(ie+le[1],"*"),yt=ae.get("sqlite3_index_constraint").size,Nt=0;Nt<ve.nConstraint;++Nt){var rn=ve.aConstraint,Rn=rn.push,Qt=$e+Nt*yt,rt=ae.get("sqlite3_index_constraint").fc,Nr={};Nr.iColumn=mt(Qt+rt[0],"i32"),Nr.op=mt(Qt+rt[1],"i8"),Nr.usable=!!mt(Qt+rt[2],"i8"),Rn.call(rn,Nr)}for(ve.nOrderBy=mt(ie+le[2],"i32"),ve.aOrderBy=[],$e=mt(ie+le[3],"*"),yt=ae.get("sqlite3_index_orderby").size,Nt=0;Nt<ve.nOrderBy;++Nt)rn=ve.aOrderBy,Rn=rn.push,Qt=$e+Nt*yt,rt=ae.get("sqlite3_index_orderby").fc,Nr={},Nr.iColumn=mt(Qt+rt[0],"i32"),Nr.desc=!!mt(Qt+rt[1],"i8"),Rn.call(rn,Nr);for(ve.aConstraintUsage=[],$e=0;$e<ve.nConstraint;++$e)ve.aConstraintUsage.push({argvIndex:0,omit:!1});for(ve.idxNum=mt(ie+le[5],"i32"),ve.idxStr=null,ve.orderByConsumed=!!mt(ie+le[8],"i8"),ve.estimatedCost=mt(ie+le[9],"double"),ve.estimatedRows=mt(ie+le[10],"i32"),ve.idxFlags=mt(ie+le[11],"i32"),ve.colUsed=mt(ie+le[12],"i32"),$=fe.module.xBestIndex($,ve),fe=ae.get("sqlite3_index_info").fc,le=mt(ie+fe[4],"*"),$e=ae.get("sqlite3_index_constraint_usage").size,Rn=0;Rn<ve.nConstraint;++Rn)yt=le+Rn*$e,rn=ve.aConstraintUsage[Rn],Qt=ae.get("sqlite3_index_constraint_usage").fc,tr(yt+Qt[0],rn.argvIndex,"i32"),tr(yt+Qt[1],rn.omit?1:0,"i8");return tr(ie+fe[5],ve.idxNum,"i32"),typeof ve.idxStr=="string"&&(le=Ci(ve.idxStr),$e=Ir("sqlite3_malloc","number",["number"],[le+1]),Pn(ve.idxStr,L,$e,le+1),tr(ie+fe[6],$e,"*"),tr(ie+fe[7],1,"i32")),tr(ie+fe[8],ve.orderByConsumed,"i32"),tr(ie+fe[9],ve.estimatedCost,"double"),tr(ie+fe[10],ve.estimatedRows,"i32"),tr(ie+fe[11],ve.idxFlags,"i32"),$},Bt=function($){const ie=M.get($);return v?ee.add($):M.delete($),ie.module.xDisconnect($)},Fe=function($){const ie=M.get($);return v?ee.add($):M.delete($),ie.module.xDestroy($)},Ro=function($,ie){const fe=M.get($);if(j.set(ie,fe),v){Q.delete(ie);for(const le of Q)j.delete(le)}return fe.module.xOpen($,ie)},un=function($){const ie=j.get($);return v?Q.add($):j.delete($),ie.module.xClose($)},eu=function($){return j.get($).module.xEof($)?1:0},zc=function($,ie,fe,le,ve){const $e=j.get($);return fe=fe?fe?st(L,fe):"":null,ve=new Uint32Array(L.buffer,ve,le),$e.module.xFilter($,ie,fe,ve)},Ta=function($){return j.get($).module.xNext($)},rr=function($,ie,fe){return j.get($).module.xColumn($,ie,fe)},cn=function($,ie){return j.get($).module.xRowid($,y("BigInt64",ie))},Ue=function($,ie,fe,le){const ve=M.get($);return fe=new Uint32Array(L.buffer,fe,ie),ve.module.xUpdate($,fe,y("BigInt64",le))},F=function($){return M.get($).module.xBegin($)},oi=function($){return M.get($).module.xSync($)},jc=function($){return M.get($).module.xCommit($)},Wc=function($){return M.get($).module.xRollback($)},Ia=function($,ie){const fe=M.get($);return ie=ie?st(L,ie):"",fe.module.xRename($,ie)}}(),function(){function y(Q,ae){const $=`get${Q}`,ie=`set${Q}`;return new Proxy(new DataView(L.buffer,ae,Q==="Int32"?4:8),{get(fe,le){if(le===$)return function(ve,$e){if(!$e)throw Error("must be little endian");return fe[le](ve,$e)};if(le===ie)return function(ve,$e,yt){if(!yt)throw Error("must be little endian");return fe[le](ve,$e,yt)};if(typeof le=="string"&&le.match(/^(get)|(set)/))throw Error("invalid type");return fe[le]}})}function v(Q){return Q>>=2,W[Q]+W[Q+1]*2**32}const S=typeof Kc=="object",M=new Map,j=new Map;n.registerVFS=function(Q,ae){if(Ir("sqlite3_vfs_find","number",["string"],[Q.name]))throw Error(`VFS '${Q.name}' already registered`);S&&(Q.handleAsync=qc);var $=Q.cd??64;const ie=n._malloc(4);return ae=Ir("register_vfs","number",["string","number","number","number"],[Q.name,$,ae?1:0,ie]),ae||($=mt(ie,"*"),M.set($,Q)),n._free(ie),ae};const ee=S?new Set:null;mn=function(Q){const ae=j.get(Q);return S?ee.add(Q):j.delete(Q),ae.xClose(Q)},Ns=function(Q,ae,$,ie){return j.get(Q).xRead(Q,L.subarray(ae,ae+$),v(ie))},Bn=function(Q,ae,$,ie){return j.get(Q).xWrite(Q,L.subarray(ae,ae+$),v(ie))},Ds=function(Q,ae){return j.get(Q).xTruncate(Q,v(ae))},nu=function(Q,ae){return j.get(Q).xSync(Q,ae)},Si=function(Q,ae){const $=j.get(Q);return ae=y("BigInt64",ae),$.xFileSize(Q,ae)},Xc=function(Q,ae){return j.get(Q).xLock(Q,ae)},ks=function(Q,ae){return j.get(Q).xUnlock(Q,ae)},Ye=function(Q,ae){const $=j.get(Q);return ae=y("Int32",ae),$.xCheckReservedLock(Q,ae)},tu=function(Q,ae,$){const ie=j.get(Q);return $=new DataView(L.buffer,$),ie.xFileControl(Q,ae,$)},Os=function(Q){return j.get(Q).xSectorSize(Q)},Ra=function(Q){return j.get(Q).xDeviceCharacteristics(Q)},Rs=function(Q,ae,$,ie,fe){if(Q=M.get(Q),j.set($,Q),S){ee.delete($);for(var le of ee)j.delete(le)}if(le=null,ie&64){le=1;const ve=[];for(;le;){const $e=L[ae++];if($e)ve.push($e);else switch(L[ae]||(le=null),le){case 1:ve.push(63),le=2;break;case 2:ve.push(61),le=3;break;case 3:ve.push(38),le=2}}le=new TextDecoder().decode(new Uint8Array(ve))}else ae&&(le=ae?st(L,ae):"");return fe=y("Int32",fe),Q.xOpen(le,$,ie,fe)},Gc=function(Q,ae,$){return M.get(Q).xDelete(ae?st(L,ae):"",$)},Hc=function(Q,ae,$,ie){return Q=M.get(Q),ie=y("Int32",ie),Q.xAccess(ae?st(L,ae):"",$,ie)}}();var fn={a:(y,v,S,M)=>{Ae(`Assertion failed: ${y?st(L,y):""}, at: `+[v?v?st(L,v):"":"unknown filename",S,M?M?st(L,M):"":"unknown function"])},K:function(y,v){try{return y=y?st(L,y):"",Fc(y,v),0}catch(S){if(typeof Mt>"u"||S.name!=="ErrnoError")throw S;return-S.Qb}},M:function(y,v,S){try{if(v=v?st(L,v):"",v=Qi(y,v),S&-8)return-28;var M=We(v,{$b:!0}).node;return M?(y="",S&4&&(y+="r"),S&2&&(y+="w"),S&1&&(y+="x"),y&&ni(M,y)?-2:0):-44}catch(j){if(typeof Mt>"u"||j.name!=="ErrnoError")throw j;return-j.Qb}},L:function(y,v){try{var S=En(y);return Fc(S.node,v),0}catch(M){if(typeof Mt>"u"||M.name!=="ErrnoError")throw M;return-M.Qb}},J:function(y){try{var v=En(y).node,S=typeof v=="string"?We(v,{$b:!0}).node:v;if(!S.Eb.Sb)throw new we(63);return S.Eb.Sb(S,{timestamp:Date.now()}),0}catch(M){if(typeof Mt>"u"||M.name!=="ErrnoError")throw M;return-M.Qb}},b:function(y,v,S){ut=S;try{var M=En(y);switch(v){case 0:var j=nt();if(0>j)return-28;for(;Ut[j];)j++;return Ln(M,j).Yb;case 1:case 2:return 0;case 3:return M.flags;case 4:return j=nt(),M.flags|=j,0;case 5:return j=nt(),X[j+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return G[zt()>>2]=28,-1;default:return-28}}catch(ee){if(typeof Mt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Qb}},I:function(y,v){try{var S=En(y);return dt(nr,S.path,v)}catch(M){if(typeof Mt>"u"||M.name!=="ErrnoError")throw M;return-M.Qb}},n:function(y,v,S){v=$i(v,S);try{if(isNaN(v))return 61;var M=En(y);if(!(M.flags&2097155))throw new we(28);return Tr(M.node,v),0}catch(j){if(typeof Mt>"u"||j.name!=="ErrnoError")throw j;return-j.Qb}},C:function(y,v){try{if(v===0)return-28;var S=Ci("/")+1;return v<S?-68:(Pn("/",L,y,v),S)}catch(M){if(typeof Mt>"u"||M.name!=="ErrnoError")throw M;return-M.Qb}},F:function(y,v){try{return y=y?st(L,y):"",dt(Bc,y,v)}catch(S){if(typeof Mt>"u"||S.name!=="ErrnoError")throw S;return-S.Qb}},z:function(y,v,S){try{return v=v?st(L,v):"",v=Qi(y,v),v=dr(v),v[v.length-1]==="/"&&(v=v.substr(0,v.length-1)),pr(v,S),0}catch(M){if(typeof Mt>"u"||M.name!=="ErrnoError")throw M;return-M.Qb}},E:function(y,v,S,M){try{v=v?st(L,v):"";var j=M&256;return v=Qi(y,v,M&4096),dt(j?Bc:nr,v,S)}catch(ee){if(typeof Mt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Qb}},y:function(y,v,S,M){ut=M;try{v=v?st(L,v):"",v=Qi(y,v);var j=M?nt():0;return gn(v,S,j).Yb}catch(ee){if(typeof Mt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Qb}},v:function(y,v,S,M){try{if(v=v?st(L,v):"",v=Qi(y,v),0>=M)return-28;var j=Io(v),ee=Math.min(M,Ci(j)),Q=T[S+ee];return Pn(j,L,S,M+1),T[S+ee]=Q,ee}catch(ae){if(typeof Mt>"u"||ae.name!=="ErrnoError")throw ae;return-ae.Qb}},u:function(y){try{return y=y?st(L,y):"",To(y),0}catch(v){if(typeof Mt>"u"||v.name!=="ErrnoError")throw v;return-v.Qb}},G:function(y,v){try{return y=y?st(L,y):"",dt(nr,y,v)}catch(S){if(typeof Mt>"u"||S.name!=="ErrnoError")throw S;return-S.Qb}},r:function(y,v,S){try{if(v=v?st(L,v):"",v=Qi(y,v),S===0){y=v;var M=We(y,{parent:!0}).node;if(!M)throw new we(44);var j=Et(y),ee=vn(M,j),Q=Lc(M,j,!1);if(Q)throw new we(Q);if(!M.Eb.qc)throw new we(63);if(ee.bc)throw new we(10);M.Eb.qc(M,j),Yl(ee)}else S===512?To(v):Ae("Invalid flags passed to unlinkat");return 0}catch(ae){if(typeof Mt>"u"||ae.name!=="ErrnoError")throw ae;return-ae.Qb}},q:function(y,v,S){try{if(v=v?st(L,v):"",v=Qi(y,v,!0),S){var M=W[S>>2]+4294967296*G[S+4>>2],j=G[S+8>>2];ee=1e3*M+j/1e6,S+=16,M=W[S>>2]+4294967296*G[S+4>>2],j=G[S+8>>2],Q=1e3*M+j/1e6}else var ee=Date.now(),Q=ee;y=ee;var ae=We(v,{$b:!0}).node;return ae.Eb.Sb(ae,{timestamp:Math.max(y,Q)}),0}catch($){if(typeof Mt>"u"||$.name!=="ErrnoError")throw $;return-$.Qb}},k:function(y,v,S){y=new Date(1e3*$i(y,v)),G[S>>2]=y.getSeconds(),G[S+4>>2]=y.getMinutes(),G[S+8>>2]=y.getHours(),G[S+12>>2]=y.getDate(),G[S+16>>2]=y.getMonth(),G[S+20>>2]=y.getFullYear()-1900,G[S+24>>2]=y.getDay(),v=y.getFullYear(),G[S+28>>2]=(v%4!==0||v%100===0&&v%400!==0?Jl:$l)[y.getMonth()]+y.getDate()-1|0,G[S+36>>2]=-(60*y.getTimezoneOffset()),v=new Date(y.getFullYear(),6,1).getTimezoneOffset();var M=new Date(y.getFullYear(),0,1).getTimezoneOffset();G[S+32>>2]=(v!=M&&y.getTimezoneOffset()==Math.min(M,v))|0},i:function(y,v,S,M,j,ee,Q,ae){j=$i(j,ee);try{if(isNaN(j))return 61;var $=En(M);if(v&2&&!(S&2)&&($.flags&2097155)!==2)throw new we(2);if(($.flags&2097155)===1)throw new we(2);if(!$.Ob.mc)throw new we(43);var ie=$.Ob.mc($,y,j,v,S),fe=ie.Qc;return G[Q>>2]=ie.Ec,W[ae>>2]=fe,0}catch(le){if(typeof Mt>"u"||le.name!=="ErrnoError")throw le;return-le.Qb}},j:function(y,v,S,M,j,ee,Q){ee=$i(ee,Q);try{if(isNaN(ee))return 61;var ae=En(j);if(S&2){if((ae.node.mode&61440)!==32768)throw new we(43);M&2||ae.Ob.nc&&ae.Ob.nc(ae,L.slice(y,y+v),ee,v,M)}}catch($){if(typeof Mt>"u"||$.name!=="ErrnoError")throw $;return-$.Qb}},s:(y,v,S)=>{function M($){return($=$.toTimeString().match(/\(([A-Za-z ]+)\)$/))?$[1]:"GMT"}var j=new Date().getFullYear(),ee=new Date(j,0,1),Q=new Date(j,6,1);j=ee.getTimezoneOffset();var ae=Q.getTimezoneOffset();W[y>>2]=60*Math.max(j,ae),G[v>>2]=+(j!=ae),y=M(ee),v=M(Q),y=nn(y),v=nn(v),ae<j?(W[S>>2]=y,W[S+4>>2]=v):(W[S>>2]=v,W[S+4>>2]=y)},e:()=>Date.now(),d:()=>performance.now(),o:y=>{var v=L.length;if(y>>>=0,2147483648<y)return!1;for(var S=1;4>=S;S*=2){var M=v*(1+.2/S);M=Math.min(M,y+100663296);var j=Math;M=Math.max(y,M);e:{j=(j.min.call(j,2147483648,M+(65536-M%65536)%65536)-P.buffer.byteLength+65535)/65536;try{P.grow(j),ce();var ee=1;break e}catch{}ee=void 0}if(ee)return!0}return!1},A:(y,v)=>{var S=0;return Vc().forEach((M,j)=>{var ee=v+S;for(j=W[y+4*j>>2]=ee,ee=0;ee<M.length;++ee)T[j++>>0]=M.charCodeAt(ee);T[j>>0]=0,S+=M.length+1}),0},B:(y,v)=>{var S=Vc();W[y>>2]=S.length;var M=0;return S.forEach(j=>M+=j.length+1),W[v>>2]=M,0},f:function(y){try{var v=En(y);if(v.Yb===null)throw new we(8);v.rc&&(v.rc=null);try{v.Ob.close&&v.Ob.close(v)}catch(S){throw S}finally{Ut[v.Yb]=null}return v.Yb=null,0}catch(S){if(typeof Mt>"u"||S.name!=="ErrnoError")throw S;return S.Qb}},p:function(y,v){try{var S=En(y);return T[v>>0]=S.Ub?2:It(S.mode)?3:(S.mode&61440)===40960?7:4,X[v+2>>1]=0,qe=[0,(Be=0,1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[v+8>>2]=qe[0],G[v+12>>2]=qe[1],qe=[0,(Be=0,1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[v+16>>2]=qe[0],G[v+20>>2]=qe[1],0}catch(M){if(typeof Mt>"u"||M.name!=="ErrnoError")throw M;return M.Qb}},x:function(y,v,S,M){try{e:{var j=En(y);y=v;for(var ee,Q=v=0;Q<S;Q++){var ae=W[y>>2],$=W[y+4>>2];y+=8;var ie=j,fe=ae,le=$,ve=ee,$e=T;if(0>le||0>ve)throw new we(28);if(ie.Yb===null)throw new we(8);if((ie.flags&2097155)===1)throw new we(8);if(It(ie.node.mode))throw new we(31);if(!ie.Ob.read)throw new we(28);var yt=typeof ve<"u";if(!yt)ve=ie.position;else if(!ie.seekable)throw new we(70);var Nt=ie.Ob.read(ie,$e,fe,le,ve);yt||(ie.position+=Nt);var rn=Nt;if(0>rn){var Rn=-1;break e}if(v+=rn,rn<$)break;typeof ee<"u"&&(ee+=rn)}Rn=v}return W[M>>2]=Rn,0}catch(Qt){if(typeof Mt>"u"||Qt.name!=="ErrnoError")throw Qt;return Qt.Qb}},m:function(y,v,S,M,j){v=$i(v,S);try{if(isNaN(v))return 61;var ee=En(y);return Pt(ee,v,M),qe=[ee.position>>>0,(Be=ee.position,1<=+Math.abs(Be)?0<Be?+Math.floor(Be/4294967296)>>>0:~~+Math.ceil((Be-+(~~Be>>>0))/4294967296)>>>0:0)],G[j>>2]=qe[0],G[j+4>>2]=qe[1],ee.rc&&v===0&&M===0&&(ee.rc=null),0}catch(Q){if(typeof Mt>"u"||Q.name!=="ErrnoError")throw Q;return Q.Qb}},D:function(y){try{var v=En(y);return iu(S=>{var M=v.node.Wb;M.type.Sc?M.type.Sc(M,!1,j=>{S(j?29:0)}):S(0)})}catch(S){if(typeof Mt>"u"||S.name!=="ErrnoError")throw S;return S.Qb}},t:function(y,v,S,M){try{e:{var j=En(y);y=v;for(var ee,Q=v=0;Q<S;Q++){var ae=W[y>>2],$=W[y+4>>2];y+=8;var ie=j,fe=ae,le=$,ve=ee,$e=T;if(0>le||0>ve)throw new we(28);if(ie.Yb===null)throw new we(8);if(!(ie.flags&2097155))throw new we(8);if(It(ie.node.mode))throw new we(31);if(!ie.Ob.write)throw new we(28);ie.seekable&&ie.flags&1024&&Pt(ie,0,2);var yt=typeof ve<"u";if(!yt)ve=ie.position;else if(!ie.seekable)throw new we(70);var Nt=ie.Ob.write(ie,$e,fe,le,ve,void 0);yt||(ie.position+=Nt);var rn=Nt;if(0>rn){var Rn=-1;break e}v+=rn,typeof ee<"u"&&(ee+=rn)}Rn=v}return W[M>>2]=Rn,0}catch(Qt){if(typeof Mt>"u"||Qt.name!=="ErrnoError")throw Qt;return Qt.Qb}},sa:si,O:Uc,ha:Ji,ca:Rt,Z:An,H:K,la:F,w:Me,g:un,oa:rr,ja:jc,ea:Sa,fa:ir,h:Fe,l:Bt,pa:eu,ra:zc,qa:Ta,da:Ro,ga:Ia,ia:Wc,na:cn,c:Is,ka:oi,ma:Ue,aa:Hc,V:Ye,$:mn,ba:Gc,S:Ra,U:tu,Y:Si,X:Xc,R:Rs,Q:Ns,T:Os,_:nu,N:Ds,W:ks,P:Bn},Ce=function(){function y(S){if(S=S.exports,Ce=S=ih(S),P=Ce.ta,ce(),ye.unshift(Ce.ua),be--,n.monitorRunDependencies&&n.monitorRunDependencies(be),be==0&&pe){var M=pe;pe=null,M()}return S}var v={a:fn};if(be++,n.monitorRunDependencies&&n.monitorRunDependencies(be),n.instantiateWasm)try{return n.instantiateWasm(v,y)}catch(S){D(`Module.instantiateWasm callback failed with error: ${S}`),a(S)}return ke(v,function(S){y(S.instance)}).catch(a),{}}();n._sqlite3_vfs_find=y=>(n._sqlite3_vfs_find=Ce.va)(y),n._sqlite3_malloc=y=>(n._sqlite3_malloc=Ce.wa)(y),n._sqlite3_free=y=>(n._sqlite3_free=Ce.xa)(y),n._sqlite3_prepare_v2=(y,v,S,M,j)=>(n._sqlite3_prepare_v2=Ce.ya)(y,v,S,M,j),n._sqlite3_step=y=>(n._sqlite3_step=Ce.za)(y),n._sqlite3_column_int64=(y,v)=>(n._sqlite3_column_int64=Ce.Aa)(y,v),n._sqlite3_column_int=(y,v)=>(n._sqlite3_column_int=Ce.Ba)(y,v),n._sqlite3_finalize=y=>(n._sqlite3_finalize=Ce.Ca)(y),n._sqlite3_reset=y=>(n._sqlite3_reset=Ce.Da)(y),n._sqlite3_clear_bindings=y=>(n._sqlite3_clear_bindings=Ce.Ea)(y),n._sqlite3_value_blob=y=>(n._sqlite3_value_blob=Ce.Fa)(y),n._sqlite3_value_text=y=>(n._sqlite3_value_text=Ce.Ga)(y),n._sqlite3_value_bytes=y=>(n._sqlite3_value_bytes=Ce.Ha)(y),n._sqlite3_value_double=y=>(n._sqlite3_value_double=Ce.Ia)(y),n._sqlite3_value_int=y=>(n._sqlite3_value_int=Ce.Ja)(y),n._sqlite3_value_int64=y=>(n._sqlite3_value_int64=Ce.Ka)(y),n._sqlite3_value_type=y=>(n._sqlite3_value_type=Ce.La)(y),n._sqlite3_result_blob=(y,v,S,M)=>(n._sqlite3_result_blob=Ce.Ma)(y,v,S,M),n._sqlite3_result_double=(y,v)=>(n._sqlite3_result_double=Ce.Na)(y,v),n._sqlite3_result_error=(y,v,S)=>(n._sqlite3_result_error=Ce.Oa)(y,v,S),n._sqlite3_result_int=(y,v)=>(n._sqlite3_result_int=Ce.Pa)(y,v),n._sqlite3_result_int64=(y,v,S)=>(n._sqlite3_result_int64=Ce.Qa)(y,v,S),n._sqlite3_result_null=y=>(n._sqlite3_result_null=Ce.Ra)(y),n._sqlite3_result_text=(y,v,S,M)=>(n._sqlite3_result_text=Ce.Sa)(y,v,S,M),n._sqlite3_column_count=y=>(n._sqlite3_column_count=Ce.Ta)(y),n._sqlite3_data_count=y=>(n._sqlite3_data_count=Ce.Ua)(y),n._sqlite3_column_blob=(y,v)=>(n._sqlite3_column_blob=Ce.Va)(y,v),n._sqlite3_column_bytes=(y,v)=>(n._sqlite3_column_bytes=Ce.Wa)(y,v),n._sqlite3_column_double=(y,v)=>(n._sqlite3_column_double=Ce.Xa)(y,v),n._sqlite3_column_text=(y,v)=>(n._sqlite3_column_text=Ce.Ya)(y,v),n._sqlite3_column_type=(y,v)=>(n._sqlite3_column_type=Ce.Za)(y,v),n._sqlite3_column_name=(y,v)=>(n._sqlite3_column_name=Ce._a)(y,v),n._sqlite3_bind_blob=(y,v,S,M,j)=>(n._sqlite3_bind_blob=Ce.$a)(y,v,S,M,j),n._sqlite3_bind_double=(y,v,S)=>(n._sqlite3_bind_double=Ce.ab)(y,v,S),n._sqlite3_bind_int=(y,v,S)=>(n._sqlite3_bind_int=Ce.bb)(y,v,S),n._sqlite3_bind_int64=(y,v,S,M)=>(n._sqlite3_bind_int64=Ce.cb)(y,v,S,M),n._sqlite3_bind_null=(y,v)=>(n._sqlite3_bind_null=Ce.db)(y,v),n._sqlite3_bind_text=(y,v,S,M,j)=>(n._sqlite3_bind_text=Ce.eb)(y,v,S,M,j),n._sqlite3_bind_parameter_count=y=>(n._sqlite3_bind_parameter_count=Ce.fb)(y),n._sqlite3_bind_parameter_name=(y,v)=>(n._sqlite3_bind_parameter_name=Ce.gb)(y,v),n._sqlite3_sql=y=>(n._sqlite3_sql=Ce.hb)(y),n._sqlite3_exec=(y,v,S,M,j)=>(n._sqlite3_exec=Ce.ib)(y,v,S,M,j),n._sqlite3_errmsg=y=>(n._sqlite3_errmsg=Ce.jb)(y),n._sqlite3_declare_vtab=(y,v)=>(n._sqlite3_declare_vtab=Ce.kb)(y,v),n._sqlite3_libversion=()=>(n._sqlite3_libversion=Ce.lb)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=Ce.mb)(),n._sqlite3_changes=y=>(n._sqlite3_changes=Ce.nb)(y),n._sqlite3_close=y=>(n._sqlite3_close=Ce.ob)(y),n._sqlite3_limit=(y,v,S)=>(n._sqlite3_limit=Ce.pb)(y,v,S),n._sqlite3_open_v2=(y,v,S,M)=>(n._sqlite3_open_v2=Ce.qb)(y,v,S,M),n._sqlite3_get_autocommit=y=>(n._sqlite3_get_autocommit=Ce.rb)(y);var zt=()=>(zt=Ce.sb)(),Ps=n._malloc=y=>(Ps=n._malloc=Ce.tb)(y),Ii=n._free=y=>(Ii=n._free=Ce.ub)(y);n._RegisterExtensionFunctions=y=>(n._RegisterExtensionFunctions=Ce.vb)(y),n._set_authorizer=y=>(n._set_authorizer=Ce.wb)(y),n._create_function=(y,v,S,M,j,ee)=>(n._create_function=Ce.xb)(y,v,S,M,j,ee),n._update_hook=(y,v)=>(n._update_hook=Ce.yb)(y,v),n._create_module=(y,v,S,M)=>(n._create_module=Ce.zb)(y,v,S,M),n._progress_handler=(y,v)=>(n._progress_handler=Ce.Ab)(y,v),n._register_vfs=(y,v,S,M)=>(n._register_vfs=Ce.Bb)(y,v,S,M),n._getSqliteFree=()=>(n._getSqliteFree=Ce.Cb)();var bt=n._main=(y,v)=>(bt=n._main=Ce.Db)(y,v),Ve=(y,v)=>(Ve=Ce.Fb)(y,v),Yc=()=>(Yc=Ce.Gb)(),kt=()=>(kt=Ce.Hb)(),Ri=y=>(Ri=Ce.Ib)(y),Ni=y=>(Ni=Ce.Jb)(y),Qc=y=>(Qc=Ce.Kb)(y),Rr=()=>(Rr=Ce.Lb)(),Da=y=>(Da=Ce.Mb)(y),su=()=>(su=Ce.Nb)();n.getTempRet0=Yc,n.ccall=Ir,n.cwrap=(y,v,S,M)=>{var j=!S||S.every(ee=>ee==="number"||ee==="boolean");return v!=="string"&&j&&!M?n["_"+y]:function(){return Ir(y,v,S,arguments,M)}},n.setValue=tr,n.getValue=mt,n.UTF8ToString=(y,v)=>y?st(L,y,v):"",n.stringToUTF8=(y,v,S)=>Pn(y,L,v,S),n.lengthBytesUTF8=Ci;var Ms;pe=function y(){Ms||ou(),Ms||(pe=y)};function ou(){function y(){if(!Ms&&(Ms=!0,n.calledRun=!0,!_)){if(n.noFSInit||ri||(ri=!0,Ql(),n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?Yi("stdin",n.stdin):bi("/dev/tty","/dev/stdin"),n.stdout?Yi("stdout",null,n.stdout):bi("/dev/tty","/dev/stdout"),n.stderr?Yi("stderr",null,n.stderr):bi("/dev/tty1","/dev/stderr"),gn("/dev/stdin",0),gn("/dev/stdout",1),gn("/dev/stderr",1)),Ts=!1,Ei(ye),Ei(Xe),i(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),au){var v=bt;try{var S=v(0,0);b=S,Zc(S)}catch(M){ru(M)}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)v=n.postRun.shift(),ot.unshift(v);Ei(ot)}}if(!(0<be)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)_t();Ei(De),0<be||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),y()},1)):y())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var au=!0;return n.noInitialRun&&(au=!1),ou(),t.ready}})();class k4{constructor(){oh(this,"mxPathName",64)}xClose(t){return hn}xRead(t,n,i){return hn}xWrite(t,n,i){return hn}xTruncate(t,n){return hn}xSync(t,n){return wt}xFileSize(t,n){return hn}xLock(t,n){return wt}xUnlock(t,n){return wt}xCheckReservedLock(t,n){return n.setInt32(0,0,!0),wt}xFileControl(t,n,i){return $v}xSectorSize(t){return 512}xDeviceCharacteristics(t){return 0}xOpen(t,n,i,a){return Jv}xDelete(t,n){return hn}xAccess(t,n,i){return hn}handleAsync(t){return t()}}const P4=Fa|Uo|Lf|S4|Bf;var Vn,_l,Ec,As,g1,t3,n3;class M4{constructor(){_e(this,As);_e(this,Vn,Fa);oh(this,"timeoutMillis",0);_e(this,_l,new Map);_e(this,Ec,Promise.resolve(0))}get state(){return B(this,Vn)}async lock(t){return je(this,As,g1).call(this,je(this,As,t3),t)}async unlock(t){return je(this,As,g1).call(this,je(this,As,n3),t)}async isSomewhereReserved(){throw new Error("unimplemented")}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(t,n){return new Promise(async(i,a)=>{try{await navigator.locks.request(t,n,l=>{if(i(l),l)return new Promise(d=>B(this,_l).set(t,d))})}catch(l){a(l)}})}_releaseWebLock(t){var n;(n=B(this,_l).get(t))==null||n(),B(this,_l).delete(t)}async _pollWebLock(t){var i;return(i=(await navigator.locks.query()).held.find(({name:a})=>a===t))==null?void 0:i.mode}_getTimeoutSignal(){if(this.timeoutMillis){const t=new AbortController;return setTimeout(()=>t.abort(),this.timeoutMillis),t.signal}}}Vn=new WeakMap,_l=new WeakMap,Ec=new WeakMap,As=new WeakSet,g1=async function(t,n){const i=n&P4;try{const a=()=>t.call(this,i);return await me(this,Ec,B(this,Ec).then(a,a)),me(this,Vn,i),wt}catch(a){return a.name==="AbortError"?w4:(console.error(a),C4)}},t3=async function(t){if(t===B(this,Vn))return wt;switch(B(this,Vn)){case Fa:switch(t){case Uo:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${B(this,Vn)} -> ${t}`)}case Uo:switch(t){case Lf:return this._SHAREDtoRESERVED();case Bf:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${B(this,Vn)} -> ${t}`)}case Lf:switch(t){case Bf:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${B(this,Vn)} -> ${t}`)}default:throw new Error(`unexpected transition ${B(this,Vn)} -> ${t}`)}},n3=async function(t){if(t===B(this,Vn))return wt;switch(B(this,Vn)){case Bf:switch(t){case Uo:return this._EXCLUSIVEtoSHARED();case Fa:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${B(this,Vn)} -> ${t}`)}case Lf:switch(t){case Uo:return this._RESERVEDtoSHARED();case Fa:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${B(this,Vn)} -> ${t}`)}case Uo:switch(t){case Fa:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${B(this,Vn)} -> ${t}`)}default:throw new Error(`unexpected transition ${B(this,Vn)} -> ${t}`)}};class L4 extends M4{constructor(t){super(),this._lockName=t+"-outer",this._reservedName=t+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}const B4=5e3;let F4=0;const Fh=new WeakMap;function ki(...e){}var bl,Sl,Cc,On,Ac,ta,na,Nd,r3;class V4{constructor(t,n={durability:"default"}){_e(this,Nd);_e(this,bl);_e(this,Sl);_e(this,Cc);_e(this,On,null);_e(this,Ac,0);_e(this,ta,Promise.resolve());_e(this,na,Promise.resolve());me(this,Sl,Promise.resolve(t).then(i=>me(this,bl,i))),me(this,Cc,n)}async close(){const t=B(this,bl)??await B(this,Sl);await B(this,ta),await this.sync(),t.close()}async run(t,n){const i=B(this,ta).then(()=>je(this,Nd,r3).call(this,t,n));return me(this,ta,i.catch(()=>{})),i}async sync(){await B(this,ta),await B(this,na),me(this,na,Promise.resolve())}}bl=new WeakMap,Sl=new WeakMap,Cc=new WeakMap,On=new WeakMap,Ac=new WeakMap,ta=new WeakMap,na=new WeakMap,Nd=new WeakSet,r3=async function(t,n){var a,l;const i=B(this,bl)??await B(this,Sl);if(t==="readwrite"&&((a=B(this,On))==null?void 0:a.mode)==="readonly")me(this,On,null);else if(performance.now()-B(this,Ac)>B4){try{(l=B(this,On))==null||l.commit()}catch(d){if(d.name!=="InvalidStateError")throw d}await new Promise(d=>setTimeout(d)),me(this,On,null)}for(let d=0;d<2;++d){if(!B(this,On)){me(this,On,i.transaction(i.objectStoreNames,t,B(this,Cc)));const p=me(this,Ac,performance.now());me(this,na,B(this,na).then(()=>new Promise((x,m)=>{B(this,On).addEventListener("complete",E=>{x(),B(this,On)===E.target&&me(this,On,null),ki(`transaction ${Fh.get(E.target)} complete`)}),B(this,On).addEventListener("abort",E=>{console.warn("tx abort",(performance.now()-p)/1e3);const C=E.target.error;m(C),B(this,On)===E.target&&me(this,On,null),ki(`transaction ${Fh.get(E.target)} aborted`,C)})}))),Fh.set(B(this,On),F4++)}try{const p=Object.fromEntries(Array.from(i.objectStoreNames,x=>[x,new U4(B(this,On).objectStore(x))]));return await n(p)}catch(p){if(me(this,On,null),d)throw p}}};function Us(e){return new Promise((t,n)=>{e.addEventListener("success",()=>t(e.result)),e.addEventListener("error",()=>n(e.error))})}var bn;class U4{constructor(t){_e(this,bn);me(this,bn,t)}get(t){ki(`get ${B(this,bn).name}`,t);const n=B(this,bn).get(t);return Us(n)}getAll(t,n){ki(`getAll ${B(this,bn).name}`,t,n);const i=B(this,bn).getAll(t,n);return Us(i)}getKey(t){ki(`getKey ${B(this,bn).name}`,t);const n=B(this,bn).getKey(t);return Us(n)}getAllKeys(t,n){ki(`getAllKeys ${B(this,bn).name}`,t,n);const i=B(this,bn).getAllKeys(t,n);return Us(i)}put(t,n){ki(`put ${B(this,bn).name}`,t,n);const i=B(this,bn).put(t,n);return Us(i)}delete(t){ki(`delete ${B(this,bn).name}`,t);const n=B(this,bn).delete(t);return Us(n)}clear(){ki(`clear ${B(this,bn).name}`);const t=B(this,bn).clear();return Us(t)}index(t){return new j4(B(this,bn).index(t))}}bn=new WeakMap;var ra;class j4{constructor(t){_e(this,ra);me(this,ra,t)}getAllKeys(t,n){ki(`IDBIndex.getAllKeys ${B(this,ra).objectStore.name}<${B(this,ra).name}>`,t,n);const i=B(this,ra).getAllKeys(t,n);return Us(i)}}ra=new WeakMap;const z4=512,l2=3e3,u2={durability:"default",purge:"deferred",purgeAtLeast:16};function xr(...e){}var no,Un,Kt,ia,sa,cs,Hn,m1,i3,s3,Va,o3;class W4 extends k4{constructor(n="wa-sqlite",i=u2){super();_e(this,Hn);_e(this,no);_e(this,Un,new Map);_e(this,Kt);_e(this,ia,new Set);_e(this,sa,performance.now());_e(this,cs,new Set);this.name=n,me(this,no,Object.assign({},u2,i)),me(this,Kt,new V4(H4(n),{durability:B(this,no).durability}))}async close(){var n;for(const i of B(this,Un).keys())await this.xClose(i);await((n=B(this,Kt))==null?void 0:n.close()),me(this,Kt,null)}xOpen(n,i,a,l){return this.handleAsync(async()=>{n===null&&(n=`null_${i}`),xr(`xOpen ${n} 0x${i.toString(16)} 0x${a.toString(16)}`);try{const d=new URL(n,"http://localhost/"),p={path:d.pathname,flags:a,block0:null,isMetadataChanged:!0,locks:new L4(d.pathname)};return B(this,Un).set(i,p),await B(this,Kt).run("readwrite",async({blocks:x})=>{if(p.block0=await x.get(je(this,Hn,Va).call(this,p,0)),!p.block0)if(a&Zp)p.block0={path:p.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},x.put(p.block0);else throw new Error(`file not found: ${p.path}`)}),l.setInt32(0,a&_4,!0),wt}catch(d){return console.error(d),Jv}})}xClose(n){return this.handleAsync(async()=>{try{const i=B(this,Un).get(n);return i&&(xr(`xClose ${i.path}`),B(this,Un).delete(n),i.flags&b4&&B(this,Kt).run("readwrite",({blocks:a})=>{a.delete(IDBKeyRange.bound([i.path],[i.path,[]]))})),wt}catch(i){return console.error(i),hn}})}xRead(n,i,a){return this.handleAsync(async()=>{const l=B(this,Un).get(n);xr(`xRead ${l.path} ${i.byteLength} ${a}`);try{return await B(this,Kt).run("readonly",async({blocks:p})=>{let x=0;for(;x<i.byteLength;){const m=a+x,E=m<l.block0.data.byteLength?l.block0:await p.get(je(this,Hn,Va).call(this,l,-m));if(!E||E.data.byteLength-E.offset<=m)return i.fill(0,x),A4;const C=i.subarray(x),O=m+E.offset,D=Math.min(Math.max(E.data.byteLength-O,0),C.byteLength);C.set(E.data.subarray(O,O+D)),x+=D}return wt})}catch(d){return console.error(d),hn}})}xWrite(n,i,a){const l=B(this,cs).has(n);if(l||performance.now()-B(this,sa)>l2){const d=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&B(this,cs).add(n),await new Promise(x=>setTimeout(x));const p=je(this,Hn,m1).call(this,n,i,a);return me(this,sa,performance.now()),p});return l&&B(this,cs).delete(n),d}return je(this,Hn,m1).call(this,n,i,a)}xTruncate(n,i){const a=B(this,Un).get(n);xr(`xTruncate ${a.path} ${i}`);try{Object.assign(a.block0,{fileSize:i,data:a.block0.data.slice(0,i)});const l=Object.assign({},a.block0);return B(this,Kt).run("readwrite",({blocks:d})=>{d.delete(je(this,Hn,Va).call(this,a,-1/0,-i)),d.put(l)}),wt}catch(l){return console.error(l),hn}}xSync(n,i){const a=B(this,cs).has(n);if(a||B(this,no).durability!=="relaxed"||performance.now()-B(this,sa)>l2){const d=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&B(this,cs).add(n);const p=await je(this,Hn,i3).call(this,n,i);return me(this,sa,performance.now()),p});return a&&B(this,cs).delete(n),d}const l=B(this,Un).get(n);return xr(`xSync ${l.path} ${i}`),wt}xFileSize(n,i){const a=B(this,Un).get(n);return xr(`xFileSize ${a.path}`),i.setBigInt64(0,BigInt(a.block0.fileSize),!0),wt}xLock(n,i){return this.handleAsync(async()=>{const a=B(this,Un).get(n);xr(`xLock ${a.path} ${i}`);try{const l=await a.locks.lock(i);return l===wt&&a.locks.state===Uo&&(a.block0=await B(this,Kt).run("readonly",({blocks:d})=>d.get(je(this,Hn,Va).call(this,a,0)))),l}catch(l){return console.error(l),hn}})}xUnlock(n,i){return this.handleAsync(async()=>{const a=B(this,Un).get(n);xr(`xUnlock ${a.path} ${i}`);try{return a.locks.unlock(i)}catch(l){return console.error(l),hn}})}xCheckReservedLock(n,i){return this.handleAsync(async()=>{const a=B(this,Un).get(n);xr(`xCheckReservedLock ${a.path}`);const l=await a.locks.isSomewhereReserved();return i.setInt32(0,l?1:0,!0),wt})}xSectorSize(n){return z4}xDeviceCharacteristics(n){return N4|T4|I4|R4}xFileControl(n,i,a){const l=B(this,Un).get(n);switch(xr(`xFileControl ${l.path} ${i}`),i){case 11:return l.overwrite=!0,wt;case 21:if(l.overwrite)try{return this.handleAsync(async()=>(await je(this,Hn,o3).call(this,l),wt))}catch(d){return console.error(d),hn}if(l.isMetadataChanged)try{B(this,Kt).run("readwrite",async({blocks:d})=>{await d.put(l.block0)}),l.isMetadataChanged=!1}catch(d){return console.error(d),hn}return wt;case 22:return l.overwrite=!1,wt;case 31:return this.handleAsync(async()=>{try{return l.block0.version--,l.changedPages=new Set,B(this,Kt).run("readwrite",async({blocks:d})=>{const p=await d.index("version").getAllKeys(IDBKeyRange.bound([l.path],[l.path,l.block0.version]));for(const x of p)d.delete(x)}),wt}catch(d){return console.error(d),hn}});case 32:try{const d=Object.assign({},l.block0);d.data=d.data.slice();const p=l.changedPages;return l.changedPages=null,l.isMetadataChanged=!1,B(this,Kt).run("readwrite",async({blocks:x})=>{x.put(d);const m=await x.get([l.path,"purge",0])??{path:l.path,offset:"purge",version:0,data:new Map,count:0};m.count+=p.size;for(const E of p)m.data.set(E,d.version);x.put(m),je(this,Hn,s3).call(this,l.path,m.count)}),wt}catch(d){return console.error(d),hn}case 33:return this.handleAsync(async()=>{try{return l.changedPages=null,l.isMetadataChanged=!1,l.block0=await B(this,Kt).run("readonly",({blocks:d})=>d.get([l.path,0,l.block0.version+1])),wt}catch(d){return console.error(d),hn}});default:return $v}}xAccess(n,i,a){return this.handleAsync(async()=>{try{const l=new URL(n,"file://localhost/").pathname;xr(`xAccess ${l} ${i}`);const d=await B(this,Kt).run("readonly",({blocks:p})=>p.getKey(je(this,Hn,Va).call(this,{path:l},0)));return a.setInt32(0,d?1:0,!0),wt}catch(l){return console.error(l),hn}})}xDelete(n,i){return this.handleAsync(async()=>{const a=new URL(n,"file://localhost/").pathname;try{return B(this,Kt).run("readwrite",({blocks:l})=>l.delete(IDBKeyRange.bound([a],[a,[]]))),i&&await B(this,Kt).sync(),wt}catch(l){return console.error(l),hn}})}async purge(n){const i=Date.now();await B(this,Kt).run("readwrite",async({blocks:a})=>{const l=await a.get([n,"purge",0]);if(l){for(const[d,p]of l.data)a.delete(IDBKeyRange.bound([n,d,p],[n,d,1/0],!0,!1));await a.delete([n,"purge",0])}xr(`purge ${n} ${(l==null?void 0:l.data.size)??0} pages in ${Date.now()-i} ms`)})}}no=new WeakMap,Un=new WeakMap,Kt=new WeakMap,ia=new WeakMap,sa=new WeakMap,cs=new WeakMap,Hn=new WeakSet,m1=function(n,i,a){const l=B(this,Un).get(n);xr(`xWrite ${l.path} ${i.byteLength} ${a}`);try{const d=l.block0.fileSize;l.block0.fileSize<a+i.byteLength&&(l.block0.fileSize=a+i.byteLength,l.isMetadataChanged=!0);const p=a===0?l.block0:{path:l.path,offset:-a,version:l.block0.version,data:null};return p.data=i.slice(),l.changedPages?(d===l.block0.fileSize&&l.changedPages.add(-a),a!==0&&B(this,Kt).run("readwrite",({blocks:x})=>x.put(p))):B(this,Kt).run("readwrite",({blocks:x})=>x.put(p)),l.isMetadataChanged=a===0?!1:l.isMetadataChanged,wt}catch(d){return console.error(d),hn}},i3=async function(n,i){const a=B(this,Un).get(n);xr(`xSync ${a.path} ${i}`);try{a.isMetadataChanged&&(B(this,Kt).run("readwrite",async({blocks:l})=>{await l.put(a.block0)}),a.isMetadataChanged=!1),await B(this,Kt).sync()}catch(l){return console.error(l),hn}return wt},s3=function(n,i){B(this,no).purge==="manual"||B(this,ia).has(n)||i<B(this,no).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(n),B(this,ia).delete(n)}):setTimeout(()=>{this.purge(n),B(this,ia).delete(n)}),B(this,ia).add(n))},Va=function(n,i,a=0){const l=!i||-i<n.block0.data.length?-1/0:n.block0.version;return IDBKeyRange.bound([n.path,i,l],[n.path,a,1/0])},o3=async function(n){const i=n.block0.data.length;if(i<18)return;const a=new DataView(n.block0.data.buffer,n.block0.data.byteOffset);let l=a.getUint16(16);if(l===1&&(l=65536),l===i)return;const d=Math.max(i,l),p=d/i,x=d/l,E=a.getUint32(28)*l,C=n.block0.version;await B(this,Kt).run("readwrite",async({blocks:O})=>{const D=await O.index("version").getAllKeys(IDBKeyRange.bound([n.path,C+1],[n.path,1/0]));for(const U of D)O.delete(U);O.delete([n.path,"purge",0]);for(let U=0;U<E;U+=d){const I=await O.getAll(IDBKeyRange.lowerBound([n.path,-(U+d),1/0]),p);for(const P of I)O.delete([P.path,P.offset,P.version]);if(x===1){const P=new Uint8Array(l);for(const b of I)P.set(b.data,-(U+b.offset));const _={path:n.path,offset:-U,version:C,data:P};_.offset===0&&(_.fileSize=E,n.block0=_),O.put(_)}else{const P=I[0];for(let _=0;_<x;++_){const b=-(U+_*l);if(-b>=E)break;const T={path:P.path,offset:b,version:C,data:P.data.subarray(_*l,(_+1)*l)};T.offset===0&&(T.fileSize=E,n.block0=T),O.put(T)}}}})};function H4(e){return new Promise((t,n)=>{const i=globalThis.indexedDB.open(e,5);i.addEventListener("upgradeneeded",function(){i.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),i.addEventListener("success",()=>{t(i.result)}),i.addEventListener("error",()=>{n(i.error)})})}let xu=null,Vh=null,yu=null;const c2="foodscan_v1.sqlite";async function qp(){return yu||(yu=(async()=>{try{const e=await D4({locateFile:t=>t.includes("wa-sqlite-async.wasm")?"./wa-sqlite-async.wasm":t});if(xu=O4(e),typeof navigator<"u"&&navigator.locks)try{const t=new W4(c2);xu.vfs_register(t,!0)}catch(t){console.warn("VFS registration failed, falling back to default/memory",t)}return Vh=await xu.open_v2(c2,e3|Zp),await G4(Vh,xu),{db:Vh,sqlite3:xu}}catch(e){throw yu=null,console.error("CRITICAL: Failed to init DB",e),e}})(),yu)}async function G4(e,t){const n=[`CREATE TABLE IF NOT EXISTS products (
      code TEXT PRIMARY KEY,
      name TEXT,
      ingredients TEXT,
      palm_oil_tags TEXT,
      palm_oil_may_be_tags TEXT,
      image_url TEXT,
      nutriscore_grade TEXT,
      nova_group INTEGER,
      nutrient_levels TEXT,
      additives_tags TEXT,
      last_updated INTEGER
    )`,"CREATE INDEX IF NOT EXISTS idx_products_name ON products(name)"];for(const i of n)await t.exec(e,i.trim())}async function X4(e){try{const{db:t,sqlite3:n}=await qp();if(!t)return null;const i=[];return await n.exec(t,"SELECT * FROM products WHERE code = ?",(a,l)=>{const d={};l.forEach((p,x)=>{d[p]=a[x]}),i.push(d)},[e]),i.length>0?i[0]:null}catch(t){return console.warn("Local DB query failed (safe fallback)",t),null}}async function Z4(){const{db:e,sqlite3:t}=await qp();if(!e)return null;try{let n=0,i=0;return await t.exec(e,"SELECT MAX(last_updated) as ts, COUNT(*) as c FROM products",a=>{n=a[0],i=a[1]}),console.log(`[DB Stats] Items in DB: ${i}, Last Updated: ${n}`),{last_updated:n}}catch(n){return console.error("Failed to get stats",n),{last_updated:0}}}function ci(e){return e==null?"NULL":typeof e=="number"?e.toString():`'${String(e).replace(/'/g,"''")}'`}async function q4(e,t){const{db:n,sqlite3:i}=await qp();if(!n)throw new Error("DB not init");await i.exec(n,"BEGIN TRANSACTION");try{await i.exec(n,"DELETE FROM products");const a=50;let l=0;for(let d=0;d<e.length;d+=a){const p=e.slice(d,d+a);if(p.length===0)continue;const m=`
        INSERT OR REPLACE INTO products (
          code, name, ingredients, palm_oil_tags, palm_oil_may_be_tags, 
          image_url, nutriscore_grade, nova_group, nutrient_levels, 
          additives_tags, last_updated
        ) VALUES ${p.map(E=>`(
          ${ci(E.code)}, 
          ${ci(E.name)}, 
          ${ci(E.ingredients)}, 
          ${ci(E.palm_oil_tags)}, 
          ${ci(E.palm_oil_may_be_tags)}, 
          ${ci(E.image_url)}, 
          ${ci(E.nutriscore_grade)}, 
          ${ci(E.nova_group)}, 
          ${ci(E.nutrient_levels)}, 
          ${ci(E.additives_tags)}, 
          ${ci(E.last_updated)}
        )`).join(",")};
      `;await i.exec(n,m),l+=p.length,l%1e3===0&&t&&t(l)}return await i.exec(n,"COMMIT"),l}catch(a){throw console.error("Bulk Import Failed",a),await i.exec(n,"ROLLBACK"),a}}const a3="/ingredients-finder/data",l3=async()=>{try{const e=await fetch(`${a3}/version.json?t=${Date.now()}`);if(!e.ok)return null;const t=e.headers.get("content-type");return!t||!t.includes("application/json")?(console.warn("Version check returned non-JSON response. Check if public/data/version.json exists."),null):(await e.json()).last_updated}catch(e){return console.error("Failed to check remote version",e),null}},K4=async e=>{try{e&&e("Checking for updates...");const t=await l3();if(!t)throw new Error("Could not fetch version info");const n=localStorage.getItem("db_version");if(n&&Number(n)>=t)return!1;e&&e("Downloading database (might take a while)...");const i=await fetch(`${a3}/products.json.gz`);if(!i.ok)throw new Error("Download failed");if(!i.body)throw new Error("Response body is empty");const a=new DecompressionStream("gzip"),l=i.body.pipeThrough(a),d=new Response(l);e&&e("Parsing data...");const p=await d.json();return e&&e(`Importing ${p.length} items...`),await q4(p,x=>{const m=Math.round(x/p.length*100);e&&e(`Importing... ${m}%`)}),localStorage.setItem("db_version",String(t)),!0}catch(t){throw console.error("Sync failed",t),e&&e("Sync failed: "+t.message),t}},Y4=()=>{const[e,t]=se.useState(navigator.onLine),[n,i]=se.useState(null),[a,l]=se.useState(!1),[d,p]=se.useState(!1),[x,m]=se.useState(!1);se.useEffect(()=>{const D=()=>t(navigator.onLine);window.addEventListener("online",D),window.addEventListener("offline",D);const U=setInterval(D,5e3);return E(),C(),()=>{window.removeEventListener("online",D),window.removeEventListener("offline",D),clearInterval(U)}},[]),se.useEffect(()=>{e&&d&&!x&&(console.log("Auto-syncing on WiFi..."),m(!0),O())},[e,d,x]);const E=async()=>{const D=await Z4();if(D&&D.last_updated){const U=new Date(Number(D.last_updated));D.last_updated>0?i(U.toLocaleDateString()):i("Basic")}else i("Empty")},C=async()=>{if(!navigator.onLine)return;const D=await l3(),U=localStorage.getItem("db_version");D&&(!U||Number(U)<D)&&p(!0)},O=async()=>{if(!e){La.error("You are offline.");return}l(!0);const D=La.loading("Updating Database...");try{await K4(I=>{La.loading(I,{id:D})})?(La.success("Update Complete!",{id:D}),await E(),p(!1)):La.success("Already up to date",{id:D})}catch(U){console.error(U),La.error("Update Failed",{id:D})}finally{l(!1)}};return Z.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 px-4 py-2 flex items-center justify-between text-[10px] sm:text-xs text-slate-500 z-50 pb-[env(safe-area-inset-bottom)]",children:Z.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[Z.jsxs("div",{className:`flex items-center gap-1.5 ${e?"text-emerald-500":"text-slate-400"}`,children:[e?Z.jsx(y4,{size:14}):Z.jsx(x4,{size:14}),Z.jsx("span",{className:"font-semibold hidden sm:inline",children:e?"Online":"Offline"})]}),Z.jsx("div",{className:"h-3 w-[1px] bg-slate-200"}),Z.jsxs("button",{onClick:O,disabled:a,className:`flex items-center gap-1.5 transition-colors ${d||a?"text-blue-600 font-bold animate-pulse":"text-slate-500 hover:text-slate-700"}`,children:[a?Z.jsx(e2,{size:14,className:"animate-spin"}):d?Z.jsx(e2,{size:14}):Z.jsx(h4,{size:14}),Z.jsx("span",{children:a?"Updating...":d?"Update Now":n?`${n}`:"No Data"})]})]})})},Q4={},f2=e=>{let t;const n=new Set,i=(E,C)=>{const O=typeof E=="function"?E(t):E;if(!Object.is(O,t)){const D=t;t=C??(typeof O!="object"||O===null)?O:Object.assign({},t,O),n.forEach(U=>U(t,D))}},a=()=>t,x={setState:i,getState:a,getInitialState:()=>m,subscribe:E=>(n.add(E),()=>n.delete(E)),destroy:()=>{(Q4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},m=t=e(i,a,x);return x},$4=e=>e?f2(e):f2;var u3={exports:{}},c3={},f3={exports:{}},d3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=se;function J4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eS=typeof Object.is=="function"?Object.is:J4,tS=Pl.useState,nS=Pl.useEffect,rS=Pl.useLayoutEffect,iS=Pl.useDebugValue;function sS(e,t){var n=t(),i=tS({inst:{value:n,getSnapshot:t}}),a=i[0].inst,l=i[1];return rS(function(){a.value=n,a.getSnapshot=t,Uh(a)&&l({inst:a})},[e,n,t]),nS(function(){return Uh(a)&&l({inst:a}),e(function(){Uh(a)&&l({inst:a})})},[e]),iS(n),n}function Uh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!eS(e,n)}catch{return!0}}function oS(e,t){return t()}var aS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oS:sS;d3.useSyncExternalStore=Pl.useSyncExternalStore!==void 0?Pl.useSyncExternalStore:aS;f3.exports=d3;var lS=f3.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd=se,uS=lS;function cS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fS=typeof Object.is=="function"?Object.is:cS,dS=uS.useSyncExternalStore,hS=Kd.useRef,pS=Kd.useEffect,gS=Kd.useMemo,mS=Kd.useDebugValue;c3.useSyncExternalStoreWithSelector=function(e,t,n,i,a){var l=hS(null);if(l.current===null){var d={hasValue:!1,value:null};l.current=d}else d=l.current;l=gS(function(){function x(D){if(!m){if(m=!0,E=D,D=i(D),a!==void 0&&d.hasValue){var U=d.value;if(a(U,D))return C=U}return C=D}if(U=C,fS(E,D))return U;var I=i(D);return a!==void 0&&a(U,I)?(E=D,U):(E=D,C=I)}var m=!1,E,C,O=n===void 0?null:n;return[function(){return x(t())},O===null?void 0:function(){return x(O())}]},[t,n,i,a]);var p=dS(e,l[0],l[1]);return pS(function(){d.hasValue=!0,d.value=p},[p]),mS(p),p};u3.exports=c3;var xS=u3.exports;const yS=Z1(xS),h3={},{useDebugValue:wS}=Ou,{useSyncExternalStoreWithSelector:vS}=yS;let d2=!1;const ES=e=>e;function CS(e,t=ES,n){(h3?"production":void 0)!=="production"&&n&&!d2&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),d2=!0);const i=vS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return wS(i),i}const h2=e=>{(h3?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?$4(e):e,n=(i,a)=>CS(t,i,a);return Object.assign(n,t),n},AS=e=>e?h2(e):h2,Vi=AS(e=>({currentView:"home",setView:t=>e({currentView:t}),toasts:[],addToast:t=>{const n=Math.random().toString(36).substring(7);e({toasts:[{...t,id:n}]}),t.type!=="percentage"&&setTimeout(()=>{e(i=>({toasts:i.toasts.filter(a=>a.id!==n)}))},3e3)},removeToast:t=>e(n=>({toasts:n.toasts.filter(i=>i.id!==t)})),activeCode:null,setActiveCode:t=>e({activeCode:t})})),Kp=se.createContext({});function Yp(e){const t=se.useRef(null);return t.current===null&&(t.current=e()),t.current}const Yd=se.createContext(null),Qp=se.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class _S extends se.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function bS({children:e,isPresent:t}){const n=se.useId(),i=se.useRef(null),a=se.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=se.useContext(Qp);return se.useInsertionEffect(()=>{const{width:d,height:p,top:x,left:m}=a.current;if(t||!i.current||!d||!p)return;i.current.dataset.motionPopId=n;const E=document.createElement("style");return l&&(E.nonce=l),document.head.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            top: ${x}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(E)}},[t]),Z.jsx(_S,{isPresent:t,childRef:i,sizeRef:a,children:se.cloneElement(e,{ref:i})})}const SS=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:d})=>{const p=Yp(TS),x=se.useId(),m=se.useCallback(C=>{p.set(C,!0);for(const O of p.values())if(!O)return;i&&i()},[p,i]),E=se.useMemo(()=>({id:x,initial:t,isPresent:n,custom:a,onExitComplete:m,register:C=>(p.set(C,!1),()=>p.delete(C))}),l?[Math.random(),m]:[n,m]);return se.useMemo(()=>{p.forEach((C,O)=>p.set(O,!1))},[n]),se.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),d==="popLayout"&&(e=Z.jsx(bS,{isPresent:n,children:e})),Z.jsx(Yd.Provider,{value:E,children:e})};function TS(){return new Map}function p3(e=!0){const t=se.useContext(Yd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,l=se.useId();se.useEffect(()=>{e&&a(l)},[e]);const d=se.useCallback(()=>e&&i&&i(l),[l,i,e]);return!n&&i?[!1,d]:[!0]}const wf=e=>e.key||"";function p2(e){const t=[];return se.Children.forEach(e,n=>{se.isValidElement(n)&&t.push(n)}),t}const $p=typeof window<"u",g3=$p?se.useLayoutEffect:se.useEffect,Ff=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:d=!1})=>{const[p,x]=p3(d),m=se.useMemo(()=>p2(e),[e]),E=d&&!p?[]:m.map(wf),C=se.useRef(!0),O=se.useRef(m),D=Yp(()=>new Map),[U,I]=se.useState(m),[P,_]=se.useState(m);g3(()=>{C.current=!1,O.current=m;for(let L=0;L<P.length;L++){const X=wf(P[L]);E.includes(X)?D.delete(X):D.get(X)!==!0&&D.set(X,!1)}},[P,E.length,E.join("-")]);const b=[];if(m!==U){let L=[...m];for(let X=0;X<P.length;X++){const G=P[X],W=wf(G);E.includes(W)||(L.splice(X,0,G),b.push(G))}l==="wait"&&b.length&&(L=b),_(p2(L)),I(m);return}const{forceRender:T}=se.useContext(Kp);return Z.jsx(Z.Fragment,{children:P.map(L=>{const X=wf(L),G=d&&!p?!1:m===P||E.includes(X),W=()=>{if(D.has(X))D.set(X,!0);else return;let Y=!0;D.forEach(te=>{te||(Y=!1)}),Y&&(T==null||T(),_(O.current),d&&(x==null||x()),i&&i())};return Z.jsx(SS,{isPresent:G,initial:!C.current||n?void 0:!1,custom:G?void 0:t,presenceAffectsLayout:a,mode:l,onExitComplete:G?void 0:W,children:L},X)})})},Lr=e=>e;let m3=Lr;function Jp(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ml=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},ps=e=>e*1e3,gs=e=>e/1e3,IS={useManualTiming:!1};function RS(e){let t=new Set,n=new Set,i=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(m){l.has(m)&&(x.schedule(m),e()),m(d)}const x={schedule:(m,E=!1,C=!1)=>{const D=C&&i?t:n;return E&&l.add(m),D.has(m)||D.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(d=m,i){a=!0;return}i=!0,[t,n]=[n,t],t.forEach(p),t.clear(),i=!1,a&&(a=!1,x.process(m))}};return x}const vf=["read","resolveKeyframes","update","preRender","render","postRender"],NS=40;function x3(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,d=vf.reduce((_,b)=>(_[b]=RS(l),_),{}),{read:p,resolveKeyframes:x,update:m,preRender:E,render:C,postRender:O}=d,D=()=>{const _=performance.now();n=!1,a.delta=i?1e3/60:Math.max(Math.min(_-a.timestamp,NS),1),a.timestamp=_,a.isProcessing=!0,p.process(a),x.process(a),m.process(a),E.process(a),C.process(a),O.process(a),a.isProcessing=!1,n&&t&&(i=!1,e(D))},U=()=>{n=!0,i=!0,a.isProcessing||e(D)};return{schedule:vf.reduce((_,b)=>{const T=d[b];return _[b]=(L,X=!1,G=!1)=>(n||U(),T.schedule(L,X,G)),_},{}),cancel:_=>{for(let b=0;b<vf.length;b++)d[vf[b]].cancel(_)},state:a,steps:d}}const{schedule:Zt,cancel:yo,state:zn,steps:jh}=x3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lr,!0),y3=se.createContext({strict:!1}),g2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ll={};for(const e in g2)Ll[e]={isEnabled:t=>g2[e].some(n=>!!t[n])};function OS(e){for(const t in e)Ll[t]={...Ll[t],...e[t]}}const DS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||DS.has(e)}let w3=e=>!pd(e);function kS(e){e&&(w3=t=>t.startsWith("on")?!pd(t):e(t))}try{kS(require("@emotion/is-prop-valid").default)}catch{}function PS(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(w3(a)||n===!0&&pd(a)||!t&&!pd(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}function MS(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Qd=se.createContext({});function cc(e){return typeof e=="string"||Array.isArray(e)}function $d(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const eg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tg=["initial",...eg];function Jd(e){return $d(e.animate)||tg.some(t=>cc(e[t]))}function v3(e){return!!(Jd(e)||e.variants)}function LS(e,t){if(Jd(e)){const{initial:n,animate:i}=e;return{initial:n===!1||cc(n)?n:void 0,animate:cc(i)?i:void 0}}return e.inherit!==!1?t:{}}function BS(e){const{initial:t,animate:n}=LS(e,se.useContext(Qd));return se.useMemo(()=>({initial:t,animate:n}),[m2(t),m2(n)])}function m2(e){return Array.isArray(e)?e.join(" "):e}const FS=Symbol.for("motionComponentSymbol");function Ja(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VS(e,t,n){return se.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Ja(n)&&(n.current=i))},[t])}const ng=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),US="framerAppearId",E3="data-"+ng(US),{schedule:rg}=x3(queueMicrotask,!1),C3=se.createContext({});function jS(e,t,n,i,a){var l,d;const{visualElement:p}=se.useContext(Qd),x=se.useContext(y3),m=se.useContext(Yd),E=se.useContext(Qp).reducedMotion,C=se.useRef(null);i=i||x.renderer,!C.current&&i&&(C.current=i(e,{visualState:t,parent:p,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:E}));const O=C.current,D=se.useContext(C3);O&&!O.projection&&a&&(O.type==="html"||O.type==="svg")&&zS(C.current,n,a,D);const U=se.useRef(!1);se.useInsertionEffect(()=>{O&&U.current&&O.update(n,m)});const I=n[E3],P=se.useRef(!!I&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,I))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,I)));return g3(()=>{O&&(U.current=!0,window.MotionIsMounted=!0,O.updateFeatures(),rg.render(O.render),P.current&&O.animationState&&O.animationState.animateChanges())}),se.useEffect(()=>{O&&(!P.current&&O.animationState&&O.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,I)}),P.current=!1))}),O}function zS(e,t,n,i){const{layoutId:a,layout:l,drag:d,dragConstraints:p,layoutScroll:x,layoutRoot:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:A3(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!d||p&&Ja(p),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:x,layoutRoot:m})}function A3(e){if(e)return e.options.allowProjection!==!1?e.projection:A3(e.parent)}function WS({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:a}){var l,d;e&&OS(e);function p(m,E){let C;const O={...se.useContext(Qp),...m,layoutId:HS(m)},{isStatic:D}=O,U=BS(m),I=i(m,D);if(!D&&$p){GS();const P=XS(O);C=P.MeasureLayout,U.visualElement=jS(a,I,O,t,P.ProjectionNode)}return Z.jsxs(Qd.Provider,{value:U,children:[C&&U.visualElement?Z.jsx(C,{visualElement:U.visualElement,...O}):null,n(a,m,VS(I,U.visualElement,E),I,D,U.visualElement)]})}p.displayName=`motion.${typeof a=="string"?a:`create(${(d=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&d!==void 0?d:""})`}`;const x=se.forwardRef(p);return x[FS]=a,x}function HS({layoutId:e}){const t=se.useContext(Kp).id;return t&&e!==void 0?t+"-"+e:e}function GS(e,t){se.useContext(y3).strict}function XS(e){const{drag:t,layout:n}=Ll;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const ZS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ig(e){return typeof e!="string"||e.includes("-")?!1:!!(ZS.indexOf(e)>-1||/[A-Z]/u.test(e))}function x2(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function sg(e,t,n,i){if(typeof t=="function"){const[a,l]=x2(i);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=x2(i);t=t(n!==void 0?n:e.custom,a,l)}return t}const x1=e=>Array.isArray(e),qS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),KS=e=>x1(e)?e[e.length-1]||0:e,$n=e=>!!(e&&e.getVelocity);function Vf(e){const t=$n(e)?e.get():e;return qS(t)?t.toValue():t}function YS({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,a,l){const d={latestValues:QS(i,a,l,e),renderState:t()};return n&&(d.onMount=p=>n({props:i,current:p,...d}),d.onUpdate=p=>n(p)),d}const _3=e=>(t,n)=>{const i=se.useContext(Qd),a=se.useContext(Yd),l=()=>YS(e,t,i,a);return n?l():Yp(l)};function QS(e,t,n,i){const a={},l=i(e,{});for(const O in l)a[O]=Vf(l[O]);let{initial:d,animate:p}=e;const x=Jd(e),m=v3(e);t&&m&&!x&&e.inherit!==!1&&(d===void 0&&(d=t.initial),p===void 0&&(p=t.animate));let E=n?n.initial===!1:!1;E=E||d===!1;const C=E?p:d;if(C&&typeof C!="boolean"&&!$d(C)){const O=Array.isArray(C)?C:[C];for(let D=0;D<O.length;D++){const U=sg(e,O[D]);if(U){const{transitionEnd:I,transition:P,..._}=U;for(const b in _){let T=_[b];if(Array.isArray(T)){const L=E?T.length-1:0;T=T[L]}T!==null&&(a[b]=T)}for(const b in I)a[b]=I[b]}}}return a}const Xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ea=new Set(Xl),b3=e=>t=>typeof t=="string"&&t.startsWith(e),S3=b3("--"),$S=b3("var(--"),og=e=>$S(e)?JS.test(e.split("/*")[0].trim()):!1,JS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,T3=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Es=(e,t,n)=>n>t?t:n<e?e:n,Zl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fc={...Zl,transform:e=>Es(0,1,e)},Ef={...Zl,default:1},Oc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),js=Oc("deg"),Wi=Oc("%"),ze=Oc("px"),e8=Oc("vh"),t8=Oc("vw"),y2={...Wi,parse:e=>Wi.parse(e)/100,transform:e=>Wi.transform(e*100)},n8={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze},r8={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Ef,scaleX:Ef,scaleY:Ef,scaleZ:Ef,skew:js,skewX:js,skewY:js,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:fc,originX:y2,originY:y2,originZ:ze},w2={...Zl,transform:Math.round},ag={...n8,...r8,zIndex:w2,size:ze,fillOpacity:fc,strokeOpacity:fc,numOctaves:w2},i8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},s8=Xl.length;function o8(e,t,n){let i="",a=!0;for(let l=0;l<s8;l++){const d=Xl[l],p=e[d];if(p===void 0)continue;let x=!0;if(typeof p=="number"?x=p===(d.startsWith("scale")?1:0):x=parseFloat(p)===0,!x||n){const m=T3(p,ag[d]);if(!x){a=!1;const E=i8[d]||d;i+=`${E}(${m}) `}n&&(t[d]=m)}}return i=i.trim(),n?i=n(t,a?"":i):a&&(i="none"),i}function lg(e,t,n){const{style:i,vars:a,transformOrigin:l}=e;let d=!1,p=!1;for(const x in t){const m=t[x];if(Ea.has(x)){d=!0;continue}else if(S3(x)){a[x]=m;continue}else{const E=T3(m,ag[x]);x.startsWith("origin")?(p=!0,l[x]=E):i[x]=E}}if(t.transform||(d||n?i.transform=o8(t,e.transform,n):i.transform&&(i.transform="none")),p){const{originX:x="50%",originY:m="50%",originZ:E=0}=l;i.transformOrigin=`${x} ${m} ${E}`}}const a8={offset:"stroke-dashoffset",array:"stroke-dasharray"},l8={offset:"strokeDashoffset",array:"strokeDasharray"};function u8(e,t,n=1,i=0,a=!0){e.pathLength=1;const l=a?a8:l8;e[l.offset]=ze.transform(-i);const d=ze.transform(t),p=ze.transform(n);e[l.array]=`${d} ${p}`}function v2(e,t,n){return typeof e=="string"?e:ze.transform(t+n*e)}function c8(e,t,n){const i=v2(t,e.x,e.width),a=v2(n,e.y,e.height);return`${i} ${a}`}function ug(e,{attrX:t,attrY:n,attrScale:i,originX:a,originY:l,pathLength:d,pathSpacing:p=1,pathOffset:x=0,...m},E,C){if(lg(e,m,C),E){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:O,style:D,dimensions:U}=e;O.transform&&(U&&(D.transform=O.transform),delete O.transform),U&&(a!==void 0||l!==void 0||D.transform)&&(D.transformOrigin=c8(U,a!==void 0?a:.5,l!==void 0?l:.5)),t!==void 0&&(O.x=t),n!==void 0&&(O.y=n),i!==void 0&&(O.scale=i),d!==void 0&&u8(O,d,p,x,!1)}const cg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),I3=()=>({...cg(),attrs:{}}),fg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function R3(e,{style:t,vars:n},i,a){Object.assign(e.style,t,a&&a.getProjectionStyles(i));for(const l in n)e.style.setProperty(l,n[l])}const N3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function O3(e,t,n,i){R3(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(N3.has(a)?a:ng(a),t.attrs[a])}const gd={};function f8(e){Object.assign(gd,e)}function D3(e,{layout:t,layoutId:n}){return Ea.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!gd[e]||e==="opacity")}function dg(e,t,n){var i;const{style:a}=e,l={};for(const d in a)($n(a[d])||t.style&&$n(t.style[d])||D3(d,e)||((i=n==null?void 0:n.getValue(d))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[d]=a[d]);return l}function k3(e,t,n){const i=dg(e,t,n);for(const a in e)if($n(e[a])||$n(t[a])){const l=Xl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=e[a]}return i}function d8(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const E2=["x","y","width","height","cx","cy","r"],h8={useVisualState:_3({scrapeMotionValuesFromProps:k3,createRenderState:I3,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:a})=>{if(!n)return;let l=!!e.drag;if(!l){for(const p in a)if(Ea.has(p)){l=!0;break}}if(!l)return;let d=!t;if(t)for(let p=0;p<E2.length;p++){const x=E2[p];e[x]!==t[x]&&(d=!0)}d&&Zt.read(()=>{d8(n,i),Zt.render(()=>{ug(i,a,fg(n.tagName),e.transformTemplate),O3(n,i)})})}})},p8={useVisualState:_3({scrapeMotionValuesFromProps:dg,createRenderState:cg})};function P3(e,t,n){for(const i in t)!$n(t[i])&&!D3(i,n)&&(e[i]=t[i])}function g8({transformTemplate:e},t){return se.useMemo(()=>{const n=cg();return lg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function m8(e,t){const n=e.style||{},i={};return P3(i,n,e),Object.assign(i,g8(e,t)),i}function x8(e,t){const n={},i=m8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}function y8(e,t,n,i){const a=se.useMemo(()=>{const l=I3();return ug(l,t,fg(i),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};P3(l,e.style,e),a.style={...l,...a.style}}return a}function w8(e=!1){return(n,i,a,{latestValues:l},d)=>{const x=(ig(n)?y8:x8)(i,l,d,n),m=PS(i,typeof n=="string",e),E=n!==se.Fragment?{...m,...x,ref:a}:{},{children:C}=i,O=se.useMemo(()=>$n(C)?C.get():C,[C]);return se.createElement(n,{...E,children:O})}}function v8(e,t){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const d={...ig(i)?h8:p8,preloadedFeatures:e,useRender:w8(a),createVisualElement:t,Component:i};return WS(d)}}function M3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function eh(e,t,n){const i=e.getProps();return sg(i,t,n!==void 0?n:i.custom,e)}const E8=Jp(()=>window.ScrollTimeline!==void 0);class C8{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(a=>{if(E8()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{i.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class A8 extends C8{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function hg(e,t){return e?e[t]||e.default||e:void 0}const y1=2e4;function L3(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<y1;)t+=n,i=e.next(t);return t>=y1?1/0:t}function pg(e){return typeof e=="function"}function C2(e,t){e.timeline=t,e.onfinish=null}const gg=e=>Array.isArray(e)&&typeof e[0]=="number",_8={linearEasing:void 0};function b8(e,t){const n=Jp(e);return()=>{var i;return(i=_8[t])!==null&&i!==void 0?i:n()}}const md=b8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),B3=(e,t,n=10)=>{let i="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)i+=e(Ml(0,a-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function F3(e){return!!(typeof e=="function"&&md()||!e||typeof e=="string"&&(e in w1||md())||gg(e)||Array.isArray(e)&&e.every(F3))}const Tu=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,w1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tu([0,.65,.55,1]),circOut:Tu([.55,0,1,.45]),backIn:Tu([.31,.01,.66,-.59]),backOut:Tu([.33,1.53,.69,.99])};function V3(e,t){if(e)return typeof e=="function"&&md()?B3(e,t):gg(e)?Tu(e):Array.isArray(e)?e.map(n=>V3(n,t)||w1.easeOut):w1[e]}const fi={x:!1,y:!1};function U3(){return fi.x||fi.y}function S8(e,t,n){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const l=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}function j3(e,t){const n=S8(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[n,a,()=>i.abort()]}function A2(e){return t=>{t.pointerType==="touch"||U3()||e(t)}}function T8(e,t,n={}){const[i,a,l]=j3(e,n),d=A2(p=>{const{target:x}=p,m=t(p);if(typeof m!="function"||!x)return;const E=A2(C=>{m(C),x.removeEventListener("pointerleave",E)});x.addEventListener("pointerleave",E,a)});return i.forEach(p=>{p.addEventListener("pointerenter",d,a)}),l}const z3=(e,t)=>t?e===t?!0:z3(e,t.parentElement):!1,mg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,I8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function R8(e){return I8.has(e.tagName)||e.tabIndex!==-1}const Iu=new WeakSet;function _2(e){return t=>{t.key==="Enter"&&e(t)}}function zh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const N8=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=_2(()=>{if(Iu.has(n))return;zh(n,"down");const a=_2(()=>{zh(n,"up")}),l=()=>zh(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function b2(e){return mg(e)&&!U3()}function O8(e,t,n={}){const[i,a,l]=j3(e,n),d=p=>{const x=p.currentTarget;if(!b2(p)||Iu.has(x))return;Iu.add(x);const m=t(p),E=(D,U)=>{window.removeEventListener("pointerup",C),window.removeEventListener("pointercancel",O),!(!b2(D)||!Iu.has(x))&&(Iu.delete(x),typeof m=="function"&&m(D,{success:U}))},C=D=>{E(D,n.useGlobalTarget||z3(x,D.target))},O=D=>{E(D,!1)};window.addEventListener("pointerup",C,a),window.addEventListener("pointercancel",O,a)};return i.forEach(p=>{!R8(p)&&p.getAttribute("tabindex")===null&&(p.tabIndex=0),(n.useGlobalTarget?window:p).addEventListener("pointerdown",d,a),p.addEventListener("focus",m=>N8(m,a),a)}),l}function D8(e){return e==="x"||e==="y"?fi[e]?null:(fi[e]=!0,()=>{fi[e]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}const W3=new Set(["width","height","top","left","right","bottom",...Xl]);let Uf;function k8(){Uf=void 0}const Hi={now:()=>(Uf===void 0&&Hi.set(zn.isProcessing||IS.useManualTiming?zn.timestamp:performance.now()),Uf),set:e=>{Uf=e,queueMicrotask(k8)}};function xg(e,t){e.indexOf(t)===-1&&e.push(t)}function yg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class wg{constructor(){this.subscriptions=[]}add(t){return xg(this.subscriptions,t),()=>yg(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let l=0;l<a;l++){const d=this.subscriptions[l];d&&d(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function H3(e,t){return t?e*(1e3/t):0}const S2=30,P8=e=>!isNaN(parseFloat(e));class M8{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const l=Hi.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Hi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=P8(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wg);const i=this.events[t].add(n);return t==="change"?()=>{i(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Hi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>S2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,S2);return H3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dc(e,t){return new M8(e,t)}function L8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,dc(n))}function B8(e,t){const n=eh(e,t);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const d in l){const p=KS(l[d]);L8(e,d,p)}}function F8(e){return!!($n(e)&&e.add)}function v1(e,t){const n=e.getValue("willChange");if(F8(n))return n.add(t)}function G3(e){return e.props[E3]}const X3=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,V8=1e-7,U8=12;function j8(e,t,n,i,a){let l,d,p=0;do d=t+(n-t)/2,l=X3(d,i,a)-e,l>0?n=d:t=d;while(Math.abs(l)>V8&&++p<U8);return d}function Dc(e,t,n,i){if(e===t&&n===i)return Lr;const a=l=>j8(l,0,1,e,n);return l=>l===0||l===1?l:X3(a(l),t,i)}const Z3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,q3=e=>t=>1-e(1-t),K3=Dc(.33,1.53,.69,.99),vg=q3(K3),Y3=Z3(vg),Q3=e=>(e*=2)<1?.5*vg(e):.5*(2-Math.pow(2,-10*(e-1))),Eg=e=>1-Math.sin(Math.acos(e)),$3=q3(Eg),J3=Z3(Eg),eE=e=>/^0[^.\s]+$/u.test(e);function z8(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eE(e):!0}const ju=e=>Math.round(e*1e5)/1e5,Cg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function W8(e){return e==null}const H8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ag=(e,t)=>n=>!!(typeof n=="string"&&H8.test(n)&&n.startsWith(e)||t&&!W8(n)&&Object.prototype.hasOwnProperty.call(n,t)),tE=(e,t,n)=>i=>{if(typeof i!="string")return i;const[a,l,d,p]=i.match(Cg);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(d),alpha:p!==void 0?parseFloat(p):1}},G8=e=>Es(0,255,e),Wh={...Zl,transform:e=>Math.round(G8(e))},Go={test:Ag("rgb","red"),parse:tE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Wh.transform(e)+", "+Wh.transform(t)+", "+Wh.transform(n)+", "+ju(fc.transform(i))+")"};function X8(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const E1={test:Ag("#"),parse:X8,transform:Go.transform},el={test:Ag("hsl","hue"),parse:tE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Wi.transform(ju(t))+", "+Wi.transform(ju(n))+", "+ju(fc.transform(i))+")"},Yn={test:e=>Go.test(e)||E1.test(e)||el.test(e),parse:e=>Go.test(e)?Go.parse(e):el.test(e)?el.parse(e):E1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Go.transform(e):el.transform(e)},Z8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function q8(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Cg))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Z8))===null||n===void 0?void 0:n.length)||0)>0}const nE="number",rE="color",K8="var",Y8="var(",T2="${}",Q8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const p=t.replace(Q8,x=>(Yn.test(x)?(i.color.push(l),a.push(rE),n.push(Yn.parse(x))):x.startsWith(Y8)?(i.var.push(l),a.push(K8),n.push(x)):(i.number.push(l),a.push(nE),n.push(parseFloat(x))),++l,T2)).split(T2);return{values:n,split:p,indexes:i,types:a}}function iE(e){return hc(e).values}function sE(e){const{split:t,types:n}=hc(e),i=t.length;return a=>{let l="";for(let d=0;d<i;d++)if(l+=t[d],a[d]!==void 0){const p=n[d];p===nE?l+=ju(a[d]):p===rE?l+=Yn.transform(a[d]):l+=a[d]}return l}}const $8=e=>typeof e=="number"?0:e;function J8(e){const t=iE(e);return sE(e)(t.map($8))}const wo={test:q8,parse:iE,createTransformer:sE,getAnimatableNone:J8},e6=new Set(["brightness","contrast","saturate","opacity"]);function t6(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Cg)||[];if(!i)return e;const a=n.replace(i,"");let l=e6.has(t)?1:0;return i!==n&&(l*=100),t+"("+l+a+")"}const n6=/\b([a-z-]*)\(.*?\)/gu,C1={...wo,getAnimatableNone:e=>{const t=e.match(n6);return t?t.map(t6).join(" "):e}},r6={...ag,color:Yn,backgroundColor:Yn,outlineColor:Yn,fill:Yn,stroke:Yn,borderColor:Yn,borderTopColor:Yn,borderRightColor:Yn,borderBottomColor:Yn,borderLeftColor:Yn,filter:C1,WebkitFilter:C1},_g=e=>r6[e];function oE(e,t){let n=_g(e);return n!==C1&&(n=wo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const i6=new Set(["auto","none","0"]);function s6(e,t,n){let i=0,a;for(;i<e.length&&!a;){const l=e[i];typeof l=="string"&&!i6.has(l)&&hc(l).values.length&&(a=e[i]),i++}if(a&&n)for(const l of t)e[l]=oE(n,a)}const I2=e=>e===Zl||e===ze,R2=(e,t)=>parseFloat(e.split(", ")[t]),N2=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return R2(a[1],t);{const l=i.match(/^matrix\((.+)\)$/u);return l?R2(l[1],e):0}},o6=new Set(["x","y","z"]),a6=Xl.filter(e=>!o6.has(e));function l6(e){const t=[];return a6.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Bl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:N2(4,13),y:N2(5,14)};Bl.translateX=Bl.x;Bl.translateY=Bl.y;const la=new Set;let A1=!1,_1=!1;function aE(){if(_1){const e=Array.from(la).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const a=l6(i);a.length&&(n.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,d])=>{var p;(p=i.getValue(l))===null||p===void 0||p.set(d)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}_1=!1,A1=!1,la.forEach(e=>e.complete()),la.clear()}function lE(){la.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_1=!0)})}function u6(){lE(),aE()}class bg{constructor(t,n,i,a,l,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(la.add(this),A1||(A1=!0,Zt.read(lE),Zt.resolveKeyframes(aE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:a}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const d=a==null?void 0:a.get(),p=t[t.length-1];if(d!==void 0)t[0]=d;else if(i&&n){const x=i.readValue(n,p);x!=null&&(t[0]=x)}t[0]===void 0&&(t[0]=p),a&&d===void 0&&a.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),la.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,la.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const uE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),c6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f6(e){const t=c6.exec(e);if(!t)return[,];const[,n,i,a]=t;return[`--${n??i}`,a]}function cE(e,t,n=1){const[i,a]=f6(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const d=l.trim();return uE(d)?parseFloat(d):d}return og(a)?cE(a,t,n+1):a}const fE=e=>t=>t.test(e),d6={test:e=>e==="auto",parse:e=>e},dE=[Zl,ze,Wi,js,t8,e8,d6],O2=e=>dE.find(fE(e));class hE extends bg{constructor(t,n,i,a,l){super(t,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let x=0;x<t.length;x++){let m=t[x];if(typeof m=="string"&&(m=m.trim(),og(m))){const E=cE(m,n.current);E!==void 0&&(t[x]=E),x===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!W3.has(i)||t.length!==2)return;const[a,l]=t,d=O2(a),p=O2(l);if(d!==p)if(I2(d)&&I2(p))for(let x=0;x<t.length;x++){const m=t[x];typeof m=="string"&&(t[x]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let a=0;a<t.length;a++)z8(t[a])&&i.push(a);i.length&&s6(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:i,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(i);l&&l.jump(this.measuredOrigin,!1);const d=a.length-1,p=a[d];a[d]=Bl[i](n.measureViewportBox(),window.getComputedStyle(n.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([x,m])=>{n.getValue(x).set(m)}),this.resolveNoneKeyframes()}}const D2=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wo.test(e)||e==="0")&&!e.startsWith("url("));function h6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function p6(e,t,n,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],d=D2(a,t),p=D2(l,t);return!d||!p?!1:h6(e)||(n==="spring"||pg(n))&&i}const g6=e=>e!==null;function th(e,{repeat:t,repeatType:n="loop"},i){const a=e.filter(g6),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const m6=40;class pE{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:d="loop",...p}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Hi.now(),this.options={autoplay:t,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:d,...p},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>m6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&u6(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Hi.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:l,delay:d,onComplete:p,onUpdate:x,isGenerator:m}=this.options;if(!m&&!p6(t,i,a,l))if(d)this.options.duration=0;else{x&&x(th(t,this.options,n)),p&&p(),this.resolveFinishedPromise();return}const E=this.initPlayback(t,n);E!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...E},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Jt=(e,t,n)=>e+(t-e)*n;function Hh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function x6({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,l=0,d=0;if(!t)a=l=d=n;else{const p=n<.5?n*(1+t):n+t-n*t,x=2*n-p;a=Hh(x,p,e+1/3),l=Hh(x,p,e),d=Hh(x,p,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(d*255),alpha:i}}function xd(e,t){return n=>n>0?t:e}const Gh=(e,t,n)=>{const i=e*e,a=n*(t*t-i)+i;return a<0?0:Math.sqrt(a)},y6=[E1,Go,el],w6=e=>y6.find(t=>t.test(e));function k2(e){const t=w6(e);if(!t)return!1;let n=t.parse(e);return t===el&&(n=x6(n)),n}const P2=(e,t)=>{const n=k2(e),i=k2(t);if(!n||!i)return xd(e,t);const a={...n};return l=>(a.red=Gh(n.red,i.red,l),a.green=Gh(n.green,i.green,l),a.blue=Gh(n.blue,i.blue,l),a.alpha=Jt(n.alpha,i.alpha,l),Go.transform(a))},v6=(e,t)=>n=>t(e(n)),kc=(...e)=>e.reduce(v6),b1=new Set(["none","hidden"]);function E6(e,t){return b1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function C6(e,t){return n=>Jt(e,t,n)}function Sg(e){return typeof e=="number"?C6:typeof e=="string"?og(e)?xd:Yn.test(e)?P2:b6:Array.isArray(e)?gE:typeof e=="object"?Yn.test(e)?P2:A6:xd}function gE(e,t){const n=[...e],i=n.length,a=e.map((l,d)=>Sg(l)(l,t[d]));return l=>{for(let d=0;d<i;d++)n[d]=a[d](l);return n}}function A6(e,t){const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=Sg(e[a])(e[a],t[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function _6(e,t){var n;const i=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const d=t.types[l],p=e.indexes[d][a[d]],x=(n=e.values[p])!==null&&n!==void 0?n:0;i[l]=x,a[d]++}return i}const b6=(e,t)=>{const n=wo.createTransformer(t),i=hc(e),a=hc(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?b1.has(e)&&!a.values.length||b1.has(t)&&!i.values.length?E6(e,t):kc(gE(_6(i,a),a.values),n):xd(e,t)};function mE(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Jt(e,t,n):Sg(e)(e,t)}const S6=5;function xE(e,t,n){const i=Math.max(t-S6,0);return H3(n-e(i),t-i)}const an={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xh=.001;function T6({duration:e=an.duration,bounce:t=an.bounce,velocity:n=an.velocity,mass:i=an.mass}){let a,l,d=1-t;d=Es(an.minDamping,an.maxDamping,d),e=Es(an.minDuration,an.maxDuration,gs(e)),d<1?(a=m=>{const E=m*d,C=E*e,O=E-n,D=S1(m,d),U=Math.exp(-C);return Xh-O/D*U},l=m=>{const C=m*d*e,O=C*n+n,D=Math.pow(d,2)*Math.pow(m,2)*e,U=Math.exp(-C),I=S1(Math.pow(m,2),d);return(-a(m)+Xh>0?-1:1)*((O-D)*U)/I}):(a=m=>{const E=Math.exp(-m*e),C=(m-n)*e+1;return-Xh+E*C},l=m=>{const E=Math.exp(-m*e),C=(n-m)*(e*e);return E*C});const p=5/e,x=R6(a,l,p);if(e=ps(e),isNaN(x))return{stiffness:an.stiffness,damping:an.damping,duration:e};{const m=Math.pow(x,2)*i;return{stiffness:m,damping:d*2*Math.sqrt(i*m),duration:e}}}const I6=12;function R6(e,t,n){let i=n;for(let a=1;a<I6;a++)i=i-e(i)/t(i);return i}function S1(e,t){return e*Math.sqrt(1-t*t)}const N6=["duration","bounce"],O6=["stiffness","damping","mass"];function M2(e,t){return t.some(n=>e[n]!==void 0)}function D6(e){let t={velocity:an.velocity,stiffness:an.stiffness,damping:an.damping,mass:an.mass,isResolvedFromDuration:!1,...e};if(!M2(e,O6)&&M2(e,N6))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Es(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:an.mass,stiffness:a,damping:l}}else{const n=T6(e);t={...t,...n,mass:an.mass},t.isResolvedFromDuration=!0}return t}function yE(e=an.visualDuration,t=an.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],p={done:!1,value:l},{stiffness:x,damping:m,mass:E,duration:C,velocity:O,isResolvedFromDuration:D}=D6({...n,velocity:-gs(n.velocity||0)}),U=O||0,I=m/(2*Math.sqrt(x*E)),P=d-l,_=gs(Math.sqrt(x/E)),b=Math.abs(P)<5;i||(i=b?an.restSpeed.granular:an.restSpeed.default),a||(a=b?an.restDelta.granular:an.restDelta.default);let T;if(I<1){const X=S1(_,I);T=G=>{const W=Math.exp(-I*_*G);return d-W*((U+I*_*P)/X*Math.sin(X*G)+P*Math.cos(X*G))}}else if(I===1)T=X=>d-Math.exp(-_*X)*(P+(U+_*P)*X);else{const X=_*Math.sqrt(I*I-1);T=G=>{const W=Math.exp(-I*_*G),Y=Math.min(X*G,300);return d-W*((U+I*_*P)*Math.sinh(Y)+X*P*Math.cosh(Y))/X}}const L={calculatedDuration:D&&C||null,next:X=>{const G=T(X);if(D)p.done=X>=C;else{let W=0;I<1&&(W=X===0?ps(U):xE(T,X,G));const Y=Math.abs(W)<=i,te=Math.abs(d-G)<=a;p.done=Y&&te}return p.value=p.done?d:G,p},toString:()=>{const X=Math.min(L3(L),y1),G=B3(W=>L.next(X*W).value,X,30);return X+"ms "+G}};return L}function L2({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:d,min:p,max:x,restDelta:m=.5,restSpeed:E}){const C=e[0],O={done:!1,value:C},D=Y=>p!==void 0&&Y<p||x!==void 0&&Y>x,U=Y=>p===void 0?x:x===void 0||Math.abs(p-Y)<Math.abs(x-Y)?p:x;let I=n*t;const P=C+I,_=d===void 0?P:d(P);_!==P&&(I=_-C);const b=Y=>-I*Math.exp(-Y/i),T=Y=>_+b(Y),L=Y=>{const te=b(Y),ce=T(Y);O.done=Math.abs(te)<=m,O.value=O.done?_:ce};let X,G;const W=Y=>{D(O.value)&&(X=Y,G=yE({keyframes:[O.value,U(O.value)],velocity:xE(T,Y,O.value),damping:a,stiffness:l,restDelta:m,restSpeed:E}))};return W(0),{calculatedDuration:null,next:Y=>{let te=!1;return!G&&X===void 0&&(te=!0,L(Y),W(Y)),X!==void 0&&Y>=X?G.next(Y-X):(!te&&L(Y),O)}}}const k6=Dc(.42,0,1,1),P6=Dc(0,0,.58,1),wE=Dc(.42,0,.58,1),M6=e=>Array.isArray(e)&&typeof e[0]!="number",L6={linear:Lr,easeIn:k6,easeInOut:wE,easeOut:P6,circIn:Eg,circInOut:J3,circOut:$3,backIn:vg,backInOut:Y3,backOut:K3,anticipate:Q3},B2=e=>{if(gg(e)){m3(e.length===4);const[t,n,i,a]=e;return Dc(t,n,i,a)}else if(typeof e=="string")return L6[e];return e};function B6(e,t,n){const i=[],a=n||mE,l=e.length-1;for(let d=0;d<l;d++){let p=a(e[d],e[d+1]);if(t){const x=Array.isArray(t)?t[d]||Lr:t;p=kc(x,p)}i.push(p)}return i}function F6(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const l=e.length;if(m3(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const p=B6(t,i,a),x=p.length,m=E=>{if(d&&E<e[0])return t[0];let C=0;if(x>1)for(;C<e.length-2&&!(E<e[C+1]);C++);const O=Ml(e[C],e[C+1],E);return p[C](O)};return n?E=>m(Es(e[0],e[l-1],E)):m}function V6(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=Ml(0,t,i);e.push(Jt(n,1,a))}}function U6(e){const t=[0];return V6(t,e.length-1),t}function j6(e,t){return e.map(n=>n*t)}function z6(e,t){return e.map(()=>t||wE).splice(0,e.length-1)}function yd({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=M6(i)?i.map(B2):B2(i),l={done:!1,value:t[0]},d=j6(n&&n.length===t.length?n:U6(t),e),p=F6(d,t,{ease:Array.isArray(a)?a:z6(t,a)});return{calculatedDuration:e,next:x=>(l.value=p(x),l.done=x>=e,l)}}const W6=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Zt.update(t,!0),stop:()=>yo(t),now:()=>zn.isProcessing?zn.timestamp:Hi.now()}},H6={decay:L2,inertia:L2,tween:yd,keyframes:yd,spring:yE},G6=e=>e/100;class Tg extends pE{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:x}=this.options;x&&x()};const{name:n,motionValue:i,element:a,keyframes:l}=this.options,d=(a==null?void 0:a.KeyframeResolver)||bg,p=(x,m)=>this.onKeyframesResolved(x,m);this.resolver=new d(l,p,n,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:d=0}=this.options,p=pg(n)?n:H6[n]||yd;let x,m;p!==yd&&typeof t[0]!="number"&&(x=kc(G6,mE(t[0],t[1])),t=[0,100]);const E=p({...this.options,keyframes:t});l==="mirror"&&(m=p({...this.options,keyframes:[...t].reverse(),velocity:-d})),E.calculatedDuration===null&&(E.calculatedDuration=L3(E));const{calculatedDuration:C}=E,O=C+a,D=O*(i+1)-a;return{generator:E,mirroredGenerator:m,mapPercentToKeyframes:x,calculatedDuration:C,resolvedDuration:O,totalDuration:D}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:Y}=this.options;return{done:!0,value:Y[Y.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:d,mapPercentToKeyframes:p,keyframes:x,calculatedDuration:m,totalDuration:E,resolvedDuration:C}=i;if(this.startTime===null)return l.next(0);const{delay:O,repeat:D,repeatType:U,repeatDelay:I,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-E/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const _=this.currentTime-O*(this.speed>=0?1:-1),b=this.speed>=0?_<0:_>E;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=E);let T=this.currentTime,L=l;if(D){const Y=Math.min(this.currentTime,E)/C;let te=Math.floor(Y),ce=Y%1;!ce&&Y>=1&&(ce=1),ce===1&&te--,te=Math.min(te,D+1),!!(te%2)&&(U==="reverse"?(ce=1-ce,I&&(ce-=I/C)):U==="mirror"&&(L=d)),T=Es(0,1,ce)*C}const X=b?{done:!1,value:x[0]}:L.next(T);p&&(X.value=p(X.value));let{done:G}=X;!b&&m!==null&&(G=this.speed>=0?this.currentTime>=E:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return W&&a!==void 0&&(X.value=th(x,this.options,a)),P&&P(X.value),W&&this.finish(),X}get duration(){const{resolved:t}=this;return t?gs(t.calculatedDuration):0}get time(){return gs(this.currentTime)}set time(t){t=ps(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=gs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=W6,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const X6=new Set(["opacity","clipPath","filter","transform"]);function Z6(e,t,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:d="loop",ease:p="easeInOut",times:x}={}){const m={[t]:n};x&&(m.offset=x);const E=V3(p,a);return Array.isArray(E)&&(m.easing=E),e.animate(m,{delay:i,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:d==="reverse"?"alternate":"normal"})}const q6=Jp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wd=10,K6=2e4;function Y6(e){return pg(e.type)||e.type==="spring"||!F3(e.ease)}function Q6(e,t){const n=new Tg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const a=[];let l=0;for(;!i.done&&l<K6;)i=n.sample(l),a.push(i.value),l+=wd;return{times:void 0,keyframes:a,duration:l-wd,ease:"linear"}}const vE={anticipate:Q3,backInOut:Y3,circInOut:J3};function $6(e){return e in vE}class F2 extends pE{constructor(t){super(t);const{name:n,motionValue:i,element:a,keyframes:l}=this.options;this.resolver=new hE(l,(d,p)=>this.onKeyframesResolved(d,p),n,i,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:a,ease:l,type:d,motionValue:p,name:x,startTime:m}=this.options;if(!p.owner||!p.owner.current)return!1;if(typeof l=="string"&&md()&&$6(l)&&(l=vE[l]),Y6(this.options)){const{onComplete:C,onUpdate:O,motionValue:D,element:U,...I}=this.options,P=Q6(t,I);t=P.keyframes,t.length===1&&(t[1]=t[0]),i=P.duration,a=P.times,l=P.ease,d="keyframes"}const E=Z6(p.owner.current,x,t,{...this.options,duration:i,times:a,ease:l});return E.startTime=m??this.calcStartTime(),this.pendingTimeline?(C2(E,this.pendingTimeline),this.pendingTimeline=void 0):E.onfinish=()=>{const{onComplete:C}=this.options;p.set(th(t,this.options,n)),C&&C(),this.cancel(),this.resolveFinishedPromise()},{animation:E,duration:i,times:a,type:d,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return gs(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return gs(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=ps(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Lr;const{animation:i}=n;C2(i,t)}return Lr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:a,type:l,ease:d,times:p}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:E,onComplete:C,element:O,...D}=this.options,U=new Tg({...D,keyframes:i,duration:a,type:l,ease:d,times:p,isGenerator:!0}),I=ps(this.time);m.setWithVelocity(U.sample(I-wd).value,U.sample(I).value,wd)}const{onStop:x}=this.options;x&&x(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:a,repeatType:l,damping:d,type:p}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:x,transformTemplate:m}=n.owner.getProps();return q6()&&i&&X6.has(i)&&!x&&!m&&!a&&l!=="mirror"&&d!==0&&p!=="inertia"}}const J6={type:"spring",stiffness:500,damping:25,restSpeed:10},eT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tT={type:"keyframes",duration:.8},nT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rT=(e,{keyframes:t})=>t.length>2?tT:Ea.has(e)?e.startsWith("scale")?eT(t[1]):J6:nT;function iT({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:d,repeatDelay:p,from:x,elapsed:m,...E}){return!!Object.keys(E).length}const Ig=(e,t,n,i={},a,l)=>d=>{const p=hg(i,e)||{},x=p.delay||i.delay||0;let{elapsed:m=0}=i;m=m-ps(x);let E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-m,onUpdate:O=>{t.set(O),p.onUpdate&&p.onUpdate(O)},onComplete:()=>{d(),p.onComplete&&p.onComplete()},name:e,motionValue:t,element:l?void 0:a};iT(p)||(E={...E,...rT(e,E)}),E.duration&&(E.duration=ps(E.duration)),E.repeatDelay&&(E.repeatDelay=ps(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let C=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(C=!0)),C&&!l&&t.get()!==void 0){const O=th(E.keyframes,p);if(O!==void 0)return Zt.update(()=>{E.onUpdate(O),E.onComplete()}),new A8([])}return!l&&F2.supports(E)?new F2(E):new Tg(E)};function sT({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function EE(e,t,{delay:n=0,transitionOverride:i,type:a}={}){var l;let{transition:d=e.getDefaultTransition(),transitionEnd:p,...x}=t;i&&(d=i);const m=[],E=a&&e.animationState&&e.animationState.getState()[a];for(const C in x){const O=e.getValue(C,(l=e.latestValues[C])!==null&&l!==void 0?l:null),D=x[C];if(D===void 0||E&&sT(E,C))continue;const U={delay:n,...hg(d||{},C)};let I=!1;if(window.MotionHandoffAnimation){const _=G3(e);if(_){const b=window.MotionHandoffAnimation(_,C,Zt);b!==null&&(U.startTime=b,I=!0)}}v1(e,C),O.start(Ig(C,O,D,e.shouldReduceMotion&&W3.has(C)?{type:!1}:U,e,I));const P=O.animation;P&&m.push(P)}return p&&Promise.all(m).then(()=>{Zt.update(()=>{p&&B8(e,p)})}),m}function T1(e,t,n={}){var i;const a=eh(e,t,n.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const d=a?()=>Promise.all(EE(e,a,n)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:E=0,staggerChildren:C,staggerDirection:O}=l;return oT(e,t,E+m,C,O,n)}:()=>Promise.resolve(),{when:x}=l;if(x){const[m,E]=x==="beforeChildren"?[d,p]:[p,d];return m().then(()=>E())}else return Promise.all([d(),p(n.delay)])}function oT(e,t,n=0,i=0,a=1,l){const d=[],p=(e.variantChildren.size-1)*i,x=a===1?(m=0)=>m*i:(m=0)=>p-m*i;return Array.from(e.variantChildren).sort(aT).forEach((m,E)=>{m.notify("AnimationStart",t),d.push(T1(m,t,{...l,delay:n+x(E)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(d)}function aT(e,t){return e.sortNodePosition(t)}function lT(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>T1(e,l,n));i=Promise.all(a)}else if(typeof t=="string")i=T1(e,t,n);else{const a=typeof t=="function"?eh(e,t,n.custom):t;i=Promise.all(EE(e,a,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const uT=tg.length;function CE(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?CE(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<uT;n++){const i=tg[n],a=e.props[i];(cc(a)||a===!1)&&(t[i]=a)}return t}const cT=[...eg].reverse(),fT=eg.length;function dT(e){return t=>Promise.all(t.map(({animation:n,options:i})=>lT(e,n,i)))}function hT(e){let t=dT(e),n=V2(),i=!0;const a=x=>(m,E)=>{var C;const O=eh(e,E,x==="exit"?(C=e.presenceContext)===null||C===void 0?void 0:C.custom:void 0);if(O){const{transition:D,transitionEnd:U,...I}=O;m={...m,...I,...U}}return m};function l(x){t=x(e)}function d(x){const{props:m}=e,E=CE(e.parent)||{},C=[],O=new Set;let D={},U=1/0;for(let P=0;P<fT;P++){const _=cT[P],b=n[_],T=m[_]!==void 0?m[_]:E[_],L=cc(T),X=_===x?b.isActive:null;X===!1&&(U=P);let G=T===E[_]&&T!==m[_]&&L;if(G&&i&&e.manuallyAnimateOnMount&&(G=!1),b.protectedKeys={...D},!b.isActive&&X===null||!T&&!b.prevProp||$d(T)||typeof T=="boolean")continue;const W=pT(b.prevProp,T);let Y=W||_===x&&b.isActive&&!G&&L||P>U&&L,te=!1;const ce=Array.isArray(T)?T:[T];let De=ce.reduce(a(_),{});X===!1&&(De={});const{prevResolvedValues:ye={}}=b,Xe={...ye,...De},ot=be=>{Y=!0,O.has(be)&&(te=!0,O.delete(be)),b.needsAnimating[be]=!0;const pe=e.getValue(be);pe&&(pe.liveStyle=!1)};for(const be in Xe){const pe=De[be],Ae=ye[be];if(D.hasOwnProperty(be))continue;let Le=!1;x1(pe)&&x1(Ae)?Le=!M3(pe,Ae):Le=pe!==Ae,Le?pe!=null?ot(be):O.add(be):pe!==void 0&&O.has(be)?ot(be):b.protectedKeys[be]=!0}b.prevProp=T,b.prevResolvedValues=De,b.isActive&&(D={...D,...De}),i&&e.blockInitialAnimation&&(Y=!1),Y&&(!(G&&W)||te)&&C.push(...ce.map(be=>({animation:be,options:{type:_}})))}if(O.size){const P={};O.forEach(_=>{const b=e.getBaseTarget(_),T=e.getValue(_);T&&(T.liveStyle=!0),P[_]=b??null}),C.push({animation:P})}let I=!!C.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(I=!1),i=!1,I?t(C):Promise.resolve()}function p(x,m){var E;if(n[x].isActive===m)return Promise.resolve();(E=e.variantChildren)===null||E===void 0||E.forEach(O=>{var D;return(D=O.animationState)===null||D===void 0?void 0:D.setActive(x,m)}),n[x].isActive=m;const C=d(x);for(const O in n)n[O].protectedKeys={};return C}return{animateChanges:d,setActive:p,setAnimateFunction:l,getState:()=>n,reset:()=>{n=V2(),i=!0}}}function pT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!M3(t,e):!1}function Po(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V2(){return{animate:Po(!0),whileInView:Po(),whileHover:Po(),whileTap:Po(),whileDrag:Po(),whileFocus:Po(),exit:Po()}}class bo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gT extends bo{constructor(t){super(t),t.animationState||(t.animationState=hT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$d(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let mT=0;class xT extends bo{constructor(){super(...arguments),this.id=mT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const yT={animation:{Feature:gT},exit:{Feature:xT}};function pc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Pc(e){return{point:{x:e.pageX,y:e.pageY}}}const wT=e=>t=>mg(t)&&e(t,Pc(t));function zu(e,t,n,i){return pc(e,t,wT(n),i)}const U2=(e,t)=>Math.abs(e-t);function vT(e,t){const n=U2(e.x,t.x),i=U2(e.y,t.y);return Math.sqrt(n**2+i**2)}class AE{constructor(t,n,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=qh(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,D=vT(C.offset,{x:0,y:0})>=3;if(!O&&!D)return;const{point:U}=C,{timestamp:I}=zn;this.history.push({...U,timestamp:I});const{onStart:P,onMove:_}=this.handlers;O||(P&&P(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,C)},this.handlePointerMove=(C,O)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Zh(O,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(C,O)=>{this.end();const{onEnd:D,onSessionEnd:U,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=qh(C.type==="pointercancel"?this.lastMoveEventInfo:Zh(O,this.transformPagePoint),this.history);this.startEvent&&D&&D(C,P),U&&U(C,P)},!mg(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=a||window;const d=Pc(t),p=Zh(d,this.transformPagePoint),{point:x}=p,{timestamp:m}=zn;this.history=[{...x,timestamp:m}];const{onSessionStart:E}=n;E&&E(t,qh(p,this.history)),this.removeListeners=kc(zu(this.contextWindow,"pointermove",this.handlePointerMove),zu(this.contextWindow,"pointerup",this.handlePointerUp),zu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yo(this.updatePoint)}}function Zh(e,t){return t?{point:t(e.point)}:e}function j2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qh({point:e},t){return{point:e,delta:j2(e,_E(t)),offset:j2(e,ET(t)),velocity:CT(t,.1)}}function ET(e){return e[0]}function _E(e){return e[e.length-1]}function CT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=_E(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>ps(t)));)n--;if(!i)return{x:0,y:0};const l=gs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const d={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const bE=1e-4,AT=1-bE,_T=1+bE,SE=.01,bT=0-SE,ST=0+SE;function Fr(e){return e.max-e.min}function TT(e,t,n){return Math.abs(e-t)<=n}function z2(e,t,n,i=.5){e.origin=i,e.originPoint=Jt(t.min,t.max,e.origin),e.scale=Fr(n)/Fr(t),e.translate=Jt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=AT&&e.scale<=_T||isNaN(e.scale))&&(e.scale=1),(e.translate>=bT&&e.translate<=ST||isNaN(e.translate))&&(e.translate=0)}function Wu(e,t,n,i){z2(e.x,t.x,n.x,i?i.originX:void 0),z2(e.y,t.y,n.y,i?i.originY:void 0)}function W2(e,t,n){e.min=n.min+t.min,e.max=e.min+Fr(t)}function IT(e,t,n){W2(e.x,t.x,n.x),W2(e.y,t.y,n.y)}function H2(e,t,n){e.min=t.min-n.min,e.max=e.min+Fr(t)}function Hu(e,t,n){H2(e.x,t.x,n.x),H2(e.y,t.y,n.y)}function RT(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Jt(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Jt(n,e,i.max):Math.min(e,n)),e}function G2(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function NT(e,{top:t,left:n,bottom:i,right:a}){return{x:G2(e.x,n,a),y:G2(e.y,t,i)}}function X2(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function OT(e,t){return{x:X2(e.x,t.x),y:X2(e.y,t.y)}}function DT(e,t){let n=.5;const i=Fr(e),a=Fr(t);return a>i?n=Ml(t.min,t.max-i,e.min):i>a&&(n=Ml(e.min,e.max-a,t.min)),Es(0,1,n)}function kT(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const I1=.35;function PT(e=I1){return e===!1?e=0:e===!0&&(e=I1),{x:Z2(e,"left","right"),y:Z2(e,"top","bottom")}}function Z2(e,t,n){return{min:q2(e,t),max:q2(e,n)}}function q2(e,t){return typeof e=="number"?e:e[t]||0}const K2=()=>({translate:0,scale:1,origin:0,originPoint:0}),tl=()=>({x:K2(),y:K2()}),Y2=()=>({min:0,max:0}),dn=()=>({x:Y2(),y:Y2()});function Gr(e){return[e("x"),e("y")]}function TE({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function MT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LT(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Kh(e){return e===void 0||e===1}function R1({scale:e,scaleX:t,scaleY:n}){return!Kh(e)||!Kh(t)||!Kh(n)}function Bo(e){return R1(e)||IE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IE(e){return Q2(e.x)||Q2(e.y)}function Q2(e){return e&&e!=="0%"}function vd(e,t,n){const i=e-n,a=t*i;return n+a}function $2(e,t,n,i,a){return a!==void 0&&(e=vd(e,a,i)),vd(e,n,i)+t}function N1(e,t=0,n=1,i,a){e.min=$2(e.min,t,n,i,a),e.max=$2(e.max,t,n,i,a)}function RE(e,{x:t,y:n}){N1(e.x,t.translate,t.scale,t.originPoint),N1(e.y,n.translate,n.scale,n.originPoint)}const J2=.999999999999,ex=1.0000000000001;function BT(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,d;for(let p=0;p<a;p++){l=n[p],d=l.projectionDelta;const{visualElement:x}=l.options;x&&x.props.style&&x.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&rl(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,RE(e,d)),i&&Bo(l.latestValues)&&rl(e,l.latestValues))}t.x<ex&&t.x>J2&&(t.x=1),t.y<ex&&t.y>J2&&(t.y=1)}function nl(e,t){e.min=e.min+t,e.max=e.max+t}function tx(e,t,n,i,a=.5){const l=Jt(e.min,e.max,a);N1(e,t,n,l,i)}function rl(e,t){tx(e.x,t.x,t.scaleX,t.scale,t.originX),tx(e.y,t.y,t.scaleY,t.scale,t.originY)}function NE(e,t){return TE(LT(e.getBoundingClientRect(),t))}function FT(e,t,n){const i=NE(e,n),{scroll:a}=t;return a&&(nl(i.x,a.offset.x),nl(i.y,a.offset.y)),i}const OE=({current:e})=>e?e.ownerDocument.defaultView:null,VT=new WeakMap;class UT{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=E=>{const{dragSnapToOrigin:C}=this.getProps();C?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pc(E).point)},l=(E,C)=>{const{drag:O,dragPropagation:D,onDragStart:U}=this.getProps();if(O&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D8(O),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gr(P=>{let _=this.getAxisMotionValue(P).get()||0;if(Wi.test(_)){const{projection:b}=this.visualElement;if(b&&b.layout){const T=b.layout.layoutBox[P];T&&(_=Fr(T)*(parseFloat(_)/100))}}this.originPoint[P]=_}),U&&Zt.postRender(()=>U(E,C)),v1(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},d=(E,C)=>{const{dragPropagation:O,dragDirectionLock:D,onDirectionLock:U,onDrag:I}=this.getProps();if(!O&&!this.openDragLock)return;const{offset:P}=C;if(D&&this.currentDirection===null){this.currentDirection=jT(P),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",C.point,P),this.updateAxis("y",C.point,P),this.visualElement.render(),I&&I(E,C)},p=(E,C)=>this.stop(E,C),x=()=>Gr(E=>{var C;return this.getAnimationState(E)==="paused"&&((C=this.getAxisMotionValue(E).animation)===null||C===void 0?void 0:C.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new AE(t,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:p,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:OE(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Zt.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!Cf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let d=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(d=RT(d,this.constraints[t],this.elastic[t])),l.set(d)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;n&&Ja(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=NT(a.layoutBox,n):this.constraints=!1,this.elastic=PT(i),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Gr(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=kT(a.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ja(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=FT(i,a.root,this.visualElement.getTransformPagePoint());let d=OT(a.layout.layoutBox,l);if(n){const p=n(MT(d));this.hasMutatedConstraints=!!p,p&&(d=TE(p))}return d}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:d,onDragTransitionEnd:p}=this.getProps(),x=this.constraints||{},m=Gr(E=>{if(!Cf(E,n,this.currentDirection))return;let C=x&&x[E]||{};d&&(C={min:0,max:0});const O=a?200:1e6,D=a?40:1e7,U={type:"inertia",velocity:i?t[E]:0,bounceStiffness:O,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...l,...C};return this.startAxisValueAnimation(E,U)});return Promise.all(m).then(p)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return v1(this.visualElement,t),i.start(Ig(t,i,0,n,this.visualElement,!1))}stopAnimation(){Gr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Gr(n=>{const{drag:i}=this.getProps();if(!Cf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:d,max:p}=a.layout.layoutBox[n];l.set(t[n]-Jt(d,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ja(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gr(d=>{const p=this.getAxisMotionValue(d);if(p&&this.constraints!==!1){const x=p.get();a[d]=DT({min:x,max:x},this.constraints[d])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Gr(d=>{if(!Cf(d,t,null))return;const p=this.getAxisMotionValue(d),{min:x,max:m}=this.constraints[d];p.set(Jt(x,m,a[d]))})}addListeners(){if(!this.visualElement.current)return;VT.set(this.visualElement,this);const t=this.visualElement.current,n=zu(t,"pointerdown",x=>{const{drag:m,dragListener:E=!0}=this.getProps();m&&E&&this.start(x)}),i=()=>{const{dragConstraints:x}=this.getProps();Ja(x)&&x.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Zt.read(i);const d=pc(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",({delta:x,hasLayoutChanged:m})=>{this.isDragging&&m&&(Gr(E=>{const C=this.getAxisMotionValue(E);C&&(this.originPoint[E]+=x[E].translate,C.set(C.get()+x[E].translate))}),this.visualElement.render())});return()=>{d(),n(),l(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:d=I1,dragMomentum:p=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:d,dragMomentum:p}}}function Cf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jT(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class zT extends bo{constructor(t){super(t),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new UT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const nx=e=>(t,n)=>{e&&Zt.postRender(()=>e(t,n))};class WT extends bo{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(t){this.session=new AE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:nx(t),onStart:nx(n),onMove:i,onEnd:(l,d)=>{delete this.session,a&&Zt.postRender(()=>a(l,d))}}}mount(){this.removePointerDownListener=zu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ze.test(e))e=parseFloat(e);else return e;const n=rx(e,t.target.x),i=rx(e,t.target.y);return`${n}% ${i}%`}},HT={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=wo.parse(e);if(a.length>5)return i;const l=wo.createTransformer(e),d=typeof a[0]!="number"?1:0,p=n.x.scale*t.x,x=n.y.scale*t.y;a[0+d]/=p,a[1+d]/=x;const m=Jt(p,x,.5);return typeof a[2+d]=="number"&&(a[2+d]/=m),typeof a[3+d]=="number"&&(a[3+d]/=m),l(a)}};class GT extends se.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;f8(XT),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),jf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,d=i.projection;return d&&(d.isPresent=l,a||t.layoutDependency!==n||n===void 0?d.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?d.promote():d.relegate()||Zt.postRender(()=>{const p=d.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function DE(e){const[t,n]=p3(),i=se.useContext(Kp);return Z.jsx(GT,{...e,layoutGroup:i,switchLayoutGroup:se.useContext(C3),isPresent:t,safeToRemove:n})}const XT={borderRadius:{...wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wu,borderTopRightRadius:wu,borderBottomLeftRadius:wu,borderBottomRightRadius:wu,boxShadow:HT};function ZT(e,t,n){const i=$n(e)?e:dc(e);return i.start(Ig("",i,t,n)),i.animation}function qT(e){return e instanceof SVGElement&&e.tagName!=="svg"}const KT=(e,t)=>e.depth-t.depth;class YT{constructor(){this.children=[],this.isDirty=!1}add(t){xg(this.children,t),this.isDirty=!0}remove(t){yg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KT),this.isDirty=!1,this.children.forEach(t)}}function QT(e,t){const n=Hi.now(),i=({timestamp:a})=>{const l=a-n;l>=t&&(yo(i),e(l-t))};return Zt.read(i,!0),()=>yo(i)}const kE=["TopLeft","TopRight","BottomLeft","BottomRight"],$T=kE.length,ix=e=>typeof e=="string"?parseFloat(e):e,sx=e=>typeof e=="number"||ze.test(e);function JT(e,t,n,i,a,l){a?(e.opacity=Jt(0,n.opacity!==void 0?n.opacity:1,eI(i)),e.opacityExit=Jt(t.opacity!==void 0?t.opacity:1,0,tI(i))):l&&(e.opacity=Jt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let d=0;d<$T;d++){const p=`border${kE[d]}Radius`;let x=ox(t,p),m=ox(n,p);if(x===void 0&&m===void 0)continue;x||(x=0),m||(m=0),x===0||m===0||sx(x)===sx(m)?(e[p]=Math.max(Jt(ix(x),ix(m),i),0),(Wi.test(m)||Wi.test(x))&&(e[p]+="%")):e[p]=m}(t.rotate||n.rotate)&&(e.rotate=Jt(t.rotate||0,n.rotate||0,i))}function ox(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const eI=PE(0,.5,$3),tI=PE(.5,.95,Lr);function PE(e,t,n){return i=>i<e?0:i>t?1:n(Ml(e,t,i))}function ax(e,t){e.min=t.min,e.max=t.max}function Hr(e,t){ax(e.x,t.x),ax(e.y,t.y)}function lx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ux(e,t,n,i,a){return e-=t,e=vd(e,1/n,i),a!==void 0&&(e=vd(e,1/a,i)),e}function nI(e,t=0,n=1,i=.5,a,l=e,d=e){if(Wi.test(t)&&(t=parseFloat(t),t=Jt(d.min,d.max,t/100)-d.min),typeof t!="number")return;let p=Jt(l.min,l.max,i);e===l&&(p-=t),e.min=ux(e.min,t,n,p,a),e.max=ux(e.max,t,n,p,a)}function cx(e,t,[n,i,a],l,d){nI(e,t[n],t[i],t[a],t.scale,l,d)}const rI=["x","scaleX","originX"],iI=["y","scaleY","originY"];function fx(e,t,n,i){cx(e.x,t,rI,n?n.x:void 0,i?i.x:void 0),cx(e.y,t,iI,n?n.y:void 0,i?i.y:void 0)}function dx(e){return e.translate===0&&e.scale===1}function ME(e){return dx(e.x)&&dx(e.y)}function hx(e,t){return e.min===t.min&&e.max===t.max}function sI(e,t){return hx(e.x,t.x)&&hx(e.y,t.y)}function px(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function LE(e,t){return px(e.x,t.x)&&px(e.y,t.y)}function gx(e){return Fr(e.x)/Fr(e.y)}function mx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oI{constructor(){this.members=[]}add(t){xg(this.members,t),t.scheduleRender()}remove(t){if(yg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aI(e,t,n){let i="";const a=e.x.translate/t.x,l=e.y.translate/t.y,d=(n==null?void 0:n.z)||0;if((a||l||d)&&(i=`translate3d(${a}px, ${l}px, ${d}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:E,rotateX:C,rotateY:O,skewX:D,skewY:U}=n;m&&(i=`perspective(${m}px) ${i}`),E&&(i+=`rotate(${E}deg) `),C&&(i+=`rotateX(${C}deg) `),O&&(i+=`rotateY(${O}deg) `),D&&(i+=`skewX(${D}deg) `),U&&(i+=`skewY(${U}deg) `)}const p=e.x.scale*t.x,x=e.y.scale*t.y;return(p!==1||x!==1)&&(i+=`scale(${p}, ${x})`),i||"none"}const Fo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ru=typeof window<"u"&&window.MotionDebug!==void 0,Yh=["","X","Y","Z"],lI={visibility:"hidden"},xx=1e3;let uI=0;function Qh(e,t,n,i){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function BE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=G3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Zt,!(a||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&BE(i)}function FE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(d={},p=t==null?void 0:t()){this.id=uI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ru&&(Fo.totalNodes=Fo.resolvedTargetDeltas=Fo.recalculatedProjection=0),this.nodes.forEach(dI),this.nodes.forEach(xI),this.nodes.forEach(yI),this.nodes.forEach(hI),Ru&&window.MotionDebug.record(Fo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new YT)}addEventListener(d,p){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new wg),this.eventHandlers.get(d).add(p)}notifyListeners(d,...p){const x=this.eventHandlers.get(d);x&&x.notify(...p)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,p=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qT(d),this.instance=d;const{layoutId:x,layout:m,visualElement:E}=this.options;if(E&&!E.current&&E.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),p&&(m||x)&&(this.isLayoutDirty=!0),e){let C;const O=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,C&&C(),C=QT(O,250),jf.hasAnimatedSinceResize&&(jf.hasAnimatedSinceResize=!1,this.nodes.forEach(wx))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&E&&(x||m)&&this.addEventListener("didUpdate",({delta:C,hasLayoutChanged:O,hasRelativeTargetChanged:D,layout:U})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||E.getDefaultTransition()||AI,{onLayoutAnimationStart:P,onLayoutAnimationComplete:_}=E.getProps(),b=!this.targetLayout||!LE(this.targetLayout,U)||D,T=!O&&D;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||O&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(C,T);const L={...hg(I,"layout"),onPlay:P,onComplete:_};(E.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else O||wx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=U})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wI),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const C=this.path[E];C.shouldResetTransform=!0,C.updateScroll("snapshot"),C.options.layoutRoot&&C.willUpdate(!1)}const{layoutId:p,layout:x}=this.options;if(p===void 0&&!x)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yx);return}this.isUpdating||this.nodes.forEach(gI),this.isUpdating=!1,this.nodes.forEach(mI),this.nodes.forEach(cI),this.nodes.forEach(fI),this.clearAllSnapshots();const p=Hi.now();zn.delta=Es(0,1e3/60,p-zn.timestamp),zn.timestamp=p,zn.isProcessing=!0,jh.update.process(zn),jh.preRender.process(zn),jh.render.process(zn),zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pI),this.sharedNodes.forEach(vI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(p=!1),p){const x=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:x,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!a)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!ME(this.projectionDelta),x=this.getTransformTemplate(),m=x?x(this.latestValues,""):void 0,E=m!==this.prevTransformTemplateValue;d&&(p||Bo(this.latestValues)||E)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const p=this.measurePageBox();let x=this.removeElementScroll(p);return d&&(x=this.removeTransform(x)),_I(x),{animationId:this.root.animationId,measuredBox:p,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:p}=this.options;if(!p)return dn();const x=p.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(bI))){const{scroll:E}=this.root;E&&(nl(x.x,E.offset.x),nl(x.y,E.offset.y))}return x}removeElementScroll(d){var p;const x=dn();if(Hr(x,d),!((p=this.scroll)===null||p===void 0)&&p.wasRoot)return x;for(let m=0;m<this.path.length;m++){const E=this.path[m],{scroll:C,options:O}=E;E!==this.root&&C&&O.layoutScroll&&(C.wasRoot&&Hr(x,d),nl(x.x,C.offset.x),nl(x.y,C.offset.y))}return x}applyTransform(d,p=!1){const x=dn();Hr(x,d);for(let m=0;m<this.path.length;m++){const E=this.path[m];!p&&E.options.layoutScroll&&E.scroll&&E!==E.root&&rl(x,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),Bo(E.latestValues)&&rl(x,E.latestValues)}return Bo(this.latestValues)&&rl(x,this.latestValues),x}removeTransform(d){const p=dn();Hr(p,d);for(let x=0;x<this.path.length;x++){const m=this.path[x];if(!m.instance||!Bo(m.latestValues))continue;R1(m.latestValues)&&m.updateSnapshot();const E=dn(),C=m.measurePageBox();Hr(E,C),fx(p,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,E)}return Bo(this.latestValues)&&fx(p,this.latestValues),p}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var p;const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==x;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:C,layoutId:O}=this.options;if(!(!this.layout||!(C||O))){if(this.resolvedRelativeTargetAt=zn.timestamp,!this.targetDelta&&!this.relativeTarget){const D=this.getClosestProjectingParent();D&&D.layout&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Hu(this.relativeTargetOrigin,this.layout.layoutBox,D.layout.layoutBox),Hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hr(this.target,this.layout.layoutBox),RE(this.target,this.targetDelta)):Hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const D=this.getClosestProjectingParent();D&&!!D.resumingFrom==!!this.resumingFrom&&!D.options.layoutScroll&&D.target&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Hu(this.relativeTargetOrigin,this.target,D.target),Hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ru&&Fo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||R1(this.parent.latestValues)||IE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const p=this.getLead(),x=!!this.resumingFrom||this!==p;let m=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(m=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===zn.timestamp&&(m=!1),m)return;const{layout:E,layoutId:C}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||C))return;Hr(this.layoutCorrected,this.layout.layoutBox);const O=this.treeScale.x,D=this.treeScale.y;BT(this.layoutCorrected,this.treeScale,this.path,x),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=dn());const{target:U}=p;if(!U){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lx(this.prevProjectionDelta.x,this.projectionDelta.x),lx(this.prevProjectionDelta.y,this.projectionDelta.y)),Wu(this.projectionDelta,this.layoutCorrected,U,this.latestValues),(this.treeScale.x!==O||this.treeScale.y!==D||!mx(this.projectionDelta.x,this.prevProjectionDelta.x)||!mx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",U)),Ru&&Fo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var p;if((p=this.options.visualElement)===null||p===void 0||p.scheduleRender(),d){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tl(),this.projectionDelta=tl(),this.projectionDeltaWithTransform=tl()}setAnimationOrigin(d,p=!1){const x=this.snapshot,m=x?x.latestValues:{},E={...this.latestValues},C=tl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const O=dn(),D=x?x.source:void 0,U=this.layout?this.layout.source:void 0,I=D!==U,P=this.getStack(),_=!P||P.members.length<=1,b=!!(I&&!_&&this.options.crossfade===!0&&!this.path.some(CI));this.animationProgress=0;let T;this.mixTargetDelta=L=>{const X=L/1e3;vx(C.x,d.x,X),vx(C.y,d.y,X),this.setTargetDelta(C),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hu(O,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EI(this.relativeTarget,this.relativeTargetOrigin,O,X),T&&sI(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=dn()),Hr(T,this.relativeTarget)),I&&(this.animationValues=E,JT(E,m,this.latestValues,X,b,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{jf.hasAnimatedSinceResize=!0,this.currentAnimation=ZT(0,xx,{...d,onUpdate:p=>{this.mixTargetDelta(p),d.onUpdate&&d.onUpdate(p)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:p,target:x,layout:m,latestValues:E}=d;if(!(!p||!x||!m)){if(this!==d&&this.layout&&m&&VE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){x=this.target||dn();const C=Fr(this.layout.layoutBox.x);x.x.min=d.target.x.min,x.x.max=x.x.min+C;const O=Fr(this.layout.layoutBox.y);x.y.min=d.target.y.min,x.y.max=x.y.min+O}Hr(p,x),rl(p,E),Wu(this.projectionDeltaWithTransform,this.layoutCorrected,p,E)}}registerSharedNode(d,p){this.sharedNodes.has(d)||this.sharedNodes.set(d,new oI),this.sharedNodes.get(d).add(p);const m=p.options.initialPromotionConfig;p.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(p):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:p}=this.options;return p?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:p}=this.options;return p?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:p,preserveFollowOpacity:x}={}){const m=this.getStack();m&&m.promote(this,x),d&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let p=!1;const{latestValues:x}=d;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(p=!0),!p)return;const m={};x.z&&Qh("z",d,m,this.animationValues);for(let E=0;E<Yh.length;E++)Qh(`rotate${Yh[E]}`,d,m,this.animationValues),Qh(`skew${Yh[E]}`,d,m,this.animationValues);d.render();for(const E in m)d.setStaticValue(E,m[E]),this.animationValues&&(this.animationValues[E]=m[E]);d.scheduleRender()}getProjectionStyles(d){var p,x;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lI;const m={visibility:""},E=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Vf(d==null?void 0:d.pointerEvents)||"",m.transform=E?E(this.latestValues,""):"none",m;const C=this.getLead();if(!this.projectionDelta||!this.layout||!C.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=Vf(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(I.transform=E?E({},""):"none",this.hasProjected=!1),I}const O=C.animationValues||C.latestValues;this.applyTransformsToTarget(),m.transform=aI(this.projectionDeltaWithTransform,this.treeScale,O),E&&(m.transform=E(O,m.transform));const{x:D,y:U}=this.projectionDelta;m.transformOrigin=`${D.origin*100}% ${U.origin*100}% 0`,C.animationValues?m.opacity=C===this?(x=(p=O.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&x!==void 0?x:1:this.preserveOpacity?this.latestValues.opacity:O.opacityExit:m.opacity=C===this?O.opacity!==void 0?O.opacity:"":O.opacityExit!==void 0?O.opacityExit:0;for(const I in gd){if(O[I]===void 0)continue;const{correct:P,applyTo:_}=gd[I],b=m.transform==="none"?O[I]:P(O[I],C);if(_){const T=_.length;for(let L=0;L<T;L++)m[_[L]]=b}else m[I]=b}return this.options.layoutId&&(m.pointerEvents=C===this?Vf(d==null?void 0:d.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var p;return(p=d.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(yx),this.root.sharedNodes.clear()}}}function cI(e){e.updateLayout()}function fI(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=e.layout,{animationType:l}=e.options,d=n.source!==e.layout.source;l==="size"?Gr(C=>{const O=d?n.measuredBox[C]:n.layoutBox[C],D=Fr(O);O.min=i[C].min,O.max=O.min+D}):VE(l,n.layoutBox,i)&&Gr(C=>{const O=d?n.measuredBox[C]:n.layoutBox[C],D=Fr(i[C]);O.max=O.min+D,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[C].max=e.relativeTarget[C].min+D)});const p=tl();Wu(p,i,n.layoutBox);const x=tl();d?Wu(x,e.applyTransform(a,!0),n.measuredBox):Wu(x,i,n.layoutBox);const m=!ME(p);let E=!1;if(!e.resumeFrom){const C=e.getClosestProjectingParent();if(C&&!C.resumeFrom){const{snapshot:O,layout:D}=C;if(O&&D){const U=dn();Hu(U,n.layoutBox,O.layoutBox);const I=dn();Hu(I,i,D.layoutBox),LE(U,I)||(E=!0),C.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=U,e.relativeParent=C)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:x,layoutDelta:p,hasLayoutChanged:m,hasRelativeTargetChanged:E})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function dI(e){Ru&&Fo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pI(e){e.clearSnapshot()}function yx(e){e.clearMeasurements()}function gI(e){e.isLayoutDirty=!1}function mI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xI(e){e.resolveTargetDelta()}function yI(e){e.calcProjection()}function wI(e){e.resetSkewAndRotation()}function vI(e){e.removeLeadSnapshot()}function vx(e,t,n){e.translate=Jt(t.translate,0,n),e.scale=Jt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ex(e,t,n,i){e.min=Jt(t.min,n.min,i),e.max=Jt(t.max,n.max,i)}function EI(e,t,n,i){Ex(e.x,t.x,n.x,i),Ex(e.y,t.y,n.y,i)}function CI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const AI={duration:.45,ease:[.4,0,.1,1]},Cx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ax=Cx("applewebkit/")&&!Cx("chrome/")?Math.round:Lr;function _x(e){e.min=Ax(e.min),e.max=Ax(e.max)}function _I(e){_x(e.x),_x(e.y)}function VE(e,t,n){return e==="position"||e==="preserve-aspect"&&!TT(gx(t),gx(n),.2)}function bI(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const SI=FE({attachResizeListener:(e,t)=>pc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$h={current:void 0},UE=FE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$h.current){const e=new SI({});e.mount(window),e.setOptions({layoutScroll:!0}),$h.current=e}return $h.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),TI={pan:{Feature:WT},drag:{Feature:zT,ProjectionNode:UE,MeasureLayout:DE}};function bx(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Zt.postRender(()=>l(t,Pc(t)))}class II extends bo{mount(){const{current:t}=this.node;t&&(this.unmount=T8(t,n=>(bx(this.node,n,"Start"),i=>bx(this.node,i,"End"))))}unmount(){}}class RI extends bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sx(e,t,n){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Zt.postRender(()=>l(t,Pc(t)))}class NI extends bo{mount(){const{current:t}=this.node;t&&(this.unmount=O8(t,n=>(Sx(this.node,n,"Start"),(i,{success:a})=>Sx(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const O1=new WeakMap,Jh=new WeakMap,OI=e=>{const t=O1.get(e.target);t&&t(e)},DI=e=>{e.forEach(OI)};function kI({root:e,...t}){const n=e||document;Jh.has(n)||Jh.set(n,{});const i=Jh.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(DI,{root:e,...t})),i[a]}function PI(e,t,n){const i=kI(t);return O1.set(e,n),i.observe(e),()=>{O1.delete(e),i.unobserve(e)}}const MI={some:0,all:1};class LI extends bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=t,d={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:MI[a]},p=x=>{const{isIntersecting:m}=x;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:E,onViewportLeave:C}=this.node.getProps(),O=m?E:C;O&&O(x)};return PI(this.node.current,d,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(BI(t,n))&&this.startObserver()}unmount(){}}function BI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const FI={inView:{Feature:LI},tap:{Feature:NI},focus:{Feature:RI},hover:{Feature:II}},VI={layout:{ProjectionNode:UE,MeasureLayout:DE}},D1={current:null},jE={current:!1};function UI(){if(jE.current=!0,!!$p)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>D1.current=e.matches;e.addListener(t),t()}else D1.current=!1}const jI=[...dE,Yn,wo],zI=e=>jI.find(fE(e)),Tx=new WeakMap;function WI(e,t,n){for(const i in t){const a=t[i],l=n[i];if($n(a))e.addValue(i,a);else if($n(l))e.addValue(i,dc(a,{owner:e}));else if(l!==a)if(e.hasValue(i)){const d=e.getValue(i);d.liveStyle===!0?d.jump(a):d.hasAnimated||d.set(a)}else{const d=e.getStaticValue(i);e.addValue(i,dc(d!==void 0?d:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Ix=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HI{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:d},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const D=Hi.now();this.renderScheduledAt<D&&(this.renderScheduledAt=D,Zt.render(this.render,!1,!0))};const{latestValues:x,renderState:m,onUpdate:E}=d;this.onUpdate=E,this.latestValues=x,this.baseTarget={...x},this.initialValues=n.initial?{...x}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=p,this.blockInitialAnimation=!!l,this.isControllingVariants=Jd(n),this.isVariantNode=v3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:C,...O}=this.scrapeMotionValuesFromProps(n,{},this);for(const D in O){const U=O[D];x[D]!==void 0&&$n(U)&&U.set(x[D],!1)}}mount(t){this.current=t,Tx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),jE.current||UI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:D1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Tx.delete(this.current),this.projection&&this.projection.unmount(),yo(this.notifyUpdate),yo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ea.has(t),a=n.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),d&&d(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ll){const n=Ll[t];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Ix.length;i++){const a=Ix[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,d=t[l];d&&(this.propEventSubscriptions[a]=this.on(a,d))}this.prevMotionValues=WI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=dc(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){var i;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(uE(a)||eE(a))?a=parseFloat(a):!zI(a)&&wo.test(n)&&(a=oE(t,n)),this.setBaseTarget(t,$n(a)?a.get():a)),$n(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const d=sg(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);d&&(a=d[t])}if(i&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!$n(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class zE extends HI{constructor(){super(...arguments),this.KeyframeResolver=hE}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$n(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GI(e){return window.getComputedStyle(e)}class XI extends zE{constructor(){super(...arguments),this.type="html",this.renderInstance=R3}readValueFromInstance(t,n){if(Ea.has(n)){const i=_g(n);return i&&i.default||0}else{const i=GI(t),a=(S3(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return NE(t,n)}build(t,n,i){lg(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return dg(t,n,i)}}class ZI extends zE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ea.has(n)){const i=_g(n);return i&&i.default||0}return n=N3.has(n)?n:ng(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return k3(t,n,i)}build(t,n,i){ug(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,a){O3(t,n,i,a)}mount(t){this.isSVGTag=fg(t.tagName),super.mount(t)}}const qI=(e,t)=>ig(e)?new ZI(t):new XI(t,{allowProjection:e!==se.Fragment}),KI=v8({...yT,...FI,...TI,...VI},qI),Vo=MS(KI);function WE(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=WE(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function YI(){for(var e,t,n=0,i="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=WE(e))&&(i&&(i+=" "),i+=t);return i}const Rg="-",QI=e=>{const t=JI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:d=>{const p=d.split(Rg);return p[0]===""&&p.length!==1&&p.shift(),HE(p,t)||$I(d)},getConflictingClassGroupIds:(d,p)=>{const x=n[d]||[];return p&&i[d]?[...x,...i[d]]:x}}},HE=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),a=i?HE(e.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const l=e.join(Rg);return(d=t.validators.find(({validator:p})=>p(l)))==null?void 0:d.classGroupId},Rx=/^\[(.+)\]$/,$I=e=>{if(Rx.test(e)){const t=Rx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},JI=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return tR(Object.entries(e.classGroups),n).forEach(([l,d])=>{k1(d,i,l,t)}),i},k1=(e,t,n,i)=>{e.forEach(a=>{if(typeof a=="string"){const l=a===""?t:Nx(t,a);l.classGroupId=n;return}if(typeof a=="function"){if(eR(a)){k1(a(i),t,n,i);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,d])=>{k1(d,Nx(t,l),n,i)})})},Nx=(e,t)=>{let n=e;return t.split(Rg).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},eR=e=>e.isThemeGetter,tR=(e,t)=>t?e.map(([n,i])=>{const a=i.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,p])=>[t+d,p])):l);return[n,a]}):e,nR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const a=(l,d)=>{n.set(l,d),t++,t>e&&(t=0,i=n,n=new Map)};return{get(l){let d=n.get(l);if(d!==void 0)return d;if((d=i.get(l))!==void 0)return a(l,d),d},set(l,d){n.has(l)?n.set(l,d):a(l,d)}}},GE="!",rR=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,a=t[0],l=t.length,d=p=>{const x=[];let m=0,E=0,C;for(let P=0;P<p.length;P++){let _=p[P];if(m===0){if(_===a&&(i||p.slice(P,P+l)===t)){x.push(p.slice(E,P)),E=P+l;continue}if(_==="/"){C=P;continue}}_==="["?m++:_==="]"&&m--}const O=x.length===0?p:p.substring(E),D=O.startsWith(GE),U=D?O.substring(1):O,I=C&&C>E?C-E:void 0;return{modifiers:x,hasImportantModifier:D,baseClassName:U,maybePostfixModifierPosition:I}};return n?p=>n({className:p,parseClassName:d}):d},iR=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},sR=e=>({cache:nR(e.cacheSize),parseClassName:rR(e),...QI(e)}),oR=/\s+/,aR=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a}=t,l=[],d=e.trim().split(oR);let p="";for(let x=d.length-1;x>=0;x-=1){const m=d[x],{modifiers:E,hasImportantModifier:C,baseClassName:O,maybePostfixModifierPosition:D}=n(m);let U=!!D,I=i(U?O.substring(0,D):O);if(!I){if(!U){p=m+(p.length>0?" "+p:p);continue}if(I=i(O),!I){p=m+(p.length>0?" "+p:p);continue}U=!1}const P=iR(E).join(":"),_=C?P+GE:P,b=_+I;if(l.includes(b))continue;l.push(b);const T=a(I,U);for(let L=0;L<T.length;++L){const X=T[L];l.push(_+X)}p=m+(p.length>0?" "+p:p)}return p};function lR(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=XE(t))&&(i&&(i+=" "),i+=n);return i}const XE=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=XE(e[i]))&&(n&&(n+=" "),n+=t);return n};function uR(e,...t){let n,i,a,l=d;function d(x){const m=t.reduce((E,C)=>C(E),e());return n=sR(m),i=n.cache.get,a=n.cache.set,l=p,p(x)}function p(x){const m=i(x);if(m)return m;const E=aR(x,n);return a(x,E),E}return function(){return l(lR.apply(null,arguments))}}const Wt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ZE=/^\[(?:([a-z-]+):)?(.+)\]$/i,cR=/^\d+\/\d+$/,fR=new Set(["px","full","screen"]),dR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ns=e=>fl(e)||fR.has(e)||cR.test(e),Bs=e=>ql(e,"length",_R),fl=e=>!!e&&!Number.isNaN(Number(e)),e0=e=>ql(e,"number",fl),vu=e=>!!e&&Number.isInteger(Number(e)),xR=e=>e.endsWith("%")&&fl(e.slice(0,-1)),tt=e=>ZE.test(e),Fs=e=>dR.test(e),yR=new Set(["length","size","percentage"]),wR=e=>ql(e,yR,qE),vR=e=>ql(e,"position",qE),ER=new Set(["image","url"]),CR=e=>ql(e,ER,SR),AR=e=>ql(e,"",bR),Eu=()=>!0,ql=(e,t,n)=>{const i=ZE.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},_R=e=>hR.test(e)&&!pR.test(e),qE=()=>!1,bR=e=>gR.test(e),SR=e=>mR.test(e),TR=()=>{const e=Wt("colors"),t=Wt("spacing"),n=Wt("blur"),i=Wt("brightness"),a=Wt("borderColor"),l=Wt("borderRadius"),d=Wt("borderSpacing"),p=Wt("borderWidth"),x=Wt("contrast"),m=Wt("grayscale"),E=Wt("hueRotate"),C=Wt("invert"),O=Wt("gap"),D=Wt("gradientColorStops"),U=Wt("gradientColorStopPositions"),I=Wt("inset"),P=Wt("margin"),_=Wt("opacity"),b=Wt("padding"),T=Wt("saturate"),L=Wt("scale"),X=Wt("sepia"),G=Wt("skew"),W=Wt("space"),Y=Wt("translate"),te=()=>["auto","contain","none"],ce=()=>["auto","hidden","clip","visible","scroll"],De=()=>["auto",tt,t],ye=()=>[tt,t],Xe=()=>["",ns,Bs],ot=()=>["auto",fl,tt],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_t=()=>["solid","dashed","dotted","double","none"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>["start","end","center","between","around","evenly","stretch"],Ae=()=>["","0",tt],Le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Qe=()=>[fl,tt];return{cacheSize:500,separator:":",theme:{colors:[Eu],spacing:[ns,Bs],blur:["none","",Fs,tt],brightness:Qe(),borderColor:[e],borderRadius:["none","","full",Fs,tt],borderSpacing:ye(),borderWidth:Xe(),contrast:Qe(),grayscale:Ae(),hueRotate:Qe(),invert:Ae(),gap:ye(),gradientColorStops:[e],gradientColorStopPositions:[xR,Bs],inset:De(),margin:De(),opacity:Qe(),padding:ye(),saturate:Qe(),scale:Qe(),sepia:Ae(),skew:Qe(),space:ye(),translate:ye()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Fs]}],"break-after":[{"break-after":Le()}],"break-before":[{"break-before":Le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),tt]}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:te()}],"overscroll-x":[{"overscroll-x":te()}],"overscroll-y":[{"overscroll-y":te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vu,tt]}],basis:[{basis:De()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:Ae()}],shrink:[{shrink:Ae()}],order:[{order:["first","last","none",vu,tt]}],"grid-cols":[{"grid-cols":[Eu]}],"col-start-end":[{col:["auto",{span:["full",vu,tt]},tt]}],"col-start":[{"col-start":ot()}],"col-end":[{"col-end":ot()}],"grid-rows":[{"grid-rows":[Eu]}],"row-start-end":[{row:["auto",{span:[vu,tt]},tt]}],"row-start":[{"row-start":ot()}],"row-end":[{"row-end":ot()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[O]}],"gap-x":[{"gap-x":[O]}],"gap-y":[{"gap-y":[O]}],"justify-content":[{justify:["normal",...pe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...pe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...pe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,t]}],"min-w":[{"min-w":[tt,t,"min","max","fit"]}],"max-w":[{"max-w":[tt,t,"none","full","min","max","fit","prose",{screen:[Fs]},Fs]}],h:[{h:[tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fs,Bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",e0]}],"font-family":[{font:[Eu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",fl,e0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ns,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._t(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ns,Bs]}],"underline-offset":[{"underline-offset":["auto",ns,tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ye()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),vR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[U]}],"gradient-via-pos":[{via:[U]}],"gradient-to-pos":[{to:[U]}],"gradient-from":[{from:[D]}],"gradient-via":[{via:[D]}],"gradient-to":[{to:[D]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[..._t(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:_t()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",..._t()]}],"outline-offset":[{"outline-offset":[ns,tt]}],"outline-w":[{outline:[ns,Bs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[ns,Bs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fs,AR]}],"shadow-color":[{shadow:[Eu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":be()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",Fs,tt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[E]}],invert:[{invert:[C]}],saturate:[{saturate:[T]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[E]}],"backdrop-invert":[{"backdrop-invert":[C]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:Qe()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:Qe()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[vu,tt]}],"translate-x":[{"translate-x":[Y]}],"translate-y":[{"translate-y":[Y]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ye()}],"scroll-mx":[{"scroll-mx":ye()}],"scroll-my":[{"scroll-my":ye()}],"scroll-ms":[{"scroll-ms":ye()}],"scroll-me":[{"scroll-me":ye()}],"scroll-mt":[{"scroll-mt":ye()}],"scroll-mr":[{"scroll-mr":ye()}],"scroll-mb":[{"scroll-mb":ye()}],"scroll-ml":[{"scroll-ml":ye()}],"scroll-p":[{"scroll-p":ye()}],"scroll-px":[{"scroll-px":ye()}],"scroll-py":[{"scroll-py":ye()}],"scroll-ps":[{"scroll-ps":ye()}],"scroll-pe":[{"scroll-pe":ye()}],"scroll-pt":[{"scroll-pt":ye()}],"scroll-pr":[{"scroll-pr":ye()}],"scroll-pb":[{"scroll-pb":ye()}],"scroll-pl":[{"scroll-pl":ye()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ns,Bs,e0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IR=uR(TR);function RR(...e){return IR(YI(e))}const NR=()=>{const e=Vi(n=>n.toasts);return Vi(n=>n.currentView)==="scanner"?null:Z.jsx("div",{className:"fixed bottom-4 left-0 right-0 z-50 flex flex-col items-center gap-2 pointer-events-none p-4",children:Z.jsx(Ff,{children:e.map(n=>Z.jsxs(Vo.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:RR("bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] pointer-events-auto",n.type==="error"&&"bg-red-600",n.type==="success"&&"bg-green-600"),children:[Z.jsx("div",{className:"flex-1 font-medium",children:n.message}),n.type==="percentage"&&Z.jsxs("div",{className:"font-mono text-sm bg-white/20 px-2 py-0.5 rounded",children:[n.value,"%"]})]},n.id))})})},OR=({children:e})=>Z.jsx(cb,{client:Cb,children:Z.jsxs("div",{className:"min-h-screen bg-neutral-100 text-neutral-900 font-sans antialiased overflow-hidden relative pb-12",children:[e,Z.jsx(Y4,{}),Z.jsx(c4,{position:"bottom-center",toastOptions:{duration:4e3,style:{fontSize:"13px"}}}),Z.jsx(NR,{})]})}),KE=({isLoading:e,data:t,code:n,onReset:i})=>{const[a,l]=se.useState(!1),[d,p]=se.useState(!1),[x,m]=se.useState(!1);if(e)return Z.jsxs(Vo.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center min-h-[200px]",children:[Z.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),Z.jsxs("div",{className:"text-center",children:[Z.jsx("p",{className:"text-neutral-500 font-medium",children:"Analyzing product..."}),n&&Z.jsxs("p",{className:"text-[10px] font-mono text-neutral-400 mt-2 uppercase tracking-widest",children:["Code: ",n]})]})]});if(!t)return null;if(t.source==="none")return Z.jsxs(Vo.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-neutral-50 rounded-2xl p-6 border-2 border-dashed border-neutral-200 text-center",children:[Z.jsx("p",{className:"text-neutral-600 font-medium mb-2",children:"Product Not Found"}),Z.jsx("p",{className:"text-sm text-neutral-400",children:"This barcode is not yet in our databases."})]});const E=t.data,C=JSON.parse(E.palm_oil_tags||"[]"),O=JSON.parse(E.palm_oil_may_be_tags||"[]"),D=C.length>0,U=O.length>0;let I="border-green-500",P="bg-emerald-50",_="text-green-900",b="text-emerald-600",T="No Palm Oil Detected";D?(I="border-red-500",P="bg-red-50",_="text-red-900",b="text-red-600",T="Contains Palm Oil"):U&&(I="border-orange-500",P="bg-orange-50",_="text-orange-900",b="text-orange-600",T="May Contain Palm Oil");const L=JSON.parse(E.nutrient_levels||"{}"),X=JSON.parse(E.additives_tags||"[]"),G=Y=>{switch(Y==null?void 0:Y.toLowerCase()){case"a":return"bg-emerald-600";case"b":return"bg-emerald-400";case"c":return"bg-yellow-400";case"d":return"bg-orange-500";case"e":return"bg-red-600";default:return"bg-neutral-300"}},W=Object.entries(L).filter(([Y,te])=>te==="high");return Z.jsxs(Vo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-2xl shadow-lg border-l-8 ${I} overflow-hidden`,children:[Z.jsxs("div",{className:"p-4",children:[Z.jsxs("div",{className:"flex gap-4 mb-3",children:[Z.jsx("div",{className:"w-20 h-20 shrink-0 bg-neutral-100 rounded-xl overflow-hidden border border-neutral-100 shadow-sm flex items-center justify-center",children:E.image_url?Z.jsx("img",{src:E.image_url,alt:E.name,className:"w-full h-full object-cover"}):Z.jsx(p4,{className:"text-neutral-300",size:24})}),Z.jsxs("div",{className:"flex-1 min-w-0",children:[Z.jsx("div",{className:"flex items-start justify-between gap-2",children:Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-lg font-bold text-neutral-800 leading-tight mb-1",children:E.name||"Unknown Product"}),Z.jsx("p",{className:"text-[10px] font-mono text-neutral-400 uppercase tracking-widest",children:E.code})]})}),Z.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[E.nutriscore_grade&&Z.jsxs("span",{className:`px-2.5 py-1 rounded-md text-xs font-black uppercase text-white shadow-sm ${G(E.nutriscore_grade)}`,children:["Nutri-Score: ",Z.jsx("span",{className:"text-sm",children:E.nutriscore_grade.toUpperCase()})]}),E.nova_group&&Z.jsxs("span",{className:"px-2.5 py-1 rounded-md text-xs font-black uppercase bg-neutral-800 text-white shadow-sm",children:["NOVA: ",Z.jsx("span",{className:"text-sm",children:E.nova_group})]})]})]}),i&&Z.jsx("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center bg-neutral-100 hover:bg-neutral-200 text-neutral-500 hover:text-neutral-700 rounded-full transition-colors shrink-0","aria-label":"Close",children:Z.jsx(Qv,{size:18})})]}),Z.jsxs("div",{className:`rounded-xl mb-3 overflow-hidden ${P} ${_}`,children:[Z.jsxs("button",{onClick:()=>m(!x),disabled:!D&&!U,className:"w-full py-2 px-4 flex items-center justify-between text-left transition-colors",children:[Z.jsxs("div",{className:"flex items-center gap-3",children:[Z.jsx(m4,{size:20,className:b}),Z.jsx("span",{className:"font-bold text-sm leading-tight",children:T})]}),(D||U)&&(x?Z.jsx(Mh,{size:16}):Z.jsx(Ph,{size:16}))]}),Z.jsx(Ff,{children:x&&(D||U)&&Z.jsxs(Vo.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4",children:[D&&Z.jsxs("div",{className:"text-xs opacity-80",children:[Z.jsx("strong",{children:"Detected:"})," ",C.map(Y=>Y.replace("en:","").replace(/-/g," ")).join(", ")]}),!D&&U&&Z.jsxs("div",{className:"text-xs opacity-80",children:[Z.jsx("strong",{children:"Potential:"})," ",O.map(Y=>Y.replace("en:","").replace(/-/g," ")).join(", ")]})]})})]}),W.length>0&&Z.jsxs("div",{className:"mb-3",children:[Z.jsx("h4",{className:"text-xs font-bold text-neutral-400 uppercase tracking-wider mb-2",children:"High Levels"}),Z.jsxs("div",{className:"flex flex-wrap gap-2",children:[W.map(([Y])=>Z.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-xs font-bold rounded-full capitalize",children:["High ",Y]},Y)),E.nova_group===4&&Z.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-xs font-bold rounded-full",children:"Ultra-Processed"})]})]}),X.length>0&&Z.jsxs("div",{className:"border-t border-neutral-100",children:[Z.jsxs("button",{onClick:()=>p(!d),className:"w-full flex items-center justify-between py-2 text-sm font-bold text-neutral-600 hover:text-blue-600 transition-colors",children:[Z.jsxs("span",{children:["Additives (",X.length,")"]}),d?Z.jsx(Mh,{size:16}):Z.jsx(Ph,{size:16})]}),Z.jsx(Ff,{children:d&&Z.jsx(Vo.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:Z.jsx("div",{className:"flex flex-wrap gap-2 pb-4",children:X.map(Y=>Z.jsx("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-600 border border-neutral-200 text-[10px] font-bold rounded uppercase",children:Y.replace("en:","").toUpperCase()},Y))})})})]}),Z.jsxs("button",{onClick:()=>l(!a),className:"w-full flex items-center justify-between py-3 border-t border-neutral-100 text-sm font-bold text-neutral-600 hover:text-blue-600 transition-colors",children:[Z.jsx("span",{children:"Full Ingredients List"}),a?Z.jsx(Mh,{size:16}):Z.jsx(Ph,{size:16})]}),Z.jsx(Ff,{children:a&&Z.jsx(Vo.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:Z.jsx("p",{className:"text-xs text-neutral-500 leading-relaxed pb-4 capitalize",children:E.ingredients||"No ingredient list available."})})})]}),Z.jsx("div",{className:"bg-neutral-50 px-6 py-3 border-t text-xs text-neutral-400 flex justify-between",children:Z.jsxs("span",{children:["Source: ",t.source==="local"?"Local DB":"Open Food Facts"]})})]})},YE=({history:e,onSelect:t,activeCode:n})=>{const i=n?e.filter(a=>a.code!==n):e;return!i||i.length===0?Z.jsx("div",{className:"bg-white/50 border-2 border-dashed border-slate-200 rounded-3xl p-10 text-center text-slate-300 text-sm italic",children:"No recent scans found"}):Z.jsx("div",{className:"space-y-2.5",children:i.map(a=>Z.jsxs("button",{onClick:()=>t(a.code),className:"w-full bg-white px-5 py-4 rounded-3xl shadow-sm border border-slate-200/60 flex items-center justify-between hover:bg-slate-50 transition-all text-left group overflow-hidden",children:[Z.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[Z.jsx("div",{className:`flex-shrink-0 w-2.5 h-2.5 rounded-full ${a.status==="green"?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]":a.status==="red"?"bg-rose-500 shadow-[0_0_10px_rgba(244,63,94,0.3)]":"bg-orange-500 shadow-[0_0_10px_rgba(249,115,22,0.3)]"}`}),Z.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[Z.jsx("span",{className:"font-bold text-slate-800 truncate group-hover:text-blue-600 transition-colors",children:a.productName||"Unknown Product"}),Z.jsx("div",{className:"flex items-center gap-2",children:Z.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a.status==="red"?"text-rose-500":"text-emerald-500"}`,children:a.palmOilText})})]}),Z.jsx("div",{className:"flex-shrink-0 text-[10px] text-slate-400 font-bold bg-slate-100 px-2 py-1 rounded-full uppercase tracking-tighter",children:new Date(a.scannedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),Z.jsx(Yv,{size:16,className:"text-slate-200 group-hover:text-blue-400 ml-3 transition-colors"})]},a.scannedAt))})};var vt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const l={};for(const d of a)l[d]=d;return l},e.getValidEnumValues=a=>{const l=e.objectKeys(a).filter(p=>typeof a[a[p]]!="number"),d={};for(const p of l)d[p]=a[p];return e.objectValues(d)},e.objectValues=a=>e.objectKeys(a).map(function(l){return a[l]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const d in a)Object.prototype.hasOwnProperty.call(a,d)&&l.push(d);return l},e.find=(a,l)=>{for(const d of a)if(l(d))return d},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function i(a,l=" | "){return a.map(d=>typeof d=="string"?`'${d}'`:d).join(l)}e.joinValues=i,e.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(vt||(vt={}));var Ox;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Ox||(Ox={}));const Oe=vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hs=e=>{switch(typeof e){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(e)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(e)?Oe.array:e===null?Oe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Oe.promise:typeof Map<"u"&&e instanceof Map?Oe.map:typeof Set<"u"&&e instanceof Set?Oe.set:typeof Date<"u"&&e instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},xe=vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Cs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(l){return l.message},i={_errors:[]},a=l=>{for(const d of l.issues)if(d.code==="invalid_union")d.unionErrors.map(a);else if(d.code==="invalid_return_type")a(d.returnTypeError);else if(d.code==="invalid_arguments")a(d.argumentsError);else if(d.path.length===0)i._errors.push(n(d));else{let p=i,x=0;for(;x<d.path.length;){const m=d.path[x];x===d.path.length-1?(p[m]=p[m]||{_errors:[]},p[m]._errors.push(n(d))):p[m]=p[m]||{_errors:[]},p=p[m],x++}}};return a(this),i}static assert(t){if(!(t instanceof Cs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const a of this.issues)if(a.path.length>0){const l=a.path[0];n[l]=n[l]||[],n[l].push(t(a))}else i.push(t(a));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Cs.create=e=>new Cs(e);const P1=(e,t)=>{let n;switch(e.code){case xe.invalid_type:e.received===Oe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,vt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${vt.joinValues(e.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${vt.joinValues(e.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${vt.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:vt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case xe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case xe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case xe.not_finite:n="Number must be finite";break;default:n=t.defaultError,vt.assertNever(e)}return{message:n}};let DR=P1;function kR(){return DR}const PR=e=>{const{data:t,path:n,errorMaps:i,issueData:a}=e,l=[...n,...a.path||[]],d={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let p="";const x=i.filter(m=>!!m).slice().reverse();for(const m of x)p=m(d,{data:t,defaultError:p}).message;return{...a,path:l,message:p}};function Se(e,t){const n=kR(),i=PR({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===P1?void 0:P1].filter(a=>!!a)});e.common.issues.push(i)}class ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const a of n){if(a.status==="aborted")return Ge;a.status==="dirty"&&t.dirty(),i.push(a.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const a of n){const l=await a.key,d=await a.value;i.push({key:l,value:d})}return ur.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const a of n){const{key:l,value:d}=a;if(l.status==="aborted"||d.status==="aborted")return Ge;l.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),l.value!=="__proto__"&&(typeof d.value<"u"||a.alwaysSet)&&(i[l.value]=d.value)}return{status:t.value,value:i}}}const Ge=Object.freeze({status:"aborted"}),Nu=e=>({status:"dirty",value:e}),ti=e=>({status:"valid",value:e}),Dx=e=>e.status==="aborted",kx=e=>e.status==="dirty",Fl=e=>e.status==="valid",Ed=e=>typeof Promise<"u"&&e instanceof Promise;var Pe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Pe||(Pe={}));class Xi{constructor(t,n,i,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Px=(e,t)=>{if(Fl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Cs(e.common.issues);return this._error=n,this._error}}};function it(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:a}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(d,p)=>{const{message:x}=e;return d.code==="invalid_enum_value"?{message:x??p.defaultError}:typeof p.data>"u"?{message:x??i??p.defaultError}:d.code!=="invalid_type"?{message:p.defaultError}:{message:x??n??p.defaultError}},description:a}}class pt{get description(){return this._def.description}_getType(t){return Hs(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Hs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ur,ctx:{common:t.parent.common,data:t.data,parsedType:Hs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Ed(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hs(t)},a=this._parseSync({data:t,path:i.path,parent:i});return Px(i,a)}"~validate"(t){var i,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hs(t)};if(!this["~standard"].async)try{const l=this._parseSync({data:t,path:[],parent:n});return Fl(l)?{value:l.value}:{issues:n.common.issues}}catch(l){(a=(i=l==null?void 0:l.message)==null?void 0:i.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(l=>Fl(l)?{value:l.value}:{issues:n.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hs(t)},a=this._parse({data:t,path:i.path,parent:i}),l=await(Ed(a)?a:Promise.resolve(a));return Px(i,l)}refine(t,n){const i=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,l)=>{const d=t(a),p=()=>l.addIssue({code:xe.custom,...i(a)});return typeof Promise<"u"&&d instanceof Promise?d.then(x=>x?!0:(p(),!1)):d?!0:(p(),!1)})}refinement(t,n){return this._refinement((i,a)=>t(i)?!0:(a.addIssue(typeof n=="function"?n(i,a):n),!1))}_refinement(t){return new jl({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return go.create(this,this._def)}nullable(){return zl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gi.create(this)}promise(){return Sd.create(this,this._def)}or(t){return Ad.create([this,t],this._def)}and(t){return _d.create(this,t,this._def)}transform(t){return new jl({...it(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new L1({...it(this._def),innerType:this,defaultValue:n,typeName:He.ZodDefault})}brand(){return new rN({typeName:He.ZodBranded,type:this,...it(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new B1({...it(this._def),innerType:this,catchValue:n,typeName:He.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Ng.create(this,t)}readonly(){return F1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const MR=/^c[^\s-]{8,}$/i,LR=/^[0-9a-z]+$/,BR=/^[0-9A-HJKMNP-TV-Z]{26}$/i,FR=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,VR=/^[a-z0-9_-]{21}$/i,UR=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jR=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zR=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,WR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let t0;const HR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,GR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,XR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ZR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qR=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,KR=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,QE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",YR=new RegExp(`^${QE}$`);function $E(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function QR(e){return new RegExp(`^${$E(e)}$`)}function $R(e){let t=`${QE}T${$E(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function JR(e,t){return!!((t==="v4"||!t)&&HR.test(e)||(t==="v6"||!t)&&XR.test(e))}function eN(e,t){if(!UR.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(i));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function tN(e,t){return!!((t==="v4"||!t)&&GR.test(e)||(t==="v6"||!t)&&ZR.test(e))}class Ui extends pt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Oe.string){const l=this._getOrReturnCtx(t);return Se(l,{code:xe.invalid_type,expected:Oe.string,received:l.parsedType}),Ge}const i=new ur;let a;for(const l of this._def.checks)if(l.kind==="min")t.data.length<l.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:xe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")t.data.length>l.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:xe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const d=t.data.length>l.value,p=t.data.length<l.value;(d||p)&&(a=this._getOrReturnCtx(t,a),d?Se(a,{code:xe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):p&&Se(a,{code:xe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")zR.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"email",code:xe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")t0||(t0=new RegExp(WR,"u")),t0.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"emoji",code:xe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")FR.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"uuid",code:xe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")VR.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"nanoid",code:xe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")MR.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cuid",code:xe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")LR.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cuid2",code:xe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")BR.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"ulid",code:xe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Se(a,{validation:"url",code:xe.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"regex",code:xe.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?t.data=t.data.trim():l.kind==="includes"?t.data.includes(l.value,l.position)||(a=this._getOrReturnCtx(t,a),Se(a,{code:xe.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?t.data=t.data.toLowerCase():l.kind==="toUpperCase"?t.data=t.data.toUpperCase():l.kind==="startsWith"?t.data.startsWith(l.value)||(a=this._getOrReturnCtx(t,a),Se(a,{code:xe.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?t.data.endsWith(l.value)||(a=this._getOrReturnCtx(t,a),Se(a,{code:xe.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?$R(l).test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:xe.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?YR.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:xe.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?QR(l).test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:xe.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?jR.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"duration",code:xe.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?JR(t.data,l.version)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"ip",code:xe.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?eN(t.data,l.alg)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"jwt",code:xe.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?tN(t.data,l.version)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cidr",code:xe.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?qR.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"base64",code:xe.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?KR.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"base64url",code:xe.invalid_string,message:l.message}),i.dirty()):vt.assertNever(l);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(a=>t.test(a),{validation:n,code:xe.invalid_string,...Pe.errToObj(i)})}_addCheck(t){return new Ui({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Pe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Pe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Pe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Pe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Pe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Pe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Pe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Pe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Pe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Pe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Pe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Pe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Pe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Pe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Pe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Pe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Pe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Pe.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Pe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Pe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Pe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Pe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Pe.errToObj(n)})}nonempty(t){return this.min(1,Pe.errToObj(t))}trim(){return new Ui({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ui({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ui({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ui.create=e=>new Ui({checks:[],typeName:He.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...it(e)});function nN(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=n>i?n:i,l=Number.parseInt(e.toFixed(a).replace(".","")),d=Number.parseInt(t.toFixed(a).replace(".",""));return l%d/10**a}class ma extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Oe.number){const l=this._getOrReturnCtx(t);return Se(l,{code:xe.invalid_type,expected:Oe.number,received:l.parsedType}),Ge}let i;const a=new ur;for(const l of this._def.checks)l.kind==="int"?vt.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{code:xe.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(i=this._getOrReturnCtx(t,i),Se(i,{code:xe.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(i=this._getOrReturnCtx(t,i),Se(i,{code:xe.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="multipleOf"?nN(t.data,l.value)!==0&&(i=this._getOrReturnCtx(t,i),Se(i,{code:xe.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):l.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{code:xe.not_finite,message:l.message}),a.dirty()):vt.assertNever(l);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Pe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Pe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Pe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Pe.toString(n))}setLimit(t,n,i,a){return new ma({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Pe.toString(a)}]})}_addCheck(t){return new ma({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Pe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Pe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Pe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&vt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}ma.create=e=>new ma({checks:[],typeName:He.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class xa extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Oe.bigint)return this._getInvalidInput(t);let i;const a=new ur;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(i=this._getOrReturnCtx(t,i),Se(i,{code:xe.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(i=this._getOrReturnCtx(t,i),Se(i,{code:xe.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?t.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),Se(i,{code:xe.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):vt.assertNever(l);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Se(n,{code:xe.invalid_type,expected:Oe.bigint,received:n.parsedType}),Ge}gte(t,n){return this.setLimit("min",t,!0,Pe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Pe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Pe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Pe.toString(n))}setLimit(t,n,i,a){return new xa({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Pe.toString(a)}]})}_addCheck(t){return new xa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Pe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}xa.create=e=>new xa({checks:[],typeName:He.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...it(e)});class Cd extends pt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Oe.boolean){const i=this._getOrReturnCtx(t);return Se(i,{code:xe.invalid_type,expected:Oe.boolean,received:i.parsedType}),Ge}return ti(t.data)}}Cd.create=e=>new Cd({typeName:He.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class Vl extends pt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Oe.date){const l=this._getOrReturnCtx(t);return Se(l,{code:xe.invalid_type,expected:Oe.date,received:l.parsedType}),Ge}if(Number.isNaN(t.data.getTime())){const l=this._getOrReturnCtx(t);return Se(l,{code:xe.invalid_date}),Ge}const i=new ur;let a;for(const l of this._def.checks)l.kind==="min"?t.data.getTime()<l.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:xe.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?t.data.getTime()>l.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:xe.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):vt.assertNever(l);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Vl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Pe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Pe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Vl.create=e=>new Vl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:He.ZodDate,...it(e)});class Mx extends pt{_parse(t){if(this._getType(t)!==Oe.symbol){const i=this._getOrReturnCtx(t);return Se(i,{code:xe.invalid_type,expected:Oe.symbol,received:i.parsedType}),Ge}return ti(t.data)}}Mx.create=e=>new Mx({typeName:He.ZodSymbol,...it(e)});class Lx extends pt{_parse(t){if(this._getType(t)!==Oe.undefined){const i=this._getOrReturnCtx(t);return Se(i,{code:xe.invalid_type,expected:Oe.undefined,received:i.parsedType}),Ge}return ti(t.data)}}Lx.create=e=>new Lx({typeName:He.ZodUndefined,...it(e)});class Bx extends pt{_parse(t){if(this._getType(t)!==Oe.null){const i=this._getOrReturnCtx(t);return Se(i,{code:xe.invalid_type,expected:Oe.null,received:i.parsedType}),Ge}return ti(t.data)}}Bx.create=e=>new Bx({typeName:He.ZodNull,...it(e)});class Fx extends pt{constructor(){super(...arguments),this._any=!0}_parse(t){return ti(t.data)}}Fx.create=e=>new Fx({typeName:He.ZodAny,...it(e)});class Vx extends pt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ti(t.data)}}Vx.create=e=>new Vx({typeName:He.ZodUnknown,...it(e)});class vo extends pt{_parse(t){const n=this._getOrReturnCtx(t);return Se(n,{code:xe.invalid_type,expected:Oe.never,received:n.parsedType}),Ge}}vo.create=e=>new vo({typeName:He.ZodNever,...it(e)});class Ux extends pt{_parse(t){if(this._getType(t)!==Oe.undefined){const i=this._getOrReturnCtx(t);return Se(i,{code:xe.invalid_type,expected:Oe.void,received:i.parsedType}),Ge}return ti(t.data)}}Ux.create=e=>new Ux({typeName:He.ZodVoid,...it(e)});class Gi extends pt{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),a=this._def;if(n.parsedType!==Oe.array)return Se(n,{code:xe.invalid_type,expected:Oe.array,received:n.parsedType}),Ge;if(a.exactLength!==null){const d=n.data.length>a.exactLength.value,p=n.data.length<a.exactLength.value;(d||p)&&(Se(n,{code:d?xe.too_big:xe.too_small,minimum:p?a.exactLength.value:void 0,maximum:d?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Se(n,{code:xe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Se(n,{code:xe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((d,p)=>a.type._parseAsync(new Xi(n,d,n.path,p)))).then(d=>ur.mergeArray(i,d));const l=[...n.data].map((d,p)=>a.type._parseSync(new Xi(n,d,n.path,p)));return ur.mergeArray(i,l)}get element(){return this._def.type}min(t,n){return new Gi({...this._def,minLength:{value:t,message:Pe.toString(n)}})}max(t,n){return new Gi({...this._def,maxLength:{value:t,message:Pe.toString(n)}})}length(t,n){return new Gi({...this._def,exactLength:{value:t,message:Pe.toString(n)}})}nonempty(t){return this.min(1,t)}}Gi.create=(e,t)=>new Gi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...it(t)});function Ua(e){if(e instanceof xn){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=go.create(Ua(i))}return new xn({...e._def,shape:()=>t})}else return e instanceof Gi?new Gi({...e._def,type:Ua(e.element)}):e instanceof go?go.create(Ua(e.unwrap())):e instanceof zl?zl.create(Ua(e.unwrap())):e instanceof ya?ya.create(e.items.map(t=>Ua(t))):e}class xn extends pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=vt.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Oe.object){const m=this._getOrReturnCtx(t);return Se(m,{code:xe.invalid_type,expected:Oe.object,received:m.parsedType}),Ge}const{status:i,ctx:a}=this._processInputParams(t),{shape:l,keys:d}=this._getCached(),p=[];if(!(this._def.catchall instanceof vo&&this._def.unknownKeys==="strip"))for(const m in a.data)d.includes(m)||p.push(m);const x=[];for(const m of d){const E=l[m],C=a.data[m];x.push({key:{status:"valid",value:m},value:E._parse(new Xi(a,C,a.path,m)),alwaysSet:m in a.data})}if(this._def.catchall instanceof vo){const m=this._def.unknownKeys;if(m==="passthrough")for(const E of p)x.push({key:{status:"valid",value:E},value:{status:"valid",value:a.data[E]}});else if(m==="strict")p.length>0&&(Se(a,{code:xe.unrecognized_keys,keys:p}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const E of p){const C=a.data[E];x.push({key:{status:"valid",value:E},value:m._parse(new Xi(a,C,a.path,E)),alwaysSet:E in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const m=[];for(const E of x){const C=await E.key,O=await E.value;m.push({key:C,value:O,alwaysSet:E.alwaysSet})}return m}).then(m=>ur.mergeObjectSync(i,m)):ur.mergeObjectSync(i,x)}get shape(){return this._def.shape()}strict(t){return Pe.errToObj,new xn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var l,d;const a=((d=(l=this._def).errorMap)==null?void 0:d.call(l,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:Pe.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(t){return new xn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new xn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:He.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new xn({...this._def,catchall:t})}pick(t){const n={};for(const i of vt.objectKeys(t))t[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new xn({...this._def,shape:()=>n})}omit(t){const n={};for(const i of vt.objectKeys(this.shape))t[i]||(n[i]=this.shape[i]);return new xn({...this._def,shape:()=>n})}deepPartial(){return Ua(this)}partial(t){const n={};for(const i of vt.objectKeys(this.shape)){const a=this.shape[i];t&&!t[i]?n[i]=a:n[i]=a.optional()}return new xn({...this._def,shape:()=>n})}required(t){const n={};for(const i of vt.objectKeys(this.shape))if(t&&!t[i])n[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof go;)l=l._def.innerType;n[i]=l}return new xn({...this._def,shape:()=>n})}keyof(){return JE(vt.objectKeys(this.shape))}}xn.create=(e,t)=>new xn({shape:()=>e,unknownKeys:"strip",catchall:vo.create(),typeName:He.ZodObject,...it(t)});xn.strictCreate=(e,t)=>new xn({shape:()=>e,unknownKeys:"strict",catchall:vo.create(),typeName:He.ZodObject,...it(t)});xn.lazycreate=(e,t)=>new xn({shape:e,unknownKeys:"strip",catchall:vo.create(),typeName:He.ZodObject,...it(t)});class Ad extends pt{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function a(l){for(const p of l)if(p.result.status==="valid")return p.result;for(const p of l)if(p.result.status==="dirty")return n.common.issues.push(...p.ctx.common.issues),p.result;const d=l.map(p=>new Cs(p.ctx.common.issues));return Se(n,{code:xe.invalid_union,unionErrors:d}),Ge}if(n.common.async)return Promise.all(i.map(async l=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(a);{let l;const d=[];for(const x of i){const m={...n,common:{...n.common,issues:[]},parent:null},E=x._parseSync({data:n.data,path:n.path,parent:m});if(E.status==="valid")return E;E.status==="dirty"&&!l&&(l={result:E,ctx:m}),m.common.issues.length&&d.push(m.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const p=d.map(x=>new Cs(x));return Se(n,{code:xe.invalid_union,unionErrors:p}),Ge}}get options(){return this._def.options}}Ad.create=(e,t)=>new Ad({options:e,typeName:He.ZodUnion,...it(t)});function M1(e,t){const n=Hs(e),i=Hs(t);if(e===t)return{valid:!0,data:e};if(n===Oe.object&&i===Oe.object){const a=vt.objectKeys(t),l=vt.objectKeys(e).filter(p=>a.indexOf(p)!==-1),d={...e,...t};for(const p of l){const x=M1(e[p],t[p]);if(!x.valid)return{valid:!1};d[p]=x.data}return{valid:!0,data:d}}else if(n===Oe.array&&i===Oe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let l=0;l<e.length;l++){const d=e[l],p=t[l],x=M1(d,p);if(!x.valid)return{valid:!1};a.push(x.data)}return{valid:!0,data:a}}else return n===Oe.date&&i===Oe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class _d extends pt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),a=(l,d)=>{if(Dx(l)||Dx(d))return Ge;const p=M1(l.value,d.value);return p.valid?((kx(l)||kx(d))&&n.dirty(),{status:n.value,value:p.data}):(Se(i,{code:xe.invalid_intersection_types}),Ge)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,d])=>a(l,d)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}_d.create=(e,t,n)=>new _d({left:e,right:t,typeName:He.ZodIntersection,...it(n)});class ya extends pt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Oe.array)return Se(i,{code:xe.invalid_type,expected:Oe.array,received:i.parsedType}),Ge;if(i.data.length<this._def.items.length)return Se(i,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ge;!this._def.rest&&i.data.length>this._def.items.length&&(Se(i,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...i.data].map((d,p)=>{const x=this._def.items[p]||this._def.rest;return x?x._parse(new Xi(i,d,i.path,p)):null}).filter(d=>!!d);return i.common.async?Promise.all(l).then(d=>ur.mergeArray(n,d)):ur.mergeArray(n,l)}get items(){return this._def.items}rest(t){return new ya({...this._def,rest:t})}}ya.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ya({items:e,typeName:He.ZodTuple,rest:null,...it(t)})};class bd extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Oe.object)return Se(i,{code:xe.invalid_type,expected:Oe.object,received:i.parsedType}),Ge;const a=[],l=this._def.keyType,d=this._def.valueType;for(const p in i.data)a.push({key:l._parse(new Xi(i,p,i.path,p)),value:d._parse(new Xi(i,i.data[p],i.path,p)),alwaysSet:p in i.data});return i.common.async?ur.mergeObjectAsync(n,a):ur.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof pt?new bd({keyType:t,valueType:n,typeName:He.ZodRecord,...it(i)}):new bd({keyType:Ui.create(),valueType:t,typeName:He.ZodRecord,...it(n)})}}class jx extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Oe.map)return Se(i,{code:xe.invalid_type,expected:Oe.map,received:i.parsedType}),Ge;const a=this._def.keyType,l=this._def.valueType,d=[...i.data.entries()].map(([p,x],m)=>({key:a._parse(new Xi(i,p,i.path,[m,"key"])),value:l._parse(new Xi(i,x,i.path,[m,"value"]))}));if(i.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const x of d){const m=await x.key,E=await x.value;if(m.status==="aborted"||E.status==="aborted")return Ge;(m.status==="dirty"||E.status==="dirty")&&n.dirty(),p.set(m.value,E.value)}return{status:n.value,value:p}})}else{const p=new Map;for(const x of d){const m=x.key,E=x.value;if(m.status==="aborted"||E.status==="aborted")return Ge;(m.status==="dirty"||E.status==="dirty")&&n.dirty(),p.set(m.value,E.value)}return{status:n.value,value:p}}}}jx.create=(e,t,n)=>new jx({valueType:t,keyType:e,typeName:He.ZodMap,...it(n)});class gc extends pt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Oe.set)return Se(i,{code:xe.invalid_type,expected:Oe.set,received:i.parsedType}),Ge;const a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(Se(i,{code:xe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(Se(i,{code:xe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const l=this._def.valueType;function d(x){const m=new Set;for(const E of x){if(E.status==="aborted")return Ge;E.status==="dirty"&&n.dirty(),m.add(E.value)}return{status:n.value,value:m}}const p=[...i.data.values()].map((x,m)=>l._parse(new Xi(i,x,i.path,m)));return i.common.async?Promise.all(p).then(x=>d(x)):d(p)}min(t,n){return new gc({...this._def,minSize:{value:t,message:Pe.toString(n)}})}max(t,n){return new gc({...this._def,maxSize:{value:t,message:Pe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}gc.create=(e,t)=>new gc({valueType:e,minSize:null,maxSize:null,typeName:He.ZodSet,...it(t)});class zx extends pt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zx.create=(e,t)=>new zx({getter:e,typeName:He.ZodLazy,...it(t)});class Wx extends pt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Se(n,{received:n.data,code:xe.invalid_literal,expected:this._def.value}),Ge}return{status:"valid",value:t.data}}get value(){return this._def.value}}Wx.create=(e,t)=>new Wx({value:e,typeName:He.ZodLiteral,...it(t)});function JE(e,t){return new Ul({values:e,typeName:He.ZodEnum,...it(t)})}class Ul extends pt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return Se(n,{expected:vt.joinValues(i),received:n.parsedType,code:xe.invalid_type}),Ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return Se(n,{received:n.data,code:xe.invalid_enum_value,options:i}),Ge}return ti(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ul.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ul.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}Ul.create=JE;class Hx extends pt{_parse(t){const n=vt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Oe.string&&i.parsedType!==Oe.number){const a=vt.objectValues(n);return Se(i,{expected:vt.joinValues(a),received:i.parsedType,code:xe.invalid_type}),Ge}if(this._cache||(this._cache=new Set(vt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=vt.objectValues(n);return Se(i,{received:i.data,code:xe.invalid_enum_value,options:a}),Ge}return ti(t.data)}get enum(){return this._def.values}}Hx.create=(e,t)=>new Hx({values:e,typeName:He.ZodNativeEnum,...it(t)});class Sd extends pt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.promise&&n.common.async===!1)return Se(n,{code:xe.invalid_type,expected:Oe.promise,received:n.parsedType}),Ge;const i=n.parsedType===Oe.promise?n.data:Promise.resolve(n.data);return ti(i.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Sd.create=(e,t)=>new Sd({type:e,typeName:He.ZodPromise,...it(t)});class jl extends pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),a=this._def.effect||null,l={addIssue:d=>{Se(i,d),d.fatal?n.abort():n.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const d=a.transform(i.data,l);if(i.common.async)return Promise.resolve(d).then(async p=>{if(n.value==="aborted")return Ge;const x=await this._def.schema._parseAsync({data:p,path:i.path,parent:i});return x.status==="aborted"?Ge:x.status==="dirty"||n.value==="dirty"?Nu(x.value):x});{if(n.value==="aborted")return Ge;const p=this._def.schema._parseSync({data:d,path:i.path,parent:i});return p.status==="aborted"?Ge:p.status==="dirty"||n.value==="dirty"?Nu(p.value):p}}if(a.type==="refinement"){const d=p=>{const x=a.refinement(p,l);if(i.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(i.common.async===!1){const p=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return p.status==="aborted"?Ge:(p.status==="dirty"&&n.dirty(),d(p.value),{status:n.value,value:p.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(p=>p.status==="aborted"?Ge:(p.status==="dirty"&&n.dirty(),d(p.value).then(()=>({status:n.value,value:p.value}))))}if(a.type==="transform")if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Fl(d))return Ge;const p=a.transform(d.value,l);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:p}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>Fl(d)?Promise.resolve(a.transform(d.value,l)).then(p=>({status:n.value,value:p})):Ge);vt.assertNever(a)}}jl.create=(e,t,n)=>new jl({schema:e,typeName:He.ZodEffects,effect:t,...it(n)});jl.createWithPreprocess=(e,t,n)=>new jl({schema:t,effect:{type:"preprocess",transform:e},typeName:He.ZodEffects,...it(n)});class go extends pt{_parse(t){return this._getType(t)===Oe.undefined?ti(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}go.create=(e,t)=>new go({innerType:e,typeName:He.ZodOptional,...it(t)});class zl extends pt{_parse(t){return this._getType(t)===Oe.null?ti(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}zl.create=(e,t)=>new zl({innerType:e,typeName:He.ZodNullable,...it(t)});class L1 extends pt{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===Oe.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}L1.create=(e,t)=>new L1({innerType:e,typeName:He.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...it(t)});class B1 extends pt{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Ed(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Cs(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Cs(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}B1.create=(e,t)=>new B1({innerType:e,typeName:He.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...it(t)});class Gx extends pt{_parse(t){if(this._getType(t)!==Oe.nan){const i=this._getOrReturnCtx(t);return Se(i,{code:xe.invalid_type,expected:Oe.nan,received:i.parsedType}),Ge}return{status:"valid",value:t.data}}}Gx.create=e=>new Gx({typeName:He.ZodNaN,...it(e)});class rN extends pt{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ng extends pt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Ge:l.status==="dirty"?(n.dirty(),Nu(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Ge:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(t,n){return new Ng({in:t,out:n,typeName:He.ZodPipeline})}}class F1 extends pt{_parse(t){const n=this._def.innerType._parse(t),i=a=>(Fl(a)&&(a.value=Object.freeze(a.value)),a);return Ed(n)?n.then(a=>i(a)):i(n)}unwrap(){return this._def.innerType}}F1.create=(e,t)=>new F1({innerType:e,typeName:He.ZodReadonly,...it(t)});var He;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(He||(He={}));const rs=Ui.create,iN=ma.create;xa.create;Cd.create;Vl.create;vo.create;const n0=Gi.create,Xx=xn.create;Ad.create;_d.create;ya.create;const sN=bd.create;Ul.create;Sd.create;go.create;zl.create;const oN={string:e=>Ui.create({...e,coerce:!0}),number:e=>ma.create({...e,coerce:!0}),boolean:e=>Cd.create({...e,coerce:!0}),bigint:e=>xa.create({...e,coerce:!0}),date:e=>Vl.create({...e,coerce:!0})},aN=Xx({code:rs().optional(),product:Xx({product_name:rs().optional(),ingredients_text:rs().optional(),ingredients_from_palm_oil_tags:n0(rs()).optional(),ingredients_that_may_be_from_palm_oil_tags:n0(rs()).optional(),image_front_small_url:rs().optional(),nutriscore_grade:rs().optional(),nova_group:iN().optional(),nutrient_levels:sN(rs()).optional(),additives_tags:n0(rs()).optional()}).passthrough().optional(),status:oN.number().optional()}).passthrough(),lN="FoodScan/1.0 (GramTV; +https://github.com/GramTV/foodscan)";async function uN(e){try{const t=`https://world.openfoodfacts.org/api/v2/product/${e}?fields=code,product_name,ingredients_text,ingredients_from_palm_oil_tags,ingredients_that_may_be_from_palm_oil_tags,image_front_small_url,nutriscore_grade,nova_group,nutrient_levels,additives_tags`,n=await fetch(t,{headers:{"User-Agent":lN,Accept:"application/json"}});if(!n.ok){if(n.status===404)return null;throw new Error(`OFF API Error: ${n.status}`)}const i=await n.json();console.log("OFF API Raw Data:",i);const a=aN.safeParse(i);return a.success?(console.log("OFF API Parsed Status:",a.data.status),a.data.status===0?null:a.data):(console.warn("OFF API Schema Mismatch",a.error),null)}catch(t){throw console.error("Fetch Product Failed",t),t}}const V1=(e,t)=>t.some(n=>e instanceof n);let Zx,qx;function cN(){return Zx||(Zx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fN(){return qx||(qx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U1=new WeakMap,r0=new WeakMap,nh=new WeakMap;function dN(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",d)},l=()=>{n(ua(e.result)),a()},d=()=>{i(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",d)});return nh.set(t,e),t}function hN(e){if(U1.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",d),e.removeEventListener("abort",d)},l=()=>{n(),a()},d=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",d),e.addEventListener("abort",d)});U1.set(e,t)}let j1={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return U1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function eC(e){j1=e(j1)}function pN(e){return fN().includes(e)?function(...t){return e.apply(z1(this),t),ua(this.request)}:function(...t){return ua(e.apply(z1(this),t))}}function gN(e){return typeof e=="function"?pN(e):(e instanceof IDBTransaction&&hN(e),V1(e,cN())?new Proxy(e,j1):e)}function ua(e){if(e instanceof IDBRequest)return dN(e);if(r0.has(e))return r0.get(e);const t=gN(e);return t!==e&&(r0.set(e,t),nh.set(t,e)),t}const z1=e=>nh.get(e);function mN(e,t,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const d=indexedDB.open(e,t),p=ua(d);return i&&d.addEventListener("upgradeneeded",x=>{i(ua(d.result),x.oldVersion,x.newVersion,ua(d.transaction),x)}),n&&d.addEventListener("blocked",x=>n(x.oldVersion,x.newVersion,x)),p.then(x=>{l&&x.addEventListener("close",()=>l()),a&&x.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const xN=["get","getKey","getAll","getAllKeys","count"],yN=["put","add","delete","clear"],i0=new Map;function Kx(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(i0.get(t))return i0.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=yN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||xN.includes(n)))return;const l=async function(d,...p){const x=this.transaction(d,a?"readwrite":"readonly");let m=x.store;return i&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),a&&x.done]))[0]};return i0.set(t,l),l}eC(e=>({...e,get:(t,n,i)=>Kx(t,n)||e.get(t,n,i),has:(t,n)=>!!Kx(t,n)||e.has(t,n)}));const wN=["continue","continuePrimaryKey","advance"],Yx={},W1=new WeakMap,tC=new WeakMap,vN={get(e,t){if(!wN.includes(t))return e[t];let n=Yx[t];return n||(n=Yx[t]=function(...i){W1.set(this,tC.get(this)[t](...i))}),n}};async function*EN(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,vN);for(tC.set(n,t),nh.set(n,z1(t));t;)yield n,t=await(W1.get(n)||t.continue()),W1.delete(n)}function Qx(e,t){return t===Symbol.asyncIterator&&V1(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&V1(e,[IDBIndex,IDBObjectStore])}eC(e=>({...e,get(t,n,i){return Qx(t,n)?EN:e.get(t,n,i)},has(t,n){return Qx(t,n)||e.has(t,n)}}));const CN="foodscan-history";async function nC(){return mN(CN,3,{upgrade(e){e.objectStoreNames.contains("history")&&e.deleteObjectStore("history"),e.createObjectStore("history",{keyPath:"code"}).createIndex("by-date","scannedAt")}})}async function s0(e,t){const n=await nC();let i="",a="unknown";if(t){const l=JSON.parse(t.palm_oil_tags||"[]"),d=JSON.parse(t.palm_oil_may_be_tags||"[]"),p=l.length>0,x=d.length>0;p?(a="red",i="Palm Oil"):x?(a="yellow",i="May Contain Palm Oil"):(a="green",i="No Palm Oil")}await n.put("history",{code:e,scannedAt:Date.now(),synced:!!t,productName:(t==null?void 0:t.name)||(t==null?void 0:t.product_name)||"Unknown Product",palmOilText:i,status:a})}async function AN(e=50){let n=await(await nC()).transaction("history").store.index("by-date").openCursor(null,"prev");const i=[];for(;n&&i.length<e;)i.push(n.value),n=await n.continue();return i}function rC(e){return jv({queryKey:["product",e],queryFn:async()=>{if(!e)return null;try{console.log(`[useProduct] Checking local DB for ${e}...`);const t=await Promise.race([X4(e),new Promise((n,i)=>setTimeout(()=>i(new Error("DB Timeout")),2e3))]);if(console.log("[useProduct] Local Result:",t?"FOUND":"MISSING"),t)return await s0(e,t),{source:"local",data:t}}catch(t){console.warn("[useProduct] Local DB skipped:",t)}if(navigator.onLine){const t=await uN(e);if(t&&t.product){const n={code:e,name:t.product.product_name,ingredients:t.product.ingredients_text,palm_oil_tags:JSON.stringify(t.product.ingredients_from_palm_oil_tags||[]),palm_oil_may_be_tags:JSON.stringify(t.product.ingredients_that_may_be_from_palm_oil_tags||[]),image_url:t.product.image_front_small_url,nutriscore_grade:t.product.nutriscore_grade,nova_group:t.product.nova_group,nutrient_levels:JSON.stringify(t.product.nutrient_levels||{}),additives_tags:JSON.stringify(t.product.additives_tags||[])};return await s0(e,n),{source:"api",data:n}}}return await s0(e,null),{source:"none",data:null}},enabled:!!e,retry:!1})}function iC(e=10){return jv({queryKey:["scan-history",e],queryFn:()=>AN(e),staleTime:1e3*30,refetchInterval:1e3*5})}const _N=()=>{const e=Vi(d=>d.setView),t=Vi(d=>d.activeCode),n=Vi(d=>d.setActiveCode),{data:i,isLoading:a}=rC(t),{data:l}=iC(5);return Z.jsx("div",{className:"min-h-screen flex flex-col bg-slate-50",children:Z.jsxs("main",{className:"flex-1 p-6 flex flex-col max-w-md mx-auto w-full pt-12 gap-10",children:[Z.jsx("div",{className:"space-y-8",children:i||a?Z.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:Z.jsx(KE,{data:i,isLoading:a,onReset:()=>n(null),code:t})}):Z.jsxs("div",{className:"flex flex-col items-center text-center space-y-12 py-8",children:[Z.jsxs("div",{className:"space-y-2",children:[Z.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"FoodScan"}),Z.jsx("p",{className:"text-slate-500 font-medium",children:"Ingredients Finder"})]}),Z.jsxs("button",{onClick:()=>e("scanner"),className:"group relative w-48 h-48 bg-white rounded-full shadow-2xl flex flex-col items-center justify-center border-8 border-blue-50 transition-all hover:scale-105 active:scale-95 hover:border-blue-100",children:[Z.jsx("div",{className:"absolute inset-0 bg-blue-500/5 rounded-full animate-pulse group-hover:bg-blue-500/10"}),Z.jsx(g4,{size:64,className:"text-blue-600 mb-2 group-hover:text-blue-700 transition-colors"}),Z.jsx("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:"Tap to Scan"})]}),Z.jsx("div",{className:"w-full",children:Z.jsx("p",{className:"text-sm text-slate-400",children:"Food Ingredients Finder for your groceries"})})]})}),Z.jsxs("section",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:[Z.jsx("div",{className:"flex items-center justify-between mb-4 px-2",children:Z.jsxs("div",{className:"flex items-center gap-2",children:[Z.jsx(Kv,{size:18,className:"text-slate-400"}),Z.jsx("h3",{className:"font-bold text-slate-600 text-xs uppercase tracking-wider",children:"Recent History"})]})}),Z.jsx("div",{className:"space-y-2.5",children:Z.jsx(YE,{history:l||[],onSelect:n})})]})]})})};var Te;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var $x=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Jx;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Jx||(Jx={}));function bN(e){return Object.values(Te).includes(e)}var Td;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Td||(Td={}));var SN=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Td.SCAN_TYPE_CAMERA,Td.SCAN_TYPE_FILE],e}(),sC=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!$x.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,$x.get(t))},e}(),ey=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),H1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(H1||(H1={}));var TN=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:H1.UNKWOWN_ERROR}},e}(),IN=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ss(e){return typeof e>"u"||e===null}var il=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),oC=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),d=Object.keys(t),p=0,x=d;p<x.length;p++){var m=x[p];if(l.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),G1={exports:{}};(function(e,t){(function(n,i){i(t)})(lu,function(n){function i(R){return R==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,r){R.__proto__=r}||function(R,r){for(var s in r)r.hasOwnProperty(s)&&(R[s]=r[s])};function l(R,r){a(R,r);function s(){this.constructor=R}R.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}function d(R,r){var s=Object.setPrototypeOf;s?s(R,r):R.__proto__=r}function p(R,r){r===void 0&&(r=R.constructor);var s=Error.captureStackTrace;s&&s(R,r)}var x=function(R){l(r,R);function r(s){var o=this.constructor,u=R.call(this,s)||this;return Object.defineProperty(u,"name",{value:o.name,enumerable:!1}),d(u,o.prototype),p(u),u}return r}(Error);class m extends x{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}m.kind="Exception";class E extends m{}E.kind="ArgumentException";class C extends m{}C.kind="IllegalArgumentException";class O{constructor(r){if(this.binarizer=r,r===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,s){return this.binarizer.getBlackRow(r,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,s,o,u){const c=this.binarizer.getLuminanceSource().crop(r,s,o,u);return new O(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new O(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new O(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class D extends m{static getChecksumInstance(){return new D}}D.kind="ChecksumException";class U{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(r,s,o,u,c){for(;c--;)o[u++]=r[s++]}static currentTimeMillis(){return Date.now()}}class P extends m{}P.kind="IndexOutOfBoundsException";class _ extends P{constructor(r=void 0,s=void 0){super(s),this.index=r,this.message=s}}_.kind="ArrayIndexOutOfBoundsException";class b{static fill(r,s){for(let o=0,u=r.length;o<u;o++)r[o]=s}static fillWithin(r,s,o,u){b.rangeCheck(r.length,s,o);for(let c=s;c<o;c++)r[c]=u}static rangeCheck(r,s,o){if(s>o)throw new C("fromIndex("+s+") > toIndex("+o+")");if(s<0)throw new _(s);if(o>r)throw new _(o)}static asList(...r){return r}static create(r,s,o){return Array.from({length:r}).map(c=>Array.from({length:s}).fill(o))}static createInt32Array(r,s,o){return Array.from({length:r}).map(c=>Int32Array.from({length:s}).fill(o))}static equals(r,s){if(!r||!s||!r.length||!s.length||r.length!==s.length)return!1;for(let o=0,u=r.length;o<u;o++)if(r[o]!==s[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let s=1;for(const o of r)s=31*s+o;return s}static fillUint8Array(r,s){for(let o=0;o!==r.length;o++)r[o]=s}static copyOf(r,s){return r.slice(0,s)}static copyOfUint8Array(r,s){if(r.length<=s){const o=new Uint8Array(s);return o.set(r),o}return r.slice(0,s)}static copyOfRange(r,s,o){const u=o-s,c=new Int32Array(u);return I.arraycopy(r,s,c,0,u),c}static binarySearch(r,s,o){o===void 0&&(o=b.numberComparator);let u=0,c=r.length-1;for(;u<=c;){const f=c+u>>1,h=o(s,r[f]);if(h>0)u=f+1;else if(h<0)c=f-1;else return f}return-u-1}static numberComparator(r,s){return r-s}}class T{static numberOfTrailingZeros(r){let s;if(r===0)return 32;let o=31;return s=r<<16,s!==0&&(o-=16,r=s),s=r<<8,s!==0&&(o-=8,r=s),s=r<<4,s!==0&&(o-=4,r=s),s=r<<2,s!==0&&(o-=2,r=s),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let s=1;return r>>>16||(s+=16,r<<=16),r>>>24||(s+=8,r<<=8),r>>>28||(s+=4,r<<=4),r>>>30||(s+=2,r<<=2),s-=r>>>31,s}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,s){return Math.trunc(r/s)}static parseInt(r,s=void 0){return parseInt(r,s)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(r,s){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,s==null?this.bits=L.makeArray(r):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const s=L.makeArray(r);I.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const s=this.size;if(r>=s)return s;const o=this.bits;let u=Math.floor(r/32),c=o[u];c&=~((1<<(r&31))-1);const f=o.length;for(;c===0;){if(++u===f)return s;c=o[u]}const h=u*32+T.numberOfTrailingZeros(c);return h>s?s:h}getNextUnset(r){const s=this.size;if(r>=s)return s;const o=this.bits;let u=Math.floor(r/32),c=~o[u];c&=~((1<<(r&31))-1);const f=o.length;for(;c===0;){if(++u===f)return s;c=~o[u]}const h=u*32+T.numberOfTrailingZeros(c);return h>s?s:h}setBulk(r,s){this.bits[Math.floor(r/32)]=s}setRange(r,s){if(s<r||r<0||s>this.size)throw new C;if(s===r)return;s--;const o=Math.floor(r/32),u=Math.floor(s/32),c=this.bits;for(let f=o;f<=u;f++){const h=f>o?0:r&31,w=(2<<(f<u?31:s&31))-(1<<h);c[f]|=w}}clear(){const r=this.bits.length,s=this.bits;for(let o=0;o<r;o++)s[o]=0}isRange(r,s,o){if(s<r||r<0||s>this.size)throw new C;if(s===r)return!0;s--;const u=Math.floor(r/32),c=Math.floor(s/32),f=this.bits;for(let h=u;h<=c;h++){const g=h>u?0:r&31,A=(2<<(h<c?31:s&31))-(1<<g)&4294967295;if((f[h]&A)!==(o?A:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,s){if(s<0||s>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let o=s;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const s=r.size;this.ensureCapacity(this.size+s);for(let o=0;o<s;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new C("Sizes don't match");const s=this.bits;for(let o=0,u=s.length;o<u;o++)s[o]^=r.bits[o]}toBytes(r,s,o,u){for(let c=0;c<u;c++){let f=0;for(let h=0;h<8;h++)this.get(r)&&(f|=1<<7-h),r++;s[o+c]=f}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),o=s+1,u=this.bits;for(let c=0;c<o;c++){let f=u[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,r[s-c]=f}if(this.size!==o*32){const c=o*32-this.size;let f=r[0]>>>c;for(let h=1;h<o;h++){const g=r[h];f|=g<<32-c,r[h-1]=f,f=g>>>c}r[o-1]=f}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof L))return!1;const s=r;return this.size===s.size&&b.equals(this.bits,s.bits)}hashCode(){return 31*this.size+b.hashCode(this.bits)}toString(){let r="";for(let s=0,o=this.size;s<o;s++)s&7||(r+=" "),r+=this.get(s)?"X":".";return r}clone(){return new L(this.size,this.bits.slice())}}var X;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var G=X;class W extends m{static getFormatInstance(){return new W}}W.kind="FormatException";var Y;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(Y||(Y={}));class te{constructor(r,s,o,...u){this.valueIdentifier=r,this.name=o,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=u,te.VALUE_IDENTIFIER_TO_ECI.set(r,this),te.NAME_TO_ECI.set(o,this);const c=this.values;for(let f=0,h=c.length;f!==h;f++){const g=c[f];te.VALUES_TO_ECI.set(g,this)}for(const f of u)te.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new W("incorect value");const s=te.VALUES_TO_ECI.get(r);if(s===void 0)throw new W("incorect value");return s}static getCharacterSetECIByName(r){const s=te.NAME_TO_ECI.get(r);if(s===void 0)throw new W("incorect value");return s}equals(r){if(!(r instanceof te))return!1;const s=r;return this.getName()===s.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(Y.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(Y.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(Y.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(Y.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(Y.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(Y.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(Y.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(Y.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(Y.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(Y.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(Y.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(Y.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(Y.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(Y.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(Y.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(Y.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(Y.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(Y.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(Y.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(Y.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(Y.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(Y.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(Y.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(Y.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(Y.Big5,28,"Big5"),te.GB18030=new te(Y.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(Y.EUC_KR,30,"EUC_KR","EUC-KR");class ce extends m{}ce.kind="UnsupportedOperationException";class De{static decode(r,s){const o=this.encodingName(s);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!De.isBrowser()&&r==="ISO-8859-1"}static encode(r,s){const o=this.encodingName(s);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof te?r:te.getCharacterSetECIByName(r)}static decodeFallback(r,s){const o=this.encodingCharacterSet(s);if(De.isDecodeFallbackSupported(o)){let u="";for(let c=0,f=r.length;c<f;c++){let h=r[c].toString(16);h.length<2&&(h="0"+h),u+="%"+h}return decodeURIComponent(u)}if(o.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new ce(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(te.UTF8)||r.equals(te.ISO8859_1)||r.equals(te.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),u=[];for(let c=0;c<o.length;c++)u.push(o[c].charCodeAt(0));return new Uint8Array(u)}}class ye{static castAsNonUtf8Char(r,s=null){const o=s?s.getName():this.ISO88591;return De.decode(new Uint8Array([r]),o)}static guessEncoding(r,s){if(s!=null&&s.get(G.CHARACTER_SET)!==void 0)return s.get(G.CHARACTER_SET).toString();const o=r.length;let u=!0,c=!0,f=!0,h=0,g=0,w=0,A=0,N=0,k=0,V=0,z=0,H=0,q=0,ne=0;const he=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let ge=0;ge<o&&(u||c||f);ge++){const ue=r[ge]&255;f&&(h>0?ue&128?h--:f=!1:ue&128&&(ue&64?(h++,ue&32?(h++,ue&16?(h++,ue&8?f=!1:A++):w++):g++):f=!1)),u&&(ue>127&&ue<160?u=!1:ue>159&&(ue<192||ue===215||ue===247)&&ne++),c&&(N>0?ue<64||ue===127||ue>252?c=!1:N--:ue===128||ue===160||ue>239?c=!1:ue>160&&ue<224?(k++,z=0,V++,V>H&&(H=V)):ue>127?(N++,V=0,z++,z>q&&(q=z)):(V=0,z=0))}return f&&h>0&&(f=!1),c&&N>0&&(c=!1),f&&(he||g+w+A>0)?ye.UTF8:c&&(ye.ASSUME_SHIFT_JIS||H>=3||q>=3)?ye.SHIFT_JIS:u&&c?H===2&&k===2||ne*10>=o?ye.SHIFT_JIS:ye.ISO88591:u?ye.ISO88591:c?ye.SHIFT_JIS:f?ye.UTF8:ye.PLATFORM_DEFAULT_ENCODING}static format(r,...s){let o=-1;function u(f,h,g,w,A,N){if(f==="%%")return"%";if(s[++o]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let k=A?parseInt(A.substr(1)):void 0,V;switch(N){case"s":V=s[o];break;case"c":V=s[o][0];break;case"f":V=parseFloat(s[o]).toFixed(f);break;case"p":V=parseFloat(s[o]).toPrecision(f);break;case"e":V=parseFloat(s[o]).toExponential(f);break;case"x":V=parseInt(s[o]).toString(k||16);break;case"d":V=parseFloat(parseInt(s[o],k||10).toPrecision(f)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(k);let z=parseInt(g),H=g&&g[0]+""=="0"?"0":" ";for(;V.length<z;)V=h!==void 0?V+H:H+V;return V}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}static getBytes(r,s){return De.encode(r,s)}static getCharCode(r,s=0){return r.charCodeAt(s)}static getCharAt(r){return String.fromCharCode(r)}}ye.SHIFT_JIS=te.SJIS.getName(),ye.GB2312="GB2312",ye.ISO88591=te.ISO8859_1.getName(),ye.EUC_JP="EUC_JP",ye.UTF8=te.UTF8.getName(),ye.PLATFORM_DEFAULT_ENCODING=ye.UTF8,ye.ASSUME_SHIFT_JIS=!1;class Xe{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=ye.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,s,o){for(let u=s;s<s+o;u++)this.append(r[u]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+1)}substring(r,s){return this.value.substring(r,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+s.length)}}class ot{constructor(r,s,o,u){if(this.width=r,this.height=s,this.rowSize=o,this.bits=u,s==null&&(s=r),this.height=s,r<1||s<1)throw new C("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const s=r.length,o=r[0].length,u=new ot(o,s);for(let c=0;c<s;c++){const f=r[c];for(let h=0;h<o;h++)f[h]&&u.set(h,c)}return u}static parseFromString(r,s,o){if(r===null)throw new C("stringRepresentation cannot be null");const u=new Array(r.length);let c=0,f=0,h=-1,g=0,w=0;for(;w<r.length;)if(r.charAt(w)===`
`||r.charAt(w)==="\r"){if(c>f){if(h===-1)h=c-f;else if(c-f!==h)throw new C("row lengths do not match");f=c,g++}w++}else if(r.substring(w,w+s.length)===s)w+=s.length,u[c]=!0,c++;else if(r.substring(w,w+o.length)===o)w+=o.length,u[c]=!1,c++;else throw new C("illegal character encountered: "+r.substring(w));if(c>f){if(h===-1)h=c-f;else if(c-f!==h)throw new C("row lengths do not match");g++}const A=new ot(h,g);for(let N=0;N<c;N++)u[N]&&A.set(Math.floor(N%h),Math.floor(N/h));return A}get(r,s){const o=s*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new C("input matrix dimensions do not match");const s=new L(Math.floor(this.width/32)+1),o=this.rowSize,u=this.bits;for(let c=0,f=this.height;c<f;c++){const h=c*o,g=r.getRow(c,s).getBitArray();for(let w=0;w<o;w++)u[h+w]^=g[w]}}clear(){const r=this.bits,s=r.length;for(let o=0;o<s;o++)r[o]=0}setRegion(r,s,o,u){if(s<0||r<0)throw new C("Left and top must be nonnegative");if(u<1||o<1)throw new C("Height and width must be at least 1");const c=r+o,f=s+u;if(f>this.height||c>this.width)throw new C("The region must fit inside the matrix");const h=this.rowSize,g=this.bits;for(let w=s;w<f;w++){const A=w*h;for(let N=r;N<c;N++)g[A+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(r,s){s==null||s.getSize()<this.width?s=new L(this.width):s.clear();const o=this.rowSize,u=this.bits,c=r*o;for(let f=0;f<o;f++)s.setBulk(f*32,u[c+f]);return s}setRow(r,s){I.arraycopy(s.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),s=this.getHeight();let o=new L(r),u=new L(r);for(let c=0,f=Math.floor((s+1)/2);c<f;c++)o=this.getRow(c,o),u=this.getRow(s-1-c,u),o.reverse(),u.reverse(),this.setRow(c,u),this.setRow(s-1-c,o)}getEnclosingRectangle(){const r=this.width,s=this.height,o=this.rowSize,u=this.bits;let c=r,f=s,h=-1,g=-1;for(let w=0;w<s;w++)for(let A=0;A<o;A++){const N=u[w*o+A];if(N!==0){if(w<f&&(f=w),w>g&&(g=w),A*32<c){let k=0;for(;!(N<<31-k&4294967295);)k++;A*32+k<c&&(c=A*32+k)}if(A*32+31>h){let k=31;for(;!(N>>>k);)k--;A*32+k>h&&(h=A*32+k)}}}return h<c||g<f?null:Int32Array.from([c,f,h-c+1,g-f+1])}getTopLeftOnBit(){const r=this.rowSize,s=this.bits;let o=0;for(;o<s.length&&s[o]===0;)o++;if(o===s.length)return null;const u=o/r;let c=o%r*32;const f=s[o];let h=0;for(;!(f<<31-h&4294967295);)h++;return c+=h,Int32Array.from([c,u])}getBottomRightOnBit(){const r=this.rowSize,s=this.bits;let o=s.length-1;for(;o>=0&&s[o]===0;)o--;if(o<0)return null;const u=Math.floor(o/r);let c=Math.floor(o%r)*32;const f=s[o];let h=31;for(;!(f>>>h);)h--;return c+=h,Int32Array.from([c,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof ot))return!1;const s=r;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&b.equals(this.bits,s.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+b.hashCode(this.bits),r}toString(r="X ",s="  ",o=`
`){return this.buildToString(r,s,o)}buildToString(r,s,o){let u=new Xe;for(let c=0,f=this.height;c<f;c++){for(let h=0,g=this.width;h<g;h++)u.append(this.get(h,c)?r:s);u.append(o)}return u.toString()}clone(){return new ot(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends m{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class _t extends U{constructor(r){super(r),this.luminances=_t.EMPTY,this.buckets=new Int32Array(_t.LUMINANCE_BUCKETS)}getBlackRow(r,s){const o=this.getLuminanceSource(),u=o.getWidth();s==null||s.getSize()<u?s=new L(u):s.clear(),this.initArrays(u);const c=o.getRow(r,this.luminances),f=this.buckets;for(let g=0;g<u;g++)f[(c[g]&255)>>_t.LUMINANCE_SHIFT]++;const h=_t.estimateBlackPoint(f);if(u<3)for(let g=0;g<u;g++)(c[g]&255)<h&&s.set(g);else{let g=c[0]&255,w=c[1]&255;for(let A=1;A<u-1;A++){const N=c[A+1]&255;(w*4-g-N)/2<h&&s.set(A),g=w,w=N}}return s}getBlackMatrix(){const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight(),u=new ot(s,o);this.initArrays(s);const c=this.buckets;for(let g=1;g<5;g++){const w=Math.floor(o*g/5),A=r.getRow(w,this.luminances),N=Math.floor(s*4/5);for(let k=Math.floor(s/5);k<N;k++){const V=A[k]&255;c[V>>_t.LUMINANCE_SHIFT]++}}const f=_t.estimateBlackPoint(c),h=r.getMatrix();for(let g=0;g<o;g++){const w=g*s;for(let A=0;A<s;A++)(h[w+A]&255)<f&&u.set(A,g)}return u}createBinarizer(r){return new _t(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const s=this.buckets;for(let o=0;o<_t.LUMINANCE_BUCKETS;o++)s[o]=0}static estimateBlackPoint(r){const s=r.length;let o=0,u=0,c=0;for(let A=0;A<s;A++)r[A]>c&&(u=A,c=r[A]),r[A]>o&&(o=r[A]);let f=0,h=0;for(let A=0;A<s;A++){const N=A-u,k=r[A]*N*N;k>h&&(f=A,h=k)}if(u>f){const A=u;u=f,f=A}if(f-u<=s/16)throw new re;let g=f-1,w=-1;for(let A=f-1;A>u;A--){const N=A-u,k=N*N*(f-A)*(o-r[A]);k>w&&(g=A,w=k)}return g<<_t.LUMINANCE_SHIFT}}_t.LUMINANCE_BITS=5,_t.LUMINANCE_SHIFT=8-_t.LUMINANCE_BITS,_t.LUMINANCE_BUCKETS=1<<_t.LUMINANCE_BITS,_t.EMPTY=Uint8ClampedArray.from([0]);class be extends _t{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight();if(s>=be.MINIMUM_DIMENSION&&o>=be.MINIMUM_DIMENSION){const u=r.getMatrix();let c=s>>be.BLOCK_SIZE_POWER;s&be.BLOCK_SIZE_MASK&&c++;let f=o>>be.BLOCK_SIZE_POWER;o&be.BLOCK_SIZE_MASK&&f++;const h=be.calculateBlackPoints(u,c,f,s,o),g=new ot(s,o);be.calculateThresholdForBlock(u,c,f,s,o,h,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new be(r)}static calculateThresholdForBlock(r,s,o,u,c,f,h){const g=c-be.BLOCK_SIZE,w=u-be.BLOCK_SIZE;for(let A=0;A<o;A++){let N=A<<be.BLOCK_SIZE_POWER;N>g&&(N=g);const k=be.cap(A,2,o-3);for(let V=0;V<s;V++){let z=V<<be.BLOCK_SIZE_POWER;z>w&&(z=w);const H=be.cap(V,2,s-3);let q=0;for(let he=-2;he<=2;he++){const ge=f[k+he];q+=ge[H-2]+ge[H-1]+ge[H]+ge[H+1]+ge[H+2]}const ne=q/25;be.thresholdBlock(r,z,N,ne,u,h)}}}static cap(r,s,o){return r<s?s:r>o?o:r}static thresholdBlock(r,s,o,u,c,f){for(let h=0,g=o*c+s;h<be.BLOCK_SIZE;h++,g+=c)for(let w=0;w<be.BLOCK_SIZE;w++)(r[g+w]&255)<=u&&f.set(s+w,o+h)}static calculateBlackPoints(r,s,o,u,c){const f=c-be.BLOCK_SIZE,h=u-be.BLOCK_SIZE,g=new Array(o);for(let w=0;w<o;w++){g[w]=new Int32Array(s);let A=w<<be.BLOCK_SIZE_POWER;A>f&&(A=f);for(let N=0;N<s;N++){let k=N<<be.BLOCK_SIZE_POWER;k>h&&(k=h);let V=0,z=255,H=0;for(let ne=0,he=A*u+k;ne<be.BLOCK_SIZE;ne++,he+=u){for(let ge=0;ge<be.BLOCK_SIZE;ge++){const ue=r[he+ge]&255;V+=ue,ue<z&&(z=ue),ue>H&&(H=ue)}if(H-z>be.MIN_DYNAMIC_RANGE)for(ne++,he+=u;ne<be.BLOCK_SIZE;ne++,he+=u)for(let ge=0;ge<be.BLOCK_SIZE;ge++)V+=r[he+ge]&255}let q=V>>be.BLOCK_SIZE_POWER*2;if(H-z<=be.MIN_DYNAMIC_RANGE&&(q=z/2,w>0&&N>0)){const ne=(g[w-1][N]+2*g[w][N-1]+g[w-1][N-1])/4;z<ne&&(q=ne)}g[w][N]=q}}return g}}be.BLOCK_SIZE_POWER=3,be.BLOCK_SIZE=1<<be.BLOCK_SIZE_POWER,be.BLOCK_SIZE_MASK=be.BLOCK_SIZE-1,be.MINIMUM_DIMENSION=be.BLOCK_SIZE*5,be.MIN_DYNAMIC_RANGE=24;class pe{constructor(r,s){this.width=r,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,s,o,u){throw new ce("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ce("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ce("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let s=new Xe;for(let o=0;o<this.height;o++){const u=this.getRow(o,r);for(let c=0;c<this.width;c++){const f=u[c]&255;let h;f<64?h="#":f<128?h="+":f<192?h=".":h=" ",s.append(h)}s.append(`
`)}return s.toString()}}class Ae extends pe{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,s){const o=this.delegate.getRow(r,s),u=this.getWidth();for(let c=0;c<u;c++)o[c]=255-(o[c]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(s);for(let u=0;u<s;u++)o[u]=255-(r[u]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,s,o,u){return new Ae(this.delegate.crop(r,s,o,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ae(this.delegate.rotateCounterClockwise45())}}class Le extends pe{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=Le.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const s=r.getContext("2d").getImageData(0,0,r.width,r.height);return Le.toGrayscaleBuffer(s.data,r.width,r.height)}static toGrayscaleBuffer(r,s,o){const u=new Uint8ClampedArray(s*o);for(let c=0,f=0,h=r.length;c<h;c+=4,f++){let g;if(r[c+3]===0)g=255;else{const A=r[c],N=r[c+1],k=r[c+2];g=306*A+601*N+117*k+512>>10}u[f]=g}return u}getRow(r,s){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth(),u=r*o;return s===null?s=this.buffer.slice(u,u+o):(s.length<o&&(s=new Uint8ClampedArray(o)),s.set(this.buffer.slice(u,u+o))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,s,o,u){return super.crop(r,s,o,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const s=this.getTempCanvasElement(),o=s.getContext("2d"),u=r*Le.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(u))*c+Math.abs(Math.sin(u))*f),g=Math.ceil(Math.abs(Math.sin(u))*c+Math.abs(Math.cos(u))*f);return s.width=h,s.height=g,o.translate(h/2,g/2),o.rotate(u),o.drawImage(this.canvas,c/-2,f/-2),this.buffer=Le.makeBufferFromCanvasImageData(s),this}invert(){return new Ae(this)}}Le.DEGREE_TO_RADIANS=Math.PI/180;class Qe{constructor(r,s,o){this.deviceId=r,this.label=s,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var at=(globalThis||lu||self||window||void 0)&&(globalThis||lu||self||window||void 0).__awaiter||function(R,r,s,o){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(A){try{w(o.next(A))}catch(N){f(N)}}function g(A){try{w(o.throw(A))}catch(N){f(N)}}function w(A){A.done?c(A.value):u(A.value).then(h,g)}w((o=o.apply(R,r||[])).next())})};class er{constructor(r,s=500,o){this.reader=r,this.timeBetweenScansMillis=s,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return at(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const o of r){const u=o.kind==="video"?"videoinput":o.kind;if(u!=="videoinput")continue;const c=o.deviceId||o.id,f=o.label||`Video device ${s.length+1}`,h=o.groupId,g={deviceId:c,label:f,kind:u,groupId:h};s.push(g)}return s})}getVideoInputDevices(){return at(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Qe(s.deviceId,s.label))})}findDeviceById(r){return at(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,s){return at(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,s)})}decodeOnceFromVideoDevice(r,s){return at(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeOnceFromConstraints(u,s)})}decodeOnceFromConstraints(r,s){return at(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,s)})}decodeOnceFromStream(r,s){return at(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,s);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,s,o){return at(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,s,o)})}decodeFromVideoDevice(r,s,o){return at(this,void 0,void 0,function*(){let u;r?u={deviceId:{exact:r}}:u={facingMode:"environment"};const c={video:u};return yield this.decodeFromConstraints(c,s,o)})}decodeFromConstraints(r,s,o){return at(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(u,s,o)})}decodeFromStream(r,s,o){return at(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(r,s);return yield this.decodeContinuously(u,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,s){return at(this,void 0,void 0,function*(){const o=this.prepareVideoElement(s);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((s,o)=>this.playVideoOnLoad(r,()=>s()))}playVideoOnLoad(r,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",s),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return at(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,s){const o=document.getElementById(r);if(!o)throw new E(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==s.toLowerCase())throw new E(`element with id '${r}' must be an ${s} element`);return o}decodeFromImage(r,s){if(!r&&!s)throw new E("either imageElement with a src set or an url must be provided");return s&&!r?this.decodeFromImageUrl(s):this.decodeFromImageElement(r)}decodeFromVideo(r,s){if(!r&&!s)throw new E("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,s,o){if(r===void 0&&s===void 0)throw new E("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrlContinuously(s,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new E("An image element must be provided.");this.reset();const s=this.prepareImageElement(r);this.imageElement=s;let o;return this.isImageLoaded(s)?o=this.decodeOnce(s,!1,!0):o=this._decodeOnLoadImage(s),o}decodeFromVideoElement(r){const s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(r,s){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,s)}_decodeFromVideoElementSetup(r){if(!r)throw new E("A video element must be provided.");this.reset();const s=this.prepareVideoElement(r);return this.videoElement=s,s}decodeFromImageUrl(r){if(!r)throw new E("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const o=this._decodeOnLoadImage(s);return s.src=r,o}decodeFromVideoUrl(r){if(!r)throw new E("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElement(s);return s.src=r,o}decodeFromVideoUrlContinuously(r,s){if(!r)throw new E("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(o,s);return o.src=r,u}_decodeOnLoadImage(r){return new Promise((s,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(s,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return at(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,s){return at(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,s)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let s;return typeof r>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(s=r),s}prepareVideoElement(r){let s;return!r&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(s=r),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(r,s=!0,o=!0){this._stopAsyncDecode=!1;const u=(c,f)=>{if(this._stopAsyncDecode){f(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(r);c(h)}catch(h){const g=s&&h instanceof re,A=(h instanceof D||h instanceof W)&&o;if(g||A)return setTimeout(u,this._timeBetweenDecodingAttempts,c,f);f(h)}};return new Promise((c,f)=>u(c,f))}decodeContinuously(r,s){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(r);s(u,null),setTimeout(o,this.timeBetweenScansMillis)}catch(u){s(null,u);const c=u instanceof D||u instanceof W,f=u instanceof re;(c||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const s=this.createBinaryBitmap(r);return this.decodeBitmap(s)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,s,o){s||(s={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(r,s,o=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const s=this.getCaptureCanvas(r),o=new Le(s),u=new be(o);return new O(u)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const s=this.createCaptureCanvas(r);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let o,u;return typeof r<"u"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,u=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,u=r.naturalHeight||r.height)),s.style.width=o+"px",s.style.height=u+"px",s.width=o,s.height=u,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,s){try{r.srcObject=s}catch{r.src=URL.createObjectURL(s)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class Vt{constructor(r,s,o=s==null?0:8*s.length,u,c,f=I.currentTimeMillis()){this.text=r,this.rawBytes=s,this.numBits=o,this.resultPoints=u,this.format=c,this.timestamp=f,this.text=r,this.rawBytes=s,o==null?this.numBits=s==null?0:8*s.length:this.numBits=o,this.resultPoints=u,this.format=c,this.resultMetadata=null,f==null?this.timestamp=I.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,s)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const s=this.resultPoints;if(s===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(s.length+r.length);I.arraycopy(s,0,o,0,s.length),I.arraycopy(r,0,o,s.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var vi;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(vi||(vi={}));var ke=vi,Be;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Be||(Be={}));var qe=Be;class bs{constructor(r,s,o,u,c=-1,f=-1){this.rawBytes=r,this.text=s,this.byteSegments=o,this.ecLevel=u,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ei{exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}static addOrSubtract(r,s){return r^s}}class mt{constructor(r,s){if(s.length===0)throw new C;this.field=r;const o=s.length;if(o>1&&s[0]===0){let u=1;for(;u<o&&s[u]===0;)u++;u===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-u),I.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const s=this.coefficients;let o;if(r===1){o=0;for(let f=0,h=s.length;f!==h;f++){const g=s[f];o=Ei.addOrSubtract(o,g)}return o}o=s[0];const u=s.length,c=this.field;for(let f=1;f<u;f++)o=Ei.addOrSubtract(c.multiply(r,o),s[f]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){const f=s;s=o,o=f}let u=new Int32Array(o.length);const c=o.length-s.length;I.arraycopy(o,0,u,0,c);for(let f=c;f<o.length;f++)u[f]=Ei.addOrSubtract(s[f-c],o[f]);return new mt(this.field,u)}multiply(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const s=this.coefficients,o=s.length,u=r.coefficients,c=u.length,f=new Int32Array(o+c-1),h=this.field;for(let g=0;g<o;g++){const w=s[g];for(let A=0;A<c;A++)f[g+A]=Ei.addOrSubtract(f[g+A],h.multiply(w,u[A]))}return new mt(h,f)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const s=this.coefficients.length,o=this.field,u=new Int32Array(s),c=this.coefficients;for(let f=0;f<s;f++)u[f]=o.multiply(c[f],r);return new mt(o,u)}multiplyByMonomial(r,s){if(r<0)throw new C;if(s===0)return this.field.getZero();const o=this.coefficients,u=o.length,c=new Int32Array(u+r),f=this.field;for(let h=0;h<u;h++)c[h]=f.multiply(o[h],s);return new mt(f,c)}divide(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new C("Divide by 0");const s=this.field;let o=s.getZero(),u=this;const c=r.getCoefficient(r.getDegree()),f=s.inverse(c);for(;u.getDegree()>=r.getDegree()&&!u.isZero();){const h=u.getDegree()-r.getDegree(),g=s.multiply(u.getCoefficient(u.getDegree()),f),w=r.multiplyByMonomial(h,g),A=s.buildMonomial(h,g);o=o.addOrSubtract(A),u=u.addOrSubtract(w)}return[o,u]}toString(){let r="";for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),s===0||o!==1){const u=this.field.log(o);u===0?r+="1":u===1?r+="a":(r+="a^",r+=u)}s!==0&&(s===1?r+="x":(r+="x^",r+=s))}}return r}}class tr extends m{}tr.kind="ArithmeticException";class gt extends Ei{constructor(r,s,o){super(),this.primitive=r,this.size=s,this.generatorBase=o;const u=new Int32Array(s);let c=1;for(let h=0;h<s;h++)u[h]=c,c*=2,c>=s&&(c^=r,c&=s-1);this.expTable=u;const f=new Int32Array(s);for(let h=0;h<s-1;h++)f[u[h]]=h;this.logTable=f,this.zero=new mt(this,Int32Array.from([0])),this.one=new mt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new C;if(s===0)return this.zero;const o=new Int32Array(r+1);return o[0]=s,new mt(this,o)}inverse(r){if(r===0)throw new tr;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class st extends m{}st.kind="ReedSolomonException";class br extends m{}br.kind="IllegalStateException";class dr{constructor(r){this.field=r}decode(r,s){const o=this.field,u=new mt(o,r),c=new Int32Array(s);let f=!0;for(let V=0;V<s;V++){const z=u.evaluateAt(o.exp(V+o.getGeneratorBase()));c[c.length-1-V]=z,z!==0&&(f=!1)}if(f)return;const h=new mt(o,c),g=this.runEuclideanAlgorithm(o.buildMonomial(s,1),h,s),w=g[0],A=g[1],N=this.findErrorLocations(w),k=this.findErrorMagnitudes(A,N);for(let V=0;V<N.length;V++){const z=r.length-1-o.log(N[V]);if(z<0)throw new st("Bad error location");r[z]=gt.addOrSubtract(r[z],k[V])}}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){const V=r;r=s,s=V}const u=this.field;let c=r,f=s,h=u.getZero(),g=u.getOne();for(;f.getDegree()>=(o/2|0);){let V=c,z=h;if(c=f,h=g,c.isZero())throw new st("r_{i-1} was zero");f=V;let H=u.getZero();const q=c.getCoefficient(c.getDegree()),ne=u.inverse(q);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const he=f.getDegree()-c.getDegree(),ge=u.multiply(f.getCoefficient(f.getDegree()),ne);H=H.addOrSubtract(u.buildMonomial(he,ge)),f=f.addOrSubtract(c.multiplyByMonomial(he,ge))}if(g=H.multiply(h).addOrSubtract(z),f.getDegree()>=c.getDegree())throw new br("Division algorithm failed to reduce polynomial?")}const w=g.getCoefficient(0);if(w===0)throw new st("sigmaTilde(0) was zero");const A=u.inverse(w),N=g.multiplyScalar(A),k=f.multiplyScalar(A);return[N,k]}findErrorLocations(r){const s=r.getDegree();if(s===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(s);let u=0;const c=this.field;for(let f=1;f<c.getSize()&&u<s;f++)r.evaluateAt(f)===0&&(o[u]=c.inverse(f),u++);if(u!==s)throw new st("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,s){const o=s.length,u=new Int32Array(o),c=this.field;for(let f=0;f<o;f++){const h=c.inverse(s[f]);let g=1;for(let w=0;w<o;w++)if(f!==w){const A=c.multiply(s[w],h),N=A&1?A&-2:A|1;g=c.multiply(g,N)}u[f]=c.multiply(r.evaluateAt(h),c.inverse(g)),c.getGeneratorBase()!==0&&(u[f]=c.multiply(u[f],h))}return u}}var wn;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(wn||(wn={}));class Et{decode(r){this.ddata=r;let s=r.getBits(),o=this.extractBits(s),u=this.correctBits(o),c=Et.convertBoolArrayToByteArray(u),f=Et.getEncodedData(u),h=new bs(c,f,null,null);return h.setNumBits(u.length),h}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let s=r.length,o=wn.UPPER,u=wn.UPPER,c="",f=0;for(;f<s;)if(u===wn.BINARY){if(s-f<5)break;let h=Et.readCode(r,f,5);if(f+=5,h===0){if(s-f<11)break;h=Et.readCode(r,f,11)+31,f+=11}for(let g=0;g<h;g++){if(s-f<8){f=s;break}const w=Et.readCode(r,f,8);c+=ye.castAsNonUtf8Char(w),f+=8}u=o}else{let h=u===wn.DIGIT?4:5;if(s-f<h)break;let g=Et.readCode(r,f,h);f+=h;let w=Et.getCharacter(u,g);w.startsWith("CTRL_")?(o=u,u=Et.getTable(w.charAt(5)),w.charAt(6)==="L"&&(o=u)):(c+=w,u=o)}return c}static getTable(r){switch(r){case"L":return wn.LOWER;case"P":return wn.PUNCT;case"M":return wn.MIXED;case"D":return wn.DIGIT;case"B":return wn.BINARY;case"U":default:return wn.UPPER}}static getCharacter(r,s){switch(r){case wn.UPPER:return Et.UPPER_TABLE[s];case wn.LOWER:return Et.LOWER_TABLE[s];case wn.MIXED:return Et.MIXED_TABLE[s];case wn.PUNCT:return Et.PUNCT_TABLE[s];case wn.DIGIT:return Et.DIGIT_TABLE[s];default:throw new br("Bad table")}}correctBits(r){let s,o;this.ddata.getNbLayers()<=2?(o=6,s=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,s=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,s=gt.AZTEC_DATA_10):(o=12,s=gt.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),c=r.length/o;if(c<u)throw new W;let f=r.length%o,h=new Int32Array(c);for(let k=0;k<c;k++,f+=o)h[k]=Et.readCode(r,f,o);try{new dr(s).decode(h,c-u)}catch(k){throw new W(k)}let g=(1<<o)-1,w=0;for(let k=0;k<u;k++){let V=h[k];if(V===0||V===g)throw new W;(V===1||V===g-1)&&w++}let A=new Array(u*o-w),N=0;for(let k=0;k<u;k++){let V=h[k];if(V===1||V===g-1)A.fill(V>1,N,N+o-1),N+=o-1;else for(let z=o-1;z>=0;--z)A[N++]=(V&1<<z)!==0}return A}extractBits(r){let s=this.ddata.isCompact(),o=this.ddata.getNbLayers(),u=(s?11:14)+o*4,c=new Int32Array(u),f=new Array(this.totalBitsInLayer(o,s));if(s)for(let h=0;h<c.length;h++)c[h]=h;else{let h=u+1+2*T.truncDivision(T.truncDivision(u,2)-1,15),g=u/2,w=T.truncDivision(h,2);for(let A=0;A<g;A++){let N=A+T.truncDivision(A,15);c[g-A-1]=w-N-1,c[g+A]=w+N+1}}for(let h=0,g=0;h<o;h++){let w=(o-h)*4+(s?9:12),A=h*2,N=u-1-A;for(let k=0;k<w;k++){let V=k*2;for(let z=0;z<2;z++)f[g+V+z]=r.get(c[A+z],c[A+k]),f[g+2*w+V+z]=r.get(c[A+k],c[N-z]),f[g+4*w+V+z]=r.get(c[N-z],c[N-k]),f[g+6*w+V+z]=r.get(c[N-k],c[A+z])}g+=w*8}return f}static readCode(r,s,o){let u=0;for(let c=s;c<s+o;c++)u<<=1,r[c]&&(u|=1);return u}static readByte(r,s){let o=r.length-s;return o>=8?Et.readCode(r,s,8):Et.readCode(r,s,o)<<8-o}static convertBoolArrayToByteArray(r){let s=new Uint8Array((r.length+7)/8);for(let o=0;o<s.length;o++)s[o]=Et.readByte(r,8*o);return s}totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}Et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ft{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,s,o,u){const c=r-o,f=s-u;return Math.sqrt(c*c+f*f)}static sum(r){let s=0;for(let o=0,u=r.length;o!==u;o++){const c=r[o];s+=c}return s}}class So{static floatToIntBits(r){return r}}So.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Re{constructor(r,s){this.x=r,this.y=s}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Re){const s=r;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*So.floatToIntBits(this.x)+So.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const s=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),u=this.distance(r[0],r[2]);let c,f,h;if(o>=s&&o>=u?(f=r[0],c=r[1],h=r[2]):u>=o&&u>=s?(f=r[1],c=r[0],h=r[2]):(f=r[2],c=r[0],h=r[1]),this.crossProductZ(c,f,h)<0){const g=c;c=h,h=g}r[0]=c,r[1]=f,r[2]=h}static distance(r,s){return ft.distance(r.x,r.y,s.x,s.y)}static crossProductZ(r,s,o){const u=s.x,c=s.y;return(o.x-u)*(r.y-c)-(o.y-c)*(r.x-u)}}class Ss{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ci extends Ss{constructor(r,s,o,u,c){super(r,s),this.compact=o,this.nbDatablocks=u,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Pn{constructor(r,s,o,u){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),s==null&&(s=Pn.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),u==null&&(u=r.getHeight()/2|0);const c=s/2|0;if(this.leftInit=o-c,this.rightInit=o+c,this.upInit=u-c,this.downInit=u+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let r=this.leftInit,s=this.rightInit,o=this.upInit,u=this.downInit,c=!1,f=!0,h=!1,g=!1,w=!1,A=!1,N=!1;const k=this.width,V=this.height;for(;f;){f=!1;let z=!0;for(;(z||!g)&&s<k;)z=this.containsBlackPoint(o,u,s,!1),z?(s++,f=!0,g=!0):g||s++;if(s>=k){c=!0;break}let H=!0;for(;(H||!w)&&u<V;)H=this.containsBlackPoint(r,s,u,!0),H?(u++,f=!0,w=!0):w||u++;if(u>=V){c=!0;break}let q=!0;for(;(q||!A)&&r>=0;)q=this.containsBlackPoint(o,u,r,!1),q?(r--,f=!0,A=!0):A||r--;if(r<0){c=!0;break}let ne=!0;for(;(ne||!N)&&o>=0;)ne=this.containsBlackPoint(r,s,o,!0),ne?(o--,f=!0,N=!0):N||o--;if(o<0){c=!0;break}f&&(h=!0)}if(!c&&h){const z=s-r;let H=null;for(let ge=1;H===null&&ge<z;ge++)H=this.getBlackPointOnSegment(r,u-ge,r+ge,u);if(H==null)throw new re;let q=null;for(let ge=1;q===null&&ge<z;ge++)q=this.getBlackPointOnSegment(r,o+ge,r+ge,o);if(q==null)throw new re;let ne=null;for(let ge=1;ne===null&&ge<z;ge++)ne=this.getBlackPointOnSegment(s,o+ge,s-ge,o);if(ne==null)throw new re;let he=null;for(let ge=1;he===null&&ge<z;ge++)he=this.getBlackPointOnSegment(s,u-ge,s-ge,u);if(he==null)throw new re;return this.centerEdges(he,H,ne,q)}else throw new re}getBlackPointOnSegment(r,s,o,u){const c=ft.round(ft.distance(r,s,o,u)),f=(o-r)/c,h=(u-s)/c,g=this.image;for(let w=0;w<c;w++){const A=ft.round(r+w*f),N=ft.round(s+w*h);if(g.get(A,N))return new Re(A,N)}return null}centerEdges(r,s,o,u){const c=r.getX(),f=r.getY(),h=s.getX(),g=s.getY(),w=o.getX(),A=o.getY(),N=u.getX(),k=u.getY(),V=Pn.CORR;return c<this.width/2?[new Re(N-V,k+V),new Re(h+V,g+V),new Re(w-V,A-V),new Re(c+V,f-V)]:[new Re(N+V,k+V),new Re(h+V,g-V),new Re(w-V,A+V),new Re(c-V,f-V)]}containsBlackPoint(r,s,o,u){const c=this.image;if(u){for(let f=r;f<=s;f++)if(c.get(f,o))return!0}else for(let f=r;f<=s;f++)if(c.get(o,f))return!0;return!1}}Pn.INIT_SIZE=10,Pn.CORR=1;class Ca{static checkAndNudgePoints(r,s){const o=r.getWidth(),u=r.getHeight();let c=!0;for(let f=0;f<s.length&&c;f+=2){const h=Math.floor(s[f]),g=Math.floor(s[f+1]);if(h<-1||h>o||g<-1||g>u)throw new re;c=!1,h===-1?(s[f]=0,c=!0):h===o&&(s[f]=o-1,c=!0),g===-1?(s[f+1]=0,c=!0):g===u&&(s[f+1]=u-1,c=!0)}c=!0;for(let f=s.length-2;f>=0&&c;f-=2){const h=Math.floor(s[f]),g=Math.floor(s[f+1]);if(h<-1||h>o||g<-1||g>u)throw new re;c=!1,h===-1?(s[f]=0,c=!0):h===o&&(s[f]=o-1,c=!0),g===-1?(s[f+1]=0,c=!0):g===u&&(s[f+1]=u-1,c=!0)}}}class hr{constructor(r,s,o,u,c,f,h,g,w){this.a11=r,this.a21=s,this.a31=o,this.a12=u,this.a22=c,this.a32=f,this.a13=h,this.a23=g,this.a33=w}static quadrilateralToQuadrilateral(r,s,o,u,c,f,h,g,w,A,N,k,V,z,H,q){const ne=hr.quadrilateralToSquare(r,s,o,u,c,f,h,g);return hr.squareToQuadrilateral(w,A,N,k,V,z,H,q).times(ne)}transformPoints(r){const s=r.length,o=this.a11,u=this.a12,c=this.a13,f=this.a21,h=this.a22,g=this.a23,w=this.a31,A=this.a32,N=this.a33;for(let k=0;k<s;k+=2){const V=r[k],z=r[k+1],H=c*V+g*z+N;r[k]=(o*V+f*z+w)/H,r[k+1]=(u*V+h*z+A)/H}}transformPointsWithValues(r,s){const o=this.a11,u=this.a12,c=this.a13,f=this.a21,h=this.a22,g=this.a23,w=this.a31,A=this.a32,N=this.a33,k=r.length;for(let V=0;V<k;V++){const z=r[V],H=s[V],q=c*z+g*H+N;r[V]=(o*z+f*H+w)/q,s[V]=(u*z+h*H+A)/q}}static squareToQuadrilateral(r,s,o,u,c,f,h,g){const w=r-o+c-h,A=s-u+f-g;if(w===0&&A===0)return new hr(o-r,c-o,r,u-s,f-u,s,0,0,1);{const N=o-c,k=h-c,V=u-f,z=g-f,H=N*z-k*V,q=(w*z-k*A)/H,ne=(N*A-w*V)/H;return new hr(o-r+q*o,h-r+ne*h,r,u-s+q*u,g-s+ne*g,s,q,ne,1)}}static quadrilateralToSquare(r,s,o,u,c,f,h,g){return hr.squareToQuadrilateral(r,s,o,u,c,f,h,g).buildAdjoint()}buildAdjoint(){return new hr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new hr(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Mc extends Ca{sampleGrid(r,s,o,u,c,f,h,g,w,A,N,k,V,z,H,q,ne,he,ge){const ue=hr.quadrilateralToQuadrilateral(u,c,f,h,g,w,A,N,k,V,z,H,q,ne,he,ge);return this.sampleGridWithTransform(r,s,o,ue)}sampleGridWithTransform(r,s,o,u){if(s<=0||o<=0)throw new re;const c=new ot(s,o),f=new Float32Array(2*s);for(let h=0;h<o;h++){const g=f.length,w=h+.5;for(let A=0;A<g;A+=2)f[A]=A/2+.5,f[A+1]=w;u.transformPoints(f),Ca.checkAndNudgePoints(r,f);try{for(let A=0;A<g;A+=2)r.get(Math.floor(f[A]),Math.floor(f[A+1]))&&c.set(A/2,h)}catch{throw new re}}return c}}class Ai{static setGridSampler(r){Ai.gridSampler=r}static getInstance(){return Ai.gridSampler}}Ai.gridSampler=new Mc;class Mn{constructor(r,s){this.x=r,this.y=s}toResultPoint(){return new Re(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Kl{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let s=this.getMatrixCenter(),o=this.getBullsEyeCorners(s);if(r){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let u=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),c=this.getMatrixCornerPoints(o);return new Ci(u,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new re;let s=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],s),this.sampleLine(r[1],r[2],s),this.sampleLine(r[2],r[3],s),this.sampleLine(r[3],r[0],s)]);this.shift=this.getRotation(o,s);let u=0;for(let f=0;f<4;f++){let h=o[(this.shift+f)%4];this.compact?(u<<=7,u+=h>>1&127):(u<<=10,u+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(r,s){let o=0;r.forEach((u,c,f)=>{let h=(u>>s-2<<1)+(u&1);o=(o<<3)+h}),o=((o&1)<<11)+(o>>1);for(let u=0;u<4;u++)if(T.bitCount(o^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new re}getCorrectedParameterData(r,s){let o,u;s?(o=7,u=2):(o=10,u=4);let c=o-u,f=new Int32Array(o);for(let g=o-1;g>=0;--g)f[g]=r&15,r>>=4;try{new dr(gt.AZTEC_PARAM).decode(f,c)}catch{throw new re}let h=0;for(let g=0;g<u;g++)h=(h<<4)+f[g];return h}getBullsEyeCorners(r){let s=r,o=r,u=r,c=r,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(s,f,1,-1),k=this.getFirstDifferent(o,f,1,1),V=this.getFirstDifferent(u,f,-1,1),z=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let H=this.distancePoint(z,N)*this.nbCenterLayers/(this.distancePoint(c,s)*(this.nbCenterLayers+2));if(H<.75||H>1.25||!this.isWhiteOrBlackRectangle(N,k,V,z))break}s=N,o=k,u=V,c=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let h=new Re(s.getX()+.5,s.getY()-.5),g=new Re(o.getX()+.5,o.getY()+.5),w=new Re(u.getX()-.5,u.getY()+.5),A=new Re(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,g,w,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,s,o,u;try{let h=new Pn(this.image).detect();r=h[0],s=h[1],o=h[2],u=h[3]}catch{let g=this.image.getWidth()/2,w=this.image.getHeight()/2;r=this.getFirstDifferent(new Mn(g+7,w-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Mn(g+7,w+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Mn(g-7,w+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Mn(g-7,w-7),!1,-1,-1).toResultPoint()}let c=ft.round((r.getX()+u.getX()+s.getX()+o.getX())/4),f=ft.round((r.getY()+u.getY()+s.getY()+o.getY())/4);try{let h=new Pn(this.image,15,c,f).detect();r=h[0],s=h[1],o=h[2],u=h[3]}catch{r=this.getFirstDifferent(new Mn(c+7,f-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Mn(c+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Mn(c-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Mn(c-7,f-7),!1,-1,-1).toResultPoint()}return c=ft.round((r.getX()+u.getX()+s.getX()+o.getX())/4),f=ft.round((r.getY()+u.getY()+s.getY()+o.getY())/4),new Mn(c,f)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,s,o,u,c){let f=Ai.getInstance(),h=this.getDimension(),g=h/2-this.nbCenterLayers,w=h/2+this.nbCenterLayers;return f.sampleGrid(r,h,h,g,g,w,g,w,w,g,w,s.getX(),s.getY(),o.getX(),o.getY(),u.getX(),u.getY(),c.getX(),c.getY())}sampleLine(r,s,o){let u=0,c=this.distanceResultPoint(r,s),f=c/o,h=r.getX(),g=r.getY(),w=f*(s.getX()-r.getX())/c,A=f*(s.getY()-r.getY())/c;for(let N=0;N<o;N++)this.image.get(ft.round(h+N*w),ft.round(g+N*A))&&(u|=1<<o-N-1);return u}isWhiteOrBlackRectangle(r,s,o,u){let c=3;r=new Mn(r.getX()-c,r.getY()+c),s=new Mn(s.getX()-c,s.getY()-c),o=new Mn(o.getX()+c,o.getY()-c),u=new Mn(u.getX()+c,u.getY()+c);let f=this.getColor(u,r);if(f===0)return!1;let h=this.getColor(r,s);return h!==f||(h=this.getColor(s,o),h!==f)?!1:(h=this.getColor(o,u),h===f)}getColor(r,s){let o=this.distancePoint(r,s),u=(s.getX()-r.getX())/o,c=(s.getY()-r.getY())/o,f=0,h=r.getX(),g=r.getY(),w=this.image.get(r.getX(),r.getY()),A=Math.ceil(o);for(let k=0;k<A;k++)h+=u,g+=c,this.image.get(ft.round(h),ft.round(g))!==w&&f++;let N=f/o;return N>.1&&N<.9?0:N<=.1===w?1:-1}getFirstDifferent(r,s,o,u){let c=r.getX()+o,f=r.getY()+u;for(;this.isValid(c,f)&&this.image.get(c,f)===s;)c+=o,f+=u;for(c-=o,f-=u;this.isValid(c,f)&&this.image.get(c,f)===s;)c+=o;for(c-=o;this.isValid(c,f)&&this.image.get(c,f)===s;)f+=u;return f-=u,new Mn(c,f)}expandSquare(r,s,o){let u=o/(2*s),c=r[0].getX()-r[2].getX(),f=r[0].getY()-r[2].getY(),h=(r[0].getX()+r[2].getX())/2,g=(r[0].getY()+r[2].getY())/2,w=new Re(h+u*c,g+u*f),A=new Re(h-u*c,g-u*f);c=r[1].getX()-r[3].getX(),f=r[1].getY()-r[3].getY(),h=(r[1].getX()+r[3].getX())/2,g=(r[1].getY()+r[3].getY())/2;let N=new Re(h+u*c,g+u*f),k=new Re(h-u*c,g-u*f);return[w,N,A,k]}isValid(r,s){return r>=0&&r<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(r){let s=ft.round(r.getX()),o=ft.round(r.getY());return this.isValid(s,o)}distancePoint(r,s){return ft.distance(r.getX(),r.getY(),s.getX(),s.getY())}distanceResultPoint(r,s){return ft.distance(r.getX(),r.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class Ke{decode(r,s=null){let o=null,u=new Kl(r.getBlackMatrix()),c=null,f=null;try{let A=u.detectMirror(!1);c=A.getPoints(),this.reportFoundResultPoints(s,c),f=new Et().decode(A)}catch(A){o=A}if(f==null)try{let A=u.detectMirror(!0);c=A.getPoints(),this.reportFoundResultPoints(s,c),f=new Et().decode(A)}catch(A){throw o??A}let h=new Vt(f.getText(),f.getRawBytes(),f.getNumBits(),c,ke.AZTEC,I.currentTimeMillis()),g=f.getByteSegments();g!=null&&h.putMetadata(qe.BYTE_SEGMENTS,g);let w=f.getECLevel();return w!=null&&h.putMetadata(qe.ERROR_CORRECTION_LEVEL,w),h}reportFoundResultPoints(r,s){if(r!=null){let o=r.get(G.NEED_RESULT_POINT_CALLBACK);o!=null&&s.forEach((u,c,f)=>{o.foundPossibleResultPoint(u)})}}reset(){}}class rh extends er{constructor(r=500){super(new Ke,r)}}class qt{decode(r,s){try{return this.doDecode(r,s)}catch{if(s&&s.get(G.TRY_HARDER)===!0&&r.isRotateSupported()){const c=r.rotateCounterClockwise(),f=this.doDecode(c,s),h=f.getResultMetadata();let g=270;h!==null&&h.get(qe.ORIENTATION)===!0&&(g=g+h.get(qe.ORIENTATION)%360),f.putMetadata(qe.ORIENTATION,g);const w=f.getResultPoints();if(w!==null){const A=c.getHeight();for(let N=0;N<w.length;N++)w[N]=new Re(A-w[N].getY()-1,w[N].getX())}return f}else throw new re}}reset(){}doDecode(r,s){const o=r.getWidth(),u=r.getHeight();let c=new L(o);const f=s&&s.get(G.TRY_HARDER)===!0,h=Math.max(1,u>>(f?8:5));let g;f?g=u:g=15;const w=Math.trunc(u/2);for(let A=0;A<g;A++){const N=Math.trunc((A+1)/2),k=(A&1)===0,V=w+h*(k?N:-N);if(V<0||V>=u)break;try{c=r.getBlackRow(V,c)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(c.reverse(),s&&s.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const H=new Map;s.forEach((q,ne)=>H.set(ne,q)),H.delete(G.NEED_RESULT_POINT_CALLBACK),s=H}try{const H=this.decodeRow(V,c,s);if(z===1){H.putMetadata(qe.ORIENTATION,180);const q=H.getResultPoints();q!==null&&(q[0]=new Re(o-q[0].getX()-1,q[0].getY()),q[1]=new Re(o-q[1].getX()-1,q[1].getY()))}return H}catch{}}}throw new re}static recordPattern(r,s,o){const u=o.length;for(let w=0;w<u;w++)o[w]=0;const c=r.getSize();if(s>=c)throw new re;let f=!r.get(s),h=0,g=s;for(;g<c;){if(r.get(g)!==f)o[h]++;else{if(++h===u)break;o[h]=1,f=!f}g++}if(!(h===u||h===u-1&&g===c))throw new re}static recordPatternInReverse(r,s,o){let u=o.length,c=r.get(s);for(;s>0&&u>=0;)r.get(--s)!==c&&(u--,c=!c);if(u>=0)throw new re;qt.recordPattern(r,s+1,o)}static patternMatchVariance(r,s,o){const u=r.length;let c=0,f=0;for(let w=0;w<u;w++)c+=r[w],f+=s[w];if(c<f)return Number.POSITIVE_INFINITY;const h=c/f;o*=h;let g=0;for(let w=0;w<u;w++){const A=r[w],N=s[w]*h,k=A>N?A-N:N-A;if(k>o)return Number.POSITIVE_INFINITY;g+=k}return g/c}}class Ee extends qt{static findStartPattern(r){const s=r.getSize(),o=r.getNextSet(0);let u=0,c=Int32Array.from([0,0,0,0,0,0]),f=o,h=!1;const g=6;for(let w=o;w<s;w++)if(r.get(w)!==h)c[u]++;else{if(u===g-1){let A=Ee.MAX_AVG_VARIANCE,N=-1;for(let k=Ee.CODE_START_A;k<=Ee.CODE_START_C;k++){const V=qt.patternMatchVariance(c,Ee.CODE_PATTERNS[k],Ee.MAX_INDIVIDUAL_VARIANCE);V<A&&(A=V,N=k)}if(N>=0&&r.isRange(Math.max(0,f-(w-f)/2),f,!1))return Int32Array.from([f,w,N]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,h=!h}throw new re}static decodeCode(r,s,o){qt.recordPattern(r,o,s);let u=Ee.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<Ee.CODE_PATTERNS.length;f++){const h=Ee.CODE_PATTERNS[f],g=this.patternMatchVariance(s,h,Ee.MAX_INDIVIDUAL_VARIANCE);g<u&&(u=g,c=f)}if(c>=0)return c;throw new re}decodeRow(r,s,o){const u=o&&o.get(G.ASSUME_GS1)===!0,c=Ee.findStartPattern(s),f=c[2];let h=0;const g=new Uint8Array(20);g[h++]=f;let w;switch(f){case Ee.CODE_START_A:w=Ee.CODE_CODE_A;break;case Ee.CODE_START_B:w=Ee.CODE_CODE_B;break;case Ee.CODE_START_C:w=Ee.CODE_CODE_C;break;default:throw new W}let A=!1,N=!1,k="",V=c[0],z=c[1];const H=Int32Array.from([0,0,0,0,0,0]);let q=0,ne=0,he=f,ge=0,ue=!0,ct=!1,Je=!1;for(;!A;){const Pa=N;switch(N=!1,q=ne,ne=Ee.decodeCode(s,H,z),g[h++]=ne,ne!==Ee.CODE_STOP&&(ue=!0),ne!==Ee.CODE_STOP&&(ge++,he+=ge*ne),V=z,z+=H.reduce((lC,uC)=>lC+uC,0),ne){case Ee.CODE_START_A:case Ee.CODE_START_B:case Ee.CODE_START_C:throw new W}switch(w){case Ee.CODE_CODE_A:if(ne<64)Je===ct?k+=String.fromCharCode(32+ne):k+=String.fromCharCode(32+ne+128),Je=!1;else if(ne<96)Je===ct?k+=String.fromCharCode(ne-64):k+=String.fromCharCode(ne+64),Je=!1;else switch(ne!==Ee.CODE_STOP&&(ue=!1),ne){case Ee.CODE_FNC_1:u&&(k.length===0?k+="]C1":k+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_A:!ct&&Je?(ct=!0,Je=!1):ct&&Je?(ct=!1,Je=!1):Je=!0;break;case Ee.CODE_SHIFT:N=!0,w=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_B:w=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_C:w=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:A=!0;break}break;case Ee.CODE_CODE_B:if(ne<96)Je===ct?k+=String.fromCharCode(32+ne):k+=String.fromCharCode(32+ne+128),Je=!1;else switch(ne!==Ee.CODE_STOP&&(ue=!1),ne){case Ee.CODE_FNC_1:u&&(k.length===0?k+="]C1":k+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_B:!ct&&Je?(ct=!0,Je=!1):ct&&Je?(ct=!1,Je=!1):Je=!0;break;case Ee.CODE_SHIFT:N=!0,w=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_A:w=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_C:w=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:A=!0;break}break;case Ee.CODE_CODE_C:if(ne<100)ne<10&&(k+="0"),k+=ne;else switch(ne!==Ee.CODE_STOP&&(ue=!1),ne){case Ee.CODE_FNC_1:u&&(k.length===0?k+="]C1":k+="");break;case Ee.CODE_CODE_A:w=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_B:w=Ee.CODE_CODE_B;break;case Ee.CODE_STOP:A=!0;break}break}Pa&&(w=w===Ee.CODE_CODE_A?Ee.CODE_CODE_B:Ee.CODE_CODE_A)}const gr=z-V;if(z=s.getNextUnset(z),!s.isRange(z,Math.min(s.getSize(),z+(z-V)/2),!1))throw new re;if(he-=ge*q,he%103!==q)throw new D;const li=k.length;if(li===0)throw new re;li>0&&ue&&(w===Ee.CODE_CODE_C?k=k.substring(0,li-2):k=k.substring(0,li-1));const mr=(c[1]+c[0])/2,Lt=V+gr/2,Fn=g.length,Or=new Uint8Array(Fn);for(let Pa=0;Pa<Fn;Pa++)Or[Pa]=g[Pa];const ka=[new Re(mr,r),new Re(Lt,r)];return new Vt(k,Or,0,ka,ke.CODE_128,new Date().getTime())}}Ee.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ee.MAX_AVG_VARIANCE=.25,Ee.MAX_INDIVIDUAL_VARIANCE=.7,Ee.CODE_SHIFT=98,Ee.CODE_CODE_C=99,Ee.CODE_CODE_B=100,Ee.CODE_CODE_A=101,Ee.CODE_FNC_1=102,Ee.CODE_FNC_2=97,Ee.CODE_FNC_3=96,Ee.CODE_FNC_4_A=101,Ee.CODE_FNC_4_B=100,Ee.CODE_START_A=103,Ee.CODE_START_B=104,Ee.CODE_START_C=105,Ee.CODE_STOP=106;class Ut extends qt{constructor(r=!1,s=!1){super(),this.usingCheckDigit=r,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,s,o){let u=this.counters;u.fill(0),this.decodeRowResult="";let c=Ut.findAsteriskPattern(s,u),f=s.getNextSet(c[1]),h=s.getSize(),g,w;do{Ut.recordPattern(s,f,u);let H=Ut.toNarrowWidePattern(u);if(H<0)throw new re;g=Ut.patternToChar(H),this.decodeRowResult+=g,w=f;for(let q of u)f+=q;f=s.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let H of u)A+=H;let N=f-w-A;if(f!==h&&N*2<A)throw new re;if(this.usingCheckDigit){let H=this.decodeRowResult.length-1,q=0;for(let ne=0;ne<H;ne++)q+=Ut.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt(H)!==Ut.ALPHABET_STRING.charAt(q%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,H)}if(this.decodeRowResult.length===0)throw new re;let k;this.extendedMode?k=Ut.decodeExtended(this.decodeRowResult):k=this.decodeRowResult;let V=(c[1]+c[0])/2,z=w+A/2;return new Vt(k,null,0,[new Re(V,r),new Re(z,r)],ke.CODE_39,new Date().getTime())}static findAsteriskPattern(r,s){let o=r.getSize(),u=r.getNextSet(0),c=0,f=u,h=!1,g=s.length;for(let w=u;w<o;w++)if(r.get(w)!==h)s[c]++;else{if(c===g-1){if(this.toNarrowWidePattern(s)===Ut.ASTERISK_ENCODING&&r.isRange(Math.max(0,f-Math.floor((w-f)/2)),f,!1))return[f,w];f+=s[0]+s[1],s.copyWithin(0,2,2+c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,h=!h}throw new re}static toNarrowWidePattern(r){let s=r.length,o=0,u;do{let c=2147483647;for(let g of r)g<c&&g>o&&(c=g);o=c,u=0;let f=0,h=0;for(let g=0;g<s;g++){let w=r[g];w>o&&(h|=1<<s-1-g,u++,f+=w)}if(u===3){for(let g=0;g<s&&u>0;g++){let w=r[g];if(w>o&&(u--,w*2>=f))return-1}return h}}while(u>3);return-1}static patternToChar(r){for(let s=0;s<Ut.CHARACTER_ENCODINGS.length;s++)if(Ut.CHARACTER_ENCODINGS[s]===r)return Ut.ALPHABET_STRING.charAt(s);if(r===Ut.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(r){let s=r.length,o="";for(let u=0;u<s;u++){let c=r.charAt(u);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=r.charAt(u+1),h="\0";switch(c){case"+":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)+32);else throw new W;break;case"$":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)-64);else throw new W;break;case"%":if(f>="A"&&f<="E")h=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")h=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")h=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")h="\0";else if(f==="V")h="@";else if(f==="W")h="`";else if(f==="X"||f==="Y"||f==="Z")h="";else throw new W;break;case"/":if(f>="A"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")h=":";else throw new W;break}o+=h,u++}else o+=c}return o}}Ut.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ut.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ut.ASTERISK_ENCODING=148;class Tt extends qt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,s,o){let u=this.decodeStart(s),c=this.decodeEnd(s),f=new Xe;Tt.decodeMiddle(s,u[1],c[0],f);let h=f.toString(),g=null;o!=null&&(g=o.get(G.ALLOWED_LENGTHS)),g==null&&(g=Tt.DEFAULT_ALLOWED_LENGTHS);let w=h.length,A=!1,N=0;for(let z of g){if(w===z){A=!0;break}z>N&&(N=z)}if(!A&&w>N&&(A=!0),!A)throw new W;const k=[new Re(u[1],r),new Re(c[0],r)];return new Vt(h,null,0,k,ke.ITF,new Date().getTime())}static decodeMiddle(r,s,o,u){let c=new Int32Array(10),f=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),f.fill(0),h.fill(0);s<o;){qt.recordPattern(r,s,c);for(let w=0;w<5;w++){let A=2*w;f[w]=c[A],h[w]=c[A+1]}let g=Tt.decodeDigit(f);u.append(g.toString()),g=this.decodeDigit(h),u.append(g.toString()),c.forEach(function(w){s+=w})}}decodeStart(r){let s=Tt.skipWhiteSpace(r),o=Tt.findGuardPattern(r,s,Tt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,s){let o=this.narrowLineWidth*10;o=o<s?o:s;for(let u=s-1;o>0&&u>=0&&!r.get(u);u--)o--;if(o!==0)throw new re}static skipWhiteSpace(r){const s=r.getSize(),o=r.getNextSet(0);if(o===s)throw new re;return o}decodeEnd(r){r.reverse();try{let s=Tt.skipWhiteSpace(r),o;try{o=Tt.findGuardPattern(r,s,Tt.END_PATTERN_REVERSED[0])}catch(c){c instanceof re&&(o=Tt.findGuardPattern(r,s,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let u=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-u,o}finally{r.reverse()}}static findGuardPattern(r,s,o){let u=o.length,c=new Int32Array(u),f=r.getSize(),h=!1,g=0,w=s;c.fill(0);for(let A=s;A<f;A++)if(r.get(A)!==h)c[g]++;else{if(g===u-1){if(qt.patternMatchVariance(c,o,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[w,A];w+=c[0]+c[1],I.arraycopy(c,2,c,0,g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,h=!h}throw new re}static decodeDigit(r){let s=Tt.MAX_AVG_VARIANCE,o=-1,u=Tt.PATTERNS.length;for(let c=0;c<u;c++){let f=Tt.PATTERNS[c],h=qt.patternMatchVariance(r,f,Tt.MAX_INDIVIDUAL_VARIANCE);h<s?(s=h,o=c):h===s&&(o=-1)}if(o>=0)return o%10;throw new re}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ct extends qt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let s=!1,o,u=0,c=Int32Array.from([0,0,0]);for(;!s;){c=Int32Array.from([0,0,0]),o=Ct.findGuardPattern(r,u,!1,this.START_END_PATTERN,c);let f=o[0];u=o[1];let h=f-(u-f);h>=0&&(s=r.isRange(h,f,!1))}return o}static checkChecksum(r){return Ct.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return Ct.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let u=s-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new W;o+=c}o*=3;for(let u=s-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new W;o+=c}return(1e3-o)%10}static decodeEnd(r,s){return Ct.findGuardPattern(r,s,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,s,o,u){return this.findGuardPattern(r,s,o,u,new Int32Array(u.length))}static findGuardPattern(r,s,o,u,c){let f=r.getSize();s=o?r.getNextUnset(s):r.getNextSet(s);let h=0,g=s,w=u.length,A=o;for(let N=s;N<f;N++)if(r.get(N)!==A)c[h]++;else{if(h===w-1){if(qt.patternMatchVariance(c,u,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return Int32Array.from([g,N]);g+=c[0]+c[1];let k=c.slice(2,c.length-1);for(let V=0;V<h-1;V++)c[V]=k[V];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,A=!A}throw new re}static decodeDigit(r,s,o,u){this.recordPattern(r,o,s);let c=this.MAX_AVG_VARIANCE,f=-1,h=u.length;for(let g=0;g<h;g++){let w=u[g],A=qt.patternMatchVariance(s,w,Ct.MAX_INDIVIDUAL_VARIANCE);A<c&&(c=A,f=g)}if(f>=0)return f;throw new re}}Ct.MAX_AVG_VARIANCE=.48,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.START_END_PATTERN=Int32Array.from([1,1,1]),Ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ts{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(s,o,u),f=u.toString(),h=Ts.parseExtensionString(f),g=[new Re((o[0]+o[1])/2,r),new Re(c,r)],w=new Vt(f,null,0,g,ke.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1],h=0;for(let w=0;w<5&&f<c;w++){let A=Ct.decodeDigit(r,u,f,Ct.L_AND_G_PATTERNS);o+=String.fromCharCode(48+A%10);for(let N of u)f+=N;A>=10&&(h|=1<<4-w),w!==4&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==5)throw new re;let g=this.determineCheckDigit(h);if(Ts.extensionChecksum(o.toString())!==g)throw new re;return f}static extensionChecksum(r){let s=r.length,o=0;for(let u=s-2;u>=0;u-=2)o+=r.charAt(u).charCodeAt(0)-48;o*=3;for(let u=s-1;u>=0;u-=2)o+=r.charAt(u).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(r){for(let s=0;s<10;s++)if(r===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new re}static parseExtensionString(r){if(r.length!==5)return null;let s=Ts.parseExtension5String(r);return s==null?null:new Map([[qe.SUGGESTED_PRICE,s]])}static parseExtension5String(r){let s;switch(r.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let o=parseInt(r.substring(1)),u=(o/100).toString(),c=o%100,f=c<10?"0"+c:c.toString();return s+u+"."+f}}class we{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(s,o,u),f=u.toString(),h=we.parseExtensionString(f),g=[new Re((o[0]+o[1])/2,r),new Re(c,r)],w=new Vt(f,null,0,g,ke.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1],h=0;for(let g=0;g<2&&f<c;g++){let w=Ct.decodeDigit(r,u,f,Ct.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let A of u)f+=A;w>=10&&(h|=1<<1-g),g!==1&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==2)throw new re;if(parseInt(o.toString())%4!==h)throw new re;return f}static parseExtensionString(r){return r.length!==2?null:new Map([[qe.ISSUE_NUMBER,parseInt(r)]])}}class Aa{static decodeRow(r,s,o){let u=Ct.findGuardPattern(s,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ts().decodeRow(r,s,u)}catch{return new we().decodeRow(r,s,u)}}}Aa.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class We extends Ct{constructor(){super(),this.decodeRowStringBuffer="",We.L_AND_G_PATTERNS=We.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let s=We.L_PATTERNS[r-10],o=new Int32Array(s.length);for(let u=0;u<s.length;u++)o[u]=s[s.length-u-1];We.L_AND_G_PATTERNS[r]=o}}decodeRow(r,s,o){let u=We.findStartGuardPattern(s),c=o==null?null:o.get(G.NEED_RESULT_POINT_CALLBACK);if(c!=null){const ue=new Re((u[0]+u[1])/2,r);c.foundPossibleResultPoint(ue)}let f=this.decodeMiddle(s,u,this.decodeRowStringBuffer),h=f.rowOffset,g=f.resultString;if(c!=null){const ue=new Re(h,r);c.foundPossibleResultPoint(ue)}let w=this.decodeEnd(s,h);if(c!=null){const ue=new Re((w[0]+w[1])/2,r);c.foundPossibleResultPoint(ue)}let A=w[1],N=A+(A-w[0]);if(N>=s.getSize()||!s.isRange(A,N,!1))throw new re;let k=g.toString();if(k.length<8)throw new W;if(!We.checkChecksum(k))throw new D;let V=(u[1]+u[0])/2,z=(w[1]+w[0])/2,H=this.getBarcodeFormat(),q=[new Re(V,r),new Re(z,r)],ne=new Vt(k,null,0,q,H,new Date().getTime()),he=0;try{let ue=Aa.decodeRow(r,s,w[1]);ne.putMetadata(qe.UPC_EAN_EXTENSION,ue.getText()),ne.putAllMetadata(ue.getResultMetadata()),ne.addResultPoints(ue.getResultPoints()),he=ue.getText().length}catch{}let ge=o==null?null:o.get(G.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let ue=!1;for(let ct in ge)if(he.toString()===ct){ue=!0;break}if(!ue)throw new re}return ne}decodeEnd(r,s){return We.findGuardPattern(r,s,!1,We.START_END_PATTERN,new Int32Array(We.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return We.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return We.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let u=s-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new W;o+=c}o*=3;for(let u=s-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new W;o+=c}return(1e3-o)%10}}class jr extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1],h=0;for(let w=0;w<6&&f<c;w++){let A=We.decodeDigit(r,u,f,We.L_AND_G_PATTERNS);o+=String.fromCharCode(48+A%10);for(let N of u)f+=N;A>=10&&(h|=1<<5-w)}o=jr.determineFirstDigit(o,h),f=We.findGuardPattern(r,f,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&f<c;w++){let A=We.decodeDigit(r,u,f,We.L_PATTERNS);o+=String.fromCharCode(48+A);for(let N of u)f+=N}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ke.EAN_13}static determineFirstDigit(r,s){for(let o=0;o<10;o++)if(s===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode(48+o)+r,r;throw new re}}jr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class _a extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=s[1];for(let g=0;g<4&&f<c;g++){let w=We.decodeDigit(r,u,f,We.L_PATTERNS);o+=String.fromCharCode(48+w);for(let A of u)f+=A}f=We.findGuardPattern(r,f,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&f<c;g++){let w=We.decodeDigit(r,u,f,We.L_PATTERNS);o+=String.fromCharCode(48+w);for(let A of u)f+=A}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ke.EAN_8}}class Yl extends We{constructor(){super(...arguments),this.ean13Reader=new jr}getBarcodeFormat(){return ke.UPC_A}decode(r,s){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,s,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,s,o))}decodeMiddle(r,s,o){return this.ean13Reader.decodeMiddle(r,s,o)}maybeReturnResult(r){let s=r.getText();if(s.charAt(0)==="0"){let o=new Vt(s.substring(1),null,null,r.getResultPoints(),ke.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new re}reset(){this.ean13Reader.reset()}}class vn extends We{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,s,o){const u=this.decodeMiddleCounters.map(w=>w);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const c=r.getSize();let f=s[1],h=0;for(let w=0;w<6&&f<c;w++){const A=vn.decodeDigit(r,u,f,vn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+A%10);for(let N of u)f+=N;A>=10&&(h|=1<<5-w)}let g=vn.determineNumSysAndCheckDigit(o,h);return{rowOffset:f,resultString:g}}decodeEnd(r,s){return vn.findGuardPatternWithoutCounters(r,s,!0,vn.MIDDLE_END_PATTERN)}checkChecksum(r){return We.checkChecksum(vn.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,s){for(let o=0;o<=1;o++)for(let u=0;u<10;u++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][u]){let c=String.fromCharCode(48+o),f=String.fromCharCode(48+u);return c+r+f}throw re.getNotFoundInstance()}getBarcodeFormat(){return ke.UPC_E}static convertUPCEtoUPCA(r){const s=r.slice(1,7).split("").map(c=>c.charCodeAt(0)),o=new Xe;o.append(r.charAt(0));let u=s[5];switch(u){case 0:case 1:case 2:o.appendChars(s,0,2),o.append(u),o.append("0000"),o.appendChars(s,2,3);break;case 3:o.appendChars(s,0,3),o.append("00000"),o.appendChars(s,3,2);break;case 4:o.appendChars(s,0,4),o.append("00000"),o.append(s[4]);break;default:o.appendChars(s,0,5),o.append("0000"),o.append(u);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}vn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ba extends qt{constructor(r){super();let s=r==null?null:r.get(G.POSSIBLE_FORMATS),o=[];i(s)?(o.push(new jr),o.push(new Yl),o.push(new _a),o.push(new vn)):(s.indexOf(ke.EAN_13)>-1&&o.push(new jr),s.indexOf(ke.UPC_A)>-1&&o.push(new Yl),s.indexOf(ke.EAN_8)>-1&&o.push(new _a),s.indexOf(ke.UPC_E)>-1&&o.push(new vn)),this.readers=o}decodeRow(r,s,o){for(let u of this.readers)try{const c=u.decodeRow(r,s,o),f=c.getBarcodeFormat()===ke.EAN_13&&c.getText().charAt(0)==="0",h=o==null?null:o.get(G.POSSIBLE_FORMATS),g=h==null||h.includes(ke.UPC_A);if(f&&g){const w=c.getRawBytes(),A=new Vt(c.getText().substring(1),w,w?w.length:null,c.getResultPoints(),ke.UPC_A);return A.putAllMetadata(c.getResultMetadata()),A}return c}catch{}throw new re}reset(){for(let r of this.readers)r.reset()}}class It extends qt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,s){for(let o=0;o<s.length;o++)if(qt.patternMatchVariance(r,s[o],It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return o;throw new re}static count(r){return ft.sum(new Int32Array(r))}static increment(r,s){let o=0,u=s[0];for(let c=1;c<r.length;c++)s[c]>u&&(u=s[c],o=c);r[o]++}static decrement(r,s){let o=0,u=s[0];for(let c=1;c<r.length;c++)s[c]<u&&(u=s[c],o=c);r[o]--}static isFinderPattern(r){let s=r[0]+r[1],o=s+r[2]+r[3],u=s/o;if(u>=It.MIN_FINDER_PATTERN_RATIO&&u<=It.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let h of r)h>f&&(f=h),h<c&&(c=h);return f<10*c}return!1}}It.MAX_AVG_VARIANCE=.2,It.MAX_INDIVIDUAL_VARIANCE=.45,It.MIN_FINDER_PATTERN_RATIO=9.5/12,It.MAX_FINDER_PATTERN_RATIO=12.5/14;class Zi{constructor(r,s){this.value=r,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Zi))return!1;const s=r;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ni{constructor(r,s,o,u,c){this.value=r,this.startEnd=s,this.value=r,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new Re(o,c)),this.resultPoints.push(new Re(u,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof ni))return!1;const s=r;return this.value===s.value}hashCode(){return this.value}}class Sr{constructor(){}static getRSSvalue(r,s,o){let u=0;for(let g of r)u+=g;let c=0,f=0,h=r.length;for(let g=0;g<h-1;g++){let w;for(w=1,f|=1<<g;w<r[g];w++,f&=~(1<<g)){let A=Sr.combins(u-w-1,h-g-2);if(o&&f===0&&u-w-(h-g-1)>=h-g-1&&(A-=Sr.combins(u-w-(h-g),h-g-2)),h-g-1>1){let N=0;for(let k=u-w-(h-g-2);k>s;k--)N+=Sr.combins(u-w-k-1,h-g-3);A-=N*(h-1-g)}else u-w>s&&A--;c+=A}u-=w}return c}static combins(r,s){let o,u;r-s>s?(u=s,o=r-s):(u=r-s,o=s);let c=1,f=1;for(let h=r;h>o;h--)c*=h,f<=u&&(c/=f,f++);for(;f<=u;)c/=f,f++;return c}}class Lc{static buildBitArray(r){let s=r.length*2-1;r[r.length-1].getRightChar()==null&&(s-=1);let o=12*s,u=new L(o),c=0,h=r[0].getRightChar().getValue();for(let g=11;g>=0;--g)h&1<<g&&u.set(c),c++;for(let g=1;g<r.length;++g){let w=r[g],A=w.getLeftChar().getValue();for(let N=11;N>=0;--N)A&1<<N&&u.set(c),c++;if(w.getRightChar()!=null){let N=w.getRightChar().getValue();for(let k=11;k>=0;--k)N&1<<k&&u.set(c),c++}}return u}}class qi{constructor(r,s){s?this.decodedInformation=null:(this.finished=r,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class En{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Ln extends En{constructor(r,s){super(r),this.value=s}getValue(){return this.value}isFNC1(){return this.value===Ln.FNC1}}Ln.FNC1="$";class Ki extends En{constructor(r,s,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Zn extends En{constructor(r,s,o){if(super(r),s<0||s>10||o<0||o>10)throw new W;this.firstDigit=s,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Zn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Zn.FNC1}isAnyFNC1(){return this.firstDigit===Zn.FNC1||this.secondDigit===Zn.FNC1}}Zn.FNC1=10;class Ie{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new re;let s=r.substring(0,2);for(let c of Ie.TWO_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(2,c[2],r):Ie.processFixedAI(2,c[1],r);if(r.length<3)throw new re;let o=r.substring(0,3);for(let c of Ie.THREE_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(3,c[2],r):Ie.processFixedAI(3,c[1],r);for(let c of Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,c[2],r):Ie.processFixedAI(4,c[1],r);if(r.length<4)throw new re;let u=r.substring(0,4);for(let c of Ie.FOUR_DIGIT_DATA_LENGTH)if(c[0]===u)return c[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,c[2],r):Ie.processFixedAI(4,c[1],r);throw new re}static processFixedAI(r,s,o){if(o.length<r)throw new re;let u=o.substring(0,r);if(o.length<r+s)throw new re;let c=o.substring(r,r+s),f=o.substring(r+s),h="("+u+")"+c,g=Ie.parseFieldsInGeneralPurpose(f);return g==null?h:h+g}static processVariableAI(r,s,o){let u=o.substring(0,r),c;o.length<r+s?c=o.length:c=r+s;let f=o.substring(r,c),h=o.substring(c),g="("+u+")"+f,w=Ie.parseFieldsInGeneralPurpose(h);return w==null?g:g+w}}Ie.VARIABLE_LENGTH=[],Ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ie.VARIABLE_LENGTH,20],["22",Ie.VARIABLE_LENGTH,29],["30",Ie.VARIABLE_LENGTH,8],["37",Ie.VARIABLE_LENGTH,8],["90",Ie.VARIABLE_LENGTH,30],["91",Ie.VARIABLE_LENGTH,30],["92",Ie.VARIABLE_LENGTH,30],["93",Ie.VARIABLE_LENGTH,30],["94",Ie.VARIABLE_LENGTH,30],["95",Ie.VARIABLE_LENGTH,30],["96",Ie.VARIABLE_LENGTH,30],["97",Ie.VARIABLE_LENGTH,3],["98",Ie.VARIABLE_LENGTH,30],["99",Ie.VARIABLE_LENGTH,30]],Ie.THREE_DIGIT_DATA_LENGTH=[["240",Ie.VARIABLE_LENGTH,30],["241",Ie.VARIABLE_LENGTH,30],["242",Ie.VARIABLE_LENGTH,6],["250",Ie.VARIABLE_LENGTH,30],["251",Ie.VARIABLE_LENGTH,30],["253",Ie.VARIABLE_LENGTH,17],["254",Ie.VARIABLE_LENGTH,20],["400",Ie.VARIABLE_LENGTH,30],["401",Ie.VARIABLE_LENGTH,30],["402",17],["403",Ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ie.VARIABLE_LENGTH,20],["421",Ie.VARIABLE_LENGTH,15],["422",3],["423",Ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ie.VARIABLE_LENGTH,15],["391",Ie.VARIABLE_LENGTH,18],["392",Ie.VARIABLE_LENGTH,15],["393",Ie.VARIABLE_LENGTH,18],["703",Ie.VARIABLE_LENGTH,30]],Ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ie.VARIABLE_LENGTH,20],["8003",Ie.VARIABLE_LENGTH,30],["8004",Ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ie.VARIABLE_LENGTH,30],["8008",Ie.VARIABLE_LENGTH,12],["8018",18],["8020",Ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ie.VARIABLE_LENGTH,70],["8200",Ie.VARIABLE_LENGTH,70]];class _i{constructor(r){this.buffer=new Xe,this.information=r}decodeAllCodes(r,s){let o=s,u=null;do{let c=this.decodeGeneralPurposeField(o,u),f=Ie.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&r.append(f),c.isRemaining()?u=""+c.getRemainingValue():u=null,o===c.getNewPosition())break;o=c.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let s=r;s<r+3;++s)if(this.information.get(s))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(r,4);return c===0?new Zn(this.information.getSize(),Zn.FNC1,Zn.FNC1):new Zn(this.information.getSize(),c-1,Zn.FNC1)}let s=this.extractNumericValueFromBitArray(r,7),o=(s-8)/11,u=(s-8)%11;return new Zn(r+7,o,u)}extractNumericValueFromBitArray(r,s){return _i.extractNumericValueFromBitArray(this.information,r,s)}static extractNumericValueFromBitArray(r,s,o){let u=0;for(let c=0;c<o;++c)r.get(s+c)&&(u|=1<<o-c-1);return u}decodeGeneralPurposeField(r,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Ki(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Ki(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,s;do{let o=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),r=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),r=s.isFinished()):(s=this.parseNumericBlock(),r=s.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let s;return r.isSecondDigitFNC1()?s=new Ki(this.current.getPosition(),this.buffer.toString()):s=new Ki(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new qi(!0,s)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let s=new Ki(this.current.getPosition(),this.buffer.toString());return new qi(!0,s)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new qi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new Ki(this.current.getPosition(),this.buffer.toString());return new qi(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new qi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new Ki(this.current.getPosition(),this.buffer.toString());return new qi(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new qi(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,8);return u>=232&&u<253}decodeIsoIec646(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new Ln(r+5,Ln.FNC1);if(s>=5&&s<15)return new Ln(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new Ln(r+7,""+(o+1));if(o>=90&&o<116)return new Ln(r+7,""+(o+7));let u=this.extractNumericValueFromBitArray(r,8),c;switch(u){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new W}return new Ln(r+8,c)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new Ln(r+5,Ln.FNC1);if(s>=5&&s<15)return new Ln(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new Ln(r+6,""+(o+33));let u;switch(o){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new br("Decoding invalid alphanumeric value: "+o)}return new Ln(r+6,u)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<5&&s+r<this.information.getSize();++s)if(s===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+s))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let s=r;s<r+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<4&&s+r<this.information.getSize();++s)if(this.information.get(r+s))return!1;return!0}}class pr{constructor(r){this.information=r,this.generalDecoder=new _i(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Cn extends pr{constructor(r){super(r)}encodeCompressedGtin(r,s){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,s,o)}encodeCompressedGtinWithoutAI(r,s,o){for(let u=0;u<4;++u){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*u,10);c/100===0&&r.append("0"),c/10===0&&r.append("0"),r.append(c)}Cn.appendCheckDigit(r,o)}static appendCheckDigit(r,s){let o=0;for(let u=0;u<13;u++){let c=r.charAt(u+s).charCodeAt(0)-48;o+=u&1?c:3*c}o=10-o%10,o===10&&(o=0),r.append(o)}}Cn.GTIN_SIZE=40;class bi extends Cn{constructor(r){super(r)}parseInformation(){let r=new Xe;r.append("(01)");let s=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(bi.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,bi.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(r,bi.HEADER_SIZE+44)}}bi.HEADER_SIZE=4;class To extends pr{constructor(r){super(r)}parseInformation(){let r=new Xe;return this.getGeneralDecoder().decodeAllCodes(r,To.HEADER_SIZE)}}To.HEADER_SIZE=5;class Io extends Cn{constructor(r){super(r)}encodeCompressedWeight(r,s,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s,o);this.addWeightCode(r,u);let c=this.checkWeight(u),f=1e5;for(let h=0;h<5;++h)c/f===0&&r.append("0"),f/=10;r.append(c)}}class nr extends Io{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=nr.HEADER_SIZE+Io.GTIN_SIZE+nr.WEIGHT_SIZE)throw new re;let r=new Xe;return this.encodeCompressedGtin(r,nr.HEADER_SIZE),this.encodeCompressedWeight(r,nr.HEADER_SIZE+Io.GTIN_SIZE,nr.WEIGHT_SIZE),r.toString()}}nr.HEADER_SIZE=5,nr.WEIGHT_SIZE=15;class Bc extends nr{constructor(r){super(r)}addWeightCode(r,s){r.append("(3103)")}checkWeight(r){return r}}class Fc extends nr{constructor(r){super(r)}addWeightCode(r,s){s<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Tr extends Cn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Tr.HEADER_SIZE+Cn.GTIN_SIZE)throw new re;let r=new Xe;this.encodeCompressedGtin(r,Tr.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Tr.HEADER_SIZE+Cn.GTIN_SIZE,Tr.LAST_DIGIT_SIZE);r.append("(392"),r.append(s),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Tr.HEADER_SIZE+Cn.GTIN_SIZE+Tr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}Tr.HEADER_SIZE=8,Tr.LAST_DIGIT_SIZE=2;class gn extends Cn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<gn.HEADER_SIZE+Cn.GTIN_SIZE)throw new re;let r=new Xe;this.encodeCompressedGtin(r,gn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE+Cn.GTIN_SIZE,gn.LAST_DIGIT_SIZE);r.append("(393"),r.append(s),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE+Cn.GTIN_SIZE+gn.LAST_DIGIT_SIZE,gn.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let u=this.getGeneralDecoder().decodeGeneralPurposeField(gn.HEADER_SIZE+Cn.GTIN_SIZE+gn.LAST_DIGIT_SIZE+gn.FIRST_THREE_DIGITS_SIZE,null);return r.append(u.getNewString()),r.toString()}}gn.HEADER_SIZE=8,gn.LAST_DIGIT_SIZE=2,gn.FIRST_THREE_DIGITS_SIZE=10;class Pt extends Io{constructor(r,s,o){super(r),this.dateCode=o,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=Pt.HEADER_SIZE+Pt.GTIN_SIZE+Pt.WEIGHT_SIZE+Pt.DATE_SIZE)throw new re;let r=new Xe;return this.encodeCompressedGtin(r,Pt.HEADER_SIZE),this.encodeCompressedWeight(r,Pt.HEADER_SIZE+Pt.GTIN_SIZE,Pt.WEIGHT_SIZE),this.encodeCompressedDate(r,Pt.HEADER_SIZE+Pt.GTIN_SIZE+Pt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s,Pt.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let u=o%32;o/=32;let c=o%12+1;o/=12;let f=o;f/10==0&&r.append("0"),r.append(f),c/10==0&&r.append("0"),r.append(c),u/10==0&&r.append("0"),r.append(u)}addWeightCode(r,s){r.append("("),r.append(this.firstAIdigits),r.append(s/1e5),r.append(")")}checkWeight(r){return r%1e5}}Pt.HEADER_SIZE=8,Pt.WEIGHT_SIZE=20,Pt.DATE_SIZE=16;function Ql(R){try{if(R.get(1))return new bi(R);if(!R.get(2))return new To(R);switch(_i.extractNumericValueFromBitArray(R,1,4)){case 4:return new Bc(R);case 5:return new Fc(R)}switch(_i.extractNumericValueFromBitArray(R,1,5)){case 12:return new Tr(R);case 13:return new gn(R)}switch(_i.extractNumericValueFromBitArray(R,1,7)){case 56:return new Pt(R,"310","11");case 57:return new Pt(R,"320","11");case 58:return new Pt(R,"310","13");case 59:return new Pt(R,"320","13");case 60:return new Pt(R,"310","15");case 61:return new Pt(R,"320","15");case 62:return new Pt(R,"310","17");case 63:return new Pt(R,"320","17")}}catch(r){throw console.log(r),new br("unknown decoder: "+R)}}class ri{constructor(r,s,o,u){this.leftchar=r,this.rightchar=s,this.finderpattern=o,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,s){return r instanceof ri?ri.equalsOrNull(r.leftchar,s.leftchar)&&ri.equalsOrNull(r.rightchar,s.rightchar)&&ri.equalsOrNull(r.finderpattern,s.finderpattern):!1}static equalsOrNull(r,s){return r===null?s===null:ri.equals(r,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Yi{constructor(r,s,o){this.pairs=r,this.rowNumber=s,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,s){return r instanceof Yi?this.checkEqualitity(r,s)&&r.wasReversed===s.wasReversed:!1}checkEqualitity(r,s){if(!r||!s)return;let o;return r.forEach((u,c)=>{s.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class oe extends It{constructor(r){super(...arguments),this.pairs=new Array(oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,s,o){this.pairs.length=0,this.startFromEven=!1;try{return oe.constructResult(this.decodeRow2pairs(r,s))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,oe.constructResult(this.decodeRow2pairs(r,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,s){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,r))}catch(c){if(c instanceof re){if(!this.pairs.length)throw new re;o=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(r,!1),u){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new re}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),s}checkRows(r,s){for(let o=s;o<this.rows.length;o++){let u=this.rows[o];this.pairs.length=0;for(let f of r)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(r);c.push(u);try{return this.checkRows(c,o+1)}catch(f){this.verbose&&console.log(f)}}throw new re}static isValidSequence(r){for(let s of oe.FINDER_PATTERN_SEQUENCES){if(r.length>s.length)continue;let o=!0;for(let u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!=s[u]){o=!1;break}if(o)return!0}return!1}storeRow(r,s){let o=0,u=!1,c=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>r){c=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),o++}c||u||oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Yi(this.pairs,r,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,s){for(let o of s)if(o.getPairs().length!==r.length){for(let u of o.getPairs())for(let c of r)if(ri.equals(u,c))break}}static isPartialRow(r,s){for(let o of s){let u=!0;for(let c of r){let f=!1;for(let h of o.getPairs())if(c.equals(h)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(r){let s=Lc.buildBitArray(r),u=Ql(s).parseInformation(),c=r[0].getFinderPattern().getResultPoints(),f=r[r.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],f[0],f[1]];return new Vt(u,null,null,h,ke.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),s=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let u=o.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let g=this.pairs.get(h);u+=g.getLeftChar().getChecksumPortion(),c++;let w=g.getRightChar();w!=null&&(u+=w.getChecksumPortion(),c++)}return u%=211,211*(c-4)+u==s.getValue()}static getNextSecondBar(r,s){let o;return r.get(s)?(o=r.getNextUnset(s),o=r.getNextSet(o)):(o=r.getNextSet(s),o=r.getNextUnset(o)),o}retrieveNextPair(r,s,o){let u=s.length%2==0;this.startFromEven&&(u=!u);let c,f=!0,h=-1;do this.findNextPair(r,s,h),c=this.parseFoundFinderPattern(r,o,u),c==null?h=oe.getNextSecondBar(r,this.startEnd[0]):f=!1;while(f);let g=this.decodeDataCharacter(r,c,u,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new re;let w;try{w=this.decodeDataCharacter(r,c,u,!1)}catch(A){w=null,this.verbose&&console.log(A)}return new ri(g,w,c,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,s,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f;o>=0?f=o:this.isEmptyPair(s)?f=0:f=s[s.length-1].getFinderPattern().getStartEnd()[1];let h=s.length%2!=0;this.startFromEven&&(h=!h);let g=!1;for(;f<c&&(g=!r.get(f),!!g);)f++;let w=0,A=f;for(let N=f;N<c;N++)if(r.get(N)!=g)u[w]++;else{if(w==3){if(h&&oe.reverseCounters(u),oe.isFinderPattern(u)){this.startEnd[0]=A,this.startEnd[1]=N;return}h&&oe.reverseCounters(u),A+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,w--}else w++;u[w]=1,g=!g}throw new re}static reverseCounters(r){let s=r.length;for(let o=0;o<s/2;++o){let u=r[o];r[o]=r[s-o-1],r[s-o-1]=u}}parseFoundFinderPattern(r,s,o){let u,c,f;if(o){let w=this.startEnd[0]-1;for(;w>=0&&!r.get(w);)w--;w++,u=this.startEnd[0]-w,c=w,f=this.startEnd[1]}else c=this.startEnd[0],f=r.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let h=this.getDecodeFinderCounters();I.arraycopy(h,0,h,1,h.length-1),h[0]=u;let g;try{g=this.parseFinderValue(h,oe.FINDER_PATTERNS)}catch{return null}return new ni(g,[c,f],c,f,s)}decodeDataCharacter(r,s,o,u){let c=this.getDataCharacterCounters();for(let Lt=0;Lt<c.length;Lt++)c[Lt]=0;if(u)oe.recordPatternInReverse(r,s.getStartEnd()[0],c);else{oe.recordPattern(r,s.getStartEnd()[1],c);for(let Lt=0,Fn=c.length-1;Lt<Fn;Lt++,Fn--){let Or=c[Lt];c[Lt]=c[Fn],c[Fn]=Or}}let f=17,h=ft.sum(new Int32Array(c))/f,g=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(h-g)/g>.3)throw new re;let w=this.getOddCounts(),A=this.getEvenCounts(),N=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let Lt=0;Lt<c.length;Lt++){let Fn=1*c[Lt]/h,Or=Fn+.5;if(Or<1){if(Fn<.3)throw new re;Or=1}else if(Or>8){if(Fn>8.7)throw new re;Or=8}let ka=Lt/2;Lt&1?(A[ka]=Or,k[ka]=Fn-Or):(w[ka]=Or,N[ka]=Fn-Or)}this.adjustOddEvenCounts(f);let V=4*s.getValue()+(o?0:2)+(u?0:1)-1,z=0,H=0;for(let Lt=w.length-1;Lt>=0;Lt--){if(oe.isNotA1left(s,o,u)){let Fn=oe.WEIGHTS[V][2*Lt];H+=w[Lt]*Fn}z+=w[Lt]}let q=0;for(let Lt=A.length-1;Lt>=0;Lt--)if(oe.isNotA1left(s,o,u)){let Fn=oe.WEIGHTS[V][2*Lt+1];q+=A[Lt]*Fn}let ne=H+q;if(z&1||z>13||z<4)throw new re;let he=(13-z)/2,ge=oe.SYMBOL_WIDEST[he],ue=9-ge,ct=Sr.getRSSvalue(w,ge,!0),Je=Sr.getRSSvalue(A,ue,!1),gr=oe.EVEN_TOTAL_SUBSET[he],li=oe.GSUM[he],mr=ct*gr+Je+li;return new Zi(mr,ne)}static isNotA1left(r,s,o){return!(r.getValue()==0&&s&&o)}adjustOddEvenCounts(r){let s=ft.sum(new Int32Array(this.getOddCounts())),o=ft.sum(new Int32Array(this.getEvenCounts())),u=!1,c=!1;s>13?c=!0:s<4&&(u=!0);let f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let g=s+o-r,w=(s&1)==1,A=(o&1)==0;if(g==1)if(w){if(A)throw new re;c=!0}else{if(!A)throw new re;h=!0}else if(g==-1)if(w){if(A)throw new re;u=!0}else{if(!A)throw new re;f=!0}else if(g==0){if(w){if(!A)throw new re;s<o?(u=!0,h=!0):(c=!0,f=!0)}else if(A)throw new re}else throw new re;if(u){if(c)throw new re;oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new re;oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}oe.SYMBOL_WIDEST=[7,5,4,3,1],oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],oe.GSUM=[0,348,1388,2948,3988],oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],oe.FINDER_PAT_A=0,oe.FINDER_PAT_B=1,oe.FINDER_PAT_C=2,oe.FINDER_PAT_D=3,oe.FINDER_PAT_E=4,oe.FINDER_PAT_F=5,oe.FINDER_PATTERN_SEQUENCES=[[oe.FINDER_PAT_A,oe.FINDER_PAT_A],[oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B],[oe.FINDER_PAT_A,oe.FINDER_PAT_C,oe.FINDER_PAT_B,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_C],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F]],oe.MAX_PAIRS=11;class Mt extends Zi{constructor(r,s,o){super(r,s),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Dt extends It{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,s,o){const u=this.decodePair(s,!1,r,o);Dt.addOrTally(this.possibleLeftPairs,u),s.reverse();let c=this.decodePair(s,!0,r,o);Dt.addOrTally(this.possibleRightPairs,c),s.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Dt.checkChecksum(f,h))return Dt.constructResult(f,h)}throw new re}static addOrTally(r,s){if(s==null)return;let o=!1;for(let u of r)if(u.getValue()===s.getValue()){u.incrementCount(),o=!0;break}o||r.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,s){let o=4537077*r.getValue()+s.getValue(),u=new String(o).toString(),c=new Xe;for(let w=13-u.length;w>0;w--)c.append("0");c.append(u);let f=0;for(let w=0;w<13;w++){let A=c.charAt(w).charCodeAt(0)-48;f+=w&1?A:3*A}f=10-f%10,f===10&&(f=0),c.append(f.toString());let h=r.getFinderPattern().getResultPoints(),g=s.getFinderPattern().getResultPoints();return new Vt(c.toString(),null,0,[h[0],h[1],g[0],g[1]],ke.RSS_14,new Date().getTime())}static checkChecksum(r,s){let o=(r.getChecksumPortion()+16*s.getChecksumPortion())%79,u=9*r.getFinderPattern().getValue()+s.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,o===u}decodePair(r,s,o,u){try{let c=this.findFinderPattern(r,s),f=this.parseFoundFinderPattern(r,o,s,c),h=u==null?null:u.get(G.NEED_RESULT_POINT_CALLBACK);if(h!=null){let A=(c[0]+c[1])/2;s&&(A=r.getSize()-1-A),h.foundPossibleResultPoint(new Re(A,o))}let g=this.decodeDataCharacter(r,f,!0),w=this.decodeDataCharacter(r,f,!1);return new Mt(1597*g.getValue()+w.getValue(),g.getChecksumPortion()+4*w.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(r,s,o){let u=this.getDataCharacterCounters();for(let q=0;q<u.length;q++)u[q]=0;if(o)qt.recordPatternInReverse(r,s.getStartEnd()[0],u);else{qt.recordPattern(r,s.getStartEnd()[1]+1,u);for(let q=0,ne=u.length-1;q<ne;q++,ne--){let he=u[q];u[q]=u[ne],u[ne]=he}}let c=o?16:15,f=ft.sum(new Int32Array(u))/c,h=this.getOddCounts(),g=this.getEvenCounts(),w=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let q=0;q<u.length;q++){let ne=u[q]/f,he=Math.floor(ne+.5);he<1?he=1:he>8&&(he=8);let ge=Math.floor(q/2);q&1?(g[ge]=he,A[ge]=ne-he):(h[ge]=he,w[ge]=ne-he)}this.adjustOddEvenCounts(o,c);let N=0,k=0;for(let q=h.length-1;q>=0;q--)k*=9,k+=h[q],N+=h[q];let V=0,z=0;for(let q=g.length-1;q>=0;q--)V*=9,V+=g[q],z+=g[q];let H=k+3*V;if(o){if(N&1||N>12||N<4)throw new re;let q=(12-N)/2,ne=Dt.OUTSIDE_ODD_WIDEST[q],he=9-ne,ge=Sr.getRSSvalue(h,ne,!1),ue=Sr.getRSSvalue(g,he,!0),ct=Dt.OUTSIDE_EVEN_TOTAL_SUBSET[q],Je=Dt.OUTSIDE_GSUM[q];return new Zi(ge*ct+ue+Je,H)}else{if(z&1||z>10||z<4)throw new re;let q=(10-z)/2,ne=Dt.INSIDE_ODD_WIDEST[q],he=9-ne,ge=Sr.getRSSvalue(h,ne,!0),ue=Sr.getRSSvalue(g,he,!1),ct=Dt.INSIDE_ODD_TOTAL_SUBSET[q],Je=Dt.INSIDE_GSUM[q];return new Zi(ue*ct+ge+Je,H)}}findFinderPattern(r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=r.getSize(),c=!1,f=0;for(;f<u&&(c=!r.get(f),s!==c);)f++;let h=0,g=f;for(let w=f;w<u;w++)if(r.get(w)!==c)o[h]++;else{if(h===3){if(It.isFinderPattern(o))return[g,w];g+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,c=!c}throw new re}parseFoundFinderPattern(r,s,o,u){let c=r.get(u[0]),f=u[0]-1;for(;f>=0&&c!==r.get(f);)f--;f++;const h=u[0]-f,g=this.getDecodeFinderCounters(),w=new Int32Array(g.length);I.arraycopy(g,0,w,1,g.length-1),w[0]=h;const A=this.parseFinderValue(w,Dt.FINDER_PATTERNS);let N=f,k=u[1];return o&&(N=r.getSize()-1-N,k=r.getSize()-1-k),new ni(A,[f,u[1]],N,k,s)}adjustOddEvenCounts(r,s){let o=ft.sum(new Int32Array(this.getOddCounts())),u=ft.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,h=!1,g=!1;r?(o>12?f=!0:o<4&&(c=!0),u>12?g=!0:u<4&&(h=!0)):(o>11?f=!0:o<5&&(c=!0),u>10?g=!0:u<4&&(h=!0));let w=o+u-s,A=(o&1)===(r?1:0),N=(u&1)===1;if(w===1)if(A){if(N)throw new re;f=!0}else{if(!N)throw new re;g=!0}else if(w===-1)if(A){if(N)throw new re;c=!0}else{if(!N)throw new re;h=!0}else if(w===0){if(A){if(!N)throw new re;o<u?(c=!0,g=!0):(f=!0,h=!0)}else if(N)throw new re}else throw new re;if(c){if(f)throw new re;It.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&It.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new re;It.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&It.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Dt.OUTSIDE_GSUM=[0,161,961,2015,2715],Dt.INSIDE_GSUM=[0,336,1036,1516],Dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Dt.INSIDE_ODD_WIDEST=[2,4,6,8],Dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ii extends qt{constructor(r,s){super(),this.readers=[],this.verbose=s===!0;const o=r?r.get(G.POSSIBLE_FORMATS):null,u=r&&r.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ke.EAN_13)||o.includes(ke.UPC_A)||o.includes(ke.EAN_8)||o.includes(ke.UPC_E))&&this.readers.push(new ba(r)),o.includes(ke.CODE_39)&&this.readers.push(new Ut(u)),o.includes(ke.CODE_128)&&this.readers.push(new Ee),o.includes(ke.ITF)&&this.readers.push(new Tt),o.includes(ke.RSS_14)&&this.readers.push(new Dt),o.includes(ke.RSS_EXPANDED)&&this.readers.push(new oe(this.verbose))):(this.readers.push(new ba(r)),this.readers.push(new Ut),this.readers.push(new ba(r)),this.readers.push(new Ee),this.readers.push(new Tt),this.readers.push(new Dt),this.readers.push(new oe(this.verbose)))}decodeRow(r,s,o){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(r,s,o)}catch{}throw new re}reset(){this.readers.forEach(r=>r.reset())}}class Qi extends er{constructor(r=500,s){super(new ii(s),r,s)}}class dt{constructor(r,s,o){this.ecCodewords=r,this.ecBlocks=[s],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ut{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(r,s,o,u,c,f){this.versionNumber=r,this.symbolSizeRows=s,this.symbolSizeColumns=o,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=c,this.ecBlocks=f;let h=0;const g=f.getECCodewords(),w=f.getECBlocks();for(let A of w)h+=A.getCount()*(A.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,s){if(r&1||s&1)throw new W;for(let o of nt.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===s)return o;throw new W}toString(){return""+this.versionNumber}static buildVersions(){return[new nt(1,10,10,8,8,new dt(5,new ut(1,3))),new nt(2,12,12,10,10,new dt(7,new ut(1,5))),new nt(3,14,14,12,12,new dt(10,new ut(1,8))),new nt(4,16,16,14,14,new dt(12,new ut(1,12))),new nt(5,18,18,16,16,new dt(14,new ut(1,18))),new nt(6,20,20,18,18,new dt(18,new ut(1,22))),new nt(7,22,22,20,20,new dt(20,new ut(1,30))),new nt(8,24,24,22,22,new dt(24,new ut(1,36))),new nt(9,26,26,24,24,new dt(28,new ut(1,44))),new nt(10,32,32,14,14,new dt(36,new ut(1,62))),new nt(11,36,36,16,16,new dt(42,new ut(1,86))),new nt(12,40,40,18,18,new dt(48,new ut(1,114))),new nt(13,44,44,20,20,new dt(56,new ut(1,144))),new nt(14,48,48,22,22,new dt(68,new ut(1,174))),new nt(15,52,52,24,24,new dt(42,new ut(2,102))),new nt(16,64,64,14,14,new dt(56,new ut(2,140))),new nt(17,72,72,16,16,new dt(36,new ut(4,92))),new nt(18,80,80,18,18,new dt(48,new ut(4,114))),new nt(19,88,88,20,20,new dt(56,new ut(4,144))),new nt(20,96,96,22,22,new dt(68,new ut(4,174))),new nt(21,104,104,24,24,new dt(56,new ut(6,136))),new nt(22,120,120,18,18,new dt(68,new ut(6,175))),new nt(23,132,132,20,20,new dt(62,new ut(8,163))),new nt(24,144,144,22,22,new dt(62,new ut(8,156),new ut(2,155))),new nt(25,8,18,6,16,new dt(7,new ut(1,5))),new nt(26,8,32,6,14,new dt(11,new ut(1,10))),new nt(27,12,26,10,24,new dt(14,new ut(1,16))),new nt(28,12,36,10,16,new dt(18,new ut(1,22))),new nt(29,16,36,14,16,new dt(24,new ut(1,32))),new nt(30,16,48,14,22,new dt(28,new ut(1,49)))]}}nt.VERSIONS=nt.buildVersions();class $i{constructor(r){const s=r.getHeight();if(s<8||s>144||s&1)throw new W;this.version=$i.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new ot(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const s=r.getHeight(),o=r.getWidth();return nt.getVersionForDimensions(s,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let s=0,o=4,u=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let h=!1,g=!1,w=!1,A=!1;do if(o===c&&u===0&&!h)r[s++]=this.readCorner1(c,f)&255,o-=2,u+=2,h=!0;else if(o===c-2&&u===0&&f&3&&!g)r[s++]=this.readCorner2(c,f)&255,o-=2,u+=2,g=!0;else if(o===c+4&&u===2&&!(f&7)&&!w)r[s++]=this.readCorner3(c,f)&255,o-=2,u+=2,w=!0;else if(o===c-2&&u===0&&(f&7)===4&&!A)r[s++]=this.readCorner4(c,f)&255,o-=2,u+=2,A=!0;else{do o<c&&u>=0&&!this.readMappingMatrix.get(u,o)&&(r[s++]=this.readUtah(o,u,c,f)&255),o-=2,u+=2;while(o>=0&&u<f);o+=1,u+=3;do o>=0&&u<f&&!this.readMappingMatrix.get(u,o)&&(r[s++]=this.readUtah(o,u,c,f)&255),o+=2,u-=2;while(o<c&&u>=0);o+=3,u+=1}while(o<c||u<f);if(s!==this.version.getTotalCodewords())throw new W;return r}readModule(r,s,o,u){return r<0&&(r+=o,s+=4-(o+4&7)),s<0&&(s+=u,r+=4-(u+4&7)),this.readMappingMatrix.set(s,r),this.mappingBitMatrix.get(s,r)}readUtah(r,s,o,u){let c=0;return this.readModule(r-2,s-2,o,u)&&(c|=1),c<<=1,this.readModule(r-2,s-1,o,u)&&(c|=1),c<<=1,this.readModule(r-1,s-2,o,u)&&(c|=1),c<<=1,this.readModule(r-1,s-1,o,u)&&(c|=1),c<<=1,this.readModule(r-1,s,o,u)&&(c|=1),c<<=1,this.readModule(r,s-2,o,u)&&(c|=1),c<<=1,this.readModule(r,s-1,o,u)&&(c|=1),c<<=1,this.readModule(r,s,o,u)&&(c|=1),c}readCorner1(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,1,r,s)&&(o|=1),o<<=1,this.readModule(r-1,2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}readCorner2(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-4,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner3(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-3,r,s)&&(o|=1),o<<=1,this.readModule(1,s-2,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner4(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}extractDataRegion(r){const s=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==s)throw new C("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=s/u|0,h=o/c|0,g=f*u,w=h*c,A=new ot(w,g);for(let N=0;N<f;++N){const k=N*u;for(let V=0;V<h;++V){const z=V*c;for(let H=0;H<u;++H){const q=N*(u+2)+1+H,ne=k+H;for(let he=0;he<c;++he){const ge=V*(c+2)+1+he;if(r.get(ge,q)){const ue=z+he;A.set(ue,ne)}}}}}return A}}class $l{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s){const o=s.getECBlocks();let u=0;const c=o.getECBlocks();for(let H of c)u+=H.getCount();const f=new Array(u);let h=0;for(let H of c)for(let q=0;q<H.getCount();q++){const ne=H.getDataCodewords(),he=o.getECCodewords()+ne;f[h++]=new $l(ne,new Uint8Array(he))}const w=f[0].codewords.length-o.getECCodewords(),A=w-1;let N=0;for(let H=0;H<A;H++)for(let q=0;q<h;q++)f[q].codewords[H]=r[N++];const k=s.getVersionNumber()===24,V=k?8:h;for(let H=0;H<V;H++)f[H].codewords[w-1]=r[N++];const z=f[0].codewords.length;for(let H=w;H<z;H++)for(let q=0;q<h;q++){const ne=k?(q+8)%h:q,he=k&&ne>7?H-1:H;f[ne].codewords[he]=r[N++]}if(N!==r.length)throw new C;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jl{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new C(""+r);let s=0,o=this.bitOffset,u=this.byteOffset;const c=this.bytes;if(o>0){const f=8-o,h=r<f?r:f,g=f-h,w=255>>8-h<<g;s=(c[u]&w)>>g,r-=h,o+=h,o===8&&(o=0,u++)}if(r>0){for(;r>=8;)s=s<<8|c[u]&255,u++,r-=8;if(r>0){const f=8-r,h=255>>f<<f;s=s<<r|(c[u]&h)>>f,o+=r}}return this.bitOffset=o,this.byteOffset=u,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var nn;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(nn||(nn={}));class zr{static decode(r){const s=new Jl(r),o=new Xe,u=new Xe,c=new Array;let f=nn.ASCII_ENCODE;do if(f===nn.ASCII_ENCODE)f=this.decodeAsciiSegment(s,o,u);else{switch(f){case nn.C40_ENCODE:this.decodeC40Segment(s,o);break;case nn.TEXT_ENCODE:this.decodeTextSegment(s,o);break;case nn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,o);break;case nn.EDIFACT_ENCODE:this.decodeEdifactSegment(s,o);break;case nn.BASE256_ENCODE:this.decodeBase256Segment(s,o,c);break;default:throw new W}f=nn.ASCII_ENCODE}while(f!==nn.PAD_ENCODE&&s.available()>0);return u.length()>0&&o.append(u.toString()),new bs(r,o.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(r,s,o){let u=!1;do{let c=r.readBits(8);if(c===0)throw new W;if(c<=128)return u&&(c+=128),s.append(String.fromCharCode(c-1)),nn.ASCII_ENCODE;if(c===129)return nn.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&s.append("0"),s.append(""+f)}else switch(c){case 230:return nn.C40_ENCODE;case 231:return nn.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:s.append("[)>05"),o.insert(0,"");break;case 237:s.append("[)>06"),o.insert(0,"");break;case 238:return nn.ANSIX12_ENCODE;case 239:return nn.TEXT_ENCODE;case 240:return nn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||r.available()!==0)throw new W;break}}while(r.available()>0);return nn.ASCII_ENCODE}static decodeC40Segment(r,s){let o=!1;const u=[];let c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let h=0;h<3;h++){const g=u[h];switch(c){case 0:if(g<3)c=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[g];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else throw new W;break;case 1:o?(s.append(String.fromCharCode(g+128)),o=!1):s.append(String.fromCharCode(g)),c=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[g];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else switch(g){case 27:s.append("");break;case 30:o=!0;break;default:throw new W}c=0;break;case 3:o?(s.append(String.fromCharCode(g+224)),o=!1):s.append(String.fromCharCode(g+96)),c=0;break;default:throw new W}}}while(r.available()>0)}static decodeTextSegment(r,s){let o=!1,u=[],c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let h=0;h<3;h++){const g=u[h];switch(c){case 0:if(g<3)c=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[g];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else throw new W;break;case 1:o?(s.append(String.fromCharCode(g+128)),o=!1):s.append(String.fromCharCode(g)),c=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[g];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else switch(g){case 27:s.append("");break;case 30:o=!0;break;default:throw new W}c=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[g];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w),c=0}else throw new W;break;default:throw new W}}}while(r.available()>0)}static decodeAnsiX12Segment(r,s){const o=[];do{if(r.available()===8)return;const u=r.readBits(8);if(u===254)return;this.parseTwoBytes(u,r.readBits(8),o);for(let c=0;c<3;c++){const f=o[c];switch(f){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(f<14)s.append(String.fromCharCode(f+44));else if(f<40)s.append(String.fromCharCode(f+51));else throw new W;break}}}while(r.available()>0)}static parseTwoBytes(r,s,o){let u=(r<<8)+s-1,c=Math.floor(u/1600);o[0]=c,u-=c*1600,c=Math.floor(u/40),o[1]=c,o[2]=u-c*40}static decodeEdifactSegment(r,s){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let u=r.readBits(6);if(u===31){const c=8-r.getBitOffset();c!==8&&r.readBits(c);return}u&32||(u|=64),s.append(String.fromCharCode(u))}}while(r.available()>0)}static decodeBase256Segment(r,s,o){let u=1+r.getByteOffset();const c=this.unrandomize255State(r.readBits(8),u++);let f;if(c===0?f=r.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(r.readBits(8),u++),f<0)throw new W;const h=new Uint8Array(f);for(let g=0;g<f;g++){if(r.available()<8)throw new W;h[g]=this.unrandomize255State(r.readBits(8),u++)}o.push(h);try{s.append(De.decode(h,ye.ISO88591))}catch(g){throw new br("Platform does not support required encoding: "+g.message)}}static unrandomize255State(r,s){const o=149*s%255+1,u=r-o;return u>=0?u:u+256}}zr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],zr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],zr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],zr.TEXT_SHIFT2_SET_CHARS=zr.C40_SHIFT2_SET_CHARS,zr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Vc{constructor(){this.rsDecoder=new dr(gt.DATA_MATRIX_FIELD_256)}decode(r){const s=new $i(r),o=s.getVersion(),u=s.readCodewords(),c=$l.getDataBlocks(u,o);let f=0;for(let w of c)f+=w.getNumDataCodewords();const h=new Uint8Array(f),g=c.length;for(let w=0;w<g;w++){const A=c[w],N=A.getCodewords(),k=A.getNumDataCodewords();this.correctErrors(N,k);for(let V=0;V<k;V++)h[V*g+w]=N[V]}return zr.decode(h)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new D}for(let u=0;u<s;u++)r[u]=o[u]}}class jt{constructor(r){this.image=r,this.rectangleDetector=new Pn(this.image)}detect(){const r=this.rectangleDetector.detect();let s=this.detectSolid1(r);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new re;s=this.shiftToModuleCenter(s);const o=s[0],u=s[1],c=s[2],f=s[3];let h=this.transitionsBetween(o,f)+1,g=this.transitionsBetween(c,f)+1;(h&1)===1&&(h+=1),(g&1)===1&&(g+=1),4*h<7*g&&4*g<7*h&&(h=g=Math.max(h,g));let w=jt.sampleGrid(this.image,o,u,c,f,h,g);return new Ss(w,[o,u,c,f])}static shiftPoint(r,s,o){let u=(s.getX()-r.getX())/(o+1),c=(s.getY()-r.getY())/(o+1);return new Re(r.getX()+u,r.getY()+c)}static moveAway(r,s,o){let u=r.getX(),c=r.getY();return u<s?u-=1:u+=1,c<o?c-=1:c+=1,new Re(u,c)}detectSolid1(r){let s=r[0],o=r[1],u=r[3],c=r[2],f=this.transitionsBetween(s,o),h=this.transitionsBetween(o,u),g=this.transitionsBetween(u,c),w=this.transitionsBetween(c,s),A=f,N=[c,s,o,u];return A>h&&(A=h,N[0]=s,N[1]=o,N[2]=u,N[3]=c),A>g&&(A=g,N[0]=o,N[1]=u,N[2]=c,N[3]=s),A>w&&(N[0]=u,N[1]=c,N[2]=s,N[3]=o),N}detectSolid2(r){let s=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(s,c),h=jt.shiftPoint(o,u,(f+1)*4),g=jt.shiftPoint(u,o,(f+1)*4),w=this.transitionsBetween(h,s),A=this.transitionsBetween(g,c);return w<A?(r[0]=s,r[1]=o,r[2]=u,r[3]=c):(r[0]=o,r[1]=u,r[2]=c,r[3]=s),r}correctTopRight(r){let s=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(s,c),h=this.transitionsBetween(o,c),g=jt.shiftPoint(s,o,(h+1)*4),w=jt.shiftPoint(u,o,(f+1)*4);f=this.transitionsBetween(g,c),h=this.transitionsBetween(w,c);let A=new Re(c.getX()+(u.getX()-o.getX())/(f+1),c.getY()+(u.getY()-o.getY())/(f+1)),N=new Re(c.getX()+(s.getX()-o.getX())/(h+1),c.getY()+(s.getY()-o.getY())/(h+1));if(!this.isValid(A))return this.isValid(N)?N:null;if(!this.isValid(N))return A;let k=this.transitionsBetween(g,A)+this.transitionsBetween(w,A),V=this.transitionsBetween(g,N)+this.transitionsBetween(w,N);return k>V?A:N}shiftToModuleCenter(r){let s=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(s,c)+1,h=this.transitionsBetween(u,c)+1,g=jt.shiftPoint(s,o,h*4),w=jt.shiftPoint(u,o,f*4);f=this.transitionsBetween(g,c)+1,h=this.transitionsBetween(w,c)+1,(f&1)===1&&(f+=1),(h&1)===1&&(h+=1);let A=(s.getX()+o.getX()+u.getX()+c.getX())/4,N=(s.getY()+o.getY()+u.getY()+c.getY())/4;s=jt.moveAway(s,A,N),o=jt.moveAway(o,A,N),u=jt.moveAway(u,A,N),c=jt.moveAway(c,A,N);let k,V;return g=jt.shiftPoint(s,o,h*4),g=jt.shiftPoint(g,c,f*4),k=jt.shiftPoint(o,s,h*4),k=jt.shiftPoint(k,u,f*4),w=jt.shiftPoint(u,c,h*4),w=jt.shiftPoint(w,o,f*4),V=jt.shiftPoint(c,u,h*4),V=jt.shiftPoint(V,s,f*4),[g,k,w,V]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,s,o,u,c,f,h){return Ai.getInstance().sampleGrid(r,f,h,.5,.5,f-.5,.5,f-.5,h-.5,.5,h-.5,s.getX(),s.getY(),c.getX(),c.getY(),u.getX(),u.getY(),o.getX(),o.getY())}transitionsBetween(r,s){let o=Math.trunc(r.getX()),u=Math.trunc(r.getY()),c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.abs(f-u)>Math.abs(c-o);if(h){let H=o;o=u,u=H,H=c,c=f,f=H}let g=Math.abs(c-o),w=Math.abs(f-u),A=-g/2,N=u<f?1:-1,k=o<c?1:-1,V=0,z=this.image.get(h?u:o,h?o:u);for(let H=o,q=u;H!==c;H+=k){let ne=this.image.get(h?q:H,h?H:q);if(ne!==z&&(V++,z=ne),A+=w,A>0){if(q===f)break;q+=N,A-=g}}return V}}class si{constructor(){this.decoder=new Vc}decode(r,s=null){let o,u;if(s!=null&&s.has(G.PURE_BARCODE)){const w=si.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(w),u=si.NO_POINTS}else{const w=new jt(r.getBlackMatrix()).detect();o=this.decoder.decode(w.getBits()),u=w.getPoints()}const c=o.getRawBytes(),f=new Vt(o.getText(),c,8*c.length,u,ke.DATA_MATRIX,I.currentTimeMillis()),h=o.getByteSegments();h!=null&&f.putMetadata(qe.BYTE_SEGMENTS,h);const g=o.getECLevel();return g!=null&&f.putMetadata(qe.ERROR_CORRECTION_LEVEL,g),f}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s==null||o==null)throw new re;const u=this.moduleSize(s,r);let c=s[1];const f=o[1];let h=s[0];const w=(o[0]-h+1)/u,A=(f-c+1)/u;if(w<=0||A<=0)throw new re;const N=u/2;c+=N,h+=N;const k=new ot(w,A);for(let V=0;V<A;V++){const z=c+V*u;for(let H=0;H<w;H++)r.get(h+H*u,z)&&k.set(H,V)}return k}static moduleSize(r,s){const o=s.getWidth();let u=r[0];const c=r[1];for(;u<o&&s.get(u,c);)u++;if(u===o)throw new re;const f=u-r[0];if(f===0)throw new re;return f}}si.NO_POINTS=[];class Uc extends er{constructor(r=500){super(new si,r)}}var Ji;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(Ji||(Ji={}));class Rt{constructor(r,s,o){this.value=r,this.stringValue=s,this.bits=o,Rt.FOR_BITS.set(o,this),Rt.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return Rt.L;case"M":return Rt.M;case"Q":return Rt.Q;case"H":return Rt.H;default:throw new E(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof Rt))return!1;const s=r;return this.value===s.value}static forBits(r){if(r<0||r>=Rt.FOR_BITS.size)throw new C;return Rt.FOR_BITS.get(r)}}Rt.FOR_BITS=new Map,Rt.FOR_VALUE=new Map,Rt.L=new Rt(Ji.L,"L",1),Rt.M=new Rt(Ji.M,"M",0),Rt.Q=new Rt(Ji.Q,"Q",3),Rt.H=new Rt(Ji.H,"H",2);class An{constructor(r){this.errorCorrectionLevel=Rt.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,s){return T.bitCount(r^s)}static decodeFormatInformation(r,s){const o=An.doDecodeFormatInformation(r,s);return o!==null?o:An.doDecodeFormatInformation(r^An.FORMAT_INFO_MASK_QR,s^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,s){let o=Number.MAX_SAFE_INTEGER,u=0;for(const c of An.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===r||f===s)return new An(c[1]);let h=An.numBitsDiffering(r,f);h<o&&(u=c[1],o=h),r!==s&&(h=An.numBitsDiffering(s,f),h<o&&(u=c[1],o=h))}return o<=3?new An(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof An))return!1;const s=r;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(r,...s){this.ecCodewordsPerBlock=r,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const s=this.ecBlocks;for(const o of s)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class F{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Me{constructor(r,s,...o){this.versionNumber=r,this.alignmentPatternCenters=s,this.ecBlocks=o;let u=0;const c=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const h of f)u+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new W;try{return this.getVersionForNumber((r-17)/4)}catch{throw new W}}static getVersionForNumber(r){if(r<1||r>40)throw new C;return Me.VERSIONS[r-1]}static decodeVersionInformation(r){let s=Number.MAX_SAFE_INTEGER,o=0;for(let u=0;u<Me.VERSION_DECODE_INFO.length;u++){const c=Me.VERSION_DECODE_INFO[u];if(c===r)return Me.getVersionForNumber(u+7);const f=An.numBitsDiffering(r,c);f<s&&(o=u+7,s=f)}return s<=3?Me.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),s=new ot(r);s.setRegion(0,0,9,9),s.setRegion(r-8,0,8,9),s.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let u=0;u<o;u++){const c=this.alignmentPatternCenters[u]-2;for(let f=0;f<o;f++)u===0&&(f===0||f===o-1)||u===o-1&&f===0||s.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return s.setRegion(6,9,1,r-17),s.setRegion(9,6,r-17,1),this.versionNumber>6&&(s.setRegion(r-11,0,3,6),s.setRegion(0,r-11,6,3)),s}toString(){return""+this.versionNumber}}Me.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Me.VERSIONS=[new Me(1,new Int32Array(0),new K(7,new F(1,19)),new K(10,new F(1,16)),new K(13,new F(1,13)),new K(17,new F(1,9))),new Me(2,Int32Array.from([6,18]),new K(10,new F(1,34)),new K(16,new F(1,28)),new K(22,new F(1,22)),new K(28,new F(1,16))),new Me(3,Int32Array.from([6,22]),new K(15,new F(1,55)),new K(26,new F(1,44)),new K(18,new F(2,17)),new K(22,new F(2,13))),new Me(4,Int32Array.from([6,26]),new K(20,new F(1,80)),new K(18,new F(2,32)),new K(26,new F(2,24)),new K(16,new F(4,9))),new Me(5,Int32Array.from([6,30]),new K(26,new F(1,108)),new K(24,new F(2,43)),new K(18,new F(2,15),new F(2,16)),new K(22,new F(2,11),new F(2,12))),new Me(6,Int32Array.from([6,34]),new K(18,new F(2,68)),new K(16,new F(4,27)),new K(24,new F(4,19)),new K(28,new F(4,15))),new Me(7,Int32Array.from([6,22,38]),new K(20,new F(2,78)),new K(18,new F(4,31)),new K(18,new F(2,14),new F(4,15)),new K(26,new F(4,13),new F(1,14))),new Me(8,Int32Array.from([6,24,42]),new K(24,new F(2,97)),new K(22,new F(2,38),new F(2,39)),new K(22,new F(4,18),new F(2,19)),new K(26,new F(4,14),new F(2,15))),new Me(9,Int32Array.from([6,26,46]),new K(30,new F(2,116)),new K(22,new F(3,36),new F(2,37)),new K(20,new F(4,16),new F(4,17)),new K(24,new F(4,12),new F(4,13))),new Me(10,Int32Array.from([6,28,50]),new K(18,new F(2,68),new F(2,69)),new K(26,new F(4,43),new F(1,44)),new K(24,new F(6,19),new F(2,20)),new K(28,new F(6,15),new F(2,16))),new Me(11,Int32Array.from([6,30,54]),new K(20,new F(4,81)),new K(30,new F(1,50),new F(4,51)),new K(28,new F(4,22),new F(4,23)),new K(24,new F(3,12),new F(8,13))),new Me(12,Int32Array.from([6,32,58]),new K(24,new F(2,92),new F(2,93)),new K(22,new F(6,36),new F(2,37)),new K(26,new F(4,20),new F(6,21)),new K(28,new F(7,14),new F(4,15))),new Me(13,Int32Array.from([6,34,62]),new K(26,new F(4,107)),new K(22,new F(8,37),new F(1,38)),new K(24,new F(8,20),new F(4,21)),new K(22,new F(12,11),new F(4,12))),new Me(14,Int32Array.from([6,26,46,66]),new K(30,new F(3,115),new F(1,116)),new K(24,new F(4,40),new F(5,41)),new K(20,new F(11,16),new F(5,17)),new K(24,new F(11,12),new F(5,13))),new Me(15,Int32Array.from([6,26,48,70]),new K(22,new F(5,87),new F(1,88)),new K(24,new F(5,41),new F(5,42)),new K(30,new F(5,24),new F(7,25)),new K(24,new F(11,12),new F(7,13))),new Me(16,Int32Array.from([6,26,50,74]),new K(24,new F(5,98),new F(1,99)),new K(28,new F(7,45),new F(3,46)),new K(24,new F(15,19),new F(2,20)),new K(30,new F(3,15),new F(13,16))),new Me(17,Int32Array.from([6,30,54,78]),new K(28,new F(1,107),new F(5,108)),new K(28,new F(10,46),new F(1,47)),new K(28,new F(1,22),new F(15,23)),new K(28,new F(2,14),new F(17,15))),new Me(18,Int32Array.from([6,30,56,82]),new K(30,new F(5,120),new F(1,121)),new K(26,new F(9,43),new F(4,44)),new K(28,new F(17,22),new F(1,23)),new K(28,new F(2,14),new F(19,15))),new Me(19,Int32Array.from([6,30,58,86]),new K(28,new F(3,113),new F(4,114)),new K(26,new F(3,44),new F(11,45)),new K(26,new F(17,21),new F(4,22)),new K(26,new F(9,13),new F(16,14))),new Me(20,Int32Array.from([6,34,62,90]),new K(28,new F(3,107),new F(5,108)),new K(26,new F(3,41),new F(13,42)),new K(30,new F(15,24),new F(5,25)),new K(28,new F(15,15),new F(10,16))),new Me(21,Int32Array.from([6,28,50,72,94]),new K(28,new F(4,116),new F(4,117)),new K(26,new F(17,42)),new K(28,new F(17,22),new F(6,23)),new K(30,new F(19,16),new F(6,17))),new Me(22,Int32Array.from([6,26,50,74,98]),new K(28,new F(2,111),new F(7,112)),new K(28,new F(17,46)),new K(30,new F(7,24),new F(16,25)),new K(24,new F(34,13))),new Me(23,Int32Array.from([6,30,54,78,102]),new K(30,new F(4,121),new F(5,122)),new K(28,new F(4,47),new F(14,48)),new K(30,new F(11,24),new F(14,25)),new K(30,new F(16,15),new F(14,16))),new Me(24,Int32Array.from([6,28,54,80,106]),new K(30,new F(6,117),new F(4,118)),new K(28,new F(6,45),new F(14,46)),new K(30,new F(11,24),new F(16,25)),new K(30,new F(30,16),new F(2,17))),new Me(25,Int32Array.from([6,32,58,84,110]),new K(26,new F(8,106),new F(4,107)),new K(28,new F(8,47),new F(13,48)),new K(30,new F(7,24),new F(22,25)),new K(30,new F(22,15),new F(13,16))),new Me(26,Int32Array.from([6,30,58,86,114]),new K(28,new F(10,114),new F(2,115)),new K(28,new F(19,46),new F(4,47)),new K(28,new F(28,22),new F(6,23)),new K(30,new F(33,16),new F(4,17))),new Me(27,Int32Array.from([6,34,62,90,118]),new K(30,new F(8,122),new F(4,123)),new K(28,new F(22,45),new F(3,46)),new K(30,new F(8,23),new F(26,24)),new K(30,new F(12,15),new F(28,16))),new Me(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new F(3,117),new F(10,118)),new K(28,new F(3,45),new F(23,46)),new K(30,new F(4,24),new F(31,25)),new K(30,new F(11,15),new F(31,16))),new Me(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new F(7,116),new F(7,117)),new K(28,new F(21,45),new F(7,46)),new K(30,new F(1,23),new F(37,24)),new K(30,new F(19,15),new F(26,16))),new Me(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new F(5,115),new F(10,116)),new K(28,new F(19,47),new F(10,48)),new K(30,new F(15,24),new F(25,25)),new K(30,new F(23,15),new F(25,16))),new Me(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new F(13,115),new F(3,116)),new K(28,new F(2,46),new F(29,47)),new K(30,new F(42,24),new F(1,25)),new K(30,new F(23,15),new F(28,16))),new Me(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new F(17,115)),new K(28,new F(10,46),new F(23,47)),new K(30,new F(10,24),new F(35,25)),new K(30,new F(19,15),new F(35,16))),new Me(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new F(17,115),new F(1,116)),new K(28,new F(14,46),new F(21,47)),new K(30,new F(29,24),new F(19,25)),new K(30,new F(11,15),new F(46,16))),new Me(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new F(13,115),new F(6,116)),new K(28,new F(14,46),new F(23,47)),new K(30,new F(44,24),new F(7,25)),new K(30,new F(59,16),new F(1,17))),new Me(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new F(12,121),new F(7,122)),new K(28,new F(12,47),new F(26,48)),new K(30,new F(39,24),new F(14,25)),new K(30,new F(22,15),new F(41,16))),new Me(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new F(6,121),new F(14,122)),new K(28,new F(6,47),new F(34,48)),new K(30,new F(46,24),new F(10,25)),new K(30,new F(2,15),new F(64,16))),new Me(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new F(17,122),new F(4,123)),new K(28,new F(29,46),new F(14,47)),new K(30,new F(49,24),new F(10,25)),new K(30,new F(24,15),new F(46,16))),new Me(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new F(4,122),new F(18,123)),new K(28,new F(13,46),new F(32,47)),new K(30,new F(48,24),new F(14,25)),new K(30,new F(42,15),new F(32,16))),new Me(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new F(20,117),new F(4,118)),new K(28,new F(40,47),new F(7,48)),new K(30,new F(43,24),new F(22,25)),new K(30,new F(10,15),new F(67,16))),new Me(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new F(19,118),new F(6,119)),new K(28,new F(18,47),new F(31,48)),new K(30,new F(34,24),new F(34,25)),new K(30,new F(20,15),new F(61,16)))];var un;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(un||(un={}));class rr{constructor(r,s){this.value=r,this.isMasked=s}unmaskBitMatrix(r,s){for(let o=0;o<s;o++)for(let u=0;u<s;u++)this.isMasked(o,u)&&r.flip(u,o)}}rr.values=new Map([[un.DATA_MASK_000,new rr(un.DATA_MASK_000,(R,r)=>(R+r&1)===0)],[un.DATA_MASK_001,new rr(un.DATA_MASK_001,(R,r)=>(R&1)===0)],[un.DATA_MASK_010,new rr(un.DATA_MASK_010,(R,r)=>r%3===0)],[un.DATA_MASK_011,new rr(un.DATA_MASK_011,(R,r)=>(R+r)%3===0)],[un.DATA_MASK_100,new rr(un.DATA_MASK_100,(R,r)=>(Math.floor(R/2)+Math.floor(r/3)&1)===0)],[un.DATA_MASK_101,new rr(un.DATA_MASK_101,(R,r)=>R*r%6===0)],[un.DATA_MASK_110,new rr(un.DATA_MASK_110,(R,r)=>R*r%6<3)],[un.DATA_MASK_111,new rr(un.DATA_MASK_111,(R,r)=>(R+r+R*r%3&1)===0)]]);class jc{constructor(r){const s=r.getHeight();if(s<21||(s&3)!==1)throw new W;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let c=0;c<6;c++)r=this.copyBit(c,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let c=5;c>=0;c--)r=this.copyBit(8,c,r);const s=this.bitMatrix.getHeight();let o=0;const u=s-7;for(let c=s-1;c>=u;c--)o=this.copyBit(8,c,o);for(let c=s-8;c<s;c++)o=this.copyBit(c,8,o);if(this.parsedFormatInfo=An.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new W}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),s=Math.floor((r-17)/4);if(s<=6)return Me.getVersionForNumber(s);let o=0;const u=r-11;for(let f=5;f>=0;f--)for(let h=r-9;h>=u;h--)o=this.copyBit(h,f,o);let c=Me.decodeVersionInformation(o);if(c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;o=0;for(let f=5;f>=0;f--)for(let h=r-9;h>=u;h--)o=this.copyBit(f,h,o);if(c=Me.decodeVersionInformation(o),c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;throw new W}copyBit(r,s,o){return(this.isMirror?this.bitMatrix.get(s,r):this.bitMatrix.get(r,s))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),s=this.readVersion(),o=rr.values.get(r.getDataMask()),u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u);const c=s.buildFunctionPattern();let f=!0;const h=new Uint8Array(s.getTotalCodewords());let g=0,w=0,A=0;for(let N=u-1;N>0;N-=2){N===6&&N--;for(let k=0;k<u;k++){const V=f?u-1-k:k;for(let z=0;z<2;z++)c.get(N-z,V)||(A++,w<<=1,this.bitMatrix.get(N-z,V)&&(w|=1),A===8&&(h[g++]=w,A=0,w=0))}f=!f}if(g!==s.getTotalCodewords())throw new W;return h}remask(){if(this.parsedFormatInfo===null)return;const r=rr.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let s=0,o=r.getWidth();s<o;s++)for(let u=s+1,c=r.getHeight();u<c;u++)r.get(s,u)!==r.get(u,s)&&(r.flip(u,s),r.flip(s,u))}}class Sa{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s,o){if(r.length!==s.getTotalCodewords())throw new C;const u=s.getECBlocksForLevel(o);let c=0;const f=u.getECBlocks();for(const z of f)c+=z.getCount();const h=new Array(c);let g=0;for(const z of f)for(let H=0;H<z.getCount();H++){const q=z.getDataCodewords(),ne=u.getECCodewordsPerBlock()+q;h[g++]=new Sa(q,new Uint8Array(ne))}const w=h[0].codewords.length;let A=h.length-1;for(;A>=0&&h[A].codewords.length!==w;)A--;A++;const N=w-u.getECCodewordsPerBlock();let k=0;for(let z=0;z<N;z++)for(let H=0;H<g;H++)h[H].codewords[z]=r[k++];for(let z=A;z<g;z++)h[z].codewords[N]=r[k++];const V=h[0].codewords.length;for(let z=N;z<V;z++)for(let H=0;H<g;H++){const q=H<A?z:z+1;h[H].codewords[q]=r[k++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ir;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(ir||(ir={}));class Fe{constructor(r,s,o,u){this.value=r,this.stringValue=s,this.characterCountBitsForVersions=o,this.bits=u,Fe.FOR_BITS.set(u,this),Fe.FOR_VALUE.set(r,this)}static forBits(r){const s=Fe.FOR_BITS.get(r);if(s===void 0)throw new C;return s}getCharacterCountBits(r){const s=r.getVersionNumber();let o;return s<=9?o=0:s<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Fe))return!1;const s=r;return this.value===s.value}toString(){return this.stringValue}}Fe.FOR_BITS=new Map,Fe.FOR_VALUE=new Map,Fe.TERMINATOR=new Fe(ir.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Fe.NUMERIC=new Fe(ir.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Fe.ALPHANUMERIC=new Fe(ir.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Fe.STRUCTURED_APPEND=new Fe(ir.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Fe.BYTE=new Fe(ir.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Fe.ECI=new Fe(ir.ECI,"ECI",Int32Array.from([0,0,0]),7),Fe.KANJI=new Fe(ir.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Fe.FNC1_FIRST_POSITION=new Fe(ir.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Fe.FNC1_SECOND_POSITION=new Fe(ir.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Fe.HANZI=new Fe(ir.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Bt{static decode(r,s,o,u){const c=new Jl(r);let f=new Xe;const h=new Array;let g=-1,w=-1;try{let A=null,N=!1,k;do{if(c.available()<4)k=Fe.TERMINATOR;else{const V=c.readBits(4);k=Fe.forBits(V)}switch(k){case Fe.TERMINATOR:break;case Fe.FNC1_FIRST_POSITION:case Fe.FNC1_SECOND_POSITION:N=!0;break;case Fe.STRUCTURED_APPEND:if(c.available()<16)throw new W;g=c.readBits(8),w=c.readBits(8);break;case Fe.ECI:const V=Bt.parseECIValue(c);if(A=te.getCharacterSetECIByValue(V),A===null)throw new W;break;case Fe.HANZI:const z=c.readBits(4),H=c.readBits(k.getCharacterCountBits(s));z===Bt.GB2312_SUBSET&&Bt.decodeHanziSegment(c,f,H);break;default:const q=c.readBits(k.getCharacterCountBits(s));switch(k){case Fe.NUMERIC:Bt.decodeNumericSegment(c,f,q);break;case Fe.ALPHANUMERIC:Bt.decodeAlphanumericSegment(c,f,q,N);break;case Fe.BYTE:Bt.decodeByteSegment(c,f,q,A,h,u);break;case Fe.KANJI:Bt.decodeKanjiSegment(c,f,q);break;default:throw new W}break}}while(k!==Fe.TERMINATOR)}catch{throw new W}return new bs(r,f.toString(),h.length===0?null:h,o===null?null:o.toString(),g,w)}static decodeHanziSegment(r,s,o){if(o*13>r.available())throw new W;const u=new Uint8Array(2*o);let c=0;for(;o>0;){const f=r.readBits(13);let h=f/96<<8&4294967295|f%96;h<959?h+=41377:h+=42657,u[c]=h>>8&255,u[c+1]=h&255,c+=2,o--}try{s.append(De.decode(u,ye.GB2312))}catch(f){throw new W(f)}}static decodeKanjiSegment(r,s,o){if(o*13>r.available())throw new W;const u=new Uint8Array(2*o);let c=0;for(;o>0;){const f=r.readBits(13);let h=f/192<<8&4294967295|f%192;h<7936?h+=33088:h+=49472,u[c]=h>>8,u[c+1]=h,c+=2,o--}try{s.append(De.decode(u,ye.SHIFT_JIS))}catch(f){throw new W(f)}}static decodeByteSegment(r,s,o,u,c,f){if(8*o>r.available())throw new W;const h=new Uint8Array(o);for(let w=0;w<o;w++)h[w]=r.readBits(8);let g;u===null?g=ye.guessEncoding(h,f):g=u.getName();try{s.append(De.decode(h,g))}catch(w){throw new W(w)}c.push(h)}static toAlphaNumericChar(r){if(r>=Bt.ALPHANUMERIC_CHARS.length)throw new W;return Bt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,s,o,u){const c=s.length();for(;o>1;){if(r.available()<11)throw new W;const f=r.readBits(11);s.append(Bt.toAlphaNumericChar(Math.floor(f/45))),s.append(Bt.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(r.available()<6)throw new W;s.append(Bt.toAlphaNumericChar(r.readBits(6)))}if(u)for(let f=c;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,""))}static decodeNumericSegment(r,s,o){for(;o>=3;){if(r.available()<10)throw new W;const u=r.readBits(10);if(u>=1e3)throw new W;s.append(Bt.toAlphaNumericChar(Math.floor(u/100))),s.append(Bt.toAlphaNumericChar(Math.floor(u/10)%10)),s.append(Bt.toAlphaNumericChar(u%10)),o-=3}if(o===2){if(r.available()<7)throw new W;const u=r.readBits(7);if(u>=100)throw new W;s.append(Bt.toAlphaNumericChar(Math.floor(u/10))),s.append(Bt.toAlphaNumericChar(u%10))}else if(o===1){if(r.available()<4)throw new W;const u=r.readBits(4);if(u>=10)throw new W;s.append(Bt.toAlphaNumericChar(u))}}static parseECIValue(r){const s=r.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const o=r.readBits(8);return(s&63)<<8&4294967295|o}if((s&224)===192){const o=r.readBits(16);return(s&31)<<16&4294967295|o}throw new W}}Bt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Bt.GB2312_SUBSET=1;class eu{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const s=r[0];r[0]=r[2],r[2]=s}}class zc{constructor(){this.rsDecoder=new dr(gt.QR_CODE_FIELD_256)}decodeBooleanArray(r,s){return this.decodeBitMatrix(ot.parseFromBooleanArray(r),s)}decodeBitMatrix(r,s){const o=new jc(r);let u=null;try{return this.decodeBitMatrixParser(o,s)}catch(c){u=c}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const c=this.decodeBitMatrixParser(o,s);return c.setOther(new eu(!0)),c}catch(c){throw u!==null?u:c}}decodeBitMatrixParser(r,s){const o=r.readVersion(),u=r.readFormatInformation().getErrorCorrectionLevel(),c=r.readCodewords(),f=Sa.getDataBlocks(c,o,u);let h=0;for(const A of f)h+=A.getNumDataCodewords();const g=new Uint8Array(h);let w=0;for(const A of f){const N=A.getCodewords(),k=A.getNumDataCodewords();this.correctErrors(N,k);for(let V=0;V<k;V++)g[w++]=N[V]}return Bt.decode(g,o,u,s)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new D}for(let u=0;u<s;u++)r[u]=o[u]}}class Ta extends Re{constructor(r,s,o){super(r,s),this.estimatedModuleSize=o}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const u=(this.getX()+s)/2,c=(this.getY()+r)/2,f=(this.estimatedModuleSize+o)/2;return new Ta(u,c,f)}}class Ro{constructor(r,s,o,u,c,f,h){this.image=r,this.startX=s,this.startY=o,this.width=u,this.height=c,this.moduleSize=f,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,s=this.height,o=this.width,u=r+o,c=this.startY+s/2,f=new Int32Array(3),h=this.image;for(let g=0;g<s;g++){const w=c+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));f[0]=0,f[1]=0,f[2]=0;let A=r;for(;A<u&&!h.get(A,w);)A++;let N=0;for(;A<u;){if(h.get(A,w))if(N===1)f[1]++;else if(N===2){if(this.foundPatternCross(f)){const k=this.handlePossibleCenter(f,w,A);if(k!==null)return k}f[0]=f[2],f[1]=1,f[2]=0,N=1}else f[++N]++;else N===1&&N++,f[N]++;A++}if(this.foundPatternCross(f)){const k=this.handlePossibleCenter(f,w,u);if(k!==null)return k}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(r,s){return s-r[2]-r[1]/2}foundPatternCross(r){const s=this.moduleSize,o=s/2;for(let u=0;u<3;u++)if(Math.abs(s-r[u])>=o)return!1;return!0}crossCheckVertical(r,s,o,u){const c=this.image,f=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let g=r;for(;g>=0&&c.get(s,g)&&h[1]<=o;)h[1]++,g--;if(g<0||h[1]>o)return NaN;for(;g>=0&&!c.get(s,g)&&h[0]<=o;)h[0]++,g--;if(h[0]>o)return NaN;for(g=r+1;g<f&&c.get(s,g)&&h[1]<=o;)h[1]++,g++;if(g===f||h[1]>o)return NaN;for(;g<f&&!c.get(s,g)&&h[2]<=o;)h[2]++,g++;if(h[2]>o)return NaN;const w=h[0]+h[1]+h[2];return 5*Math.abs(w-u)>=2*u?NaN:this.foundPatternCross(h)?Ro.centerFromEnd(h,g):NaN}handlePossibleCenter(r,s,o){const u=r[0]+r[1]+r[2],c=Ro.centerFromEnd(r,o),f=this.crossCheckVertical(s,c,2*r[1],u);if(!isNaN(f)){const h=(r[0]+r[1]+r[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(h,f,c))return w.combineEstimate(f,c,h);const g=new Ta(c,f,h);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class Ia extends Re{constructor(r,s,o,u){super(r,s),this.estimatedModuleSize=o,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const u=this.count+1,c=(this.count*this.getX()+s)/u,f=(this.count*this.getY()+r)/u,h=(this.count*this.estimatedModuleSize+o)/u;return new Ia(c,f,h,u)}}class Wc{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class cn{constructor(r,s){this.image=r,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const s=r!=null&&r.get(G.TRY_HARDER)!==void 0,o=r!=null&&r.get(G.PURE_BARCODE)!==void 0,u=this.image,c=u.getHeight(),f=u.getWidth();let h=Math.floor(3*c/(4*cn.MAX_MODULES));(h<cn.MIN_SKIP||s)&&(h=cn.MIN_SKIP);let g=!1;const w=new Int32Array(5);for(let N=h-1;N<c&&!g;N+=h){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let k=0;for(let V=0;V<f;V++)if(u.get(V,N))(k&1)===1&&k++,w[k]++;else if(k&1)w[k]++;else if(k===4)if(cn.foundPatternCross(w)){if(this.handlePossibleCenter(w,N,V,o)===!0)if(h=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const H=this.findRowSkip();H>w[2]&&(N+=H-w[2]-h,V=f-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,k=3;continue}k=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,k=3;else w[++k]++;cn.foundPatternCross(w)&&this.handlePossibleCenter(w,N,f,o)===!0&&(h=w[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return Re.orderBestPatterns(A),new Wc(A)}static centerFromEnd(r,s){return s-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let s=0;for(let c=0;c<5;c++){const f=r[c];if(f===0)return!1;s+=f}if(s<7)return!1;const o=s/7,u=o/2;return Math.abs(o-r[0])<u&&Math.abs(o-r[1])<u&&Math.abs(3*o-r[2])<3*u&&Math.abs(o-r[3])<u&&Math.abs(o-r[4])<u}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,s,o,u){const c=this.getCrossCheckStateCount();let f=0;const h=this.image;for(;r>=f&&s>=f&&h.get(s-f,r-f);)c[2]++,f++;if(r<f||s<f)return!1;for(;r>=f&&s>=f&&!h.get(s-f,r-f)&&c[1]<=o;)c[1]++,f++;if(r<f||s<f||c[1]>o)return!1;for(;r>=f&&s>=f&&h.get(s-f,r-f)&&c[0]<=o;)c[0]++,f++;if(c[0]>o)return!1;const g=h.getHeight(),w=h.getWidth();for(f=1;r+f<g&&s+f<w&&h.get(s+f,r+f);)c[2]++,f++;if(r+f>=g||s+f>=w)return!1;for(;r+f<g&&s+f<w&&!h.get(s+f,r+f)&&c[3]<o;)c[3]++,f++;if(r+f>=g||s+f>=w||c[3]>=o)return!1;for(;r+f<g&&s+f<w&&h.get(s+f,r+f)&&c[4]<o;)c[4]++,f++;if(c[4]>=o)return!1;const A=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(A-u)<2*u&&cn.foundPatternCross(c)}crossCheckVertical(r,s,o,u){const c=this.image,f=c.getHeight(),h=this.getCrossCheckStateCount();let g=r;for(;g>=0&&c.get(s,g);)h[2]++,g--;if(g<0)return NaN;for(;g>=0&&!c.get(s,g)&&h[1]<=o;)h[1]++,g--;if(g<0||h[1]>o)return NaN;for(;g>=0&&c.get(s,g)&&h[0]<=o;)h[0]++,g--;if(h[0]>o)return NaN;for(g=r+1;g<f&&c.get(s,g);)h[2]++,g++;if(g===f)return NaN;for(;g<f&&!c.get(s,g)&&h[3]<o;)h[3]++,g++;if(g===f||h[3]>=o)return NaN;for(;g<f&&c.get(s,g)&&h[4]<o;)h[4]++,g++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-u)>=2*u?NaN:cn.foundPatternCross(h)?cn.centerFromEnd(h,g):NaN}crossCheckHorizontal(r,s,o,u){const c=this.image,f=c.getWidth(),h=this.getCrossCheckStateCount();let g=r;for(;g>=0&&c.get(g,s);)h[2]++,g--;if(g<0)return NaN;for(;g>=0&&!c.get(g,s)&&h[1]<=o;)h[1]++,g--;if(g<0||h[1]>o)return NaN;for(;g>=0&&c.get(g,s)&&h[0]<=o;)h[0]++,g--;if(h[0]>o)return NaN;for(g=r+1;g<f&&c.get(g,s);)h[2]++,g++;if(g===f)return NaN;for(;g<f&&!c.get(g,s)&&h[3]<o;)h[3]++,g++;if(g===f||h[3]>=o)return NaN;for(;g<f&&c.get(g,s)&&h[4]<o;)h[4]++,g++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-u)>=u?NaN:cn.foundPatternCross(h)?cn.centerFromEnd(h,g):NaN}handlePossibleCenter(r,s,o,u){const c=r[0]+r[1]+r[2]+r[3]+r[4];let f=cn.centerFromEnd(r,o),h=this.crossCheckVertical(s,Math.floor(f),r[2],c);if(!isNaN(h)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(h),r[2],c),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(h),Math.floor(f),r[2],c)))){const g=c/7;let w=!1;const A=this.possibleCenters;for(let N=0,k=A.length;N<k;N++){const V=A[N];if(V.aboutEquals(g,h,f)){A[N]=V.combineEstimate(h,f,g),w=!0;break}}if(!w){const N=new Ia(f,h,g);A.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const o of this.possibleCenters)if(o.getCount()>=cn.CENTER_QUORUM)if(s==null)s=o;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-o.getX())-Math.abs(s.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,s=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=cn.CENTER_QUORUM&&(r++,s+=f.getEstimatedModuleSize());if(r<3)return!1;const u=s/o;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-u);return c<=.05*s}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new re;const s=this.possibleCenters;let o;if(r>3){let u=0,c=0;for(const g of this.possibleCenters){const w=g.getEstimatedModuleSize();u+=w,c+=w*w}o=u/r;let f=Math.sqrt(c/r-o*o);s.sort((g,w)=>{const A=Math.abs(w.getEstimatedModuleSize()-o),N=Math.abs(g.getEstimatedModuleSize()-o);return A<N?-1:A>N?1:0});const h=Math.max(.2*o,f);for(let g=0;g<s.length&&s.length>3;g++){const w=s[g];Math.abs(w.getEstimatedModuleSize()-o)>h&&(s.splice(g,1),g--)}}if(s.length>3){let u=0;for(const c of s)u+=c.getEstimatedModuleSize();o=u/s.length,s.sort((c,f)=>{if(f.getCount()===c.getCount()){const h=Math.abs(f.getEstimatedModuleSize()-o),g=Math.abs(c.getEstimatedModuleSize()-o);return h<g?1:h>g?-1:0}else return f.getCount()-c.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}cn.CENTER_QUORUM=2,cn.MIN_SKIP=3,cn.MAX_MODULES=57;class Is{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(G.NEED_RESULT_POINT_CALLBACK);const o=new cn(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const s=r.getTopLeft(),o=r.getTopRight(),u=r.getBottomLeft(),c=this.calculateModuleSize(s,o,u);if(c<1)throw new re("No pattern found in proccess finder.");const f=Is.computeDimension(s,o,u,c),h=Me.getProvisionalVersionForDimension(f),g=h.getDimensionForVersion()-7;let w=null;if(h.getAlignmentPatternCenters().length>0){const V=o.getX()-s.getX()+u.getX(),z=o.getY()-s.getY()+u.getY(),H=1-3/g,q=Math.floor(s.getX()+H*(V-s.getX())),ne=Math.floor(s.getY()+H*(z-s.getY()));for(let he=4;he<=16;he<<=1)try{w=this.findAlignmentInRegion(c,q,ne,he);break}catch(ge){if(!(ge instanceof re))throw ge}}const A=Is.createTransform(s,o,u,w,f),N=Is.sampleGrid(this.image,A,f);let k;return w===null?k=[u,s,o]:k=[u,s,o,w],new Ss(N,k)}static createTransform(r,s,o,u,c){const f=c-3.5;let h,g,w,A;return u!==null?(h=u.getX(),g=u.getY(),w=f-3,A=w):(h=s.getX()-r.getX()+o.getX(),g=s.getY()-r.getY()+o.getY(),w=f,A=f),hr.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,w,A,3.5,f,r.getX(),r.getY(),s.getX(),s.getY(),h,g,o.getX(),o.getY())}static sampleGrid(r,s,o){return Ai.getInstance().sampleGridWithTransform(r,o,o,s)}static computeDimension(r,s,o,u){const c=ft.round(Re.distance(r,s)/u),f=ft.round(Re.distance(r,o)/u);let h=Math.floor((c+f)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new re("Dimensions could be not found.")}return h}calculateModuleSize(r,s,o){return(this.calculateModuleSizeOneWay(r,s)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,s){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(s.getX()),Math.floor(s.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?u/7:isNaN(u)?o/7:(o+u)/14}sizeOfBlackWhiteBlackRunBothWays(r,s,o,u){let c=this.sizeOfBlackWhiteBlackRun(r,s,o,u),f=1,h=r-(o-r);h<0?(f=r/(r-h),h=0):h>=this.image.getWidth()&&(f=(this.image.getWidth()-1-r)/(h-r),h=this.image.getWidth()-1);let g=Math.floor(s-(u-s)*f);return f=1,g<0?(f=s/(s-g),g=0):g>=this.image.getHeight()&&(f=(this.image.getHeight()-1-s)/(g-s),g=this.image.getHeight()-1),h=Math.floor(r+(h-r)*f),c+=this.sizeOfBlackWhiteBlackRun(r,s,h,g),c-1}sizeOfBlackWhiteBlackRun(r,s,o,u){const c=Math.abs(u-s)>Math.abs(o-r);if(c){let V=r;r=s,s=V,V=o,o=u,u=V}const f=Math.abs(o-r),h=Math.abs(u-s);let g=-f/2;const w=r<o?1:-1,A=s<u?1:-1;let N=0;const k=o+w;for(let V=r,z=s;V!==k;V+=w){const H=c?z:V,q=c?V:z;if(N===1===this.image.get(H,q)){if(N===2)return ft.distance(V,z,r,s);N++}if(g+=h,g>0){if(z===u)break;z+=A,g-=f}}return N===2?ft.distance(o+w,u,r,s):NaN}findAlignmentInRegion(r,s,o,u){const c=Math.floor(u*r),f=Math.max(0,s-c),h=Math.min(this.image.getWidth()-1,s+c);if(h-f<r*3)throw new re("Alignment top exceeds estimated module size.");const g=Math.max(0,o-c),w=Math.min(this.image.getHeight()-1,o+c);if(w-g<r*3)throw new re("Alignment bottom exceeds estimated module size.");return new Ro(this.image,f,g,h-f,w-g,r,this.resultPointCallback).find()}}class oi{constructor(){this.decoder=new zc}getDecoder(){return this.decoder}decode(r,s){let o,u;if(s!=null&&s.get(G.PURE_BARCODE)!==void 0){const g=oi.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(g,s),u=oi.NO_POINTS}else{const g=new Is(r.getBlackMatrix()).detect(s);o=this.decoder.decodeBitMatrix(g.getBits(),s),u=g.getPoints()}o.getOther()instanceof eu&&o.getOther().applyMirroredCorrection(u);const c=new Vt(o.getText(),o.getRawBytes(),void 0,u,ke.QR_CODE,void 0),f=o.getByteSegments();f!==null&&c.putMetadata(qe.BYTE_SEGMENTS,f);const h=o.getECLevel();return h!==null&&c.putMetadata(qe.ERROR_CORRECTION_LEVEL,h),o.hasStructuredAppend()&&(c.putMetadata(qe.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),c.putMetadata(qe.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),c}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s===null||o===null)throw new re;const u=this.moduleSize(s,r);let c=s[1],f=o[1],h=s[0],g=o[0];if(h>=g||c>=f)throw new re;if(f-c!==g-h&&(g=h+(f-c),g>=r.getWidth()))throw new re;const w=Math.round((g-h+1)/u),A=Math.round((f-c+1)/u);if(w<=0||A<=0)throw new re;if(A!==w)throw new re;const N=Math.floor(u/2);c+=N,h+=N;const k=h+Math.floor((w-1)*u)-g;if(k>0){if(k>N)throw new re;h-=k}const V=c+Math.floor((A-1)*u)-f;if(V>0){if(V>N)throw new re;c-=V}const z=new ot(w,A);for(let H=0;H<A;H++){const q=c+Math.floor(H*u);for(let ne=0;ne<w;ne++)r.get(h+Math.floor(ne*u),q)&&z.set(ne,H)}return z}static moduleSize(r,s){const o=s.getHeight(),u=s.getWidth();let c=r[0],f=r[1],h=!0,g=0;for(;c<u&&f<o;){if(h!==s.get(c,f)){if(++g===5)break;h=!h}c++,f++}if(c===u||f===o)throw new re;return(c-r[0])/7}}oi.NO_POINTS=new Array;class Ue{PDF417Common(){}static getBitCountSum(r){return ft.sum(r)}static toIntArray(r){if(r==null||!r.length)return Ue.EMPTY_INT_ARRAY;const s=new Int32Array(r.length);let o=0;for(const u of r)s[o++]=u;return s}static getCodeword(r){const s=b.binarySearch(Ue.SYMBOL_TABLE,r&262143);return s<0?-1:(Ue.CODEWORD_TABLE[s]-1)%Ue.NUMBER_OF_CODEWORDS}}Ue.NUMBER_OF_CODEWORDS=929,Ue.MAX_CODEWORDS_IN_BARCODE=Ue.NUMBER_OF_CODEWORDS-1,Ue.MIN_ROWS_IN_BARCODE=3,Ue.MAX_ROWS_IN_BARCODE=90,Ue.MODULES_IN_CODEWORD=17,Ue.MODULES_IN_STOP_PATTERN=18,Ue.BARS_IN_MODULE=8,Ue.EMPTY_INT_ARRAY=new Int32Array([]),Ue.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ue.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Hc{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ye{static detectMultiple(r,s,o){let u=r.getBlackMatrix(),c=Ye.detect(o,u);return c.length||(u=u.clone(),u.rotate180(),c=Ye.detect(o,u)),new Hc(u,c)}static detect(r,s){const o=new Array;let u=0,c=0,f=!1;for(;u<s.getHeight();){const h=Ye.findVertices(s,u,c);if(h[0]==null&&h[3]==null){if(!f)break;f=!1,c=0;for(const g of o)g[1]!=null&&(u=Math.trunc(Math.max(u,g[1].getY()))),g[3]!=null&&(u=Math.max(u,Math.trunc(g[3].getY())));u+=Ye.ROW_STEP;continue}if(f=!0,o.push(h),!r)break;h[2]!=null?(c=Math.trunc(h[2].getX()),u=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),u=Math.trunc(h[4].getY()))}return o}static findVertices(r,s,o){const u=r.getHeight(),c=r.getWidth(),f=new Array(8);return Ye.copyToResult(f,Ye.findRowsWithPattern(r,u,c,s,o,Ye.START_PATTERN),Ye.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY())),Ye.copyToResult(f,Ye.findRowsWithPattern(r,u,c,s,o,Ye.STOP_PATTERN),Ye.INDEXES_STOP_PATTERN),f}static copyToResult(r,s,o){for(let u=0;u<o.length;u++)r[o[u]]=s[u]}static findRowsWithPattern(r,s,o,u,c,f){const h=new Array(4);let g=!1;const w=new Int32Array(f.length);for(;u<s;u+=Ye.ROW_STEP){let N=Ye.findGuardPattern(r,c,u,o,!1,f,w);if(N!=null){for(;u>0;){const k=Ye.findGuardPattern(r,c,--u,o,!1,f,w);if(k!=null)N=k;else{u++;break}}h[0]=new Re(N[0],u),h[1]=new Re(N[1],u),g=!0;break}}let A=u+1;if(g){let N=0,k=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;A<s;A++){const V=Ye.findGuardPattern(r,k[0],A,o,!1,f,w);if(V!=null&&Math.abs(k[0]-V[0])<Ye.MAX_PATTERN_DRIFT&&Math.abs(k[1]-V[1])<Ye.MAX_PATTERN_DRIFT)k=V,N=0;else{if(N>Ye.SKIPPED_ROW_COUNT_MAX)break;N++}}A-=N+1,h[2]=new Re(k[0],A),h[3]=new Re(k[1],A)}return A-u<Ye.BARCODE_MIN_HEIGHT&&b.fill(h,null),h}static findGuardPattern(r,s,o,u,c,f,h){b.fillWithin(h,0,h.length,0);let g=s,w=0;for(;r.get(g,o)&&g>0&&w++<Ye.MAX_PIXEL_DRIFT;)g--;let A=g,N=0,k=f.length;for(let V=c;A<u;A++)if(r.get(A,o)!==V)h[N]++;else{if(N===k-1){if(Ye.patternMatchVariance(h,f,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return new Int32Array([g,A]);g+=h[0]+h[1],I.arraycopy(h,2,h,0,N-1),h[N-1]=0,h[N]=0,N--}else N++;h[N]=1,V=!V}return N===k-1&&Ye.patternMatchVariance(h,f,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE?new Int32Array([g,A-1]):null}static patternMatchVariance(r,s,o){let u=r.length,c=0,f=0;for(let w=0;w<u;w++)c+=r[w],f+=s[w];if(c<f)return 1/0;let h=c/f;o*=h;let g=0;for(let w=0;w<u;w++){let A=r[w],N=s[w]*h,k=A>N?A-N:N-A;if(k>o)return 1/0;g+=k}return g/c}}Ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ye.MAX_AVG_VARIANCE=.42,Ye.MAX_INDIVIDUAL_VARIANCE=.8,Ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ye.MAX_PIXEL_DRIFT=3,Ye.MAX_PATTERN_DRIFT=5,Ye.SKIPPED_ROW_COUNT_MAX=25,Ye.ROW_STEP=5,Ye.BARCODE_MIN_HEIGHT=10;class mn{constructor(r,s){if(s.length===0)throw new C;this.field=r;let o=s.length;if(o>1&&s[0]===0){let u=1;for(;u<o&&s[u]===0;)u++;u===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-u),I.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let u=0;for(let c of this.coefficients)u=this.field.add(u,c);return u}let s=this.coefficients[0],o=this.coefficients.length;for(let u=1;u<o;u++)s=this.field.add(this.field.multiply(r,s),this.coefficients[u]);return s}add(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){let f=s;s=o,o=f}let u=new Int32Array(o.length),c=o.length-s.length;I.arraycopy(o,0,u,0,c);for(let f=c;f<o.length;f++)u[f]=this.field.add(s[f-c],o[f]);return new mn(this.field,u)}subtract(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof mn?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new mn(this.field,new Int32Array([0]));let s=this.coefficients,o=s.length,u=r.coefficients,c=u.length,f=new Int32Array(o+c-1);for(let h=0;h<o;h++){let g=s[h];for(let w=0;w<c;w++)f[h+w]=this.field.add(f[h+w],this.field.multiply(g,u[w]))}return new mn(this.field,f)}negative(){let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.subtract(0,this.coefficients[o]);return new mn(this.field,s)}multiplyScalar(r){if(r===0)return new mn(this.field,new Int32Array([0]));if(r===1)return this;let s=this.coefficients.length,o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=this.field.multiply(this.coefficients[u],r);return new mn(this.field,o)}multiplyByMonomial(r,s){if(r<0)throw new C;if(s===0)return new mn(this.field,new Int32Array([0]));let o=this.coefficients.length,u=new Int32Array(o+r);for(let c=0;c<o;c++)u[c]=this.field.multiply(this.coefficients[c],s);return new mn(this.field,u)}toString(){let r=new Xe;for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(s===0||o!==1)&&r.append(o),s!==0&&(s===1?r.append("x"):(r.append("x^"),r.append(s))))}return r.toString()}}class Gc{add(r,s){return(r+s)%this.modulus}subtract(r,s){return(this.modulus+r-s)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}inverse(r){if(r===0)throw new tr;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Ra extends Gc{constructor(r,s){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let u=0;u<r;u++)this.expTable[u]=o,o=o*s%r;for(let u=0;u<r-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new mn(this,new Int32Array([0])),this.one=new mn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new C;if(s===0)return this.zero;let o=new Int32Array(r+1);return o[0]=s,new mn(this,o)}}Ra.PDF417_GF=new Ra(Ue.NUMBER_OF_CODEWORDS,3);class tu{constructor(){this.field=Ra.PDF417_GF}decode(r,s,o){let u=new mn(this.field,r),c=new Int32Array(s),f=!1;for(let z=s;z>0;z--){let H=u.evaluateAt(this.field.exp(z));c[s-z]=H,H!==0&&(f=!0)}if(!f)return 0;let h=this.field.getOne();if(o!=null)for(const z of o){let H=this.field.exp(r.length-1-z),q=new mn(this.field,new Int32Array([this.field.subtract(0,H),1]));h=h.multiply(q)}let g=new mn(this.field,c),w=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),g,s),A=w[0],N=w[1],k=this.findErrorLocations(A),V=this.findErrorMagnitudes(N,A,k);for(let z=0;z<k.length;z++){let H=r.length-1-this.field.log(k[z]);if(H<0)throw D.getChecksumInstance();r[H]=this.field.subtract(r[H],V[z])}return k.length}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){let k=r;r=s,s=k}let u=r,c=s,f=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(o/2);){let k=u,V=f;if(u=c,f=h,u.isZero())throw D.getChecksumInstance();c=k;let z=this.field.getZero(),H=u.getCoefficient(u.getDegree()),q=this.field.inverse(H);for(;c.getDegree()>=u.getDegree()&&!c.isZero();){let ne=c.getDegree()-u.getDegree(),he=this.field.multiply(c.getCoefficient(c.getDegree()),q);z=z.add(this.field.buildMonomial(ne,he)),c=c.subtract(u.multiplyByMonomial(ne,he))}h=z.multiply(f).subtract(V).negative()}let g=h.getCoefficient(0);if(g===0)throw D.getChecksumInstance();let w=this.field.inverse(g),A=h.multiply(w),N=c.multiply(w);return[A,N]}findErrorLocations(r){let s=r.getDegree(),o=new Int32Array(s),u=0;for(let c=1;c<this.field.getSize()&&u<s;c++)r.evaluateAt(c)===0&&(o[u]=this.field.inverse(c),u++);if(u!==s)throw D.getChecksumInstance();return o}findErrorMagnitudes(r,s,o){let u=s.getDegree(),c=new Int32Array(u);for(let w=1;w<=u;w++)c[u-w]=this.field.multiply(w,s.getCoefficient(w));let f=new mn(this.field,c),h=o.length,g=new Int32Array(h);for(let w=0;w<h;w++){let A=this.field.inverse(o[w]),N=this.field.subtract(0,r.evaluateAt(A)),k=this.field.inverse(f.evaluateAt(A));g[w]=this.field.multiply(N,k)}return g}}class Si{constructor(r,s,o,u,c){r instanceof Si?this.constructor_2(r):this.constructor_1(r,s,o,u,c)}constructor_1(r,s,o,u,c){const f=s==null||o==null,h=u==null||c==null;if(f&&h)throw new re;f?(s=new Re(0,u.getY()),o=new Re(0,c.getY())):h&&(u=new Re(r.getWidth()-1,s.getY()),c=new Re(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=s,this.bottomLeft=o,this.topRight=u,this.bottomRight=c,this.minX=Math.trunc(Math.min(s.getX(),o.getX())),this.maxX=Math.trunc(Math.max(u.getX(),c.getX())),this.minY=Math.trunc(Math.min(s.getY(),u.getY())),this.maxY=Math.trunc(Math.max(o.getY(),c.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,s){return r==null?s:s==null?r:new Si(r.image,r.topLeft,r.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(r,s,o){let u=this.topLeft,c=this.bottomLeft,f=this.topRight,h=this.bottomRight;if(r>0){let g=o?this.topLeft:this.topRight,w=Math.trunc(g.getY()-r);w<0&&(w=0);let A=new Re(g.getX(),w);o?u=A:f=A}if(s>0){let g=o?this.bottomLeft:this.bottomRight,w=Math.trunc(g.getY()+s);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let A=new Re(g.getX(),w);o?c=A:h=A}return new Si(this.image,u,c,f,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Xc{constructor(r,s,o,u){this.columnCount=r,this.errorCorrectionLevel=u,this.rowCountUpperPart=s,this.rowCountLowerPart=o,this.rowCount=s+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Rs{constructor(){this.buffer=""}static form(r,s){let o=-1;function u(f,h,g,w,A,N){if(f==="%%")return"%";if(s[++o]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let k=A?parseInt(A.substr(1)):void 0,V;switch(N){case"s":V=s[o];break;case"c":V=s[o][0];break;case"f":V=parseFloat(s[o]).toFixed(f);break;case"p":V=parseFloat(s[o]).toPrecision(f);break;case"e":V=parseFloat(s[o]).toExponential(f);break;case"x":V=parseInt(s[o]).toString(k||16);break;case"d":V=parseFloat(parseInt(s[o],k||10).toPrecision(f)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(k);let z=parseInt(g),H=g&&g[0]+""=="0"?"0":" ";for(;V.length<z;)V=h!==void 0?V+H:H+V;return V}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}format(r,...s){this.buffer+=Rs.form(r,s)}toString(){return this.buffer}}class Ns{constructor(r){this.boundingBox=new Si(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let s=this.getCodeword(r);if(s!=null)return s;for(let o=1;o<Ns.MAX_NEARBY_DISTANCE;o++){let u=this.imageRowToCodewordIndex(r)-o;if(u>=0&&(s=this.codewords[u],s!=null)||(u=this.imageRowToCodewordIndex(r)+o,u<this.codewords.length&&(s=this.codewords[u],s!=null)))return s}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,s){this.codewords[this.imageRowToCodewordIndex(r)]=s}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Rs;let s=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",s++);continue}r.format("%3d: %3d|%3d%n",s++,o.getRowNumber(),o.getValue())}return r.toString()}}Ns.MAX_NEARBY_DISTANCE=5;class Os{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let s=this.values.get(r);s==null&&(s=0),s++,this.values.set(r,s)}getValue(){let r=-1,s=new Array;for(const[o,u]of this.values.entries()){const c={getKey:()=>o,getValue:()=>u};c.getValue()>r?(r=c.getValue(),s=[],s.push(c.getKey())):c.getValue()===r&&s.push(c.getKey())}return Ue.toIntArray(s)}getConfidence(r){return this.values.get(r)}}class nu extends Ns{constructor(r,s){super(r),this._isLeft=s}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,r);let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=-1,w=1,A=0;for(let N=f;N<h;N++){if(s[N]==null)continue;let k=s[N],V=k.getRowNumber()-g;if(V===0)A++;else if(V===1)w=Math.max(w,A),A=1,g=k.getRowNumber();else if(V<0||k.getRowNumber()>=r.getRowCount()||V>N)s[N]=null;else{let z;w>2?z=(w-2)*V:z=V;let H=z>=N;for(let q=1;q<=z&&!H;q++)H=s[N-q]!=null;H?s[N]=null:(g=k.getRowNumber(),A=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let s=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let u=o.getRowNumber();if(u>=s.length)continue;s[u]++}return s}adjustIncompleteIndicatorColumnRowNumbers(r){let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),h=this.getCodewords(),g=-1;for(let w=c;w<f;w++){if(h[w]==null)continue;let A=h[w];A.setRowNumberAsRowIndicatorColumn();let N=A.getRowNumber()-g;N===0||(N===1?g=A.getRowNumber():A.getRowNumber()>=r.getRowCount()?h[w]=null:g=A.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),s=new Os,o=new Os,u=new Os,c=new Os;for(let h of r){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let g=h.getValue()%30,w=h.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:o.setValue(g*3+1);break;case 1:c.setValue(g/3),u.setValue(g%3);break;case 2:s.setValue(g+1);break}}if(s.getValue().length===0||o.getValue().length===0||u.getValue().length===0||c.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<Ue.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>Ue.MAX_ROWS_IN_BARCODE)return null;let f=new Xc(s.getValue()[0],o.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(r,f),f}removeIncorrectCodewords(r,s){for(let o=0;o<r.length;o++){let u=r[o];if(r[o]==null)continue;let c=u.getValue()%30,f=u.getRowNumber();if(f>s.getRowCount()){r[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==s.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(c/3)!==s.getErrorCorrectionLevel()||c%3!==s.getRowCountLowerPart())&&(r[o]=null);break;case 2:c+1!==s.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ds{constructor(r,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Ue.MAX_CODEWORDS_IN_BARCODE,s;do s=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let o=this.detectionResultColumns[s].getCodewords();for(let u=0;u<o.length;u++)o[u]!=null&&(o[u].hasValidRowNumber()||this.adjustRowNumbers(s,u,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&s[o]!=null&&r[o].getRowNumber()===s[o].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let c=this.detectionResultColumns[u].getCodewords()[o];c!=null&&(c.setRowNumber(r[o].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let u=s[o].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let h=this.detectionResultColumns[f].getCodewords()[o];h!=null&&(c=Ds.adjustRowNumberIfValid(u,c,h),h.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,s=this.detectionResultColumns[0].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let u=s[o].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let h=this.detectionResultColumns[f].getCodewords()[o];h!=null&&(c=Ds.adjustRowNumberIfValid(u,c,h),h.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,s,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),s=0):++s),s}adjustRowNumbers(r,s,o){if(!this.detectionResultColumns[r-1])return;let u=o[s],c=this.detectionResultColumns[r-1].getCodewords(),f=c;this.detectionResultColumns[r+1]!=null&&(f=this.detectionResultColumns[r+1].getCodewords());let h=new Array(14);h[2]=c[s],h[3]=f[s],s>0&&(h[0]=o[s-1],h[4]=c[s-1],h[5]=f[s-1]),s>1&&(h[8]=o[s-2],h[10]=c[s-2],h[11]=f[s-2]),s<o.length-1&&(h[1]=o[s+1],h[6]=c[s+1],h[7]=f[s+1]),s<o.length-2&&(h[9]=o[s+2],h[12]=c[s+2],h[13]=f[s+2]);for(let g of h)if(Ds.adjustRowNumber(u,g))return}static adjustRowNumber(r,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===r.getBucket()?(r.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,s){this.detectionResultColumns[r]=s}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Rs;for(let o=0;o<r.getCodewords().length;o++){s.format("CW %3d:",o);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){s.format("    |   ");continue}let c=this.detectionResultColumns[u].getCodewords()[o];if(c==null){s.format("    |   ");continue}s.format(" %3d|%3d",c.getRowNumber(),c.getValue())}s.format("%n")}return s.toString()}}class ks{constructor(r,s,o,u){this.rowNumber=ks.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(s),this.bucket=Math.trunc(o),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==ks.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}ks.BARCODE_ROW_UNKNOWN=-1;class Bn{static initialize(){for(let r=0;r<Ue.SYMBOL_TABLE.length;r++){let s=Ue.SYMBOL_TABLE[r],o=s&1;for(let u=0;u<Ue.BARS_IN_MODULE;u++){let c=0;for(;(s&1)===o;)c+=1,s>>=1;o=s&1,Bn.RATIOS_TABLE[r]||(Bn.RATIOS_TABLE[r]=new Array(Ue.BARS_IN_MODULE)),Bn.RATIOS_TABLE[r][Ue.BARS_IN_MODULE-u-1]=Math.fround(c/Ue.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let s=Bn.getDecodedCodewordValue(Bn.sampleBitCounts(r));return s!==-1?s:Bn.getClosestDecodedValue(r)}static sampleBitCounts(r){let s=ft.sum(r),o=new Int32Array(Ue.BARS_IN_MODULE),u=0,c=0;for(let f=0;f<Ue.MODULES_IN_CODEWORD;f++){let h=s/(2*Ue.MODULES_IN_CODEWORD)+f*s/Ue.MODULES_IN_CODEWORD;c+r[u]<=h&&(c+=r[u],u++),o[u]++}return o}static getDecodedCodewordValue(r){let s=Bn.getBitValue(r);return Ue.getCodeword(s)===-1?-1:s}static getBitValue(r){let s=0;for(let o=0;o<r.length;o++)for(let u=0;u<r[o];u++)s=s<<1|(o%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(r){let s=ft.sum(r),o=new Array(Ue.BARS_IN_MODULE);if(s>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(r[f]/s);let u=So.MAX_VALUE,c=-1;this.bSymbolTableReady||Bn.initialize();for(let f=0;f<Bn.RATIOS_TABLE.length;f++){let h=0,g=Bn.RATIOS_TABLE[f];for(let w=0;w<Ue.BARS_IN_MODULE;w++){let A=Math.fround(g[w]-o[w]);if(h+=Math.fround(A*A),h>=u)break}h<u&&(u=h,c=Ue.SYMBOL_TABLE[f])}return c}}Bn.bSymbolTableReady=!1,Bn.RATIOS_TABLE=new Array(Ue.SYMBOL_TABLE.length).map(R=>new Array(Ue.BARS_IN_MODULE));class Zc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class ru{static parseLong(r,s=void 0){return parseInt(r,s)}}class No extends m{}No.kind="NullPointerException";class ih{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,s,o){if(r==null)throw new No;if(s<0||s>r.length||o<0||s+o>r.length||s+o<0)throw new P;if(o===0)return;for(let u=0;u<o;u++)this.write(r[s+u])}flush(){}close(){}}class Ti extends m{}class Wr extends ih{constructor(r=32){if(super(),this.count=0,r<0)throw new C("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new Ti;o=T.MAX_VALUE}this.buf=b.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,s,o){if(s<0||s>r.length||o<0||s+o-r.length>0)throw new P;this.ensureCapacity(this.count+o),I.arraycopy(r,s,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return b.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var At;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(At||(At={}));function Oo(){if(typeof window<"u")return window.BigInt||null;if(typeof lu<"u")return lu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Do;function ai(R){if(typeof Do>"u"&&(Do=Oo()),Do===null)throw new Error("BigInt is not supported!");return Do(R)}function sh(){let R=[];R[0]=ai(1);let r=ai(900);R[1]=r;for(let s=2;s<16;s++)R[s]=R[s-1]*r;return R}class J{static decode(r,s){let o=new Xe(""),u=te.ISO8859_1;o.enableDecoding(u);let c=1,f=r[c++],h=new Zc;for(;c<r[0];){switch(f){case J.TEXT_COMPACTION_MODE_LATCH:c=J.textCompaction(r,c,o);break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:c=J.byteCompaction(f,r,u,c,o);break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c++]);break;case J.NUMERIC_COMPACTION_MODE_LATCH:c=J.numericCompaction(r,c,o);break;case J.ECI_CHARSET:te.getCharacterSetECIByValue(r[c++]);break;case J.ECI_GENERAL_PURPOSE:c+=2;break;case J.ECI_USER_DEFINED:c++;break;case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=J.decodeMacroBlock(r,c,h);break;case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:throw new W;default:c--,c=J.textCompaction(r,c,o);break}if(c<r.length)f=r[c++];else throw W.getFormatInstance()}if(o.length()===0)throw W.getFormatInstance();let g=new bs(null,o.toString(),null,s);return g.setOther(h),g}static decodeMacroBlock(r,s,o){if(s+J.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw W.getFormatInstance();let u=new Int32Array(J.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<J.NUMBER_OF_SEQUENCE_CODEWORDS;h++,s++)u[h]=r[s];o.setSegmentIndex(T.parseInt(J.decodeBase900toBase10(u,J.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new Xe;s=J.textCompaction(r,s,c),o.setFileId(c.toString());let f=-1;for(r[s]===J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=s+1);s<r[0];)switch(r[s]){case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,r[s]){case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new Xe;s=J.textCompaction(r,s+1,h),o.setFileName(h.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new Xe;s=J.textCompaction(r,s+1,g),o.setSender(g.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new Xe;s=J.textCompaction(r,s+1,w),o.setAddressee(w.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new Xe;s=J.numericCompaction(r,s+1,A),o.setSegmentCount(T.parseInt(A.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Xe;s=J.numericCompaction(r,s+1,N),o.setTimestamp(ru.parseLong(N.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let k=new Xe;s=J.numericCompaction(r,s+1,k),o.setChecksum(T.parseInt(k.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let V=new Xe;s=J.numericCompaction(r,s+1,V),o.setFileSize(ru.parseLong(V.toString()));break;default:throw W.getFormatInstance()}break;case J.MACRO_PDF417_TERMINATOR:s++,o.setLastSegment(!0);break;default:throw W.getFormatInstance()}if(f!==-1){let h=s-f;o.isLastSegment()&&h--,o.setOptionalData(b.copyOfRange(r,f,f+h))}return s}static textCompaction(r,s,o){let u=new Int32Array((r[0]-s)*2),c=new Int32Array((r[0]-s)*2),f=0,h=!1;for(;s<r[0]&&!h;){let g=r[s++];if(g<J.TEXT_COMPACTION_MODE_LATCH)u[f]=g/30,u[f+1]=g%30,f+=2;else switch(g){case J.TEXT_COMPACTION_MODE_LATCH:u[f++]=J.TEXT_COMPACTION_MODE_LATCH;break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:s--,h=!0;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=r[s++],c[f]=g,f++;break}}return J.decodeTextCompaction(u,c,f,o),s}static decodeTextCompaction(r,s,o,u){let c=At.ALPHA,f=At.ALPHA,h=0;for(;h<o;){let g=r[h],w="";switch(c){case At.ALPHA:if(g<26)w=String.fromCharCode(65+g);else switch(g){case 26:w=" ";break;case J.LL:c=At.LOWER;break;case J.ML:c=At.MIXED;break;case J.PS:f=c,c=At.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break;case At.LOWER:if(g<26)w=String.fromCharCode(97+g);else switch(g){case 26:w=" ";break;case J.AS:f=c,c=At.ALPHA_SHIFT;break;case J.ML:c=At.MIXED;break;case J.PS:f=c,c=At.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break;case At.MIXED:if(g<J.PL)w=J.MIXED_CHARS[g];else switch(g){case J.PL:c=At.PUNCT;break;case 26:w=" ";break;case J.LL:c=At.LOWER;break;case J.AL:c=At.ALPHA;break;case J.PS:f=c,c=At.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break;case At.PUNCT:if(g<J.PAL)w=J.PUNCT_CHARS[g];else switch(g){case J.PAL:c=At.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break;case At.ALPHA_SHIFT:if(c=f,g<26)w=String.fromCharCode(65+g);else switch(g){case 26:w=" ";break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break;case At.PUNCT_SHIFT:if(c=f,g<J.PAL)w=J.PUNCT_CHARS[g];else switch(g){case J.PAL:c=At.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[h]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=At.ALPHA;break}break}w!==""&&u.append(w),h++}}static byteCompaction(r,s,o,u,c){let f=new Wr,h=0,g=0,w=!1;switch(r){case J.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),N=s[u++];for(;u<s[0]&&!w;)switch(A[h++]=N,g=900*g+N,N=s[u++],N){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:u--,w=!0;break;default:if(h%5===0&&h>0){for(let k=0;k<6;++k)f.write(Number(ai(g)>>ai(8*(5-k))));g=0,h=0}break}u===s[0]&&N<J.TEXT_COMPACTION_MODE_LATCH&&(A[h++]=N);for(let k=0;k<h;k++)f.write(A[k]);break;case J.BYTE_COMPACTION_MODE_LATCH_6:for(;u<s[0]&&!w;){let k=s[u++];if(k<J.TEXT_COMPACTION_MODE_LATCH)h++,g=900*g+k;else switch(k){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:u--,w=!0;break}if(h%5===0&&h>0){for(let V=0;V<6;++V)f.write(Number(ai(g)>>ai(8*(5-V))));g=0,h=0}}break}return c.append(De.decode(f.toByteArray(),o)),u}static numericCompaction(r,s,o){let u=0,c=!1,f=new Int32Array(J.MAX_NUMERIC_CODEWORDS);for(;s<r[0]&&!c;){let h=r[s++];if(s===r[0]&&(c=!0),h<J.TEXT_COMPACTION_MODE_LATCH)f[u]=h,u++;else switch(h){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:s--,c=!0;break}(u%J.MAX_NUMERIC_CODEWORDS===0||h===J.NUMERIC_COMPACTION_MODE_LATCH||c)&&u>0&&(o.append(J.decodeBase900toBase10(f,u)),u=0)}return s}static decodeBase900toBase10(r,s){let o=ai(0);for(let c=0;c<s;c++)o+=J.EXP900[s-c-1]*ai(r[c]);let u=o.toString();if(u.charAt(0)!=="1")throw new W;return u.substring(1)}}J.TEXT_COMPACTION_MODE_LATCH=900,J.BYTE_COMPACTION_MODE_LATCH=901,J.NUMERIC_COMPACTION_MODE_LATCH=902,J.BYTE_COMPACTION_MODE_LATCH_6=924,J.ECI_USER_DEFINED=925,J.ECI_GENERAL_PURPOSE=926,J.ECI_CHARSET=927,J.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,J.MACRO_PDF417_TERMINATOR=922,J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,J.MAX_NUMERIC_CODEWORDS=15,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,J.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,J.PL=25,J.LL=27,J.AS=27,J.ML=28,J.AL=28,J.PS=29,J.PAL=29,J.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,J.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",J.EXP900=Oo()?sh():[],J.NUMBER_OF_SEQUENCE_CODEWORDS=2;class et{constructor(){}static decode(r,s,o,u,c,f,h){let g=new Si(r,s,o,u,c),w=null,A=null,N;for(let z=!0;;z=!1){if(s!=null&&(w=et.getRowIndicatorColumn(r,g,s,!0,f,h)),u!=null&&(A=et.getRowIndicatorColumn(r,g,u,!1,f,h)),N=et.merge(w,A),N==null)throw re.getNotFoundInstance();let H=N.getBoundingBox();if(z&&H!=null&&(H.getMinY()<g.getMinY()||H.getMaxY()>g.getMaxY()))g=H;else break}N.setBoundingBox(g);let k=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,w),N.setDetectionResultColumn(k,A);let V=w!=null;for(let z=1;z<=k;z++){let H=V?z:k-z;if(N.getDetectionResultColumn(H)!==void 0)continue;let q;H===0||H===k?q=new nu(g,H===0):q=new Ns(g),N.setDetectionResultColumn(H,q);let ne=-1,he=ne;for(let ge=g.getMinY();ge<=g.getMaxY();ge++){if(ne=et.getStartColumn(N,H,ge,V),ne<0||ne>g.getMaxX()){if(he===-1)continue;ne=he}let ue=et.detectCodeword(r,g.getMinX(),g.getMaxX(),V,ne,ge,f,h);ue!=null&&(q.setCodeword(ge,ue),he=ne,f=Math.min(f,ue.getWidth()),h=Math.max(h,ue.getWidth()))}}return et.createDecoderResult(N)}static merge(r,s){if(r==null&&s==null)return null;let o=et.getBarcodeMetadata(r,s);if(o==null)return null;let u=Si.merge(et.adjustBoundingBox(r),et.adjustBoundingBox(s));return new Ds(o,u)}static adjustBoundingBox(r){if(r==null)return null;let s=r.getRowHeights();if(s==null)return null;let o=et.getMax(s),u=0;for(let h of s)if(u+=o-h,h>0)break;let c=r.getCodewords();for(let h=0;u>0&&c[h]==null;h++)u--;let f=0;for(let h=s.length-1;h>=0&&(f+=o-s[h],!(s[h]>0));h--);for(let h=c.length-1;f>0&&c[h]==null;h--)f--;return r.getBoundingBox().addMissingRows(u,f,r.isLeft())}static getMax(r){let s=-1;for(let o of r)s=Math.max(s,o);return s}static getBarcodeMetadata(r,s){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let u;return s==null||(u=s.getBarcodeMetadata())==null?o:o.getColumnCount()!==u.getColumnCount()&&o.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&o.getRowCount()!==u.getRowCount()?null:o}static getRowIndicatorColumn(r,s,o,u,c,f){let h=new nu(s,u);for(let g=0;g<2;g++){let w=g===0?1:-1,A=Math.trunc(Math.trunc(o.getX()));for(let N=Math.trunc(Math.trunc(o.getY()));N<=s.getMaxY()&&N>=s.getMinY();N+=w){let k=et.detectCodeword(r,0,r.getWidth(),u,A,N,c,f);k!=null&&(h.setCodeword(N,k),u?A=k.getStartX():A=k.getEndX())}}return h}static adjustCodewordCount(r,s){let o=s[0][1],u=o.getValue(),c=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-et.getNumberOfECCodeWords(r.getBarcodeECLevel());if(u.length===0){if(c<1||c>Ue.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();o.setValue(c)}else u[0]!==c&&o.setValue(c)}static createDecoderResult(r){let s=et.createBarcodeMatrix(r);et.adjustCodewordCount(r,s);let o=new Array,u=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),c=[],f=new Array;for(let g=0;g<r.getBarcodeRowCount();g++)for(let w=0;w<r.getBarcodeColumnCount();w++){let A=s[g][w+1].getValue(),N=g*r.getBarcodeColumnCount()+w;A.length===0?o.push(N):A.length===1?u[N]=A[0]:(f.push(N),c.push(A))}let h=new Array(c.length);for(let g=0;g<h.length;g++)h[g]=c[g];return et.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),u,Ue.toIntArray(o),Ue.toIntArray(f),h)}static createDecoderResultFromAmbiguousValues(r,s,o,u,c){let f=new Int32Array(u.length),h=100;for(;h-- >0;){for(let g=0;g<f.length;g++)s[u[g]]=c[g][f[g]];try{return et.decodeCodewords(s,r,o)}catch(g){if(!(g instanceof D))throw g}if(f.length===0)throw D.getChecksumInstance();for(let g=0;g<f.length;g++)if(f[g]<c[g].length-1){f[g]++;break}else if(f[g]=0,g===f.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(r){let s=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let u=0;u<s.length;u++)for(let c=0;c<s[u].length;c++)s[u][c]=new Os;let o=0;for(let u of r.getDetectionResultColumns()){if(u!=null){for(let c of u.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=s.length)continue;s[f][o].setValue(c.getValue())}}}o++}return s}static isValidBarcodeColumn(r,s){return s>=0&&s<=r.getBarcodeColumnCount()+1}static getStartColumn(r,s,o,u){let c=u?1:-1,f=null;if(et.isValidBarcodeColumn(r,s-c)&&(f=r.getDetectionResultColumn(s-c).getCodeword(o)),f!=null)return u?f.getEndX():f.getStartX();if(f=r.getDetectionResultColumn(s).getCodewordNearby(o),f!=null)return u?f.getStartX():f.getEndX();if(et.isValidBarcodeColumn(r,s-c)&&(f=r.getDetectionResultColumn(s-c).getCodewordNearby(o)),f!=null)return u?f.getEndX():f.getStartX();let h=0;for(;et.isValidBarcodeColumn(r,s-c);){s-=c;for(let g of r.getDetectionResultColumn(s).getCodewords())if(g!=null)return(u?g.getEndX():g.getStartX())+c*h*(g.getEndX()-g.getStartX());h++}return u?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,s,o,u,c,f,h,g){c=et.adjustCodewordStartColumn(r,s,o,u,c,f);let w=et.getModuleBitCount(r,s,o,u,c,f);if(w==null)return null;let A,N=ft.sum(w);if(u)A=c+N;else{for(let z=0;z<w.length/2;z++){let H=w[z];w[z]=w[w.length-1-z],w[w.length-1-z]=H}A=c,c=A-N}if(!et.checkCodewordSkew(N,h,g))return null;let k=Bn.getDecodedValue(w),V=Ue.getCodeword(k);return V===-1?null:new ks(c,A,et.getCodewordBucketNumber(k),V)}static getModuleBitCount(r,s,o,u,c,f){let h=c,g=new Int32Array(8),w=0,A=u?1:-1,N=u;for(;(u?h<o:h>=s)&&w<g.length;)r.get(h,f)===N?(g[w]++,h+=A):(w++,N=!N);return w===g.length||h===(u?o:s)&&w===g.length-1?g:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,s,o,u,c,f){let h=c,g=u?-1:1;for(let w=0;w<2;w++){for(;(u?h>=s:h<o)&&u===r.get(h,f);){if(Math.abs(c-h)>et.CODEWORD_SKEW_SIZE)return c;h+=g}g=-g,u=!u}return h}static checkCodewordSkew(r,s,o){return s-et.CODEWORD_SKEW_SIZE<=r&&r<=o+et.CODEWORD_SKEW_SIZE}static decodeCodewords(r,s,o){if(r.length===0)throw W.getFormatInstance();let u=1<<s+1,c=et.correctErrors(r,o,u);et.verifyCodewordCount(r,u);let f=J.decode(r,""+s);return f.setErrorsCorrected(c),f.setErasures(o.length),f}static correctErrors(r,s,o){if(s!=null&&s.length>o/2+et.MAX_ERRORS||o<0||o>et.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return et.errorCorrection.decode(r,o,s)}static verifyCodewordCount(r,s){if(r.length<4)throw W.getFormatInstance();let o=r[0];if(o>r.length)throw W.getFormatInstance();if(o===0)if(s<r.length)r[0]=r.length-s;else throw W.getFormatInstance()}static getBitCountForCodeword(r){let s=new Int32Array(8),o=0,u=s.length-1;for(;!((r&1)!==o&&(o=r&1,u--,u<0));)s[u]++,r>>=1;return s}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return et.getCodewordBucketNumber(et.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let s=new Rs;for(let o=0;o<r.length;o++){s.format("Row %2d: ",o);for(let u=0;u<r[o].length;u++){let c=r[o][u];c.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}s.format("%n")}return s.toString()}}et.CODEWORD_SKEW_SIZE=2,et.MAX_ERRORS=3,et.MAX_EC_CODEWORDS=512,et.errorCorrection=new tu;class _n{decode(r,s=null){let o=_n.decode(r,s,!1);if(o==null||o.length===0||o[0]==null)throw re.getNotFoundInstance();return o[0]}decodeMultiple(r,s=null){try{return _n.decode(r,s,!0)}catch(o){throw o instanceof W||o instanceof D?re.getNotFoundInstance():o}}static decode(r,s,o){const u=new Array,c=Ye.detectMultiple(r,s,o);for(const f of c.getPoints()){const h=et.decode(c.getBits(),f[4],f[5],f[6],f[7],_n.getMinCodewordWidth(f),_n.getMaxCodewordWidth(f)),g=new Vt(h.getText(),h.getRawBytes(),void 0,f,ke.PDF_417);g.putMetadata(qe.ERROR_CORRECTION_LEVEL,h.getECLevel());const w=h.getOther();w!=null&&g.putMetadata(qe.PDF417_EXTRA_METADATA,w),u.push(g)}return u.map(f=>f)}static getMaxWidth(r,s){return r==null||s==null?0:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMinWidth(r,s){return r==null||s==null?T.MAX_VALUE:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(_n.getMaxWidth(r[0],r[4]),_n.getMaxWidth(r[6],r[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.max(_n.getMaxWidth(r[1],r[5]),_n.getMaxWidth(r[7],r[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(_n.getMinWidth(r[0],r[4]),_n.getMinWidth(r[6],r[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.min(_n.getMinWidth(r[1],r[5]),_n.getMinWidth(r[7],r[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}reset(){}}class Na extends m{}Na.kind="ReaderException";class iu{constructor(r,s){this.verbose=r===!0,s&&this.setHints(s)}decode(r,s){return s&&this.setHints(s),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const s=!i(r)&&r.get(G.TRY_HARDER)===!0,o=i(r)?null:r.get(G.POSSIBLE_FORMATS),u=new Array;if(!i(o)){const c=o.some(f=>f===ke.UPC_A||f===ke.UPC_E||f===ke.EAN_13||f===ke.EAN_8||f===ke.CODABAR||f===ke.CODE_39||f===ke.CODE_93||f===ke.CODE_128||f===ke.ITF||f===ke.RSS_14||f===ke.RSS_EXPANDED);c&&!s&&u.push(new ii(r,this.verbose)),o.includes(ke.QR_CODE)&&u.push(new oi),o.includes(ke.DATA_MATRIX)&&u.push(new si),o.includes(ke.AZTEC)&&u.push(new Ke),o.includes(ke.PDF_417)&&u.push(new _n),c&&s&&u.push(new ii(r,this.verbose))}u.length===0&&(s||u.push(new ii(r,this.verbose)),u.push(new oi),u.push(new si),u.push(new Ke),u.push(new _n),s&&u.push(new ii(r,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Na("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(r,this.hints)}catch(o){if(o instanceof Na)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class qc extends er{constructor(r=null,s=500){const o=new iu;o.setHints(r),super(o,s)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class Kc extends er{constructor(r=500){super(new _n,r)}}class Ir extends er{constructor(r=500){super(new oi,r)}}var Oa;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(Oa||(Oa={}));var fn=Oa;class Ce{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new mt(r,Int32Array.from([1])))}buildGenerator(r){const s=this.cachedGenerators;if(r>=s.length){let o=s[s.length-1];const u=this.field;for(let c=s.length;c<=r;c++){const f=o.multiply(new mt(u,Int32Array.from([1,u.exp(c-1+u.getGeneratorBase())])));s.push(f),o=f}}return s[r]}encode(r,s){if(s===0)throw new C("No error correction bytes");const o=r.length-s;if(o<=0)throw new C("No data bytes provided");const u=this.buildGenerator(s),c=new Int32Array(o);I.arraycopy(r,0,c,0,o);let f=new mt(this.field,c);f=f.multiplyByMonomial(s,1);const g=f.divide(u)[1].getCoefficients(),w=s-g.length;for(let A=0;A<w;A++)r[o+A]=0;I.arraycopy(g,0,r,o+w,g.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(r){return zt.applyMaskPenaltyRule1Internal(r,!0)+zt.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let s=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c-1;f++){const h=o[f];for(let g=0;g<u-1;g++){const w=h[g];w===h[g+1]&&w===o[f+1][g]&&w===o[f+1][g+1]&&s++}}return zt.N2*s}static applyMaskPenaltyRule3(r){let s=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c;f++)for(let h=0;h<u;h++){const g=o[f];h+6<u&&g[h]===1&&g[h+1]===0&&g[h+2]===1&&g[h+3]===1&&g[h+4]===1&&g[h+5]===0&&g[h+6]===1&&(zt.isWhiteHorizontal(g,h-4,h)||zt.isWhiteHorizontal(g,h+7,h+11))&&s++,f+6<c&&o[f][h]===1&&o[f+1][h]===0&&o[f+2][h]===1&&o[f+3][h]===1&&o[f+4][h]===1&&o[f+5][h]===0&&o[f+6][h]===1&&(zt.isWhiteVertical(o,h,f-4,f)||zt.isWhiteVertical(o,h,f+7,f+11))&&s++}return s*zt.N3}static isWhiteHorizontal(r,s,o){s=Math.max(s,0),o=Math.min(o,r.length);for(let u=s;u<o;u++)if(r[u]===1)return!1;return!0}static isWhiteVertical(r,s,o,u){o=Math.max(o,0),u=Math.min(u,r.length);for(let c=o;c<u;c++)if(r[c][s]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let s=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let g=0;g<c;g++){const w=o[g];for(let A=0;A<u;A++)w[A]===1&&s++}const f=r.getHeight()*r.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*zt.N4}static getDataMaskBit(r,s,o){let u,c;switch(r){case 0:u=o+s&1;break;case 1:u=o&1;break;case 2:u=s%3;break;case 3:u=(o+s)%3;break;case 4:u=Math.floor(o/2)+Math.floor(s/3)&1;break;case 5:c=o*s,u=(c&1)+c%3;break;case 6:c=o*s,u=(c&1)+c%3&1;break;case 7:c=o*s,u=c%3+(o+s&1)&1;break;default:throw new C("Invalid mask pattern: "+r)}return u===0}static applyMaskPenaltyRule1Internal(r,s){let o=0;const u=s?r.getHeight():r.getWidth(),c=s?r.getWidth():r.getHeight(),f=r.getArray();for(let h=0;h<u;h++){let g=0,w=-1;for(let A=0;A<c;A++){const N=s?f[h][A]:f[A][h];N===w?g++:(g>=5&&(o+=zt.N1+(g-5)),g=1,w=N)}g>=5&&(o+=zt.N1+(g-5))}return o}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class Ps{constructor(r,s){this.width=r,this.height=s;const o=new Array(s);for(let u=0;u!==s;u++)o[u]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,s){return this.bytes[s][r]}getArray(){return this.bytes}setNumber(r,s,o){this.bytes[s][r]=o}setBoolean(r,s,o){this.bytes[s][r]=o?1:0}clear(r){for(const s of this.bytes)b.fill(s,r)}equals(r){if(!(r instanceof Ps))return!1;const s=r;if(this.width!==s.width||this.height!==s.height)return!1;for(let o=0,u=this.height;o<u;++o){const c=this.bytes[o],f=s.bytes[o];for(let h=0,g=this.width;h<g;++h)if(c[h]!==f[h])return!1}return!0}toString(){const r=new Xe;for(let s=0,o=this.height;s<o;++s){const u=this.bytes[s];for(let c=0,f=this.width;c<f;++c)switch(u[c]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Ii{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new Xe;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Ii.NUM_MASK_PATTERNS}}Ii.NUM_MASK_PATTERNS=8;class bt extends m{}bt.kind="WriterException";class Ve{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,s,o,u,c){Ve.clearMatrix(c),Ve.embedBasicPatterns(o,c),Ve.embedTypeInfo(s,u,c),Ve.maybeEmbedVersionInfo(o,c),Ve.embedDataBits(r,u,c)}static embedBasicPatterns(r,s){Ve.embedPositionDetectionPatternsAndSeparators(s),Ve.embedDarkDotAtLeftBottomCorner(s),Ve.maybeEmbedPositionAdjustmentPatterns(r,s),Ve.embedTimingPatterns(s)}static embedTypeInfo(r,s,o){const u=new L;Ve.makeTypeInfoBits(r,s,u);for(let c=0,f=u.getSize();c<f;++c){const h=u.get(u.getSize()-1-c),g=Ve.TYPE_INFO_COORDINATES[c],w=g[0],A=g[1];if(o.setBoolean(w,A,h),c<8){const N=o.getWidth()-c-1;o.setBoolean(N,8,h)}else{const k=o.getHeight()-7+(c-8);o.setBoolean(8,k,h)}}}static maybeEmbedVersionInfo(r,s){if(r.getVersionNumber()<7)return;const o=new L;Ve.makeVersionInfoBits(r,o);let u=6*3-1;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const h=o.get(u);u--,s.setBoolean(c,s.getHeight()-11+f,h),s.setBoolean(s.getHeight()-11+f,c,h)}}static embedDataBits(r,s,o){let u=0,c=-1,f=o.getWidth()-1,h=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);h>=0&&h<o.getHeight();){for(let g=0;g<2;++g){const w=f-g;if(!Ve.isEmpty(o.get(w,h)))continue;let A;u<r.getSize()?(A=r.get(u),++u):A=!1,s!==255&&zt.getDataMaskBit(s,w,h)&&(A=!A),o.setBoolean(w,h,A)}h+=c}c=-c,h+=c,f-=2}if(u!==r.getSize())throw new bt("Not all bits consumed: "+u+"/"+r.getSize())}static findMSBSet(r){return 32-T.numberOfLeadingZeros(r)}static calculateBCHCode(r,s){if(s===0)throw new C("0 polynomial");const o=Ve.findMSBSet(s);for(r<<=o-1;Ve.findMSBSet(r)>=o;)r^=s<<Ve.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,s,o){if(!Ii.isValidMaskPattern(s))throw new bt("Invalid mask pattern");const u=r.getBits()<<3|s;o.appendBits(u,5);const c=Ve.calculateBCHCode(u,Ve.TYPE_INFO_POLY);o.appendBits(c,10);const f=new L;if(f.appendBits(Ve.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new bt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,s){s.appendBits(r.getVersionNumber(),6);const o=Ve.calculateBCHCode(r.getVersionNumber(),Ve.VERSION_INFO_POLY);if(s.appendBits(o,12),s.getSize()!==18)throw new bt("should not happen but we got: "+s.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let s=8;s<r.getWidth()-8;++s){const o=(s+1)%2;Ve.isEmpty(r.get(s,6))&&r.setNumber(s,6,o),Ve.isEmpty(r.get(6,s))&&r.setNumber(6,s,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new bt;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,s,o){for(let u=0;u<8;++u){if(!Ve.isEmpty(o.get(r+u,s)))throw new bt;o.setNumber(r+u,s,0)}}static embedVerticalSeparationPattern(r,s,o){for(let u=0;u<7;++u){if(!Ve.isEmpty(o.get(r,s+u)))throw new bt;o.setNumber(r,s+u,0)}}static embedPositionAdjustmentPattern(r,s,o){for(let u=0;u<5;++u){const c=Ve.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)o.setNumber(r+f,s+u,c[f])}}static embedPositionDetectionPattern(r,s,o){for(let u=0;u<7;++u){const c=Ve.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)o.setNumber(r+f,s+u,c[f])}}static embedPositionDetectionPatternsAndSeparators(r){const s=Ve.POSITION_DETECTION_PATTERN[0].length;Ve.embedPositionDetectionPattern(0,0,r),Ve.embedPositionDetectionPattern(r.getWidth()-s,0,r),Ve.embedPositionDetectionPattern(0,r.getWidth()-s,r);const o=8;Ve.embedHorizontalSeparationPattern(0,o-1,r),Ve.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),Ve.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const u=7;Ve.embedVerticalSeparationPattern(u,0,r),Ve.embedVerticalSeparationPattern(r.getHeight()-u-1,0,r),Ve.embedVerticalSeparationPattern(u,r.getHeight()-u,r)}static maybeEmbedPositionAdjustmentPatterns(r,s){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,u=Ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let c=0,f=u.length;c!==f;c++){const h=u[c];if(h>=0)for(let g=0;g!==f;g++){const w=u[g];w>=0&&Ve.isEmpty(s.get(w,h))&&Ve.embedPositionAdjustmentPattern(w-2,h-2,s)}}}}Ve.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ve.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ve.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ve.VERSION_INFO_POLY=7973,Ve.TYPE_INFO_POLY=1335,Ve.TYPE_INFO_MASK_PATTERN=21522;class Yc{constructor(r,s){this.dataBytes=r,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class kt{constructor(){}static calculateMaskPenalty(r){return zt.applyMaskPenaltyRule1(r)+zt.applyMaskPenaltyRule2(r)+zt.applyMaskPenaltyRule3(r)+zt.applyMaskPenaltyRule4(r)}static encode(r,s,o=null){let u=kt.DEFAULT_BYTE_MODE_ENCODING;const c=o!==null&&o.get(fn.CHARACTER_SET)!==void 0;c&&(u=o.get(fn.CHARACTER_SET).toString());const f=this.chooseMode(r,u),h=new L;if(f===Fe.BYTE&&(c||kt.DEFAULT_BYTE_MODE_ENCODING!==u)){const ge=te.getCharacterSetECIByName(u);ge!==void 0&&this.appendECI(ge,h)}this.appendModeInfo(f,h);const g=new L;this.appendBytes(r,f,g,u);let w;if(o!==null&&o.get(fn.QR_VERSION)!==void 0){const ge=Number.parseInt(o.get(fn.QR_VERSION).toString(),10);w=Me.getVersionForNumber(ge);const ue=this.calculateBitsNeeded(f,h,g,w);if(!this.willFit(ue,w,s))throw new bt("Data too big for requested version")}else w=this.recommendVersion(s,f,h,g);const A=new L;A.appendBitArray(h);const N=f===Fe.BYTE?g.getSizeInBytes():r.length;this.appendLengthInfo(N,w,f,A),A.appendBitArray(g);const k=w.getECBlocksForLevel(s),V=w.getTotalCodewords()-k.getTotalECCodewords();this.terminateBits(V,A);const z=this.interleaveWithECBytes(A,w.getTotalCodewords(),V,k.getNumBlocks()),H=new Ii;H.setECLevel(s),H.setMode(f),H.setVersion(w);const q=w.getDimensionForVersion(),ne=new Ps(q,q),he=this.chooseMaskPattern(z,s,w,ne);return H.setMaskPattern(he),Ve.buildMatrix(z,s,w,he,ne),H.setMatrix(ne),H}static recommendVersion(r,s,o,u){const c=this.calculateBitsNeeded(s,o,u,Me.getVersionForNumber(1)),f=this.chooseVersion(c,r),h=this.calculateBitsNeeded(s,o,u,f);return this.chooseVersion(h,r)}static calculateBitsNeeded(r,s,o,u){return s.getSize()+r.getCharacterCountBits(u)+o.getSize()}static getAlphanumericCode(r){return r<kt.ALPHANUMERIC_TABLE.length?kt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,s=null){if(te.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(r))return Fe.KANJI;let o=!1,u=!1;for(let c=0,f=r.length;c<f;++c){const h=r.charAt(c);if(kt.isDigit(h))o=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)u=!0;else return Fe.BYTE}return u?Fe.ALPHANUMERIC:o?Fe.NUMERIC:Fe.BYTE}static isOnlyDoubleByteKanji(r){let s;try{s=De.encode(r,te.SJIS)}catch{return!1}const o=s.length;if(o%2!==0)return!1;for(let u=0;u<o;u+=2){const c=s[u]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(r,s,o,u){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let h=0;h<Ii.NUM_MASK_PATTERNS;h++){Ve.buildMatrix(r,s,o,h,u);let g=this.calculateMaskPenalty(u);g<c&&(c=g,f=h)}return f}static chooseVersion(r,s){for(let o=1;o<=40;o++){const u=Me.getVersionForNumber(o);if(kt.willFit(r,u,s))return u}throw new bt("Data too big")}static willFit(r,s,o){const u=s.getTotalCodewords(),f=s.getECBlocksForLevel(o).getTotalECCodewords(),h=u-f,g=(r+7)/8;return h>=g}static terminateBits(r,s){const o=r*8;if(s.getSize()>o)throw new bt("data bits cannot fit in the QR Code"+s.getSize()+" > "+o);for(let f=0;f<4&&s.getSize()<o;++f)s.appendBit(!1);const u=s.getSize()&7;if(u>0)for(let f=u;f<8;f++)s.appendBit(!1);const c=r-s.getSizeInBytes();for(let f=0;f<c;++f)s.appendBits(f&1?17:236,8);if(s.getSize()!==o)throw new bt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,s,o,u,c,f){if(u>=o)throw new bt("Block ID too large");const h=r%o,g=o-h,w=Math.floor(r/o),A=w+1,N=Math.floor(s/o),k=N+1,V=w-N,z=A-k;if(V!==z)throw new bt("EC bytes mismatch");if(o!==g+h)throw new bt("RS blocks mismatch");if(r!==(N+V)*g+(k+z)*h)throw new bt("Total bytes mismatch");u<g?(c[0]=N,f[0]=V):(c[0]=k,f[0]=z)}static interleaveWithECBytes(r,s,o,u){if(r.getSizeInBytes()!==o)throw new bt("Number of bits and data bytes does not match");let c=0,f=0,h=0;const g=new Array;for(let A=0;A<u;++A){const N=new Int32Array(1),k=new Int32Array(1);kt.getNumDataBytesAndNumECBytesForBlockID(s,o,u,A,N,k);const V=N[0],z=new Uint8Array(V);r.toBytes(8*c,z,0,V);const H=kt.generateECBytes(z,k[0]);g.push(new Yc(z,H)),f=Math.max(f,V),h=Math.max(h,H.length),c+=N[0]}if(o!==c)throw new bt("Data bytes does not match offset");const w=new L;for(let A=0;A<f;++A)for(const N of g){const k=N.getDataBytes();A<k.length&&w.appendBits(k[A],8)}for(let A=0;A<h;++A)for(const N of g){const k=N.getErrorCorrectionBytes();A<k.length&&w.appendBits(k[A],8)}if(s!==w.getSizeInBytes())throw new bt("Interleaving error: "+s+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(r,s){const o=r.length,u=new Int32Array(o+s);for(let f=0;f<o;f++)u[f]=r[f]&255;new Ce(gt.QR_CODE_FIELD_256).encode(u,s);const c=new Uint8Array(s);for(let f=0;f<s;f++)c[f]=u[o+f];return c}static appendModeInfo(r,s){s.appendBits(r.getBits(),4)}static appendLengthInfo(r,s,o,u){const c=o.getCharacterCountBits(s);if(r>=1<<c)throw new bt(r+" is bigger than "+((1<<c)-1));u.appendBits(r,c)}static appendBytes(r,s,o,u){switch(s){case Fe.NUMERIC:kt.appendNumericBytes(r,o);break;case Fe.ALPHANUMERIC:kt.appendAlphanumericBytes(r,o);break;case Fe.BYTE:kt.append8BitBytes(r,o,u);break;case Fe.KANJI:kt.appendKanjiBytes(r,o);break;default:throw new bt("Invalid mode: "+s)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const s=kt.getDigit(r);return s>=0&&s<=9}static appendNumericBytes(r,s){const o=r.length;let u=0;for(;u<o;){const c=kt.getDigit(r.charAt(u));if(u+2<o){const f=kt.getDigit(r.charAt(u+1)),h=kt.getDigit(r.charAt(u+2));s.appendBits(c*100+f*10+h,10),u+=3}else if(u+1<o){const f=kt.getDigit(r.charAt(u+1));s.appendBits(c*10+f,7),u+=2}else s.appendBits(c,4),u++}}static appendAlphanumericBytes(r,s){const o=r.length;let u=0;for(;u<o;){const c=kt.getAlphanumericCode(r.charCodeAt(u));if(c===-1)throw new bt;if(u+1<o){const f=kt.getAlphanumericCode(r.charCodeAt(u+1));if(f===-1)throw new bt;s.appendBits(c*45+f,11),u+=2}else s.appendBits(c,6),u++}}static append8BitBytes(r,s,o){let u;try{u=De.encode(r,o)}catch(c){throw new bt(c)}for(let c=0,f=u.length;c!==f;c++){const h=u[c];s.appendBits(h,8)}}static appendKanjiBytes(r,s){let o;try{o=De.encode(r,te.SJIS)}catch(c){throw new bt(c)}const u=o.length;for(let c=0;c<u;c+=2){const f=o[c]&255,h=o[c+1]&255,g=f<<8&4294967295|h;let w=-1;if(g>=33088&&g<=40956?w=g-33088:g>=57408&&g<=60351&&(w=g-49472),w===-1)throw new bt("Invalid byte sequence");const A=(w>>8)*192+(w&255);s.appendBits(A,13)}}static appendECI(r,s){s.appendBits(Fe.ECI.getBits(),4),s.appendBits(r.getValue(),8)}}kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),kt.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class Ri{write(r,s,o,u=null){if(r.length===0)throw new C("Found empty contents");if(s<0||o<0)throw new C("Requested dimensions are too small: "+s+"x"+o);let c=Rt.L,f=Ri.QUIET_ZONE_SIZE;u!==null&&(u.get(fn.ERROR_CORRECTION)!==void 0&&(c=Rt.fromString(u.get(fn.ERROR_CORRECTION).toString())),u.get(fn.MARGIN)!==void 0&&(f=Number.parseInt(u.get(fn.MARGIN).toString(),10)));const h=kt.encode(r,c,u);return this.renderResult(h,s,o,f)}writeToDom(r,s,o,u,c=null){typeof r=="string"&&(r=document.querySelector(r));const f=this.write(s,o,u,c);r&&r.appendChild(f)}renderResult(r,s,o,u){const c=r.getMatrix();if(c===null)throw new br;const f=c.getWidth(),h=c.getHeight(),g=f+u*2,w=h+u*2,A=Math.max(s,g),N=Math.max(o,w),k=Math.min(Math.floor(A/g),Math.floor(N/w)),V=Math.floor((A-f*k)/2),z=Math.floor((N-h*k)/2),H=this.createSVGElement(A,N);for(let q=0,ne=z;q<h;q++,ne+=k)for(let he=0,ge=V;he<f;he++,ge+=k)if(c.get(he,q)===1){const ue=this.createSvgRectElement(ge,ne,k,k);H.appendChild(ue)}return H}createSVGElement(r,s){const o=document.createElementNS(Ri.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o}createSvgRectElement(r,s,o,u){const c=document.createElementNS(Ri.SVG_NS,"rect");return c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",s.toString()),c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",u.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Ri.QUIET_ZONE_SIZE=4,Ri.SVG_NS="http://www.w3.org/2000/svg";class Ni{encode(r,s,o,u,c){if(r.length===0)throw new C("Found empty contents");if(s!==ke.QR_CODE)throw new C("Can only encode QR_CODE, but got "+s);if(o<0||u<0)throw new C(`Requested dimensions are too small: ${o}x${u}`);let f=Rt.L,h=Ni.QUIET_ZONE_SIZE;c!==null&&(c.get(fn.ERROR_CORRECTION)!==void 0&&(f=Rt.fromString(c.get(fn.ERROR_CORRECTION).toString())),c.get(fn.MARGIN)!==void 0&&(h=Number.parseInt(c.get(fn.MARGIN).toString(),10)));const g=kt.encode(r,f,c);return Ni.renderResult(g,o,u,h)}static renderResult(r,s,o,u){const c=r.getMatrix();if(c===null)throw new br;const f=c.getWidth(),h=c.getHeight(),g=f+u*2,w=h+u*2,A=Math.max(s,g),N=Math.max(o,w),k=Math.min(Math.floor(A/g),Math.floor(N/w)),V=Math.floor((A-f*k)/2),z=Math.floor((N-h*k)/2),H=new ot(A,N);for(let q=0,ne=z;q<h;q++,ne+=k)for(let he=0,ge=V;he<f;he++,ge+=k)c.get(he,q)===1&&H.setRegion(ge,ne,k,k);return H}}Ni.QUIET_ZONE_SIZE=4;class Qc{encode(r,s,o,u,c){let f;switch(s){case ke.QR_CODE:f=new Ni;break;default:throw new C("No encoder available for format "+s)}return f.encode(r,s,o,u,c)}}class Rr extends pe{constructor(r,s,o,u,c,f,h,g){if(super(f,h),this.yuvData=r,this.dataWidth=s,this.dataHeight=o,this.left=u,this.top=c,u+f>s||c+h>o)throw new C("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(f,h)}getRow(r,s){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const u=(r+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,u,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.yuvData;const o=r*s,u=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return I.arraycopy(this.yuvData,c,u,0,o),u;for(let f=0;f<s;f++){const h=f*r;I.arraycopy(this.yuvData,c,u,h,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,s,o,u){return new Rr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+s,o,u,!1)}renderThumbnail(){const r=this.getWidth()/Rr.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Rr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*s),u=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){const h=f*r;for(let g=0;g<r;g++){const w=u[c+g*Rr.THUMBNAIL_SCALE_FACTOR]&255;o[h+g]=4278190080|w*65793}c+=this.dataWidth*Rr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Rr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Rr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,s){const o=this.yuvData;for(let u=0,c=this.top*this.dataWidth+this.left;u<s;u++,c+=this.dataWidth){const f=c+r/2;for(let h=c,g=c+r-1;h<f;h++,g--){const w=o[h];o[h]=o[g],o[g]=w}}}invert(){return new Ae(this)}}Rr.THUMBNAIL_SCALE_FACTOR=2;class Da extends pe{constructor(r,s,o,u,c,f,h){if(super(s,o),this.dataWidth=u,this.dataHeight=c,this.left=f,this.top=h,r.BYTES_PER_ELEMENT===4){const g=s*o,w=new Uint8ClampedArray(g);for(let A=0;A<g;A++){const N=r[A],k=N>>16&255,V=N>>7&510,z=N&255;w[A]=(k+V+z)/4&255}this.luminances=w}else this.luminances=r;if(u===void 0&&(this.dataWidth=s),c===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+o>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(r,s){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const u=(r+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,u,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.luminances;const o=r*s,u=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return I.arraycopy(this.luminances,c,u,0,o),u;for(let f=0;f<s;f++){const h=f*r;I.arraycopy(this.luminances,c,u,h,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,s,o,u){return new Da(this.luminances,o,u,this.dataWidth,this.dataHeight,this.left+r,this.top+s)}invert(){return new Ae(this)}}class su extends te{static forName(r){return this.getCharacterSetECIByName(r)}}class Ms{}Ms.ISO_8859_1=te.ISO8859_1;class ou{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class au{static singletonList(r){return[r]}static min(r,s){return r.sort(s)[0]}}class y{constructor(r){this.previous=r}getPrevious(){return this.previous}}class v extends y{constructor(r,s,o){super(r),this.value=s,this.bitCount=o}appendTo(r,s){r.appendBits(this.value,this.bitCount)}add(r,s){return new v(this,r,s)}addBinaryShift(r,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new v(this,r,s)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+T.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class S extends v{constructor(r,s,o){super(r,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=o}appendTo(r,s){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(s[this.binaryShiftStart+o],8)}addBinaryShift(r,s){return new S(this,r,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function M(R,r,s){return new S(R,r,s)}function j(R,r,s){return new v(R,r,s)}const ee=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Q=0,ae=1,$=2,ie=3,fe=4,le=new v(null,0,0),ve=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function $e(R){for(let r of R)b.fill(r,-1);return R[Q][fe]=0,R[ae][fe]=0,R[ae][Q]=28,R[ie][fe]=0,R[$][fe]=0,R[$][Q]=15,R}const yt=$e(b.createInt32Array(6,6));class Nt{constructor(r,s,o,u){this.token=r,this.mode=s,this.binaryShiftByteCount=o,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,s){let o=this.bitCount,u=this.token;if(r!==this.mode){let f=ve[this.mode][r];u=j(u,f&65535,f>>16),o+=f>>16}let c=r===$?4:5;return u=j(u,s,c),new Nt(u,r,0,o+c)}shiftAndAppend(r,s){let o=this.token,u=this.mode===$?4:5;return o=j(o,yt[this.mode][r],u),o=j(o,s,5),new Nt(o,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(r){let s=this.token,o=this.mode,u=this.bitCount;if(this.mode===fe||this.mode===$){let h=ve[o][Q];s=j(s,h&65535,h>>16),u+=h>>16,o=Q}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Nt(s,o,this.binaryShiftByteCount+1,u+c);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(r+1)),f}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=M(s,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Nt(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let s=this.bitCount+(ve[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?s+=Nt.calculateBinaryShiftCost(r)-Nt.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(s+=10),s<=r.bitCount}toBitArray(r){let s=[];for(let u=this.endBinaryShift(r.length).token;u!==null;u=u.getPrevious())s.unshift(u);let o=new L;for(const u of s)u.appendTo(o,r);return o}toString(){return ye.format("%s bits=%d bytes=%d",ee[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Nt.INITIAL_STATE=new Nt(le,Q,0,0);function rn(R){const r=ye.getCharCode(" "),s=ye.getCharCode("."),o=ye.getCharCode(",");R[Q][r]=1;const u=ye.getCharCode("Z"),c=ye.getCharCode("A");for(let k=c;k<=u;k++)R[Q][k]=k-c+2;R[ae][r]=1;const f=ye.getCharCode("z"),h=ye.getCharCode("a");for(let k=h;k<=f;k++)R[ae][k]=k-h+2;R[$][r]=1;const g=ye.getCharCode("9"),w=ye.getCharCode("0");for(let k=w;k<=g;k++)R[$][k]=k-w+2;R[$][o]=12,R[$][s]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let k=0;k<A.length;k++)R[ie][ye.getCharCode(A[k])]=k;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let k=0;k<N.length;k++)ye.getCharCode(N[k])>0&&(R[fe][ye.getCharCode(N[k])]=k);return R}const Rn=rn(b.createInt32Array(5,256));class Qt{constructor(r){this.text=r}encode(){const r=ye.getCharCode(" "),s=ye.getCharCode(`
`);let o=au.singletonList(Nt.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case ye.getCharCode("\r"):f=h===s?2:0;break;case ye.getCharCode("."):f=h===r?3:0;break;case ye.getCharCode(","):f=h===r?4:0;break;case ye.getCharCode(":"):f=h===r?5:0;break;default:f=0}f>0?(o=Qt.updateStateListForPair(o,c,f),c++):o=this.updateStateListForChar(o,c)}return au.min(o,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,s){const o=[];for(let u of r)this.updateStateForChar(u,s,o);return Qt.simplifyStates(o)}updateStateForChar(r,s,o){let u=this.text[s]&255,c=Rn[r.getMode()][u]>0,f=null;for(let h=0;h<=fe;h++){let g=Rn[h][u];if(g>0){if(f==null&&(f=r.endBinaryShift(s)),!c||h===r.getMode()||h===$){const w=f.latchAndAppend(h,g);o.push(w)}if(!c&&yt[r.getMode()][h]>=0){const w=f.shiftAndAppend(h,g);o.push(w)}}}if(r.getBinaryShiftByteCount()>0||Rn[r.getMode()][u]===0){let h=r.addBinaryShiftChar(s);o.push(h)}}static updateStateListForPair(r,s,o){const u=[];for(let c of r)this.updateStateForPair(c,s,o,u);return this.simplifyStates(u)}static updateStateForPair(r,s,o,u){let c=r.endBinaryShift(s);if(u.push(c.latchAndAppend(fe,o)),r.getMode()!==fe&&u.push(c.shiftAndAppend(fe,o)),o===3||o===4){let f=c.latchAndAppend($,16-o).latchAndAppend($,1);u.push(f)}if(r.getBinaryShiftByteCount()>0){let f=r.addBinaryShiftChar(s).addBinaryShiftChar(s+1);u.push(f)}}static simplifyStates(r){let s=[];for(const o of r){let u=!0;for(const c of s){if(c.isBetterThanOrEqualTo(o)){u=!1;break}o.isBetterThanOrEqualTo(c)&&(s=s.filter(f=>f!==c))}u&&s.push(o)}return s}}class rt{constructor(){}static encodeBytes(r){return rt.encode(r,rt.DEFAULT_EC_PERCENT,rt.DEFAULT_AZTEC_LAYERS)}static encode(r,s,o){let u=new Qt(r).encode(),c=T.truncDivision(u.getSize()*s,100)+11,f=u.getSize()+c,h,g,w,A,N;if(o!==rt.DEFAULT_AZTEC_LAYERS){if(h=o<0,g=Math.abs(o),g>(h?rt.MAX_NB_BITS_COMPACT:rt.MAX_NB_BITS))throw new C(ye.format("Illegal value %s for layers",o));w=rt.totalBitsInLayer(g,h),A=rt.WORD_SIZE[g];let ue=w-w%A;if(N=rt.stuffBits(u,A),N.getSize()+c>ue)throw new C("Data to large for user specified layer");if(h&&N.getSize()>A*64)throw new C("Data to large for user specified layer")}else{A=0,N=null;for(let ue=0;;ue++){if(ue>rt.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(h=ue<=3,g=h?ue+1:ue,w=rt.totalBitsInLayer(g,h),f>w)continue;(N==null||A!==rt.WORD_SIZE[g])&&(A=rt.WORD_SIZE[g],N=rt.stuffBits(u,A));let ct=w-w%A;if(!(h&&N.getSize()>A*64)&&N.getSize()+c<=ct)break}}let k=rt.generateCheckWords(N,w,A),V=N.getSize()/A,z=rt.generateModeMessage(h,g,V),H=(h?11:14)+g*4,q=new Int32Array(H),ne;if(h){ne=H;for(let ue=0;ue<q.length;ue++)q[ue]=ue}else{ne=H+1+2*T.truncDivision(T.truncDivision(H,2)-1,15);let ue=T.truncDivision(H,2),ct=T.truncDivision(ne,2);for(let Je=0;Je<ue;Je++){let gr=Je+T.truncDivision(Je,15);q[ue-Je-1]=ct-gr-1,q[ue+Je]=ct+gr+1}}let he=new ot(ne);for(let ue=0,ct=0;ue<g;ue++){let Je=(g-ue)*4+(h?9:12);for(let gr=0;gr<Je;gr++){let li=gr*2;for(let mr=0;mr<2;mr++)k.get(ct+li+mr)&&he.set(q[ue*2+mr],q[ue*2+gr]),k.get(ct+Je*2+li+mr)&&he.set(q[ue*2+gr],q[H-1-ue*2-mr]),k.get(ct+Je*4+li+mr)&&he.set(q[H-1-ue*2-mr],q[H-1-ue*2-gr]),k.get(ct+Je*6+li+mr)&&he.set(q[H-1-ue*2-gr],q[ue*2+mr])}ct+=Je*8}if(rt.drawModeMessage(he,h,ne,z),h)rt.drawBullsEye(he,T.truncDivision(ne,2),5);else{rt.drawBullsEye(he,T.truncDivision(ne,2),7);for(let ue=0,ct=0;ue<T.truncDivision(H,2)-1;ue+=15,ct+=16)for(let Je=T.truncDivision(ne,2)&1;Je<ne;Je+=2)he.set(T.truncDivision(ne,2)-ct,Je),he.set(T.truncDivision(ne,2)+ct,Je),he.set(Je,T.truncDivision(ne,2)-ct),he.set(Je,T.truncDivision(ne,2)+ct)}let ge=new ou;return ge.setCompact(h),ge.setSize(ne),ge.setLayers(g),ge.setCodeWords(V),ge.setMatrix(he),ge}static drawBullsEye(r,s,o){for(let u=0;u<o;u+=2)for(let c=s-u;c<=s+u;c++)r.set(c,s-u),r.set(c,s+u),r.set(s-u,c),r.set(s+u,c);r.set(s-o,s-o),r.set(s-o+1,s-o),r.set(s-o,s-o+1),r.set(s+o,s-o),r.set(s+o,s-o+1),r.set(s+o,s+o-1)}static generateModeMessage(r,s,o){let u=new L;return r?(u.appendBits(s-1,2),u.appendBits(o-1,6),u=rt.generateCheckWords(u,28,4)):(u.appendBits(s-1,5),u.appendBits(o-1,11),u=rt.generateCheckWords(u,40,4)),u}static drawModeMessage(r,s,o,u){let c=T.truncDivision(o,2);if(s)for(let f=0;f<7;f++){let h=c-3+f;u.get(f)&&r.set(h,c-5),u.get(f+7)&&r.set(c+5,h),u.get(20-f)&&r.set(h,c+5),u.get(27-f)&&r.set(c-5,h)}else for(let f=0;f<10;f++){let h=c-5+f+T.truncDivision(f,5);u.get(f)&&r.set(h,c-7),u.get(f+10)&&r.set(c+7,h),u.get(29-f)&&r.set(h,c+7),u.get(39-f)&&r.set(c-7,h)}}static generateCheckWords(r,s,o){let u=r.getSize()/o,c=new Ce(rt.getGF(o)),f=T.truncDivision(s,o),h=rt.bitsToWords(r,o,f);c.encode(h,f-u);let g=s%o,w=new L;w.appendBits(0,g);for(const A of Array.from(h))w.appendBits(A,o);return w}static bitsToWords(r,s,o){let u=new Int32Array(o),c,f;for(c=0,f=r.getSize()/s;c<f;c++){let h=0;for(let g=0;g<s;g++)h|=r.get(c*s+g)?1<<s-g-1:0;u[c]=h}return u}static getGF(r){switch(r){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new C("Unsupported word size "+r)}}static stuffBits(r,s){let o=new L,u=r.getSize(),c=(1<<s)-2;for(let f=0;f<u;f+=s){let h=0;for(let g=0;g<s;g++)(f+g>=u||r.get(f+g))&&(h|=1<<s-1-g);(h&c)===c?(o.appendBits(h&c,s),f--):h&c?o.appendBits(h,s):(o.appendBits(h|1,s),f--)}return o}static totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}rt.DEFAULT_EC_PERCENT=33,rt.DEFAULT_AZTEC_LAYERS=0,rt.MAX_NB_BITS=32,rt.MAX_NB_BITS_COMPACT=4,rt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Nr{encode(r,s,o,u){return this.encodeWithHints(r,s,o,u,null)}encodeWithHints(r,s,o,u,c){let f=Ms.ISO_8859_1,h=rt.DEFAULT_EC_PERCENT,g=rt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(fn.CHARACTER_SET)&&(f=su.forName(c.get(fn.CHARACTER_SET).toString())),c.has(fn.ERROR_CORRECTION)&&(h=T.parseInt(c.get(fn.ERROR_CORRECTION).toString())),c.has(fn.AZTEC_LAYERS)&&(g=T.parseInt(c.get(fn.AZTEC_LAYERS).toString()))),Nr.encodeLayers(r,s,o,u,f,h,g)}static encodeLayers(r,s,o,u,c,f,h){if(s!==ke.AZTEC)throw new C("Can only encode AZTEC, but got "+s);let g=rt.encode(ye.getBytes(r,c),f,h);return Nr.renderResult(g,o,u)}static renderResult(r,s,o){let u=r.getMatrix();if(u==null)throw new br;let c=u.getWidth(),f=u.getHeight(),h=Math.max(s,c),g=Math.max(o,f),w=Math.min(h/c,g/f),A=(h-c*w)/2,N=(g-f*w)/2,k=new ot(h,g);for(let V=0,z=N;V<f;V++,z+=w)for(let H=0,q=A;H<c;H++,q+=w)u.get(H,V)&&k.setRegion(q,z,w,w);return k}}n.AbstractExpandedDecoder=pr,n.ArgumentException=E,n.ArithmeticException=tr,n.AztecCode=ou,n.AztecCodeReader=Ke,n.AztecCodeWriter=Nr,n.AztecDecoder=Et,n.AztecDetector=Kl,n.AztecDetectorResult=Ci,n.AztecEncoder=rt,n.AztecHighLevelEncoder=Qt,n.AztecPoint=Mn,n.BarcodeFormat=ke,n.Binarizer=U,n.BinaryBitmap=O,n.BitArray=L,n.BitMatrix=ot,n.BitSource=Jl,n.BrowserAztecCodeReader=rh,n.BrowserBarcodeReader=Qi,n.BrowserCodeReader=er,n.BrowserDatamatrixCodeReader=Uc,n.BrowserMultiFormatReader=qc,n.BrowserPDF417Reader=Kc,n.BrowserQRCodeReader=Ir,n.BrowserQRCodeSvgWriter=Ri,n.CharacterSetECI=te,n.ChecksumException=D,n.Code128Reader=Ee,n.Code39Reader=Ut,n.DataMatrixDecodedBitStreamParser=zr,n.DataMatrixReader=si,n.DecodeHintType=G,n.DecoderResult=bs,n.DefaultGridSampler=Mc,n.DetectorResult=Ss,n.EAN13Reader=jr,n.EncodeHintType=fn,n.Exception=m,n.FormatException=W,n.GenericGF=gt,n.GenericGFPoly=mt,n.GlobalHistogramBinarizer=_t,n.GridSampler=Ca,n.GridSamplerInstance=Ai,n.HTMLCanvasElementLuminanceSource=Le,n.HybridBinarizer=be,n.ITFReader=Tt,n.IllegalArgumentException=C,n.IllegalStateException=br,n.InvertedLuminanceSource=Ae,n.LuminanceSource=pe,n.MathUtils=ft,n.MultiFormatOneDReader=ii,n.MultiFormatReader=iu,n.MultiFormatWriter=Qc,n.NotFoundException=re,n.OneDReader=qt,n.PDF417DecodedBitStreamParser=J,n.PDF417DecoderErrorCorrection=tu,n.PDF417Reader=_n,n.PDF417ResultMetadata=Zc,n.PerspectiveTransform=hr,n.PlanarYUVLuminanceSource=Rr,n.QRCodeByteMatrix=Ps,n.QRCodeDataMask=rr,n.QRCodeDecodedBitStreamParser=Bt,n.QRCodeDecoderErrorCorrectionLevel=Rt,n.QRCodeDecoderFormatInformation=An,n.QRCodeEncoder=kt,n.QRCodeEncoderQRCode=Ii,n.QRCodeMaskUtil=zt,n.QRCodeMatrixUtil=Ve,n.QRCodeMode=Fe,n.QRCodeReader=oi,n.QRCodeVersion=Me,n.QRCodeWriter=Ni,n.RGBLuminanceSource=Da,n.RSS14Reader=Dt,n.RSSExpandedReader=oe,n.ReaderException=Na,n.ReedSolomonDecoder=dr,n.ReedSolomonEncoder=Ce,n.ReedSolomonException=st,n.Result=Vt,n.ResultMetadataType=qe,n.ResultPoint=Re,n.StringUtils=ye,n.UnsupportedOperationException=ce,n.VideoInputDevice=Qe,n.WhiteRectangleDetector=Pn,n.WriterException=bt,n.ZXingArrays=b,n.ZXingCharset=su,n.ZXingInteger=T,n.ZXingStandardCharsets=Ms,n.ZXingStringBuilder=Xe,n.ZXingStringEncoding=De,n.ZXingSystem=I,n.createAbstractExpandedDecoder=Ql,Object.defineProperty(n,"__esModule",{value:!0})})})(G1,G1.exports);var Gt=G1.exports;const RN=Z1(Gt),NN=dC({__proto__:null,default:RN},[Gt]);var ty=function(){function e(t,n,i){if(this.formatMap=new Map([[Te.QR_CODE,Gt.BarcodeFormat.QR_CODE],[Te.AZTEC,Gt.BarcodeFormat.AZTEC],[Te.CODABAR,Gt.BarcodeFormat.CODABAR],[Te.CODE_39,Gt.BarcodeFormat.CODE_39],[Te.CODE_93,Gt.BarcodeFormat.CODE_93],[Te.CODE_128,Gt.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,Gt.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,Gt.BarcodeFormat.MAXICODE],[Te.ITF,Gt.BarcodeFormat.ITF],[Te.EAN_13,Gt.BarcodeFormat.EAN_13],[Te.EAN_8,Gt.BarcodeFormat.EAN_8],[Te.PDF_417,Gt.BarcodeFormat.PDF_417],[Te.RSS_14,Gt.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,Gt.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,Gt.BarcodeFormat.UPC_A],[Te.UPC_E,Gt.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,Gt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!NN)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var a=this.createZXingFormats(t),l=new Map;l.set(Gt.DecodeHintType.POSSIBLE_FORMATS,a),l.set(Gt.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,a){try{i(n.decode(t))}catch(l){a(l)}})},e.prototype.decode=function(t){var n=new Gt.MultiFormatReader(this.verbose,this.hints),i=new Gt.HTMLCanvasElementLuminanceSource(t),a=new Gt.BinaryBitmap(new Gt.HybridBinarizer(i)),l=n.decode(a);return{text:l.text,format:sC.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),ON=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(E){try{m(i.next(E))}catch(C){d(C)}}function x(E){try{m(i.throw(E))}catch(C){d(C)}}function m(E){E.done?l(E.value):a(E.value).then(p,x)}m((i=i.apply(e,t||[])).next())})},DN=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(E){return x([m,E])}}function x(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(E){m=[6,E],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},ny=function(){function e(t,n,i){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return ON(this,void 0,void 0,function(){var n,i;return DN(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:sC.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,a=0,l=t;a<l.length;a++){var d=l[a],p=d.boundingBox.width*d.boundingBox.height;p>i&&(i=p,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),ry=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(E){try{m(i.next(E))}catch(C){d(C)}}function x(E){try{m(i.throw(E))}catch(C){d(C)}}function m(E){E.done?l(E.value):a(E.value).then(p,x)}m((i=i.apply(e,t||[])).next())})},iy=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(E){return x([m,E])}}function x(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(E){m=[6,E],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},kN=function(){function e(t,n,i,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&ny.isSupported()?(this.primaryDecoder=new ny(t,i,a),this.secondaryDecoder=new ty(t,i,a)):this.primaryDecoder=new ty(t,i,a)}return e.prototype.decodeAsync=function(t){return ry(this,void 0,void 0,function(){var n;return iy(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return ry(this,void 0,void 0,function(){var n,i;return iy(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(i=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var a=i[n];t+=a}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Og=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Id=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(E){try{m(i.next(E))}catch(C){d(C)}}function x(E){try{m(i.throw(E))}catch(C){d(C)}}function m(E){E.done?l(E.value):a(E.value).then(p,x)}m((i=i.apply(e,t||[])).next())})},Rd=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(E){return x([m,E])}}function x(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(E){m=[6,E],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},aC=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),PN=function(e){Og(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(aC),MN=function(e){Og(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(PN),LN=function(e){Og(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(aC),BN=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new MN(this.track)},e.prototype.torchFeature=function(){return new LN(this.track)},e}(),FN=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,a){return Id(this,void 0,void 0,function(){var l,d;return Rd(this,function(p){switch(p.label){case 0:return l=new e(t,n,a),i.aspectRatio?(d={aspectRatio:i.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:p.sent(),p.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Id(this,void 0,void 0,function(){return Rd(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var a=t.mediaStream.getVideoTracks(),l=a.length,d=0;t.mediaStream.getVideoTracks().forEach(function(p){t.mediaStream.removeTrack(p),p.stop(),++d,d>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new BN(this.getFirstTrackOrFail())},e}(),VN=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return Id(this,void 0,void 0,function(){return Rd(this,function(a){return[2,FN.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return Id(this,void 0,void 0,function(){var n,i;return Rd(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=a.sent(),[2,new e(i)]}})})},e}(),sy=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(E){try{m(i.next(E))}catch(C){d(C)}}function x(E){try{m(i.throw(E))}catch(C){d(C)}}function m(E){E.done?l(E.value):a(E.value).then(p,x)}m((i=i.apply(e,t||[])).next())})},oy=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(E){return x([m,E])}}function x(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(E){m=[6,E],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},UN=function(){function e(){}return e.failIfNotSupported=function(){return sy(this,void 0,void 0,function(){return oy(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return sy(this,void 0,void 0,function(){return oy(this,function(n){return[2,VN.create(t)]})})},e}(),jN=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function p(E){try{m(i.next(E))}catch(C){d(C)}}function x(E){try{m(i.throw(E))}catch(C){d(C)}}function m(E){E.done?l(E.value):a(E.value).then(p,x)}m((i=i.apply(e,t||[])).next())})},zN=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(E){return x([m,E])}}function x(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(E){m=[6,E],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},WN=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=il.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=il.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return jN(this,void 0,void 0,function(){var t,n,i,a,l,d,p;return zN(this,function(x){switch(x.label){case 0:return t=function(m){for(var E=m.getVideoTracks(),C=0,O=E;C<O.length;C++){var D=O[C];D.enabled=!1,D.stop(),m.removeTrack(D)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=x.sent(),a=[],l=0,d=i;l<d.length;l++)p=d[l],p.kind==="videoinput"&&a.push({id:p.deviceId,label:p.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(l){for(var d=[],p=0,x=l;p<x.length;p++){var m=x[p];m.kind==="video"&&d.push({id:m.id,label:m.label})}t(d)},a=MediaStreamTrack;a.getSources(i)})},e}(),on;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(on||(on={}));var HN=function(){function e(){this.state=on.NOT_STARTED,this.onGoingTransactionNewState=on.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===on.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=on.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===on.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=on.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==on.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case on.UNKNOWN:throw"Transition from unknown is not allowed";case on.NOT_STARTED:this.failIfNewStateIs(t,[on.PAUSED]);break;case on.SCANNING:break;case on.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,a=n;i<a.length;i++){var l=a[i];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),GN=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===on.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==on.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===on.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===on.PAUSED},e}(),XN=function(){function e(){}return e.create=function(){return new GN(new HN)},e}(),ZN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dr=function(e){ZN(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(SN),qN=function(){function e(t,n){this.logger=n,this.fps=Dr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Dr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?oC.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ss(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),KN=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new IN(this.verbose),this.qrcode=new kN(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=XN.create()}return e.prototype.start=function(t,n,i,a){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;a?d=a:d=this.verbose?this.logger.log:function(){};var p=qN.create(n,this.logger);this.clearElement();var x=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=x,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:Dr.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var C=this,O=this.stateManagerProxy.startTransition(on.SCANNING);return new Promise(function(D,U){var I=m?p.videoConstraints:C.createVideoConstraints(t);if(!I){O.cancel(),U("videoConstraints should be defined");return}var P={};(!m||p.aspectRatio)&&(P.aspectRatio=p.aspectRatio);var _={onRenderSurfaceReady:function(b,T){C.setupUi(b,T,p),C.isScanning=!0,C.foreverScan(p,i,d)}};UN.failIfNotSupported().then(function(b){b.create(I).then(function(T){return T.render(l.element,P,_).then(function(L){C.renderedCamera=L,O.execute(),D(null)}).catch(function(L){O.cancel(),U(L)})}).catch(function(T){O.cancel(),U(il.errorGettingUserMedia(T))})}).catch(function(b){O.cancel(),U(il.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(on.PAUSED),this.showPausedState(),(ss(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(on.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(on.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var l=document.getElementById(Dr.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),i(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ss(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var p=d.width,x=d.height,m=document.getElementById(i.elementId),E=m.clientWidth?m.clientWidth:Dr.DEFAULT_WIDTH,C=Math.max(m.clientHeight?m.clientHeight:x,Dr.FILE_SCAN_MIN_HEIGHT),O=i.computeCanvasDrawConfig(p,x,E,C);if(n){var D=i.createCanvasElement(E,C,"qr-canvas-visible");D.style.display="inline-block",m.appendChild(D);var U=D.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=E,U.canvas.height=C,U.drawImage(d,0,0,p,x,O.x,O.y,O.width,O.height)}var I=Dr.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(d.width,O.width),_=Math.max(d.height,O.height),b=P+2*I,T=_+2*I,L=i.createCanvasElement(b,T);m.appendChild(L);var X=L.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=b,X.canvas.height=T,X.drawImage(d,0,0,p,x,I,I,P,_);try{i.qrcode.decodeRobustlyAsync(L).then(function(G){a(ey.createFromQrcodeResult(G))}).catch(l)}catch(G){l("QR code parse error, error = ".concat(G))}},d.onerror=l,d.onabort=l,d.onstalled=l,d.onsuspend=l,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return WN.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!oC.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],a=0,l=t.formatsToSupport;a<l.length;a++){var d=l[a];bN(d)?i.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ss(t))return!0;if(!ss(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ss(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ss(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var a=this,l=i.qrbox;this.validateQrboxConfig(l);var d=this.toQrdimensions(t,n,l),p=function(m){if(m<Dr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Dr.MIN_QR_BOX_SIZE,"px.")},x=function(m){return m>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};p(d.width),p(d.height),d.width=x(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var a=ss(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,n,a);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=i.isShadedBoxEnabled()&&l.height<=n,p={x:0,y:0,width:t,height:n},x=d?this.getShadedRegionBounds(t,n,l):p,m=this.createCanvasElement(x.width,x.height),E={willReadFrequently:!0},C=m.getContext("2d",E);C.canvas.width=x.width,C.canvas.height=x.height,this.element.append(m),d&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=C,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=il.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,ey.createFromQrcodeResult(a)),i.possiblyUpdateShaders(!0),!0}).catch(function(a){i.possiblyUpdateShaders(!1);var l=il.codeParseError(a);return n(l,TN.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,i){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),d=l.videoWidth/l.clientWidth,p=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*d,m=this.qrRegion.height*p,E=this.qrRegion.x*d,C=this.qrRegion.y*p;this.context.drawImage(l,E,C,x,m,0,0,this.qrRegion.width,this.qrRegion.height);var O=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,i)},a.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(D){!D&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,i).finally(function(){O()})):O()}).catch(function(D){a.logger.logError("Error happend while scanning context",D),O()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",a={user:!0,environment:!0},l="exact",d=function(U){if(U in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(U,"'")},p=Object.keys(t);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var m=t.facingMode;if(typeof m=="string"){if(d(m))return{facingMode:m}}else if(typeof m=="object")if(l in m){if(d(m["".concat(l)]))return{facingMode:{exact:m["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var E=typeof m;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(l in C)return{deviceId:{exact:C["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var O=typeof C;throw"Invalid type of 'deviceId' = ".concat(O)}}}var D=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(D)},e.prototype.computeCanvasDrawConfig=function(t,n,i,a){if(t<=i&&n<=a){var l=(i-t)/2,d=(a-n)/2;return{x:l,y:d,width:t,height:n}}else{var p=t,x=n;return t>i&&(n=i/t*n,t=i),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Dr.BORDER_SHADER_MATCH_COLOR:Dr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var a=t,l=n,d=document.createElement("canvas");return d.style.width="".concat(a,"px"),d.style.height="".concat(l,"px"),d.style.display="none",d.id=ss(i)?"qr-canvas":i,d},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,a){if(!(n-a.width<1||i-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var d=(n-a.width)/2,p=(i-a.height)/2;if(l.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Dr.SHADED_REGION_ELEMENT_ID),n-a.width<11||i-a.height<11)this.hasBorderShaders=!1;else{var x=5,m=40;this.insertShaderBorders(l,m,x,-x,null,0,!0),this.insertShaderBorders(l,m,x,-x,null,0,!1),this.insertShaderBorders(l,m,x,null,-x,0,!0),this.insertShaderBorders(l,m,x,null,-x,0,!1),this.insertShaderBorders(l,x,m+x,-x,null,-x,!0),this.insertShaderBorders(l,x,m+x,null,-x,-x,!0),this.insertShaderBorders(l,x,m+x,-x,null,-x,!1),this.insertShaderBorders(l,x,m+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,i,a,l,d,p){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Dr.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(i,"px"),a!==null&&(x.style.top="".concat(a,"px")),l!==null&&(x.style.bottom="".concat(l,"px")),p?x.style.left="".concat(d,"px"):x.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),ay;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ay||(ay={}));const YN=()=>{const e=Vi(D=>D.setView),t=Vi(D=>D.activeCode),n=Vi(D=>D.setActiveCode),[i,a]=Ou.useState(!0),[l,d]=Ou.useState(!1),[p,x]=Ou.useState(""),m=se.useRef(null),{data:E,isLoading:C}=rC(t),{data:O}=iC(5);return se.useEffect(()=>{let D=!0;const I=setTimeout(async()=>{try{const P=new KN("reader");m.current=P;const _={fps:20,qrbox:(b,T)=>({width:b*.8,height:T*.7}),aspectRatio:1,formatsToSupport:[Te.EAN_13,Te.EAN_8,Te.UPC_A,Te.UPC_E],experimental:{useBarCodeDetectorIfSupported:!0}};await P.start({facingMode:"environment"},{fps:30,qrbox:_.qrbox,aspectRatio:_.aspectRatio,disableFlip:!1},b=>{if(!D)return;const T=Vi.getState().activeCode;b!==T&&n(b)},()=>{}),D&&a(!1)}catch(P){console.error("Scanner error",P),D&&(a(!1),e("home"))}},200);return()=>{D=!1,clearTimeout(I),m.current&&m.current.isScanning&&m.current.stop().catch(console.error)}},[e,n]),Z.jsxs("div",{className:"fixed inset-0 bg-slate-950 z-40 flex flex-col font-sans overflow-hidden text-slate-900",children:[Z.jsxs("div",{className:"h-1/2 relative bg-black flex items-center justify-center overflow-hidden",children:[i&&Z.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center gap-3 bg-slate-900/80 backdrop-blur-sm",children:[Z.jsx("div",{className:"w-8 h-8 border-3 border-blue-500 border-t-transparent rounded-full animate-spin"}),Z.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Initializing..."})]}),Z.jsx("div",{id:"reader",className:"w-full h-full"}),!i&&Z.jsx("div",{className:"absolute inset-0 pointer-events-none flex flex-col items-center justify-center pb-8",children:Z.jsxs("div",{className:"relative w-[90%] h-[75%] border border-white/40 overflow-hidden shadow-[0_0_0_100vmax_rgba(0,0,0,0.5)]",children:[Z.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-blue-400/80 shadow-[0_0_15px_rgba(56,189,248,0.8)] animate-[scan_3s_ease-in-out_infinite]"}),Z.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-white"}),Z.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-white"}),Z.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-white"}),Z.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-white"})]})})]}),Z.jsxs("div",{className:"flex-1 bg-slate-50 flex flex-col relative overflow-hidden rounded-t-[32px] -mt-8 z-10 shadow-[0_-10px_40px_rgba(0,0,0,0.3)]",children:[Z.jsxs("div",{className:"flex items-center justify-between px-4 py-2 shrink-0 bg-slate-50",children:[Z.jsx("button",{onClick:()=>{n(null),e("home")},className:"w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 hover:bg-slate-300 active:scale-95 transition-all",children:Z.jsx(Qv,{size:16})}),Z.jsx("div",{className:"w-8 h-1 bg-slate-200 rounded-full"})," ",Z.jsx("button",{onClick:()=>d(!l),className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${l?"bg-blue-100 text-blue-600":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:Z.jsx(Yv,{size:16})})]}),Z.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[l&&Z.jsx("div",{className:"mb-6 mt-2.5 animate-in slide-in-from-top-2 fade-in duration-200",children:Z.jsxs("form",{onSubmit:D=>{D.preventDefault(),p.trim()&&(n(p.trim()),x(""),d(!1))},className:"flex gap-2",children:[Z.jsx("input",{type:"text",value:p,onChange:D=>x(D.target.value),placeholder:"Enter barcode manually...",className:"flex-1 bg-white border border-slate-200 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none shadow-sm",autoFocus:!0}),Z.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 rounded-xl font-bold text-sm tracking-wide",children:"GO"})]})}),t?Z.jsx(KE,{data:E,isLoading:C,code:t}):Z.jsx("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm text-center mb-8",children:Z.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Scan a barcode above or search manually."})}),Z.jsxs("div",{className:"mt-8",children:[Z.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Z.jsx(Kv,{size:16,className:"text-slate-400"}),Z.jsx("h3",{className:"font-bold text-slate-500 text-xs uppercase tracking-wider",children:"Recent History"})]}),Z.jsx(YE,{history:O||[],onSelect:n,activeCode:t})]})]})]}),Z.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes scan {
          0%, 100% { top: 10%; opacity: 0.3; }
          50% { top: 90%; opacity: 1; }
        }
        #reader video, #reader canvas {
          width: 100% !important;
          height: 100% !important;
          object-fit: cover !important;
          object-position: center !important;
        }
        #reader {
          border: none !important;
        }
        /* Hide the library's default scan region border to only show our custom one */
        #reader__scan_region, #qr-shaded-region {
          border: none !important;
          display: none !important;
        }
        #reader__dashboard {
          display: none !important;
        }
      `}})]})};function QN(){const e=Vi(t=>t.currentView);return Z.jsxs(OR,{children:[e==="home"&&Z.jsx(_N,{}),e==="scanner"&&Z.jsx(YN,{})]})}o0.createRoot(document.getElementById("root")).render(Z.jsx(Ou.StrictMode,{children:Z.jsx(QN,{})}));
